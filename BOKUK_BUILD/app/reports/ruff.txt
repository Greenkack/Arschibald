SIM118 Use `key in dict` instead of `key in dict.keys()`
  --> .tmp_placeholder_test.py:35:29
   |
34 | res = placeholders.build_dynamic_data(project_data, analysis_results, company_info)
35 | keys_sample = sorted([k for k in res.keys() if k.startswith(("module_","inverter_","storage_"))])
   |                             ^^^^^^^^^^^^^^^
36 | print("Keys sample:", keys_sample)
37 | print("anlage_kwp:", res.get("anlage_kwp"))
   |
help: Remove `.keys()`

N999 Invalid module name: 'Agent'
--> Agent\__init__.py:1:1

N999 Invalid module name: 'Agent'
--> Agent\agent\__init__.py:1:1

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> Agent\agent\agent_core.py:116:13
    |
114 |           except Exception as e:
115 |               self.logger.error(f"Failed to initialize ChatOpenAI: {e}")
116 | /             raise ConfigurationError(
117 | |                 f"Failed to initialize OpenAI client: {str(e)}",
118 | |                 solution="Check OPENAI_API_KEY and network connection"
119 | |             )
    | |_____________^
120 |
121 |           # Set up tool registry
    |

RET504 Unnecessary assignment to `tools` before `return` statement
   --> Agent\agent\agent_core.py:196:16
    |
194 |         ]
195 |
196 |         return tools
    |                ^^^^^
197 |
198 |     def _create_system_prompt(self) -> ChatPromptTemplate:
    |
help: Remove unnecessary assignment

RET504 Unnecessary assignment to `prompt` before `return` statement
   --> Agent\agent\agent_core.py:266:16
    |
264 |         ])
265 |
266 |         return prompt
    |                ^^^^^^
267 |
268 |     def run(self, user_input: str) -> dict[str, Any]:
    |
help: Remove unnecessary assignment

E722 Do not use bare `except`
   --> Agent\agent\agent_core.py:457:9
    |
455 |         try:
456 |             memory_messages = len(self.memory.chat_memory.messages)
457 |         except:
    |         ^^^^^^
458 |             memory_messages = 0
    |

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:18:1
   |
16 |     """
17 |     Base exception for all agent-related errors.
18 |     
   | ^^^^
19 |     All custom exceptions in the KAI Agent system inherit from this class.
20 |     This allows for catching all agent-specific errors with a single except clause.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:21:1
   |
19 |     All custom exceptions in the KAI Agent system inherit from this class.
20 |     This allows for catching all agent-specific errors with a single except clause.
21 |     
   | ^^^^
22 |     Attributes:
23 |         message: Human-readable error message
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:37:1
   |
35 |         """
36 |         Initialize agent error.
37 |         
   | ^^^^^^^^
38 |         Args:
39 |             message: Human-readable error message
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:60:1
   |
58 |         """
59 |         Convert error to dictionary format.
60 |         
   | ^^^^^^^^
61 |         Returns:
62 |             Dictionary representation of the error
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:80:1
   |
78 |     """
79 |     Configuration or setup error.
80 |     
   | ^^^^
81 |     Raised when:
82 |     - Required API keys are missing
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\errors.py:86:1
   |
84 |     - Configuration files are invalid
85 |     - System prerequisites are not met
86 |     
   | ^^^^
87 |     Examples:
88 |         - Missing OPENAI_API_KEY
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:103:1
    |
101 |         """
102 |         Initialize configuration error.
103 |         
    | ^^^^^^^^
104 |         Args:
105 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:127:1
    |
125 |     """
126 |     Code execution error.
127 |     
    | ^^^^
128 |     Raised when:
129 |     - Python code execution fails in sandbox
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:134:1
    |
132 |     - Timeout errors happen
133 |     - Resource limits are exceeded
134 |     
    | ^^^^
135 |     Examples:
136 |         - Syntax error in generated code
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:154:1
    |
152 |         """
153 |         Initialize execution error.
154 |         
    | ^^^^^^^^
155 |         Args:
156 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:192:1
    |
190 |     """
191 |     External API error.
192 |     
    | ^^^^
193 |     Raised when:
194 |     - OpenAI API calls fail
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:201:1
    |
199 |     - Authentication fails
200 |     - Network errors occur
201 |     
    | ^^^^
202 |     Examples:
203 |         - OpenAI rate limit exceeded
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:220:1
    |
218 |         """
219 |         Initialize API error.
220 |         
    | ^^^^^^^^
221 |         Args:
222 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:257:1
    |
255 |     """
256 |     Docker-specific execution error.
257 |     
    | ^^^^
258 |     Raised when:
259 |     - Docker daemon is not running
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:264:1
    |
262 |     - Container execution fails
263 |     - Network isolation issues
264 |     
    | ^^^^
265 |     Examples:
266 |         - Docker daemon not running
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:282:1
    |
280 |         """
281 |         Initialize Docker error.
282 |         
    | ^^^^^^^^
283 |         Args:
284 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:325:1
    |
323 |     """
324 |     Knowledge base error.
325 |     
    | ^^^^
326 |     Raised when:
327 |     - Knowledge base initialization fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:332:1
    |
330 |     - Embedding creation fails
331 |     - Search query fails
332 |     
    | ^^^^
333 |     Examples:
334 |         - No PDF files found in knowledge_base/
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:349:1
    |
347 |         """
348 |         Initialize knowledge base error.
349 |         
    | ^^^^^^^^
350 |         Args:
351 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:382:1
    |
380 |     """
381 |     Tool execution error.
382 |     
    | ^^^^
383 |     Raised when:
384 |     - Tool function fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:388:1
    |
386 |     - Tool not available
387 |     - Tool timeout
388 |     
    | ^^^^
389 |     Examples:
390 |         - Invalid file path in write_file
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:405:1
    |
403 |         """
404 |         Initialize tool error.
405 |         
    | ^^^^^^^^
406 |         Args:
407 |             message: Human-readable error message
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:432:1
    |
430 |     """
431 |     Format error message for user display.
432 |     
    | ^^^^
433 |     Args:
434 |         error: Exception instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:435:1
    |
433 |     Args:
434 |         error: Exception instance
435 |         
    | ^^^^^^^^
436 |     Returns:
437 |         Formatted error message with solution if available
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:450:1
    |
448 |     """
449 |     Extract error details for logging.
450 |     
    | ^^^^
451 |     Args:
452 |         error: Exception instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:453:1
    |
451 |     Args:
452 |         error: Exception instance
453 |         
    | ^^^^^^^^
454 |     Returns:
455 |         Dictionary with error details
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:469:1
    |
467 |     """
468 |     Determine if an operation should be retried based on error type.
469 |     
    | ^^^^
470 |     Args:
471 |         error: Exception instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:472:1
    |
470 |     Args:
471 |         error: Exception instance
472 |         
    | ^^^^^^^^
473 |     Returns:
474 |         True if operation should be retried, False otherwise
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> Agent\agent\errors.py:477:5
    |
475 |       """
476 |       # Retry on transient errors
477 | /     if isinstance(error, APIError):
478 | |         # Retry on rate limits and server errors
479 | |         if hasattr(error, 'details'):
    | |_____________________________________^
480 |               status_code = error.details.get('status_code')
481 |               if status_code in [429, 500, 502, 503, 504]:
    |
help: Combine `if` statements using `and`

SIM103 Return the condition `bool(isinstance(error, ExecutionError))` directly
   --> Agent\agent\errors.py:489:5
    |
488 |       # Retry on execution errors (might be transient)
489 | /     if isinstance(error, ExecutionError):
490 | |         return True
491 | |
492 | |     return False
    | |________________^
    |
help: Replace with `return bool(isinstance(error, ExecutionError))`

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:498:1
    |
496 |     """
497 |     Calculate exponential backoff delay for retries.
498 |     
    | ^^^^
499 |     Args:
500 |         attempt: Retry attempt number (0-indexed)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\errors.py:502:1
    |
500 |         attempt: Retry attempt number (0-indexed)
501 |         max_delay: Maximum delay in seconds
502 |         
    | ^^^^^^^^
503 |     Returns:
504 |         Delay in seconds
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `delay` before `return` statement
   --> Agent\agent\errors.py:507:12
    |
505 |     """
506 |     delay = min(2 ** attempt, max_delay)
507 |     return delay
    |            ^^^^^
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> Agent\agent\logging_config.py:26:1
   |
24 |     """
25 |     Filter to redact sensitive data from log messages.
26 |     
   | ^^^^
27 |     Redacts:
28 |     - API keys
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\logging_config.py:66:1
   |
64 |         """
65 |         Filter log record to redact sensitive data.
66 |         
   | ^^^^^^^^
67 |         Args:
68 |             record: Log record to filter
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\logging_config.py:69:1
   |
67 |         Args:
68 |             record: Log record to filter
69 |             
   | ^^^^^^^^^^^^
70 |         Returns:
71 |             True (always allow record, just modify it)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:113:1
    |
111 |         """
112 |         Initialize formatter.
113 |         
    | ^^^^^^^^
114 |         Args:
115 |             use_colors: Whether to use color codes (for console output)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:123:1
    |
121 |         """
122 |         Format log record with optional colors.
123 |         
    | ^^^^^^^^
124 |         Args:
125 |             record: Log record to format
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:126:1
    |
124 |         Args:
125 |             record: Log record to format
126 |             
    | ^^^^^^^^^^^^
127 |         Returns:
128 |             Formatted log string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:148:1
    |
146 |     """
147 |     Set up comprehensive logging configuration for the agent.
148 |     
    | ^^^^
149 |     Args:
150 |         level: Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:154:1
    |
152 |         log_to_console: Whether to log to console
153 |         log_file_name: Custom log file name (default: agent_YYYYMMDD.log)
154 |         
    | ^^^^^^^^
155 |     Returns:
156 |         Configured logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:232:1
    |
230 |     """
231 |     Get a logger instance for a specific module.
232 |     
    | ^^^^
233 |     Args:
234 |         name: Logger name (typically __name__)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:235:1
    |
233 |     Args:
234 |         name: Logger name (typically __name__)
235 |         
    | ^^^^^^^^
236 |     Returns:
237 |         Logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:253:1
    |
251 |     """
252 |     Log API call with standardized format (without sensitive data).
253 |     
    | ^^^^
254 |     Args:
255 |         logger: Logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:294:1
    |
292 |     """
293 |     Log Docker operation with standardized format.
294 |     
    | ^^^^
295 |     Args:
296 |         logger: Logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:332:1
    |
330 |     """
331 |     Log tool execution with standardized format.
332 |     
    | ^^^^
333 |     Args:
334 |         logger: Logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\logging_config.py:364:1
    |
362 |     """
363 |     Log agent reasoning step (ReAct pattern).
364 |     
    | ^^^^
365 |     Args:
366 |         logger: Logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\security.py:60:1
   |
58 |     """
59 |     Validate that a path is safe and within the allowed base directory.
60 |     
   | ^^^^
61 |     Prevents:
62 |     - Path traversal attacks (../)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\security.py:66:1
   |
64 |     - Symbolic link attacks
65 |     - Access to system directories
66 |     
   | ^^^^
67 |     Args:
68 |         path: The path to validate
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\security.py:70:1
   |
68 |         path: The path to validate
69 |         base_dir: The base directory that path must be within
70 |         
   | ^^^^^^^^
71 |     Returns:
72 |         Tuple of (is_valid: bool, resolved_path: str, error_message: Optional[str])
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\security.py:73:1
   |
71 |     Returns:
72 |         Tuple of (is_valid: bool, resolved_path: str, error_message: Optional[str])
73 |         
   | ^^^^^^^^
74 |     Example:
75 |         >>> validate_path("../etc/passwd", "/app/workspace")
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\agent\security.py:77:1
   |
75 |         >>> validate_path("../etc/passwd", "/app/workspace")
76 |         (False, "", "Path traversal detected")
77 |         
   | ^^^^^^^^
78 |         >>> validate_path("myfile.txt", "/app/workspace")
79 |         (True, "/app/workspace/myfile.txt", None)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:117:1
    |
115 |     """
116 |     Sanitize and validate a file path, raising exception if invalid.
117 |     
    | ^^^^
118 |     Args:
119 |         path: The path to sanitize
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:121:1
    |
119 |         path: The path to sanitize
120 |         base_dir: The base directory that path must be within
121 |         
    | ^^^^^^^^
122 |     Returns:
123 |         The validated absolute path
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:124:1
    |
122 |     Returns:
123 |         The validated absolute path
124 |         
    | ^^^^^^^^
125 |     Raises:
126 |         PathTraversalError: If path validation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:139:1
    |
137 |     """
138 |     Validate that a command doesn't contain dangerous patterns.
139 |     
    | ^^^^
140 |     Checks for:
141 |     - Command injection attempts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:145:1
    |
143 |     - Privilege escalation attempts
144 |     - File system manipulation
145 |     
    | ^^^^
146 |     Args:
147 |         command: The command string to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:148:1
    |
146 |     Args:
147 |         command: The command string to validate
148 |         
    | ^^^^^^^^
149 |     Returns:
150 |         Tuple of (is_valid: bool, error_message: Optional[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:151:1
    |
149 |     Returns:
150 |         Tuple of (is_valid: bool, error_message: Optional[str])
151 |         
    | ^^^^^^^^
152 |     Example:
153 |         >>> validate_command("echo hello")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:155:1
    |
153 |         >>> validate_command("echo hello")
154 |         (True, None)
155 |         
    | ^^^^^^^^
156 |         >>> validate_command("rm -rf / && echo done")
157 |         (False, "Dangerous command pattern detected")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:181:1
    |
179 |     """
180 |     Sanitize and validate a command, raising exception if invalid.
181 |     
    | ^^^^
182 |     Args:
183 |         command: The command to sanitize
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:184:1
    |
182 |     Args:
183 |         command: The command to sanitize
184 |         
    | ^^^^^^^^
185 |     Returns:
186 |         The validated command string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:187:1
    |
185 |     Returns:
186 |         The validated command string
187 |         
    | ^^^^^^^^
188 |     Raises:
189 |         CommandInjectionError: If command validation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:202:1
    |
200 |     """
201 |     Validate user input for basic safety checks.
202 |     
    | ^^^^
203 |     Args:
204 |         user_input: The user input to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:206:1
    |
204 |         user_input: The user input to validate
205 |         max_length: Maximum allowed length
206 |         
    | ^^^^^^^^
207 |     Returns:
208 |         Tuple of (is_valid: bool, error_message: Optional[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:226:1
    |
224 |     """
225 |     Sanitize and validate user input, raising exception if invalid.
226 |     
    | ^^^^
227 |     Args:
228 |         user_input: The input to sanitize
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:230:1
    |
228 |         user_input: The input to sanitize
229 |         max_length: Maximum allowed length
230 |         
    | ^^^^^^^^
231 |     Returns:
232 |         The validated input string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:233:1
    |
231 |     Returns:
232 |         The validated input string
233 |         
    | ^^^^^^^^
234 |     Raises:
235 |         InputValidationError: If input validation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:248:1
    |
246 |     """
247 |     Validate that a filename is safe.
248 |     
    | ^^^^
249 |     Args:
250 |         filename: The filename to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:251:1
    |
249 |     Args:
250 |         filename: The filename to validate
251 |         
    | ^^^^^^^^
252 |     Returns:
253 |         Tuple of (is_valid: bool, error_message: Optional[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:282:1
    |
280 |     """
281 |     Sanitize and validate a filename, raising exception if invalid.
282 |     
    | ^^^^
283 |     Args:
284 |         filename: The filename to sanitize
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:285:1
    |
283 |     Args:
284 |         filename: The filename to sanitize
285 |         
    | ^^^^^^^^
286 |     Returns:
287 |         The validated filename
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:288:1
    |
286 |     Returns:
287 |         The validated filename
288 |         
    | ^^^^^^^^
289 |     Raises:
290 |         InputValidationError: If filename validation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:303:1
    |
301 |     """
302 |     Mask sensitive data in text (API keys, tokens, etc.).
303 |     
    | ^^^^
304 |     Args:
305 |         text: The text to mask
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:307:1
    |
305 |         text: The text to mask
306 |         patterns: Optional list of regex patterns to mask
307 |         
    | ^^^^^^^^
308 |     Returns:
309 |         Text with sensitive data masked
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:342:1
    |
340 |     """
341 |     Safely read a file with path validation.
342 |     
    | ^^^^
343 |     Args:
344 |         path: Path to file (relative to base_dir)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:346:1
    |
344 |         path: Path to file (relative to base_dir)
345 |         base_dir: Base directory
346 |         
    | ^^^^^^^^
347 |     Returns:
348 |         File contents
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:349:1
    |
347 |     Returns:
348 |         File contents
349 |         
    | ^^^^^^^^
350 |     Raises:
351 |         PathTraversalError: If path is invalid
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:363:1
    |
361 |     """
362 |     Safely write a file with path validation.
363 |     
    | ^^^^
364 |     Args:
365 |         path: Path to file (relative to base_dir)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:368:1
    |
366 |         content: Content to write
367 |         base_dir: Base directory
368 |         
    | ^^^^^^^^
369 |     Raises:
370 |         PathTraversalError: If path is invalid
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:384:1
    |
382 |     """
383 |     Safely list directory contents with path validation.
384 |     
    | ^^^^
385 |     Args:
386 |         path: Path to directory (relative to base_dir)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:388:1
    |
386 |         path: Path to directory (relative to base_dir)
387 |         base_dir: Base directory
388 |         
    | ^^^^^^^^
389 |     Returns:
390 |         List of filenames
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent\security.py:391:1
    |
389 |     Returns:
390 |         List of filenames
391 |         
    | ^^^^^^^^
392 |     Raises:
393 |         PathTraversalError: If path is invalid
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:239:1
    |
237 |     """
238 |     Format and display agent execution results.
239 |     
    | ^^^^
240 |     Optimized for performance:
241 |     - Efficient rendering of large outputs
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:244:1
    |
242 |     - Progressive disclosure of information
243 |     - Lazy loading of detailed information
244 |     
    | ^^^^
245 |     Args:
246 |         result: Dictionary containing agent execution results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:254:1
    |
252 |             - retry_count: Number of retries attempted
253 |         streaming: Whether to use streaming mode
254 |     
    | ^^^^
255 |     Displays:
256 |         - Formatted text results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:365:1
    |
363 |     """
364 |     Main entry point for the A.G.E.N.T. menu interface.
365 |     
    | ^^^^
366 |     Renders:
367 |         - Page configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:373:1
    |
371 |         - Real-time status display
372 |         - Results visualization
373 |         
    | ^^^^^^^^
374 |     Raises:
375 |         ConfigurationError: If required API keys are missing
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> Agent\agent_ui.py:390:36
    |
388 |     if st.session_state.first_visit:
389 |         st.info("""
390 |         ­ƒæï **Welcome to KAI Agent!** 
    |                                     ^
391 |         
392 |         This AI assistant can help you with:
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:391:1
    |
389 |         st.info("""
390 |         ­ƒæï **Welcome to KAI Agent!** 
391 |         
    | ^^^^^^^^
392 |         This AI assistant can help you with:
393 |         - ­ƒî× Renewable energy consulting (PV systems, heat pumps)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:396:1
    |
394 |         - ­ƒÆ╗ Software development (code generation, testing, project setup)
395 |         - ­ƒöä Complex multi-step workflows
396 |         
    | ^^^^^^^^
397 |         **Quick Start:** Enter a task below and click "Start Agent". 
398 |         Click the ÔØô Help button for detailed instructions and examples.
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> Agent\agent_ui.py:397:69
    |
395 |         - ­ƒöä Complex multi-step workflows
396 |         
397 |         **Quick Start:** Enter a task below and click "Start Agent". 
    |                                                                     ^
398 |         Click the ÔØô Help button for detailed instructions and examples.
399 |         """)
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:433:1
    |
431 |             st.markdown("""
432 |             ### Quick Setup
433 |             
    | ^^^^^^^^^^^^
434 |             1. **Create or edit `.env` file** in the project root directory
435 |             2. **Add your OpenAI API key**:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:441:1
    |
439 |             3. **Get your API key** from [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
440 |             4. **Restart the application**
441 |             
    | ^^^^^^^^^^^^
442 |             ### Optional Keys (for additional features)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:443:1
    |
442 |             ### Optional Keys (for additional features)
443 |             
    | ^^^^^^^^^^^^
444 |             - **TAVILY_API_KEY**: Web search capability
445 |             - **TWILIO_***: Telephony features
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:447:1
    |
445 |             - **TWILIO_***: Telephony features
446 |             - **ELEVEN_LABS_API_KEY**: Voice synthesis
447 |             
    | ^^^^^^^^^^^^
448 |             See `AGENT_INSTALLATION_GUIDE.md` for detailed instructions.
449 |             """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:487:1
    |
485 |                         st.markdown("""
486 |                         ### Adding Documents to Knowledge Base
487 |                         
    | ^^^^^^^^^^^^^^^^^^^^^^^^
488 |                         1. **Place PDF files** in the `Agent/knowledge_base/` directory
489 |                         2. **Restart the application** to index the documents
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:491:1
    |
489 |                         2. **Restart the application** to index the documents
490 |                         3. **The agent will automatically** create a searchable index
491 |                         
    | ^^^^^^^^^^^^^^^^^^^^^^^^
492 |                         **Recommended Documents:**
493 |                         - Technical specifications for PV systems
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:498:1
    |
496 |                         - Installation manuals
497 |                         - Product datasheets
498 |                         
    | ^^^^^^^^^^^^^^^^^^^^^^^^
499 |                         **Note:** The agent will work without a knowledge base but will have limited domain-specific information.
500 |                         """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:538:1
    |
536 |             st.markdown("""
537 |             ## How to Use the KAI Agent
538 |             
    | ^^^^^^^^^^^^
539 |             ### What is KAI Agent?
540 |             KAI (K├╝nstliche Intelligenz) is an autonomous AI assistant with dual expertise:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:543:1
    |
541 |             - **Renewable Energy Consulting**: Photovoltaics, heat pumps, economic analysis
542 |             - **Software Architecture**: Code generation, testing, project scaffolding
543 |             
    | ^^^^^^^^^^^^
544 |             ### How It Works
545 |             1. **Enter your task** in the text area below
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:549:1
    |
547 |             3. **Watch the agent think** - see its reasoning process in real-time
548 |             4. **Review results** - get comprehensive answers, code, or analysis
549 |             
    | ^^^^^^^^^^^^
550 |             ### Task Types You Can Request
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:551:1
    |
550 |             ### Task Types You Can Request
551 |             
    | ^^^^^^^^^^^^
552 |             #### ­ƒî× Renewable Energy Consulting
553 |             - Search knowledge base for technical information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:558:1
    |
556 |             - Compare different system configurations
557 |             - Simulate sales calls
558 |             
    | ^^^^^^^^^^^^
559 |             #### ­ƒÆ╗ Software Development
560 |             - Generate Python functions with tests
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:565:1
    |
563 |             - Debug and fix code errors
564 |             - Generate API endpoints
565 |             
    | ^^^^^^^^^^^^
566 |             #### ­ƒöä Combined Workflows
567 |             - Research ÔåÆ Code ÔåÆ Test ÔåÆ Document
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:570:1
    |
568 |             - Knowledge search ÔåÆ Calculation ÔåÆ Presentation
569 |             - Multi-step complex tasks
570 |             
    | ^^^^^^^^^^^^
571 |             ### Tips for Best Results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:572:1
    |
571 | ÔÇª     ### Tips for Best Results
572 | ÔÇª     
^^^^^^^^^^^^
573 | ÔÇª     Ô£à **Be Specific**: "Create a Python function to calculate solar panel ROI with parameters: investment, annual_savings, years"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:574:1
    |
573 | ÔÇª     Ô£à **Be Specific**: "Create a Python function to calculate solar panel ROI with parameters: investment, annual_savings, years"
574 | ÔÇª     
^^^^^^^^^^^^
575 | ÔÇª     Ô£à **Provide Context**: "I'm building a customer consultation tool. Create a function that..."
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:576:1
    |
575 |             Ô£à **Provide Context**: "I'm building a customer consultation tool. Create a function that..."
576 |             
    | ^^^^^^^^^^^^
577 |             Ô£à **Break Down Complex Tasks**: Instead of "Build a complete app", try:
578 |             1. "Create project structure"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:581:1
    |
579 |             2. "Implement core calculations"
580 |             3. "Add tests"
581 |             
    | ^^^^^^^^^^^^
582 |             Ô£à **Use Examples**: "Create a function similar to this: [paste example]"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:583:1
    |
582 |             Ô£à **Use Examples**: "Create a function similar to this: [paste example]"
583 |             
    | ^^^^^^^^^^^^
584 |             ÔØî **Avoid Vague Requests**: "Do something with solar" ÔåÆ Too vague
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:585:1
    |
584 |             ÔØî **Avoid Vague Requests**: "Do something with solar" ÔåÆ Too vague
585 |             
    | ^^^^^^^^^^^^
586 |             ### Available Tools
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:587:1
    |
586 |             ### Available Tools
587 |             
    | ^^^^^^^^^^^^
588 |             The agent has access to:
589 |             - ­ƒôÜ **Knowledge Base**: Domain-specific PDF documents
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:595:1
    |
593 |             - ­ƒô× **Telephony**: Simulated sales calls
594 |             - ­ƒº¬ **Testing**: Automated pytest execution
595 |             
    | ^^^^^^^^^^^^
596 |             ### Common Use Cases
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:597:1
    |
596 |             ### Common Use Cases
597 |             
    | ^^^^^^^^^^^^
598 |             **Quick Information**: "What are the benefits of heat pumps?"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:599:1
    |
598 |             **Quick Information**: "What are the benefits of heat pumps?"
599 |             
    | ^^^^^^^^^^^^
600 |             **Calculations**: "Calculate ROI for a 10 kWp PV system with 15,000Ôé¼ investment"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:601:1
    |
600 |             **Calculations**: "Calculate ROI for a 10 kWp PV system with 15,000Ôé¼ investment"
601 |             
    | ^^^^^^^^^^^^
602 |             **Code Generation**: "Write a function to calculate annual solar yield"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:603:1
    |
602 |             **Code Generation**: "Write a function to calculate annual solar yield"
603 |             
    | ^^^^^^^^^^^^
604 |             **Project Setup**: "Generate a Flask API structure for solar calculations"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:605:1
    |
604 |             **Project Setup**: "Generate a Flask API structure for solar calculations"
605 |             
    | ^^^^^^^^^^^^
606 |             **Testing**: "Write unit tests for the calculate_roi function"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:607:1
    |
606 |             **Testing**: "Write unit tests for the calculate_roi function"
607 |             
    | ^^^^^^^^^^^^
608 |             ### Troubleshooting
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:609:1
    |
608 |             ### Troubleshooting
609 |             
    | ^^^^^^^^^^^^
610 |             **Agent not responding?**
611 |             - Check internet connection
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:614:1
    |
612 |             - Verify API keys are configured
613 |             - Try a simpler task first
614 |             
    | ^^^^^^^^^^^^
615 |             **Unexpected results?**
616 |             - Rephrase your request more clearly
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:619:1
    |
617 |             - Provide more context or examples
618 |             - Break into smaller steps
619 |             
    | ^^^^^^^^^^^^
620 |             **Docker errors?**
621 |             - Ensure Docker is running
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:624:1
    |
622 |             - Check if sandbox image is built
623 |             - See troubleshooting guide
624 |             
    | ^^^^^^^^^^^^
625 |             ### Need More Help?
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:626:1
    |
625 |             ### Need More Help?
626 |             
    | ^^^^^^^^^^^^
627 |             ­ƒôÜ **Documentation**: Check the `Agent/` directory for detailed guides
628 |             - `README.md` - Overview and quick start
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:633:1
    |
631 |             - `TROUBLESHOOTING.md` - Problem solving
632 |             - `ADVANCED_FEATURES_GUIDE.md` - Advanced usage
633 |             
    | ^^^^^^^^^^^^
634 |             ­ƒöº **Validation**: Run `python Agent/validate_config.py` to check setup
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:635:1
    |
634 |             ­ƒöº **Validation**: Run `python Agent/validate_config.py` to check setup
635 |             
    | ^^^^^^^^^^^^
636 |             ­ƒôû **Installation**: See `AGENT_INSTALLATION_GUIDE.md` for setup help
637 |             """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:660:1
    |
658 |             Wie funktioniert eine Luft-Wasser-W├ñrmepumpe?
659 |             ```
660 |             
    | ^^^^^^^^^^^^
661 |             **Economic Calculations:**
662 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:669:1
    |
667 |             - Eigenverbrauch: 30%
668 |             ```
669 |             
    | ^^^^^^^^^^^^
670 |             **Customer Consultation:**
671 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:678:1
    |
676 |             - Interesse: PV + Speicher
677 |             ```
678 |             
    | ^^^^^^^^^^^^
679 |             **Sales Call Simulation:**
680 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:700:1
    |
698 |             - Mit Unit Tests
699 |             ```
700 |             
    | ^^^^^^^^^^^^
701 |             **Class with TDD:**
702 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:708:1
    |
706 |             - Folge dem TDD-Zyklus
707 |             ```
708 |             
    | ^^^^^^^^^^^^
709 |             **API Endpoint:**
710 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:717:1
    |
715 |             Mit Validierung und Tests
716 |             ```
717 |             
    | ^^^^^^^^^^^^
718 |             **Project Scaffolding:**
719 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:741:1
    |
739 |             4. F├╝hre die Tests im Sandbox aus
740 |             ```
741 |             
    | ^^^^^^^^^^^^
742 |             **Consultation Tool:**
743 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:752:1
    |
750 |             6. Generiere Beispiel-Beratung
751 |             ```
752 |             
    | ^^^^^^^^^^^^
753 |             **Complete Workflow:**
754 |             ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:772:1
    |
770 |         st.markdown("""
771 |         ### Getting Started in 3 Steps
772 |         
    | ^^^^^^^^
773 |         **Step 1: Enter Your Task**
774 |         - Type what you want the agent to do in the text area below
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:777:1
    |
775 |         - Be as specific as possible
776 |         - Include all necessary details
777 |         
    | ^^^^^^^^
778 |         **Step 2: Start the Agent**
779 |         - Click the "­ƒÜÇ Start Agent" button
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:782:1
    |
780 |         - The agent will begin processing your request
781 |         - You'll see its thinking process in real-time
782 |         
    | ^^^^^^^^
783 |         **Step 3: Review Results**
784 |         - Read the agent's response
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:787:1
    |
785 |         - Copy any generated code
786 |         - Download created files if needed
787 |         
    | ^^^^^^^^
788 |         ### Writing Effective Tasks
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:789:1
    |
788 |         ### Writing Effective Tasks
789 |         
    | ^^^^^^^^
790 |         **Good Task Examples:**
791 |         - Ô£à "Create a Python function called calculate_roi that takes investment and annual_savings as parameters"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:794:1
    |
792 |         - Ô£à "Search the knowledge base for information about heat pump efficiency (JAZ)"
793 |         - Ô£à "Generate a Flask project structure with models, routes, and tests"
794 |         
    | ^^^^^^^^
795 |         **Tasks to Avoid:**
796 |         - ÔØî "Do something" (too vague)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:799:1
    |
797 |         - ÔØî "Help me" (no specific request)
798 |         - ÔØî "Fix everything" (no context)
799 |         
    | ^^^^^^^^
800 |         ### Agent Capabilities
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:801:1
    |
800 |         ### Agent Capabilities
801 |         
    | ^^^^^^^^
802 |         Ô£à **Can Do:**
803 |         - Search knowledge base
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:810:1
    |
808 |         - Simulate conversations
809 |         - Search the web (if API key configured)
810 |         
    | ^^^^^^^^
811 |         ÔØî **Cannot Do:**
812 |         - Access your local files outside workspace
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:817:1
    |
815 |         - Modify existing application code
816 |         - Execute commands on your system
817 |         
    | ^^^^^^^^
818 |         ### Tips & Tricks
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:819:1
    |
818 |         ### Tips & Tricks
819 |         
    | ^^^^^^^^
820 |         ­ƒÆí **Use the knowledge base first**: The agent will search its knowledge base before using web search
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:821:1
    |
820 |         ­ƒÆí **Use the knowledge base first**: The agent will search its knowledge base before using web search
821 |         
    | ^^^^^^^^
822 |         ­ƒÆí **Break down complex tasks**: Multi-step tasks work better when broken into phases
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:823:1
    |
822 |         ­ƒÆí **Break down complex tasks**: Multi-step tasks work better when broken into phases
823 |         
    | ^^^^^^^^
824 |         ­ƒÆí **Provide examples**: Show the agent what you want with examples
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:825:1
    |
824 |         ­ƒÆí **Provide examples**: Show the agent what you want with examples
825 |         
    | ^^^^^^^^
826 |         ­ƒÆí **Iterate**: Start simple, then refine based on results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\agent_ui.py:827:1
    |
826 |         ­ƒÆí **Iterate**: Start simple, then refine based on results
827 |         
    | ^^^^^^^^
828 |         ­ƒÆí **Check the reasoning**: Watch the agent's thinking process to understand its approach
829 |         """)
    |
help: Remove whitespace from blank line

invalid-syntax: Expected a Jupyter Notebook, which must be internally stored as JSON, but this file isn't valid JSON: EOF while parsing a value at line 1 column 0
--> Agent\agent_workspace\demodataanalysis\notebooks\01_exploration.ipynb:1:1
 |
 |

W293 Blank line contains whitespace
  --> Agent\audit_api_key_security.py:37:1
   |
35 |     """
36 |     Audit .gitignore for .env entry.
37 |     
   | ^^^^
38 |     Returns:
39 |         Tuple of (passed: bool, issues: List[str])
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\audit_api_key_security.py:69:1
   |
67 |     """
68 |     Audit .env file existence and security.
69 |     
   | ^^^^
70 |     Returns:
71 |         Tuple of (passed: bool, issues: List[str])
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\audit_api_key_security.py:92:1
   |
90 |     """
91 |     Scan codebase for hardcoded API keys.
92 |     
   | ^^^^
93 |     Returns:
94 |         Tuple of (passed: bool, issues: List[str])
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\audit_api_key_security.py:143:1
    |
141 |     """
142 |     Scan codebase for API key logging or printing.
143 |     
    | ^^^^
144 |     Returns:
145 |         Tuple of (passed: bool, issues: List[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\audit_api_key_security.py:220:1
    |
218 |     """
219 |     Validate API key formats.
220 |     
    | ^^^^
221 |     Returns:
222 |         Tuple of (passed: bool, issues: List[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\audit_api_key_security.py:257:1
    |
255 |     """
256 |     Verify logging has sensitive data filter.
257 |     
    | ^^^^
258 |     Returns:
259 |         Tuple of (passed: bool, issues: List[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\audit_api_key_security.py:296:1
    |
294 |     """
295 |     Run complete security audit.
296 |     
    | ^^^^
297 |     Returns:
298 |         True if all audits pass, False otherwise
    |
help: Remove whitespace from blank line

F841 Local variable `args` is assigned to but never used
   --> Agent\audit_api_key_security.py:382:5
    |
380 |     )
381 |
382 |     args = parser.parse_args()
    |     ^^^^
383 |
384 |     # Run audit
    |
help: Remove assignment to unused variable `args`

E402 Module level import not at top of file
  --> Agent\coding_tools.py:81:1
   |
79 | # Werkzeug zur Ausf├╝hrung von Python-Code in der sicheren Docker-Sandbox.
80 | # ==============================================================================
81 | import time
   | ^^^^^^^^^^^
82 |
83 | import docker
   |

E402 Module level import not at top of file
  --> Agent\coding_tools.py:83:1
   |
81 | import time
82 |
83 | import docker
   | ^^^^^^^^^^^^^
   |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:152:1
    |
150 | # Die Kernlogik des Agenten, die das LLM, die Werkzeuge und die ReAct-Schleife verbindet.
151 | # ==============================================================================
152 | import os
    | ^^^^^^^^^
153 |
154 | from langchain.agents import AgentExecutor, create_openai_functions_agent
    |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:154:1
    |
152 | import os
153 |
154 | from langchain.agents import AgentExecutor, create_openai_functions_agent
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
155 | from langchain.memory import ConversationBufferMemory
156 | from langchain.prompts import ChatPromptTemplate, MessagesPlaceholder
    |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:155:1
    |
154 | from langchain.agents import AgentExecutor, create_openai_functions_agent
155 | from langchain.memory import ConversationBufferMemory
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
156 | from langchain.prompts import ChatPromptTemplate, MessagesPlaceholder
157 | from langchain_openai import ChatOpenAI
    |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:156:1
    |
154 | from langchain.agents import AgentExecutor, create_openai_functions_agent
155 | from langchain.memory import ConversationBufferMemory
156 | from langchain.prompts import ChatPromptTemplate, MessagesPlaceholder
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
157 | from langchain_openai import ChatOpenAI
    |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:157:1
    |
155 | from langchain.memory import ConversationBufferMemory
156 | from langchain.prompts import ChatPromptTemplate, MessagesPlaceholder
157 | from langchain_openai import ChatOpenAI
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
158 |
159 | # Importieren der von uns definierten Werkzeuge
    |

E402 Module level import not at top of file
   --> Agent\coding_tools.py:160:1
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    |

F811 Redefinition of unused `list_files` from line 56
   --> Agent\coding_tools.py:160:38
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
    |                                      ^^^^^^^^^^ `list_files` redefined here
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    |
   ::: Agent\coding_tools.py:56:5
    |
 55 | @tool
 56 | def list_files(path: str = ".") -> str:
    |     ---------- previous definition of `list_files` here
 57 |     """
 58 |     Listet alle Dateien und Verzeichnisse unter dem angegebenen Pfad im Arbeitsbereich auf.
    |
help: Remove definition: `list_files`

F811 Redefinition of unused `read_file` from line 38
   --> Agent\coding_tools.py:160:50
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
    |                                                  ^^^^^^^^^ `read_file` redefined here
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    |
   ::: Agent\coding_tools.py:38:5
    |
 37 | @tool
 38 | def read_file(path: str) -> str:
    |     --------- previous definition of `read_file` here
 39 |     """
 40 |     Liest den Inhalt einer Datei unter dem angegebenen Pfad und gibt ihn zur├╝ck.
    |
help: Remove definition: `read_file`

F811 Redefinition of unused `write_file` from line 18
   --> Agent\coding_tools.py:160:61
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
    |                                                             ^^^^^^^^^^ `write_file` redefined here
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    |
   ::: Agent\coding_tools.py:18:5
    |
 17 | @tool
 18 | def write_file(path: str, content: str) -> str:
    |     ---------- previous definition of `write_file` here
 19 |     """
 20 |     Schreibt den angegebenen Inhalt in eine Datei unter dem angegebenen Pfad.
    |
help: Remove definition: `write_file`

E402 Module level import not at top of file
   --> Agent\coding_tools.py:161:1
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |

F811 Redefinition of unused `execute_python_code_in_sandbox` from line 87
   --> Agent\coding_tools.py:161:41
    |
159 | # Importieren der von uns definierten Werkzeuge
160 | from agent.tools.coding_tools import list_files, read_file, write_file
161 | from agent.tools.execution_tools import execute_python_code_in_sandbox
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `execute_python_code_in_sandbox` redefined here
    |
   ::: Agent\coding_tools.py:87:5
    |
 86 | @tool
 87 | def execute_python_code_in_sandbox(code: str) -> str:
    |     ------------------------------ previous definition of `execute_python_code_in_sandbox` here
 88 |     """
 89 |     F├╝hrt ein Python-Code-Snippet in einer isolierten Docker-Sandbox aus.
    |
help: Remove definition: `execute_python_code_in_sandbox`

W293 Blank line contains whitespace
  --> Agent\config.py:62:1
   |
60 |         """
61 |         Load configuration from environment variables.
62 |         
   | ^^^^^^^^
63 |         Returns:
64 |             AgentConfig instance
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\config.py:65:1
   |
63 |         Returns:
64 |             AgentConfig instance
65 |             
   | ^^^^^^^^^^^^
66 |         Raises:
67 |             ValueError: If required API keys are missing
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:101:1
    |
 99 |     """
100 |     Check which API keys are configured.
101 |     
    | ^^^^
102 |     Returns:
103 |         Dictionary with key names and their availability status
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:122:1
    |
120 |     """
121 |     Get list of missing API keys.
122 |     
    | ^^^^
123 |     Returns:
124 |         List of missing key names
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:133:1
    |
131 |     """
132 |     Get setup instructions for missing API keys.
133 |     
    | ^^^^
134 |     Returns:
135 |         Formatted setup instructions
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:187:1
    |
185 |     """
186 |     Validate that .env file is properly secured.
187 |     
    | ^^^^
188 |     Checks:
189 |     - .env file exists
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:192:1
    |
190 |     - .env is in .gitignore
191 |     - .env has appropriate permissions (Unix systems)
192 |     
    | ^^^^
193 |     Returns:
194 |         Tuple of (is_secure: bool, warnings: list[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:243:1
    |
241 |     """
242 |     Validate API key format without logging the actual key.
243 |     
    | ^^^^
244 |     Args:
245 |         key_name: Name of the API key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:247:1
    |
245 |         key_name: Name of the API key
246 |         key_value: Value of the API key
247 |         
    | ^^^^^^^^
248 |     Returns:
249 |         Tuple of (is_valid: bool, error_message: Optional[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:283:1
    |
281 |     """
282 |     Comprehensive security validation on startup.
283 |     
    | ^^^^
284 |     Validates:
285 |     - .env file security
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:288:1
    |
286 |     - API key formats
287 |     - No keys in environment variables (should be in .env only)
288 |     
    | ^^^^
289 |     Returns:
290 |         Tuple of (is_secure: bool, issues: list[str])
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\config.py:334:1
    |
332 |     """
333 |     Ensure that logging configuration filters sensitive data.
334 |     
    | ^^^^
335 |     This function verifies that the logging system has sensitive data
336 |     filters in place to prevent accidental exposure of API keys.
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:65:88
   |
63 |     elements.append(Paragraph("Einf├╝hrung in die Photovoltaik", heading_style))
64 |     intro_text = """
65 |     Photovoltaik (PV) ist die direkte Umwandlung von Sonnenlicht in elektrische Energie 
   |                                                                                        ^
66 |     mittels Solarzellen. Diese Technologie hat sich in den letzten Jahren zu einer der 
67 |     wichtigsten erneuerbaren Energiequellen entwickelt. PV-Anlagen bieten eine nachhaltige, 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:66:87
   |
64 |     intro_text = """
65 |     Photovoltaik (PV) ist die direkte Umwandlung von Sonnenlicht in elektrische Energie 
66 |     mittels Solarzellen. Diese Technologie hat sich in den letzten Jahren zu einer der 
   |                                                                                       ^
67 |     wichtigsten erneuerbaren Energiequellen entwickelt. PV-Anlagen bieten eine nachhaltige, 
68 |     umweltfreundliche und wirtschaftlich attraktive L├Âsung f├╝r die Energieversorgung von 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:67:92
   |
65 |     Photovoltaik (PV) ist die direkte Umwandlung von Sonnenlicht in elektrische Energie 
66 |     mittels Solarzellen. Diese Technologie hat sich in den letzten Jahren zu einer der 
67 |     wichtigsten erneuerbaren Energiequellen entwickelt. PV-Anlagen bieten eine nachhaltige, 
   |                                                                                            ^
68 |     umweltfreundliche und wirtschaftlich attraktive L├Âsung f├╝r die Energieversorgung von 
69 |     Privathaushalten, Unternehmen und ├Âffentlichen Einrichtungen.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:68:89
   |
66 |     mittels Solarzellen. Diese Technologie hat sich in den letzten Jahren zu einer der 
67 |     wichtigsten erneuerbaren Energiequellen entwickelt. PV-Anlagen bieten eine nachhaltige, 
68 |     umweltfreundliche und wirtschaftlich attraktive L├Âsung f├╝r die Energieversorgung von 
   |                                                                                         ^
69 |     Privathaushalten, Unternehmen und ├Âffentlichen Einrichtungen.
70 |     """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:79:91
   |
77 |     tech_text = """
78 |     <b>Modultypen und Wirkungsgrade:</b><br/>
79 |     Moderne PV-Module erreichen Wirkungsgrade zwischen 18% und 23%. Monokristalline Module 
   |                                                                                           ^
80 |     bieten die h├Âchste Effizienz (20-23%), w├ñhrend polykristalline Module bei 18-20% liegen. 
81 |     D├╝nnschichtmodule erreichen 15-18% Wirkungsgrad, sind aber kosteng├╝nstiger.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> Agent\create_sample_knowledge_base.py:80:93
   |
78 |     <b>Modultypen und Wirkungsgrade:</b><br/>
79 |     Moderne PV-Module erreichen Wirkungsgrade zwischen 18% und 23%. Monokristalline Module 
80 |     bieten die h├Âchste Effizienz (20-23%), w├ñhrend polykristalline Module bei 18-20% liegen. 
   |                                                                                             ^
81 |     D├╝nnschichtmodule erreichen 15-18% Wirkungsgrad, sind aber kosteng├╝nstiger.
82 |     """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:126:82
    |
124 |     economic_text = """
125 |     <b>Investitionskosten (2024):</b><br/>
126 |     Die durchschnittlichen Kosten f├╝r eine PV-Anlage liegen bei 1.200-1.800 Ôé¼/kWp 
    |                                                                                  ^
127 |     (inklusive Installation). Eine typische 10 kWp Anlage kostet somit 12.000-18.000 Ôé¼.
128 |     """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:246:85
    |
244 |     elements.append(Paragraph("Einf├╝hrung in W├ñrmepumpentechnologie", heading_style))
245 |     intro_text = """
246 |     W├ñrmepumpen sind hocheffiziente Heizsysteme, die Umweltw├ñrme aus Luft, Erde oder 
    |                                                                                     ^
247 |     Grundwasser nutzen und auf ein h├Âheres Temperaturniveau heben. Sie gelten als 
248 |     Schl├╝sseltechnologie f├╝r die W├ñrmewende und erm├Âglichen eine nachhaltige, 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:247:82
    |
245 |     intro_text = """
246 |     W├ñrmepumpen sind hocheffiziente Heizsysteme, die Umweltw├ñrme aus Luft, Erde oder 
247 |     Grundwasser nutzen und auf ein h├Âheres Temperaturniveau heben. Sie gelten als 
    |                                                                                  ^
248 |     Schl├╝sseltechnologie f├╝r die W├ñrmewende und erm├Âglichen eine nachhaltige, 
249 |     umweltfreundliche Beheizung von Geb├ñuden. Mit einer Jahresarbeitszahl (JAZ) von 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:248:78
    |
246 |     W├ñrmepumpen sind hocheffiziente Heizsysteme, die Umweltw├ñrme aus Luft, Erde oder 
247 |     Grundwasser nutzen und auf ein h├Âheres Temperaturniveau heben. Sie gelten als 
248 |     Schl├╝sseltechnologie f├╝r die W├ñrmewende und erm├Âglichen eine nachhaltige, 
    |                                                                              ^
249 |     umweltfreundliche Beheizung von Geb├ñuden. Mit einer Jahresarbeitszahl (JAZ) von 
250 |     3,5 bis 5,0 erzeugen moderne W├ñrmepumpen aus 1 kWh Strom 3,5 bis 5 kWh W├ñrme.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:249:84
    |
247 |     Grundwasser nutzen und auf ein h├Âheres Temperaturniveau heben. Sie gelten als 
248 |     Schl├╝sseltechnologie f├╝r die W├ñrmewende und erm├Âglichen eine nachhaltige, 
249 |     umweltfreundliche Beheizung von Geb├ñuden. Mit einer Jahresarbeitszahl (JAZ) von 
    |                                                                                    ^
250 |     3,5 bis 5,0 erzeugen moderne W├ñrmepumpen aus 1 kWh Strom 3,5 bis 5 kWh W├ñrme.
251 |     """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:260:92
    |
258 |     types_text = """
259 |     <b>1. Luft-Wasser-W├ñrmepumpe:</b><br/>
260 |     Nutzt Au├ƒenluft als W├ñrmequelle. Einfache Installation, keine Genehmigung erforderlich. 
    |                                                                                            ^
261 |     JAZ: 3,0-4,0. Ideal f├╝r Bestandsgeb├ñude und Modernisierung.<br/><br/>
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> Agent\create_sample_knowledge_base.py:262:1
    |
260 |     Nutzt Au├ƒenluft als W├ñrmequelle. Einfache Installation, keine Genehmigung erforderlich. 
261 |     JAZ: 3,0-4,0. Ideal f├╝r Bestandsgeb├ñude und Modernisierung.<br/><br/>
262 |     
    | ^^^^
263 |     <b>2. Sole-Wasser-W├ñrmepumpe (Erdw├ñrme):</b><br/>
264 |     Nutzt Erdw├ñrme ├╝ber Erdkollektoren oder Erdsonden. Sehr effizient, konstante W├ñrmequelle. 
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:264:94
    |
263 |     <b>2. Sole-Wasser-W├ñrmepumpe (Erdw├ñrme):</b><br/>
264 |     Nutzt Erdw├ñrme ├╝ber Erdkollektoren oder Erdsonden. Sehr effizient, konstante W├ñrmequelle. 
    |                                                                                              ^
265 |     JAZ: 4,0-5,0. Genehmigung erforderlich, h├Âhere Investition.<br/><br/>
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> Agent\create_sample_knowledge_base.py:266:1
    |
264 |     Nutzt Erdw├ñrme ├╝ber Erdkollektoren oder Erdsonden. Sehr effizient, konstante W├ñrmequelle. 
265 |     JAZ: 4,0-5,0. Genehmigung erforderlich, h├Âhere Investition.<br/><br/>
266 |     
    | ^^^^
267 |     <b>3. Wasser-Wasser-W├ñrmepumpe:</b><br/>
268 |     Nutzt Grundwasser als W├ñrmequelle. H├Âchste Effizienz, JAZ: 4,5-5,5. 
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> Agent\create_sample_knowledge_base.py:268:72
    |
267 |     <b>3. Wasser-Wasser-W├ñrmepumpe:</b><br/>
268 |     Nutzt Grundwasser als W├ñrmequelle. H├Âchste Effizienz, JAZ: 4,5-5,5. 
    |                                                                        ^
269 |     Wasserrechtliche Genehmigung erforderlich, nicht ├╝berall m├Âglich.
270 |     """
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> Agent\create_sample_knowledge_base.py:375:1
    |
373 |     - Ausreichend Platz f├╝r Au├ƒeneinheit (Luft-WP) oder Erdarbeiten (Sole-WP)<br/>
374 |     - Elektrischer Anschluss mit ausreichender Leistung (meist 3-phasig)<br/><br/>
375 |     
    | ^^^^
376 |     <b>Genehmigungen:</b><br/>
377 |     - Luft-WP: Meist genehmigungsfrei, L├ñrmschutz beachten<br/>
    |
help: Remove whitespace from blank line

F841 Local variable `logger` is assigned to but never used
   --> Agent\demo_api_key_security.py:129:9
    |
128 |         # Set up logging with filter
129 |         logger = setup_logging(log_to_console=False, log_to_file=False)
    |         ^^^^^^
130 |
131 |         print("Ô£à SensitiveDataFilter is active in logging configuration")
    |
help: Remove assignment to unused variable `logger`

E402 Module level import not at top of file
  --> Agent\demo_file_system_tools.py:13:1
   |
11 | sys.path.insert(0, agent_dir)
12 |
13 | from agent.tools import coding_tools
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 |
15 | AGENT_WORKSPACE = coding_tools.AGENT_WORKSPACE
   |

B007 Loop control variable `root` not used within loop body
   --> Agent\demo_file_system_tools.py:151:13
    |
149 |         total_dirs = 0
150 |
151 |         for root, dirs, files in os.walk(AGENT_WORKSPACE):
    |             ^^^^
152 |             total_dirs += len(dirs)
153 |             total_files += len(files)
    |
help: Rename unused `root` to `_root`

W293 Blank line contains whitespace
  --> Agent\fake_main.py:16:1
   |
14 |     # L├ñdt API-Schl├╝ssel und andere Konfigurationen aus einer .env-Datei.
15 |     load_dotenv()
16 |     
   | ^^^^
17 |     print("KAI Agent wird initialisiert...")
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\fake_main.py:18:1
   |
17 |     print("KAI Agent wird initialisiert...")
18 |     
   | ^^^^
19 |     # ├£berpr├╝fen, ob der OpenAI API-Schl├╝ssel vorhanden ist.
20 |     # Ohne diesen kann der Agent nicht funktionieren.
   |
help: Remove whitespace from blank line

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:43:1
   |
41 | # README.md (Neue Datei mit Anleitungen)
42 | # ==============================================================================
43 | ```markdown
   | ^
44 | # KAI Agent - Schnellstart-Anleitung
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:43:2
   |
41 | # README.md (Neue Datei mit Anleitungen)
42 | # ==============================================================================
43 | ```markdown
   |  ^
44 | # KAI Agent - Schnellstart-Anleitung
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:43:3
   |
41 | # README.md (Neue Datei mit Anleitungen)
42 | # ==============================================================================
43 | ```markdown
   |   ^
44 | # KAI Agent - Schnellstart-Anleitung
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:46:8
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |        ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:46:12
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |            ^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:46:19
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                   ^^^^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:33
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                 ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:37
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                     ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:49
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                 ^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:52
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                    ^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:67
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                   ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:71
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                       ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:75
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                           ^^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:92
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                                            ^^^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:101
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                                                     ^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:104
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                                                        ^^^^^^^^^^^^^^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:121
   |
44 | # KAI Agent - Schnellstart-Anleitung
45 |
46 | Folgen Sie diesen Schritten, um den KAI-Agenten zu testen. F├╝hren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (ÔÇª
   |                                                                                                                         ^^^
47 |
48 | ## Schritt 1: Erstellen der .env-Datei
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:125
   |
44 | ÔÇª
45 | ÔÇª
46 | ÔÇªren Sie die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (`kai_agent/`) aus.
   |                                                                ^^^^^^^^
47 | ÔÇª
48 | ÔÇª
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:46:135
   |
44 | ÔÇª
45 | ÔÇª
46 | ÔÇªe die Befehle in Ihrem Terminal im Hauptverzeichnis des Projekts (`kai_agent/`) aus.
   |                                                                    ^
47 | ÔÇª
48 | ÔÇª
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:46:146
   |
44 | ÔÇª
45 | ÔÇª
46 | ÔÇªle in Ihrem Terminal im Hauptverzeichnis des Projekts (`kai_agent/`) aus.
   |                                                                    ^
47 | ÔÇª
48 | ÔÇª
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:46:149
   |
44 | ÔÇª
45 | ÔÇª
46 | ÔÇªn Ihrem Terminal im Hauptverzeichnis des Projekts (`kai_agent/`) aus.
   |                                                                   ^^^
47 | ÔÇª
48 | ÔÇª
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:46:153
   |
44 | ÔÇª
45 | ÔÇª
46 | ÔÇªhrem Terminal im Hauptverzeichnis des Projekts (`kai_agent/`) aus.
   |                                                                    ^
47 | ÔÇª
48 | ÔÇª
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:6
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |      ^^^
51 |
52 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:10
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |          ^^
51 |
52 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:13
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |             ^^^^
51 |
52 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:18
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                  ^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:24
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                        ^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:50:30
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                              ^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:46
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                              ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:50
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                  ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:54
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                      ^^^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:62
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                              ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:66
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                  ^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:72
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                        ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:76
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                            ^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:82
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                                  ^^^^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:89
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                                         ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:50:103
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                                                       ^^^
51 |
52 | ```bash
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:50:107
   |
48 | ## Schritt 1: Erstellen der .env-Datei
49 |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
   |                                                                                                           ^
51 |
52 | ```bash
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:52:1
   |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
51 |
52 | ```bash
   | ^
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:52:2
   |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
51 |
52 | ```bash
   |  ^
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:52:3
   |
50 | Wenn Sie es noch nicht getan haben, kopieren Sie die Vorlage und f├╝gen Sie Ihren OpenAI API-Schl├╝ssel ein.
51 |
52 | ```bash
   |   ^
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:55:1
   |
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
55 | ```
   | ^
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:55:2
   |
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
55 | ```
   |  ^
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:55:3
   |
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
55 | ```
   |   ^
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:55:4
   |
53 | # Diesen Befehl nur einmal ausf├╝hren
54 | cp .env.example .env
55 | ```
   |    ^
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:8
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |        ^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:12
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |            ^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:16
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                ^^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:57:21
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                     ^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:57:22
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                      ^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:57:26
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                          ^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:34
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                  ^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:38
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                      ^^^^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:45
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                             ^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:49
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                                 ^^^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:55
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                                       ^^^^^^^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:57:65
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                                                 ^^^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Expected an expression
  --> Agent\fake_main.py:57:69
   |
55 | ```
56 |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
   |                                                                     ^
58 | `OPENAI_API_KEY="sk-..."`
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:58:1
   |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
58 | `OPENAI_API_KEY="sk-..."`
   | ^
59 |
60 | ## Schritt 2: Bauen der Docker-Sandbox
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:58:25
   |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
58 | `OPENAI_API_KEY="sk-..."`
   |                         ^
59 |
60 | ## Schritt 2: Bauen der Docker-Sandbox
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:58:26
   |
57 | ├ûffnen Sie die neue `.env`-Datei und tragen Sie Ihren Schl├╝ssel ein:
58 | `OPENAI_API_KEY="sk-..."`
   |                          ^
59 |
60 | ## Schritt 2: Bauen der Docker-Sandbox
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:8
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |        ^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:15
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |               ^^^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:24
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                        ^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:28
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                            ^^^^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:38
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                      ^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:62:52
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                    ^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:59
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                           ^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:63
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                               ^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:69
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                     ^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:74
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                          ^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:81
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                 ^^^^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:91
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                           ^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:101
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                                     ^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:108
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                                            ^^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:115
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                                                   ^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:119
   |
60 | ## Schritt 2: Bauen der Docker-Sandbox
61 |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
   |                                                                                                                       ^^^^^
63 |
64 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:125
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇª Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                                 ^^^^^^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:132
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇªde sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                               ^^^^^^^^^^^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:144
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇªr ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                                   ^^^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:148
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇªhren wird. Sie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                                ^^^^^^^^^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:62:158
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇªd. Sie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                                  ^^^^^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:62:164
   |
60 | ÔÇª
61 | ÔÇª
62 | ÔÇªie m├╝ssen Docker auf Ihrem System installiert und gestartet haben.
   |                                                                    ^
63 | ÔÇª
64 | ÔÇª
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:64:1
   |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
63 |
64 | ```bash
   | ^
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:64:2
   |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
63 |
64 | ```bash
   |  ^
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:64:3
   |
62 | Dieser Befehl erstellt das isolierte Docker-Image, in dem der Agent Code sicher ausf├╝hren wird. Sie m├╝ssen Docker auf Ihrem System insÔÇª
63 |
64 | ```bash
   |   ^
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:66:8
   |
64 | ```bash
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |        ^^^^^
67 | ```
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:66:17
   |
64 | ```bash
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |                 ^^^^^^^^^
67 | ```
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:66:37
   |
64 | ```bash
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |                                     ^
67 | ```
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:66:40
   |
64 | ```bash
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
   |                                        ^^^^^^^
67 | ```
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:67:1
   |
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
67 | ```
   | ^
68 |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:67:2
   |
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
67 | ```
   |  ^
68 |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:67:3
   |
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
67 | ```
   |   ^
68 |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:67:4
   |
65 | # Diesen Befehl nur einmal ausf├╝hren (oder wenn Sie das Dockerfile ├ñndern)
66 | docker build -t kai_agent-sandbox . -f sandbox/Dockerfile
67 | ```
   |    ^
68 |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:14
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |              ^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:18
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                  ^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:22
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                      ^^^^^^^^^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:34
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                                  ^^^^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:48
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                                                ^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:52
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                                                    ^^^
72 |
73 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:71:56
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                                                        ^^^^^^^^^^^^
72 |
73 | ```bash
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:71:69
   |
69 | ## Schritt 3: Installieren der Python-Abh├ñngigkeiten
70 |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
   |                                                                     ^
72 |
73 | ```bash
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:73:1
   |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
72 |
73 | ```bash
   | ^
74 | pip install -r requirements.txt
75 | ```
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:73:2
   |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
72 |
73 | ```bash
   |  ^
74 | pip install -r requirements.txt
75 | ```
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:73:3
   |
71 | Installieren Sie die notwendigen Python-Pakete f├╝r das Hauptprojekt.
72 |
73 | ```bash
   |   ^
74 | pip install -r requirements.txt
75 | ```
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:74:5
   |
73 | ```bash
74 | pip install -r requirements.txt
   |     ^^^^^^^
75 | ```
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:74:16
   |
73 | ```bash
74 | pip install -r requirements.txt
   |                ^^^^^^^^^^^^
75 | ```
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:75:1
   |
73 | ```bash
74 | pip install -r requirements.txt
75 | ```
   | ^
76 |
77 | ## Schritt 4: Starten des Agenten
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:75:2
   |
73 | ```bash
74 | pip install -r requirements.txt
75 | ```
   |  ^
76 |
77 | ## Schritt 4: Starten des Agenten
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:75:3
   |
73 | ```bash
74 | pip install -r requirements.txt
75 | ```
   |   ^
76 |
77 | ## Schritt 4: Starten des Agenten
   |

invalid-syntax: Expected a statement
  --> Agent\fake_main.py:75:4
   |
73 | ```bash
74 | pip install -r requirements.txt
75 | ```
   |    ^
76 |
77 | ## Schritt 4: Starten des Agenten
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:79:8
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |        ^^^
80 |
81 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:79:12
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |            ^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:79:19
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                   ^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:79:26
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                          ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:34
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                  ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:38
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                      ^^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:46
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                              ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:50
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                  ^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:57
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                         ^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:64
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                ^^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:72
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                        ^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:75
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                           ^^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:88
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                        ^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:95
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                               ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:99
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                                   ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found string
  --> Agent\fake_main.py:79:103
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                                       ^^^^^^^^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:117
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                                                     ^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:121
   |
77 | ## Schritt 4: Starten des Agenten
78 |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
   |                                                                                                                         ^^^^^^^
80 |
81 | ```bash
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:129
   |
77 | ÔÇª
78 | ÔÇª
79 | ÔÇªufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live im Terminal sehen.
   |                                                                  ^^^^
80 | ÔÇª
81 | ÔÇª
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:134
   |
77 | ÔÇª
78 | ÔÇª
79 | ÔÇªbe zu starten. Sie werden nun den "Denkprozess" des Agenten live im Terminal sehen.
   |                                                                   ^^
80 | ÔÇª
81 | ÔÇª
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:137
   |
77 | ÔÇª
78 | ÔÇª
79 | ÔÇªstarten. Sie werden nun den "Denkprozess" des Agenten live im Terminal sehen.
   |                                                                ^^^^^^^^
80 | ÔÇª
81 | ÔÇª
   |

invalid-syntax: Expected ',', found name
  --> Agent\fake_main.py:79:146
   |
77 | ÔÇª
78 | ÔÇª
79 | ÔÇª. Sie werden nun den "Denkprozess" des Agenten live im Terminal sehen.
   |                                                                  ^^^^^
80 | ÔÇª
81 | ÔÇª
   |

invalid-syntax: Expected an identifier
  --> Agent\fake_main.py:79:152
   |
77 | ÔÇª
78 | ÔÇª
79 | ÔÇªe werden nun den "Denkprozess" des Agenten live im Terminal sehen.
   |                                                                    ^
80 | ÔÇª
81 | ÔÇª
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:81:1
   |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
80 |
81 | ```bash
   | ^
82 | python main.py
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:81:2
   |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
80 |
81 | ```bash
   |  ^
82 | python main.py
   |

invalid-syntax: Got unexpected token `
  --> Agent\fake_main.py:81:3
   |
79 | F├╝hren Sie diesen Befehl aus, um den Agenten mit seiner ersten Aufgabe zu starten. Sie werden nun den "Denkprozess" des Agenten live iÔÇª
80 |
81 | ```bash
   |   ^
82 | python main.py
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> Agent\fake_main.py:82:8
   |
81 | ```bash
82 | python main.py
   |        ^^^^
   |

F841 Local variable `result` is assigned to but never used
   --> Agent\install.py:122:9
    |
121 |     try:
122 |         result = subprocess.run(
    |         ^^^^^^
123 |             [sys.executable, "-m", "pip", "install", "-r", str(requirements_file)],
124 |             check=True
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\install.py:193:9
    |
192 |     try:
193 |         result = subprocess.run(
    |         ^^^^^^
194 |             ["docker", "build", "-t", "kai_agent_sandbox", "-f",
195 |              str(sandbox_dir / "Dockerfile"), str(sandbox_dir)],
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\install.py:274:9
    |
273 |     try:
274 |         result = subprocess.run(
    |         ^^^^^^
275 |             [sys.executable, str(validation_script)],
276 |             check=True
    |
help: Remove assignment to unused variable `result`

RET504 Unnecessary assignment to `report` before `return` statement
  --> Agent\run_final_validation.py:81:12
   |
79 |     }
80 |
81 |     return report
   |            ^^^^^^
   |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> Agent\setup_knowledge_base.py:16:1
   |
14 | Usage:
15 |     python Agent/setup_knowledge_base.py [command]
16 |     
   | ^^^^
17 | Commands:
18 |     init     - Initialize knowledge base directory
   |
help: Remove whitespace from blank line

F841 Local variable `vector_store` is assigned to but never used
   --> Agent\setup_knowledge_base.py:176:9
    |
174 |         print()
175 |
176 |         vector_store = setup_knowledge_base(
    |         ^^^^^^^^^^^^
177 |             path=str(kb_dir),
178 |             db_path="Agent/faiss_index"
    |
help: Remove assignment to unused variable `vector_store`

F401 `agent_ui.check_api_keys_ui` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> Agent\test_agent_ui.py:19:13
   |
17 |     try:
18 |         from agent_ui import (
19 |             check_api_keys_ui,
   |             ^^^^^^^^^^^^^^^^^
20 |             display_agent_status,
21 |             format_agent_output,
   |
help: Remove unused import

F401 `agent_ui.display_agent_status` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> Agent\test_agent_ui.py:20:13
   |
18 |         from agent_ui import (
19 |             check_api_keys_ui,
20 |             display_agent_status,
   |             ^^^^^^^^^^^^^^^^^^^^
21 |             format_agent_output,
22 |             render_agent_menu,
   |
help: Remove unused import

F401 `agent_ui.format_agent_output` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> Agent\test_agent_ui.py:21:13
   |
19 |             check_api_keys_ui,
20 |             display_agent_status,
21 |             format_agent_output,
   |             ^^^^^^^^^^^^^^^^^^^
22 |             render_agent_menu,
23 |         )
   |
help: Remove unused import

F401 `agent_ui.render_agent_menu` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> Agent\test_agent_ui.py:22:13
   |
20 |             display_agent_status,
21 |             format_agent_output,
22 |             render_agent_menu,
   |             ^^^^^^^^^^^^^^^^^
23 |         )
24 |         print("Ô£à All UI functions imported successfully")
   |
help: Remove unused import

F841 Local variable `sig` is assigned to but never used
  --> Agent\test_agent_ui.py:70:5
   |
68 |     from agent_ui import check_api_keys_ui
69 |
70 |     sig = inspect.signature(check_api_keys_ui)
   |     ^^^
71 |
72 |     # Should return Dict[str, bool]
   |
help: Remove assignment to unused variable `sig`

F841 Local variable `sig` is assigned to but never used
  --> Agent\test_agent_ui.py:83:5
   |
81 |     from agent_ui import render_agent_menu
82 |
83 |     sig = inspect.signature(render_agent_menu)
   |     ^^^
84 |
85 |     # Should have no required parameters
   |
help: Remove assignment to unused variable `sig`

B007 Loop control variable `sensitive_part` not used within loop body
   --> Agent\test_api_key_security.py:102:19
    |
101 |     all_passed = True
102 |     for original, sensitive_part in critical_tests:
    |                   ^^^^^^^^^^^^^^
103 |         masked = mask_sensitive_data(original)
    |
help: Rename unused `sensitive_part` to `_sensitive_part`

B007 Loop control variable `keyword` not used within loop body
  --> Agent\test_call_protocol_complete.py:80:20
   |
79 |     handled_count = 0
80 |     for objection, keyword in objections:
   |                    ^^^^^^^
81 |         response = handle_objection(objection)
82 |         assert response is not None
   |
help: Rename unused `keyword` to `_keyword`

E402 Module level import not at top of file
  --> Agent\test_coding_tools_simple.py:13:1
   |
12 | # Direct import from module
13 | from agent.tools import coding_tools
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 |
15 | AGENT_WORKSPACE = coding_tools.AGENT_WORKSPACE
   |

F841 Local variable `temp_dir` is assigned to but never used
   --> Agent\test_end_to_end.py:212:47
    |
210 |         """Test handling of empty knowledge base (Requirement 3.5)"""
211 |         # Should not crash when knowledge base is empty
212 |         with tempfile.TemporaryDirectory() as temp_dir:
    |                                               ^^^^^^^^
213 |             # This should handle empty directory gracefully
214 |             pass
    |
help: Remove assignment to unused variable `temp_dir`

B007 Loop control variable `test_name` not used within loop body
   --> Agent\test_execution_tools.py:250:9
    |
248 |     ]
249 |
250 |     for test_name, test_func in tests:
    |         ^^^^^^^^^
251 |         try:
252 |             test_func()
    |
help: Rename unused `test_name` to `_test_name`

F841 Local variable `vector_store1` is assigned to but never used
   --> Agent\test_knowledge_base_complete.py:301:9
    |
299 |         import time
300 |         start_time = time.time()
301 |         vector_store1 = setup_knowledge_base(path=kb_path, db_path=index_path)
    |         ^^^^^^^^^^^^^
302 |         first_load_time = time.time() - start_time
303 |         print(f"Ô£ô First load completed in {first_load_time:.2f} seconds")
    |
help: Remove assignment to unused variable `vector_store1`

F841 Local variable `vector_store2` is assigned to but never used
   --> Agent\test_knowledge_base_complete.py:318:9
    |
316 |         time.sleep(0.1)  # Small delay to ensure time difference
317 |         start_time = time.time()
318 |         vector_store2 = setup_knowledge_base(path=kb_path, db_path=index_path)
    |         ^^^^^^^^^^^^^
319 |         second_load_time = time.time() - start_time
320 |         print(f"Ô£ô Second load completed in {second_load_time:.2f} seconds")
    |
help: Remove assignment to unused variable `vector_store2`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_logging_system.py:258:9
    |
256 |     try:
257 |         # Intentionally cause an error
258 |         result = 1 / 0
    |         ^^^^^^
259 |     except ZeroDivisionError:
260 |         logger.error("Division by zero error occurred", exc_info=True)
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
  --> Agent\test_performance.py:53:9
   |
52 |         start_time = time.time()
53 |         result = search_tool.invoke("Photovoltaik")
   |         ^^^^^^
54 |         search_time = time.time() - start_time
   |
help: Remove assignment to unused variable `result`

F841 Local variable `vector_store1` is assigned to but never used
  --> Agent\test_performance.py:72:9
   |
70 |         # First load
71 |         start_time = time.time()
72 |         vector_store1 = setup_knowledge_base()
   |         ^^^^^^^^^^^^^
73 |         first_load_time = time.time() - start_time
   |
help: Remove assignment to unused variable `vector_store1`

F841 Local variable `vector_store2` is assigned to but never used
  --> Agent\test_performance.py:77:9
   |
75 |         # Second load (should use cache)
76 |         start_time = time.time()
77 |         vector_store2 = setup_knowledge_base()
   |         ^^^^^^^^^^^^^
78 |         second_load_time = time.time() - start_time
   |
help: Remove assignment to unused variable `vector_store2`

F841 Local variable `vector_store` is assigned to but never used
   --> Agent\test_performance.py:124:13
    |
122 |         else:
123 |             start_time = time.time()
124 |             vector_store = setup_knowledge_base()
    |             ^^^^^^^^^^^^
125 |             init_time = time.time() - start_time
    |
help: Remove assignment to unused variable `vector_store`

E402 Module level import not at top of file
  --> Agent\test_project_templates.py:13:1
   |
11 | sys.path.insert(0, agent_dir)
12 |
13 | from agent.tools import coding_tools
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 |
15 | AGENT_WORKSPACE = coding_tools.AGENT_WORKSPACE
   |

F841 Local variable `result` is assigned to but never used
  --> Agent\test_project_templates.py:35:9
   |
33 |     setup_workspace()
34 |     try:
35 |         result = coding_tools.generate_project_structure.invoke({
   |         ^^^^^^
36 |             "project_name": "FlaskAPI",
37 |             "project_type": "flask_api"
   |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
  --> Agent\test_project_templates.py:65:9
   |
63 |     setup_workspace()
64 |     try:
65 |         result = coding_tools.generate_project_structure.invoke({
   |         ^^^^^^
66 |             "project_name": "FastAPIService",
67 |             "project_type": "fastapi_service"
   |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:99:9
    |
 97 |     setup_workspace()
 98 |     try:
 99 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
100 |             "project_name": "MyPackage",
101 |             "project_type": "python_package"
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:140:9
    |
138 |     setup_workspace()
139 |     try:
140 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
141 |             "project_name": "StreamlitDashboard",
142 |             "project_type": "streamlit_app"
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:176:9
    |
174 |     setup_workspace()
175 |     try:
176 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
177 |             "project_name": "DataAnalysis",
178 |             "project_type": "data_analysis"
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:210:9
    |
208 |     setup_workspace()
209 |     try:
210 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
211 |             "project_name": "TestProject",
212 |             "project_type": "flask_api"
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:237:9
    |
235 |     setup_workspace()
236 |     try:
237 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
238 |             "project_name": "TestProject",
239 |             "project_type": "flask_api"
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_project_templates.py:262:9
    |
260 |     setup_workspace()
261 |     try:
262 |         result = coding_tools.generate_project_structure.invoke({
    |         ^^^^^^
263 |             "project_name": "TestProject",
264 |             "project_type": "flask_api"
    |
help: Remove assignment to unused variable `result`

E402 Module level import not at top of file
  --> Agent\test_search_tools.py:21:1
   |
20 | # Import search tools directly
21 | from agent.tools.search_tools import tavily_search
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

E712 Avoid equality comparisons to `True`; use `should_retry(api_error_429):` for truth checks
   --> Agent\test_task_11_verification.py:118:12
    |
116 |     # Test should_retry
117 |     api_error_429 = APIError("Rate limit", status_code=429)
118 |     assert should_retry(api_error_429) == True
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
119 |     print("Ô£à should_retry works for retryable errors")
    |
help: Replace with `should_retry(api_error_429)`

E712 Avoid equality comparisons to `False`; use `not should_retry(config_error):` for false checks
   --> Agent\test_task_11_verification.py:122:12
    |
121 |     config_error = ConfigurationError("Missing key")
122 |     assert should_retry(config_error) == False
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
123 |     print("Ô£à should_retry works for non-retryable errors")
    |
help: Replace with `not should_retry(config_error)`

F401 `agent.logging_config.log_agent_reasoning` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> Agent\test_task_11_verification.py:165:13
    |
163 |         from agent.logging_config import (
164 |             get_logger,
165 |             log_agent_reasoning,
    |             ^^^^^^^^^^^^^^^^^^^
166 |             log_api_call,
167 |             log_docker_operation,
    |
help: Remove unused import

F401 `agent.logging_config.log_api_call` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> Agent\test_task_11_verification.py:166:13
    |
164 |             get_logger,
165 |             log_agent_reasoning,
166 |             log_api_call,
    |             ^^^^^^^^^^^^
167 |             log_docker_operation,
168 |             log_tool_execution,
    |
help: Remove unused import

F401 `agent.logging_config.log_docker_operation` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> Agent\test_task_11_verification.py:167:13
    |
165 |             log_agent_reasoning,
166 |             log_api_call,
167 |             log_docker_operation,
    |             ^^^^^^^^^^^^^^^^^^^^
168 |             log_tool_execution,
169 |         )
    |
help: Remove unused import

F401 `agent.logging_config.log_tool_execution` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> Agent\test_task_11_verification.py:168:13
    |
166 |             log_api_call,
167 |             log_docker_operation,
168 |             log_tool_execution,
    |             ^^^^^^^^^^^^^^^^^^
169 |         )
170 |         print("Ô£à All logging functions imported successfully")
    |
help: Remove unused import

W293 Blank line contains whitespace
  --> Agent\test_task_12_2_docker_security.py:32:1
   |
30 |     """
31 |     Test Requirement 5.2: Unprivileged user execution
32 |     
   | ^^^^
33 |     Verify that code runs as 'sandboxuser' (UID 1000), not root.
34 |     """
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_2_docker_security.py:89:1
   |
87 |     """
88 |     Test Requirement 5.3: Network isolation controls
89 |     
   | ^^^^
90 |     Verify that:
91 |     - Python execution has network disabled by default
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\test_task_12_2_docker_security.py:137:1
    |
135 |     """
136 |     Test Requirement 5.4: Resource limits
137 |     
    | ^^^^
138 |     Verify that containers have:
139 |     - Memory limits (512MB)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\test_task_12_2_docker_security.py:233:1
    |
231 |     """
232 |     Test Requirement 5.4: Automatic container cleanup
233 |     
    | ^^^^
234 |     Verify that containers are automatically removed after execution.
235 |     """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\test_task_12_2_docker_security.py:315:1
    |
313 |     """
314 |     Test Requirement 5.5: Timeout handling
315 |     
    | ^^^^
316 |     Verify that execution timeouts are enforced:
317 |     - Python: 30 seconds
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_security.py:25:1
   |
23 |     print("TEST: Task 12.1 - Input Validation")
24 |     print("="*70)
25 |     
   | ^^^^
26 |     from agent.security import (
27 |         validate_path,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_security.py:38:1
   |
36 |         InputValidationError
37 |     )
38 |     
   | ^^^^
39 |     tests_passed = 0
40 |     tests_failed = 0
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_security.py:41:1
   |
39 |     tests_passed = 0
40 |     tests_failed = 0
41 |     
   | ^^^^
42 |     # Test 1: Path validation
43 |     print("\n1. Testing path validation...")
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_security.py:50:1
   |
48 |         print("   Ô£ô Valid path accepted")
49 |         tests_passed += 1
50 |         
   | ^^^^^^^^
51 |         # Path traversal attempt
52 |         is_valid, path, error = validate_path("../../../etc/passwd", "/app/workspace")
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\test_task_12_security.py:56:1
   |
54 |         print("   Ô£ô Path traversal blocked")
55 |         tests_passed += 1
56 |         
   | ^^^^^^^^
57 |         # Absolute path outside workspace
58 |         is_valid, path, error = validate_path("/etc/passwd", "/app/workspace")
   |
help: Remove whitespace from blank line

invalid-syntax: Expected `except` or `finally` after `try` block
  --> Agent\test_task_12_security.py:60:13
   |
58 |         is_valid, path, error = validate_path("/etc/passwd", "/app/workspace")
59 |         assert not is_valid, "Absolute path outside workspace should be blocked"
60 |         prin
   |             ^
   |

W292 No newline at end of file
  --> Agent\test_task_12_security.py:60:13
   |
58 |         is_valid, path, error = validate_path("/etc/passwd", "/app/workspace")
59 |         assert not is_valid, "Absolute path outside workspace should be blocked"
60 |         prin
   |             ^
   |
help: Add trailing newline

F841 Local variable `test_code` is assigned to but never used
   --> Agent\test_testing_tools.py:115:5
    |
114 |     # Create a simple test file in the sandbox
115 |     test_code = """
    |     ^^^^^^^^^
116 | def test_simple_pass():
117 |     assert 1 + 1 == 2
    |
help: Remove assignment to unused variable `test_code`

F841 Local variable `intermediate_steps` is assigned to but never used
   --> Agent\test_ui_optimization.py:116:5
    |
114 |     mock_action.tool_input = {"param": "value"}
115 |
116 |     intermediate_steps = [
    |     ^^^^^^^^^^^^^^^^^^
117 |         (mock_action, "Test observation 1"),
118 |         (mock_action, "Test observation 2")
    |
help: Remove assignment to unused variable `intermediate_steps`

F841 Local variable `success_result` is assigned to but never used
   --> Agent\test_ui_optimization.py:141:5
    |
140 |     # Test successful result
141 |     success_result = {
    |     ^^^^^^^^^^^^^^
142 |         'output': 'Test output',
143 |         'success': True,
    |
help: Remove assignment to unused variable `success_result`

F841 Local variable `failed_result` is assigned to but never used
   --> Agent\test_ui_optimization.py:158:5
    |
157 |     # Test failed result
158 |     failed_result = {
    |     ^^^^^^^^^^^^^
159 |         'output': '',
160 |         'success': False,
    |
help: Remove assignment to unused variable `failed_result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_ui_optimization.py:187:5
    |
186 |     # Test with streaming enabled
187 |     result = {
    |     ^^^^^^
188 |         'output': 'Test output',
189 |         'success': True,
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_ui_optimization.py:214:5
    |
212 |     large_output = "x" * 10000
213 |
214 |     result = {
    |     ^^^^^^
215 |         'output': large_output,
216 |         'success': True,
    |
help: Remove assignment to unused variable `result`

F841 Local variable `result` is assigned to but never used
   --> Agent\test_ui_optimization.py:283:5
    |
281 |     ]
282 |
283 |     result = {
    |     ^^^^^^
284 |         'output': 'Test output',
285 |         'success': True,
    |
help: Remove assignment to unused variable `result`

W293 Blank line contains whitespace
  --> Agent\validate_config.py:29:1
   |
27 |     """
28 |     Validate that .env file exists and is properly configured.
29 |     
   | ^^^^
30 |     Returns:
31 |         Tuple of (is_valid: bool, message: str)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\validate_config.py:58:1
   |
56 |     """
57 |     Validate API keys are present and have correct format.
58 |     
   | ^^^^
59 |     Returns:
60 |         Tuple of (is_valid: bool, message: str)
   |
help: Remove whitespace from blank line

F841 Local variable `keys_status` is assigned to but never used
  --> Agent\validate_config.py:84:5
   |
83 |     # Check which keys are configured
84 |     keys_status = check_api_keys()
   |     ^^^^^^^^^^^
85 |     missing_keys = get_missing_keys()
   |
help: Remove assignment to unused variable `keys_status`

W293 Blank line contains whitespace
   --> Agent\validate_config.py:104:1
    |
102 |     """
103 |     Validate Docker is installed and running.
104 |     
    | ^^^^
105 |     Returns:
106 |         Tuple of (is_valid: bool, message: str)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\validate_config.py:137:1
    |
135 |     """
136 |     Validate Docker sandbox image exists.
137 |     
    | ^^^^
138 |     Returns:
139 |         Tuple of (is_valid: bool, message: str)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\validate_config.py:167:1
    |
165 |     """
166 |     Validate file permissions are secure.
167 |     
    | ^^^^
168 |     Returns:
169 |         Tuple of (is_valid: bool, message: str)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\validate_config.py:207:1
    |
205 |     """
206 |     Run all validation checks.
207 |     
    | ^^^^
208 |     Args:
209 |         verbose: Whether to print detailed output
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> Agent\validate_config.py:210:1
    |
208 |     Args:
209 |         verbose: Whether to print detailed output
210 |         
    | ^^^^^^^^
211 |     Returns:
212 |         True if all critical checks pass, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:23:1
   |
21 |     """
22 |     Check if an object has a docstring.
23 |     
   | ^^^^
24 |     Args:
25 |         obj: Object to check
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:27:1
   |
25 |         obj: Object to check
26 |         name: Name of the object
27 |         
   | ^^^^^^^^
28 |     Returns:
29 |         True if docstring exists and is not empty
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:41:1
   |
39 |     """
40 |     Check if a function has type hints.
41 |     
   | ^^^^
42 |     Args:
43 |         func: Function to check
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:45:1
   |
43 |         func: Function to check
44 |         name: Name of the function
45 |         
   | ^^^^^^^^
46 |     Returns:
47 |         True if function has type hints
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:71:1
   |
69 |     """
70 |     Verify documentation for a module.
71 |     
   | ^^^^
72 |     Args:
73 |         module_name: Name of module to verify
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> Agent\verify_documentation.py:74:1
   |
72 |     Args:
73 |         module_name: Name of module to verify
74 |         
   | ^^^^^^^^
75 |     Returns:
76 |         Dictionary with verification results
   |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
  --> Agent\verify_knowledge_base_setup.py:77:5
   |
76 |       # Change to Agent directory if needed
77 | /     if os.path.basename(os.getcwd()) != "Agent":
78 | |         if os.path.exists("Agent"):
   | |___________________________________^
79 |               os.chdir("Agent")
   |
help: Combine `if` statements using `and`

E402 Module level import not at top of file
  --> Agent\verify_task_6_1.py:15:1
   |
13 | sys.path.insert(0, agent_dir)
14 |
15 | from dotenv import load_dotenv
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 |
17 | load_dotenv()
   |

F401 `agent.tools.tavily_search` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> Agent\verify_task_6_1.py:42:50
   |
40 |     print("\nÔ£ô Check 2: Tool Export")
41 |     try:
42 |         from agent.tools import tavily_search as exported_tool
   |                                                  ^^^^^^^^^^^^^
43 |         print("  Ô£à tavily_search exported from agent.tools")
44 |         checks.append(True)
   |
help: Remove unused import: `agent.tools.tavily_search`

E402 Module level import not at top of file
  --> DEBUG_OFFER_DATA.py:10:1
   |
 9 | # Pr├╝fe, ob die rotier Produkt-IDs in den final_end_preis_formatted Platzhaltern verwendet werden
10 | from pdf_template_engine.placeholders import _alias_value, fmt_number
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
11 |
12 | # Simuliere analysis_results mit UNTERSCHIEDLICHEN Preisen
   |

W291 Trailing whitespace
  --> FINAL_FIX_VERIFICATION.py:21:25
   |
19 |   -> Holt DIE GLEICHEN Ergebnisse f├╝r ALLE Firmen!
20 |   -> PDF zeigt identische Preise unabh├ñngig von Rotation
21 | Ô£ô Fix: calc_results = {} 
   |                         ^
22 |   -> ZWINGT Neuberechnungen f├╝r JEDE Firma mit ihren rotierten Produkten!
   |
help: Remove trailing whitespace

E402 Module level import not at top of file
  --> FINAL_FIX_VERIFICATION.py:56:1
   |
54 | print("="*100)
55 |
56 | import inspect
   | ^^^^^^^^^^^^^^
57 |
58 | from database import init_db
   |

E402 Module level import not at top of file
  --> FINAL_FIX_VERIFICATION.py:58:1
   |
56 | import inspect
57 |
58 | from database import init_db
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
59 | from multi_offer_generator import MultiCompanyOfferGenerator
   |

E402 Module level import not at top of file
  --> FINAL_FIX_VERIFICATION.py:59:1
   |
58 | from database import init_db
59 | from multi_offer_generator import MultiCompanyOfferGenerator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
60 |
61 | init_db()
   |

W293 Blank line contains whitespace
  --> MASTER_FIX.py:8:1
   |
 6 |     1. In admin_panel.py oder gui.py importieren:
 7 |        from MASTER_FIX import apply_master_fix
 8 |     
   | ^^^^
 9 |     2. NACH perform_calculations() aufrufen:
10 |        apply_master_fix()
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> MASTER_FIX.py:11:1
   |
 9 |     2. NACH perform_calculations() aufrufen:
10 |        apply_master_fix()
11 |     
   | ^^^^
12 |     3. Fertig! Alle 55 Charts sind jetzt verf├╝gbar und kommen ins PDF!
13 | """
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> MASTER_FIX.py:23:1
   |
21 |     """
22 |     ­ƒÜÇ MASTER-FIX: Aktiviert ALLE Funktionen
23 |     
   | ^^^^
24 |     - Macht ALLE 55 Charts verf├╝gbar Ô£à
25 |     - Generiert fehlende Charts automatisch Ô£à  
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> MASTER_FIX.py:25:46
   |
24 |     - Macht ALLE 55 Charts verf├╝gbar Ô£à
25 |     - Generiert fehlende Charts automatisch Ô£à  
   |                                               ^^
26 |     - Patcht analysis_results Ô£à
27 |     - Bereitet PDF-Export vor Ô£à
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> MASTER_FIX.py:28:1
   |
26 |     - Patcht analysis_results Ô£à
27 |     - Bereitet PDF-Export vor Ô£à
28 |     
   | ^^^^
29 |     Args:
30 |         force_all_charts: Wenn True, werden ALLE 55 Charts erzwungen
   |
help: Remove whitespace from blank line

E722 Do not use bare `except`
  --> MASTER_FIX.py:82:13
   |
80 |                 import streamlit as st
81 |                 st.error(f"Fehler beim MASTER-FIX: {e}")
82 |             except:
   |             ^^^^^^
83 |                 pass
   |

W293 Blank line contains whitespace
   --> MASTER_FIX.py:172:1
    |
170 |     """
171 |     Wrapper f├╝r perform_calculations() - wendet Auto-Fix an
172 |     
    | ^^^^
173 |     Verwendung:
174 |         from MASTER_FIX import wrap_perform_calculations
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> MASTER_FIX.py:176:1
    |
174 |         from MASTER_FIX import wrap_perform_calculations
175 |         from calculations import perform_calculations as original_perform_calculations
176 |         
    | ^^^^^^^^
177 |         perform_calculations = wrap_perform_calculations(original_perform_calculations)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> MASTER_FIX.py:178:1
    |
177 |         perform_calculations = wrap_perform_calculations(original_perform_calculations)
178 |         
    | ^^^^^^^^
179 |         # Dann normal nutzen:
180 |         results = perform_calculations(...)
    |
help: Remove whitespace from blank line

SIM105 Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`
   --> MASTER_FIX.py:187:9
    |
186 |           # Auto-Fix anwenden
187 | /         try:
188 | |             quick_fix()
189 | |         except:
190 | |             pass
    | |________________^
191 |
192 |           return results
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(BaseException): ...`

E722 Do not use bare `except`
   --> MASTER_FIX.py:189:9
    |
187 |         try:
188 |             quick_fix()
189 |         except:
    |         ^^^^^^
190 |             pass
    |

RET504 Unnecessary assignment to `filtered_name` before `return` statement
  --> PDF_FIXES_TEST.py:34:16
   |
32 |         filtered_name = re.sub(r'\s+', ' ', filtered_name).strip()
33 |
34 |         return filtered_name
   |                ^^^^^^^^^^^^^
35 |
36 |     # Test-F├ñlle
   |
help: Remove unnecessary assignment

W291 Trailing whitespace
  --> admin_brand_logo_management_ui.py:59:74
   |
57 |             cursor = conn.cursor()
58 |             cursor.execute("""
59 |                 SELECT id, brand_name, description, website_url, country, 
   |                                                                          ^
60 |                        category, logo_width, logo_height, file_size_bytes, 
61 |                        created_at, updated_at
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> admin_brand_logo_management_ui.py:60:75
   |
58 |             cursor.execute("""
59 |                 SELECT id, brand_name, description, website_url, country, 
60 |                        category, logo_width, logo_height, file_size_bytes, 
   |                                                                           ^
61 |                        created_at, updated_at
62 |                 FROM brand_logos 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> admin_brand_logo_management_ui.py:62:33
   |
60 |                        category, logo_width, logo_height, file_size_bytes, 
61 |                        created_at, updated_at
62 |                 FROM brand_logos 
   |                                 ^
63 |                 ORDER BY brand_name
64 |             """)
   |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> admin_brand_logo_management_ui.py:189:13
    |
187 |                 cursor.execute("SELECT DISTINCT hersteller FROM products_complete WHERE hersteller != ''")
188 |                 manufacturers.update([row[0] for row in cursor.fetchall()])
189 |             except:
    |             ^^^^^^
190 |                 pass
    |

E722 Do not use bare `except`
   --> admin_brand_logo_management_ui.py:196:13
    |
194 |                 cursor.execute("SELECT DISTINCT manufacturer FROM products WHERE manufacturer != ''")
195 |                 manufacturers.update([row[0] for row in cursor.fetchall()])
196 |             except:
    |             ^^^^^^
197 |                 pass
    |

C414 Unnecessary `list()` call within `sorted()`
   --> admin_brand_logo_management_ui.py:199:20
    |
197 |                 pass
198 |
199 |             return sorted(list(manufacturers))
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
200 |         except Exception as e:
201 |             st.error(f"Fehler beim Laden der Hersteller: {e}")
    |
help: Remove the inner `list()` call

E722 Do not use bare `except`
   --> admin_brand_logo_management_ui.py:266:25
    |
264 |                             logo_bytes = base64.b64decode(logo_data['logo_base64'])
265 |                             st.image(logo_bytes, width=150, caption=brand['brand_name'])
266 |                         except:
    |                         ^^^^^^
267 |                             st.write(f"­ƒÅÀ´©Å {brand['brand_name']}")
268 |                     else:
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_brand_logo_management_ui.py:284:25
    |
282 |                               st.rerun()
283 |                       with col2:
284 | /                         if st.button("­ƒùæ´©Å", key=f"delete_{brand['id']}", help="L├Âschen"):
285 | |                             if admin.delete_brand_logo(brand['id']):
    | |____________________________________________________________________^
286 |                                   st.success("Logo gel├Âscht!")
287 |                                   st.rerun()
    |
help: Combine `if` statements using `and`

E722 Do not use bare `except`
   --> admin_brand_logo_management_ui.py:400:29
    |
398 | ÔÇª                         logo_bytes = base64.b64decode(full_brand_data['logo_base64'])
399 | ÔÇª                         st.image(logo_bytes, width=200, caption="Aktuelles Logo")
400 | ÔÇª                     except:
    |                       ^^^^^^
401 | ÔÇª                         st.write("Logo-Anzeige nicht m├Âglich")
    |

F841 Local variable `brands_with_logos` is assigned to but never used
   --> admin_brand_logo_management_ui.py:483:13
    |
481 |             st.metric("Hersteller in Produkten", len(manufacturers))
482 |         with col3:
483 |             brands_with_logos = len([b for b in brands if b['brand_name']])
    |             ^^^^^^^^^^^^^^^^^
484 |             missing_logos = len([m for m in manufacturers if not any(b['brand_name'] == m for b in brands)])
485 |             st.metric("Fehlende Logos", missing_logos)
    |
help: Remove assignment to unused variable `brands_with_logos`

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:366:1
    |
364 |         - Wenn aktiviert: Benutzer sehen beim Start den Willkommensbildschirm
365 |         - Wenn deaktiviert: Anwendung startet direkt
366 |         
    | ^^^^^^^^
367 |         **Login erzwingen (EMPFOHLEN):**
368 |         - Benutzer m├╝ssen sich mit Benutzername/Passwort anmelden
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:371:1
    |
369 |         - Schnellstart und Gastmodus werden deaktiviert
370 |         - H├Âhere Sicherheit
371 |         
    | ^^^^^^^^
372 |         **Registrierung erlauben:**
373 |         - Neue Benutzer k├Ânnen sich selbst registrieren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:376:1
    |
374 |         - Pflichtfelder: Benutzername, Passwort, Name, E-Mail, Telefon
375 |         - Optionale Felder: Adresse, Notizen
376 |         
    | ^^^^^^^^
377 |         **Firmeninfo bei Registrierung:**
378 |         - Benutzer w├ñhlen Kontotyp: Privatkunde oder Firmenkunde
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:381:1
    |
379 |         - Bei Firmenkunde: Firmenname ist Pflicht
380 |         - Zus├ñtzliche Felder: Position, Abteilung
381 |         
    | ^^^^^^^^
382 |         **Medien-Typen:**
383 |         - **Keine**: Nur Text wird angezeigt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:386:1
    |
384 |         - **Bild**: Zeigt ein Logo oder Bild an (PNG, JPG)
385 |         - **Video**: Eingebettetes YouTube-Video oder direkter Video-Link
386 |         
    | ^^^^^^^^
387 |         **Hauptbild & Seitenbilder (NEU):**
388 |         - **Hauptbild**: Gro├ƒes Logo in der Mitte (max. 5MB)
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> admin_intro_settings_ui.py:393:32
    |
391 |         - **Upload-Funktion**: Laden Sie Bilder direkt hoch - sie werden automatisch in `data/company_logos/` gespeichert
392 |         - **Bildformate**: PNG, JPG, JPEG werden unterst├╝tzt
393 |         - **Dateinamenmuster**: 
    |                                ^
394 |           - Hauptbild: `intro_main_[originaler_name]`
395 |           - Linkes Bild: `intro_left_[originaler_name]`
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:397:1
    |
395 |           - Linkes Bild: `intro_left_[originaler_name]`
396 |           - Rechtes Bild: `intro_right_[originaler_name]`
397 |         
    | ^^^^^^^^
398 |         **Legacy-Zugangsoptionen (NICHT EMPFOHLEN):**
399 |         - **Schnellstart**: Sofortiger Zugang ohne Login (UNSICHER)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:401:1
    |
399 |         - **Schnellstart**: Sofortiger Zugang ohne Login (UNSICHER)
400 |         - **Gastmodus**: Zugang ohne Registrierung (UNSICHER)
401 |         
    | ^^^^^^^^
402 |         **Texte anpassen:**
403 |         - HTML-Tags sind in der Beschreibung erlaubt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:405:1
    |
403 |         - HTML-Tags sind in der Beschreibung erlaubt
404 |         - Verwenden Sie `<br>` f├╝r Zeilenumbr├╝che
405 |         
    | ^^^^^^^^
406 |         **Standard-Login:**
407 |         - Benutzername: `admin`
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui.py:409:1
    |
407 |         - Benutzername: `admin`
408 |         - Passwort: `admin`
409 |         
    | ^^^^^^^^
410 |         **Tipps f├╝r Seitenbilder:**
411 |         - Verwenden Sie quadratische Bilder f├╝r beste Ergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:395:1
    |
393 |         st.markdown("""
394 |         ### ­ƒÄ» Schnellstart
395 |         
    | ^^^^^^^^
396 |         **So laden Sie Bilder hoch:**
397 |         1. W├ñhlen Sie "Bild" als Medien-Typ
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:402:1
    |
400 |         4. Klicken Sie "Einstellungen speichern" um alle ├änderungen zu ├╝bernehmen
401 |         5. Starten Sie die App neu (F5) um die ├änderungen zu sehen
402 |         
    | ^^^^^^^^
403 |         ### ­ƒô© Bildanforderungen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:404:1
    |
403 |         ### ­ƒô© Bildanforderungen
404 |         
    | ^^^^^^^^
405 |         **Hauptbild (Mitte):**
406 |         - Max. Gr├Â├ƒe: 5MB
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:409:1
    |
407 |         - Formate: PNG, JPG, JPEG
408 |         - Empfohlen: 800x800px oder gr├Â├ƒer, quadratisch
409 |         
    | ^^^^^^^^
410 |         **Seitenbilder (Links/Rechts):**
411 |         - Max. Gr├Â├ƒe: 2MB je Bild
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:414:1
    |
412 |         - Formate: PNG, JPG, JPEG
413 |         - Empfohlen: 300x300px oder 500x500px, quadratisch
414 |         
    | ^^^^^^^^
415 |         ### ­ƒÆí Tipps
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:416:1
    |
415 |         ### ­ƒÆí Tipps
416 |         
    | ^^^^^^^^
417 |         - Verwenden Sie transparente PNGs f├╝r beste Ergebnisse
418 |         - Quadratische Bilder sehen am besten aus
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:421:1
    |
419 |         - Bilder werden automatisch mit Float-Animation angezeigt
420 |         - Die Uploads speichern sofort - kein Warten auf "Speichern" n├Âtig
421 |         
    | ^^^^^^^^
422 |         ### ­ƒöÉ Sicherheit
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:423:1
    |
422 |         ### ­ƒöÉ Sicherheit
423 |         
    | ^^^^^^^^
424 |         **Empfohlen:**
425 |         - Ô£à "Login erzwingen" aktivieren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:428:1
    |
426 |         - Ô£à "Registrierung erlauben" f├╝r neue Benutzer
427 |         - ÔØî "Schnellstart" und "Gastmodus" deaktivieren
428 |         
    | ^^^^^^^^
429 |         ### ­ƒåÿ Problembehebung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:430:1
    |
429 |         ### ­ƒåÿ Problembehebung
430 |         
    | ^^^^^^^^
431 |         **Bild wird nicht angezeigt:**
432 |         1. Pr├╝fen Sie ob die Datei hochgeladen wurde (gr├╝nes H├ñkchen)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_intro_settings_ui_NEW.py:436:1
    |
434 |         3. Laden Sie die Seite neu (F5)
435 |         4. Pr├╝fen Sie den Pfad: `data/company_logos/intro_main_[dateiname]`
436 |         
    | ^^^^^^^^
437 |         **Uploads funktionieren nicht:**
438 |         - Pr├╝fen Sie die Dateigr├Â├ƒe (Hauptbild max. 5MB, Seitenbilder max. 2MB)
    |
help: Remove whitespace from blank line

F401 `brand_logo_db.upload_logo_from_file` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_logo_management_ui.py:23:9
   |
21 |         get_brand_logo,
22 |         list_all_brand_logos,
23 |         upload_logo_from_file,
   |         ^^^^^^^^^^^^^^^^^^^^^
24 |     )
25 |     LOGO_DB_AVAILABLE = True
   |
help: Remove unused import: `brand_logo_db.upload_logo_from_file`

F401 `product_db.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_logo_management_ui.py:32:28
   |
30 | # Import der Produkt-DB f├╝r Hersteller-Namen
31 | try:
32 |     from product_db import get_db_connection, list_products
   |                            ^^^^^^^^^^^^^^^^^
33 |     PRODUCT_DB_AVAILABLE = True
34 | except ImportError:
   |
help: Remove unused import: `product_db.get_db_connection`

C414 Unnecessary `list()` call within `sorted()`
  --> admin_logo_management_ui.py:49:16
   |
47 |             if brand:
48 |                 brands.add(brand)
49 |         return sorted(list(brands))
   |                ^^^^^^^^^^^^^^^^^^^^
50 |     except Exception as e:
51 |         st.error(f"Fehler beim Laden der Hersteller: {e}")
   |
help: Remove the inner `list()` call

W291 Trailing whitespace
  --> admin_logo_management_ui.py:97:80
   |
95 |             st.markdown(f"""
96 |             <div style="max-width: {max_width}px;">
97 |                 <img src="data:image/svg+xml;base64,{logo_data['logo_base64']}" 
   |                                                                                ^
98 |                      style="max-width: 100%; height: auto;" />
99 |             </div>
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_logo_management_ui.py:163:74
    |
161 |                     st.markdown(f"""
162 |                     <div style="max-width: 150px; border: 1px solid #ddd; padding: 10px;">
163 |                         <img src="data:image/svg+xml;base64,{base64_svg}" 
    |                                                                          ^
164 |                              style="max-width: 100%; height: auto;" />
165 |                     </div>
    |
help: Remove trailing whitespace

F841 Local variable `new_brand_name` is assigned to but never used
   --> admin_logo_management_ui.py:293:5
    |
292 |     # Neuen Namen eingeben
293 |     new_brand_name = st.text_input(
    |     ^^^^^^^^^^^^^^
294 |         "Hersteller-Name:",
295 |         value=logo_data['brand_name'],
    |
help: Remove assignment to unused variable `new_brand_name`

F841 Local variable `new_uploaded_file` is assigned to but never used
   --> admin_logo_management_ui.py:301:5
    |
299 |     # Neues Logo hochladen (optional)
300 |     st.write("**Neues Logo hochladen (optional):**")
301 |     new_uploaded_file = st.file_uploader(
    |     ^^^^^^^^^^^^^^^^^
302 |         "Neue Logo-Datei (leer lassen um aktuelles Logo zu behalten):",
303 |         type=['png', 'jpg', 'jpeg', 'svg', 'gif', 'webp'],
    |
help: Remove assignment to unused variable `new_uploaded_file`

E722 Do not use bare `except`
   --> admin_logo_management_ui.py:389:25
    |
387 |                             logo_bytes = base64.b64decode(logo_data['logo_base64'])
388 |                             st.image(logo_bytes, width=150, caption=brand['brand_name'])
389 |                         except:
    |                         ^^^^^^
390 |                             st.write(f"­ƒÅÀ´©Å {brand['brand_name']}")
391 |                     else:
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_logo_management_ui.py:407:25
    |
405 |                               st.rerun()
406 |                       with col2:
407 | /                         if st.button("­ƒùæ´©Å", key=f"delete_{brand['id']}", help="L├Âschen"):
408 | |                             if admin.delete_brand_logo(brand['id']):
    | |____________________________________________________________________^
409 |                                   st.success("Logo gel├Âscht!")
410 |                                   st.rerun()
    |
help: Combine `if` statements using `and`

F811 Redefinition of unused `render_logo_edit_section` from line 288
   --> admin_logo_management_ui.py:510:5
    |
510 | def render_logo_edit_section():
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ `render_logo_edit_section` redefined here
511 |     """Rendert die Sektion zum Bearbeiten von Logos"""
512 |     st.subheader("Ô£Å´©Å Logos bearbeiten")
    |
   ::: admin_logo_management_ui.py:288:5
    |
286 |                                 st.warning("ÔÜá´©Å Klicken Sie erneut zum Best├ñtigen!")
287 |
288 | def render_logo_edit_section(logo_id: int, logo_data: dict[str, Any]):
    |     ------------------------ previous definition of `render_logo_edit_section` here
289 |     """Rendert den Bearbeitungsmodus f├╝r ein Logo"""
290 |     st.subheader(f"Ô£Å´©Å Logo bearbeiten: {logo_data['brand_name']}")
    |
help: Remove definition: `render_logo_edit_section`

E722 Do not use bare `except`
   --> admin_logo_management_ui.py:547:25
    |
545 |                             logo_bytes = base64.b64decode(brand_data['logo_base64'])
546 |                             st.image(logo_bytes, width=200)
547 |                         except:
    |                         ^^^^^^
548 |                             st.error("Logo-Anzeige fehlgeschlagen")
    |

F821 Undefined name `datetime`
   --> admin_logo_management_ui.py:639:40
    |
637 |                     import json
638 |                     export_data = {
639 |                         'export_date': datetime.now().isoformat(),
    |                                        ^^^^^^^^
640 |                         'total_logos': len(brands),
641 |                         'brands': brands
    |

F821 Undefined name `datetime`
   --> admin_logo_management_ui.py:648:50
    |
646 |                         label="­ƒôÑ JSON herunterladen",
647 |                         data=json_str,
648 |                         file_name=f"logo_export_{datetime.now().strftime('%Y%m%d_%H%M%S')}.json",
    |                                                  ^^^^^^^^
649 |                         mime="application/json"
650 |                     )
    |

W291 Trailing whitespace
  --> admin_logo_positions_ui.py:59:67
   |
57 |         **Koordinatensystem:**
58 |         - **X**: Horizontale Position (0 = links, 595 = rechts f├╝r A4)
59 |         - **Y**: Vertikale Position (0 = unten, 842 = oben f├╝r A4) 
   |                                                                   ^
60 |         - **Breite/H├Âhe**: Gr├Â├ƒe des Logo-Bereichs in Punkten
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> admin_logo_positions_ui.py:61:1
   |
59 |         - **Y**: Vertikale Position (0 = unten, 842 = oben f├╝r A4) 
60 |         - **Breite/H├Âhe**: Gr├Â├ƒe des Logo-Bereichs in Punkten
61 |         
   | ^^^^^^^^
62 |         **Standard PDF Seite 4 Layout:**
63 |         - PV-Module: Rechts neben dem Modul-Text-Bereich
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> admin_logo_positions_ui.py:64:59
   |
62 |         **Standard PDF Seite 4 Layout:**
63 |         - PV-Module: Rechts neben dem Modul-Text-Bereich
64 |         - Wechselrichter: Rechts neben dem WR-Text-Bereich  
   |                                                           ^^
65 |         - Batteriespeicher: Rechts neben dem Speicher-Text-Bereich
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> admin_logo_positions_ui.py:66:1
   |
64 |         - Wechselrichter: Rechts neben dem WR-Text-Bereich  
65 |         - Batteriespeicher: Rechts neben dem Speicher-Text-Bereich
66 |         
   | ^^^^^^^^
67 |         **Tipps:**
68 |         - Logos werden proportional skaliert
   |
help: Remove whitespace from blank line

B007 Loop control variable `category` not used within loop body
   --> admin_logo_positions_ui.py:179:13
    |
178 |         table_data = []
179 |         for category, pos in edited_positions.items():
    |             ^^^^^^^^
180 |             table_data.append({
181 |                 'Kategorie': pos['label'],
    |
help: Rename unused `category` to `_category`

F841 Local variable `line` is assigned to but never used
   --> admin_logo_positions_ui.py:262:13
    |
260 | ÔÇª     # Hilfslinien f├╝r Headline-Zentren
261 | ÔÇª     for cat, yc in headline_centers.items():
262 | ÔÇª         line = ET.SubElement(svg, 'line', attrib={'x1':'0','x2':str(a4_w),'y1':str(a4_h-yc),'y2':str(a4_h-yc),'stroke':'#ddd','stroÔÇª
    |           ^^^^
263 | ÔÇª         ET.SubElement(svg, 'text', attrib={'x':'5','y':str(a4_h-yc-4),'font-size':'10','fill':'#888'}).text = f"{cat} center"
    |
help: Remove assignment to unused variable `line`

SIM113 Use `enumerate()` for index variable `i` in `for` loop
  --> admin_module_alias_mapping_ui.py:56:9
   |
54 |                 else:
55 |                     st.error("Konnte nicht speichern.")
56 |         i += 1
   |         ^^^^^^
57 | with st.form("alias_form"):
58 |     col1, col2 = st.columns(2)
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:72:119
   |
71 | def _dummy_load_admin_setting(key, default=None):
72 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
   |                                                                                                                       ^
73 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
74 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:73:36
   |
71 | def _dummy_load_admin_setting(key, default=None):
72 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
73 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
   |                                    ^
74 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
75 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:74:33
   |
72 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
73 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
74 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
   |                                 ^
75 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
76 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:75:32
   |
73 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
74 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
75 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
   |                                ^
76 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
77 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:76:39
   |
74 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
75 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
76 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
   |                                       ^
77 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
78 |     return default
   |

E701 Multiple statements on one line (colon)
  --> admin_panel.py:77:75
   |
75 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
76 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
77 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
   |                                                                           ^
78 |     return default
79 | def _dummy_save_admin_setting(key, value): return False
   |

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> admin_panel.py:191:21
    |
190 |     option_keys = [opt_key for opt_key, _ in options]
191 |     option_labels = {opt_key: opt_label for opt_key, opt_label in options}
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
192 |     default_key = option_keys[0]
    |
help: Rewrite using `dict()`

W293 Blank line contains whitespace
   --> admin_panel.py:221:1
    |
219 |             backdrop-filter: blur(10px);
220 |         }
221 |         
    | ^^^^^^^^
222 |         .admin-nav-item {
223 |             position: relative;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:229:1
    |
227 |             transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
228 |         }
229 |         
    | ^^^^^^^^
230 |         .admin-nav-item button {
231 |             width: 100%;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:245:1
    |
243 |             text-overflow: ellipsis;
244 |         }
245 |         
    | ^^^^^^^^
246 |         .admin-nav-item button:hover {
247 |             background: linear-gradient(90deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.2) 100%) !important;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:253:1
    |
251 |             box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
252 |         }
253 |         
    | ^^^^^^^^
254 |         .admin-nav-item.active button {
255 |             background: linear-gradient(90deg, rgba(59, 130, 246, 0.9) 0%, rgba(37, 99, 235, 0.85) 100%) !important;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:261:1
    |
259 |             box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
260 |         }
261 |         
    | ^^^^^^^^
262 |         .admin-nav-icon {
263 |             display: inline-block;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:269:1
    |
267 |             text-align: center;
268 |         }
269 |         
    | ^^^^^^^^
270 |         .admin-nav-label {
271 |             display: inline-block;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:274:1
    |
272 |             vertical-align: middle;
273 |         }
274 |         
    | ^^^^^^^^
275 |         .admin-nav-badge {
276 |             float: right;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_panel.py:286:1
    |
284 |             letter-spacing: 0.5px;
285 |         }
286 |         
    | ^^^^^^^^
287 |         .admin-nav-item.active .admin-nav-badge {
288 |             background: rgba(255, 255, 255, 0.25);
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_panel.py:316:13
    |
314 |           col1, = st.columns([1])
315 |           with col1:
316 | /             if st.button(
317 | |                 display_label,
318 | |                 key=f"{state_key}_{option_key}",
319 | |                 help=description,
320 | |                 use_container_width=True,
321 | |                 type="primary" if is_active else "secondary",
322 | |             ):
323 | |                 if option_key != current_selection:
    | |___________________________________________________^
324 |                       st.session_state[state_key] = option_key
325 |                       st.rerun()
    |
help: Combine `if` statements using `and`

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> admin_panel.py:360:21
    |
359 |     option_keys = [opt[0] for opt in options]
360 |     option_labels = {opt_key: opt_label for opt_key, opt_label in options}
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
361 |     default_key = option_keys[0]
    |
help: Rewrite using `dict()`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> admin_panel.py:465:17
    |
463 |               current_logo_b64_form_crud = company_data_for_form.get("logo_base64")
464 |               if current_logo_b64_form_crud and not uploaded_logo_file_ui_crud and st.session_state.editing_company_id:
465 | /                 try:
466 | |                     st.image(base64.b64decode(current_logo_b64_form_crud), caption=get_text_local("admin_current_logo_caption","AktueÔÇª
467 | |                 except Exception:
468 | |                     pass
    | |________________________^
469 |
470 |               c_street = st.text_input(get_text_local("admin_company_street_label", "Stra├ƒe & Nr."), value=company_data_for_form.get("sÔÇª
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

N806 Variable `DOCUMENT_TYPES_AVAILABLE_CRUD` in function should be lowercase
   --> admin_panel.py:560:17
    |
558 |                 st.subheader(get_text_local("admin_company_documents_header", "Dokumente f├╝r diese Firma verwalten"))
559 |
560 |                 DOCUMENT_TYPES_AVAILABLE_CRUD = ["AGB", "Datenschutz", "Vollmacht", "SEPA-Mandat", "Freistellungsbescheinigung", "SonÔÇª
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
561 |
562 |                 form_key_doc_upload_crud = f"company_document_upload_form_crud_{current_company_id_for_docs_crud}_v16_admin_definitiv"
    |

E702 Multiple statements on one line (semicolon)
   --> admin_panel.py:708:46
    |
706 |                     row_cols_crud[7].markdown("*(Std/Aktiv)*")
707 |             else:
708 |                 row_cols_crud[5].caption("-"); row_cols_crud[6].caption("-"); row_cols_crud[7].caption("-")
    |                                              ^
709 |             st.markdown("---")
    |

E702 Multiple statements on one line (semicolon)
   --> admin_panel.py:708:77
    |
706 |                     row_cols_crud[7].markdown("*(Std/Aktiv)*")
707 |             else:
708 |                 row_cols_crud[5].caption("-"); row_cols_crud[6].caption("-"); row_cols_crud[7].caption("-")
    |                                                                             ^
709 |             st.markdown("---")
    |

F821 Undefined name `os`
   --> admin_panel.py:869:48
    |
867 |                         old_ds_path = product_data_for_manual_form.get("datasheet_link_db_path")
868 |                         if old_ds_path:
869 |                             full_old_ds_path = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, old_ds_path)
    |                                                ^^
870 |                             if os.path.exists(full_old_ds_path):
871 |                                 try:
    |

F821 Undefined name `PRODUCT_DATASHEETS_BASE_DIR_ADMIN`
   --> admin_panel.py:869:61
    |
867 |                         old_ds_path = product_data_for_manual_form.get("datasheet_link_db_path")
868 |                         if old_ds_path:
869 |                             full_old_ds_path = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, old_ds_path)
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
870 |                             if os.path.exists(full_old_ds_path):
871 |                                 try:
    |

F821 Undefined name `os`
   --> admin_panel.py:870:32
    |
868 |                         if old_ds_path:
869 |                             full_old_ds_path = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, old_ds_path)
870 |                             if os.path.exists(full_old_ds_path):
    |                                ^^
871 |                                 try:
872 |                                     os.remove(full_old_ds_path)
    |

F821 Undefined name `os`
   --> admin_panel.py:872:37
    |
870 | ÔÇª                     if os.path.exists(full_old_ds_path):
871 | ÔÇª                         try:
872 | ÔÇª                             os.remove(full_old_ds_path)
    |                               ^^
873 | ÔÇª                             parent_dir_old_ds = os.path.dirname(full_old_ds_path)
874 | ÔÇª                             if os.path.exists(parent_dir_old_ds) and not os.listdir(parent_dir_old_ds):
    |

F821 Undefined name `os`
   --> admin_panel.py:873:57
    |
871 | ÔÇª                     try:
872 | ÔÇª                         os.remove(full_old_ds_path)
873 | ÔÇª                         parent_dir_old_ds = os.path.dirname(full_old_ds_path)
    |                                               ^^
874 | ÔÇª                         if os.path.exists(parent_dir_old_ds) and not os.listdir(parent_dir_old_ds):
875 | ÔÇª                             os.rmdir(parent_dir_old_ds)
    |

F821 Undefined name `os`
   --> admin_panel.py:874:40
    |
872 | ÔÇª                         os.remove(full_old_ds_path)
873 | ÔÇª                         parent_dir_old_ds = os.path.dirname(full_old_ds_path)
874 | ÔÇª                         if os.path.exists(parent_dir_old_ds) and not os.listdir(parent_dir_old_ds):
    |                              ^^
875 | ÔÇª                             os.rmdir(parent_dir_old_ds)
876 | ÔÇª                     except OSError as e_del_old:
    |

F821 Undefined name `os`
   --> admin_panel.py:874:82
    |
872 | ÔÇª                         os.remove(full_old_ds_path)
873 | ÔÇª                         parent_dir_old_ds = os.path.dirname(full_old_ds_path)
874 | ÔÇª                         if os.path.exists(parent_dir_old_ds) and not os.listdir(parent_dir_old_ds):
    |                                                                        ^^
875 | ÔÇª                             os.rmdir(parent_dir_old_ds)
876 | ÔÇª                     except OSError as e_del_old:
    |

F821 Undefined name `os`
   --> admin_panel.py:875:41
    |
873 | ÔÇª                         parent_dir_old_ds = os.path.dirname(full_old_ds_path)
874 | ÔÇª                         if os.path.exists(parent_dir_old_ds) and not os.listdir(parent_dir_old_ds):
875 | ÔÇª                             os.rmdir(parent_dir_old_ds)
    |                               ^^
876 | ÔÇª                     except OSError as e_del_old:
877 | ÔÇª                         st.warning(f"Altes Datenblatt konnte nicht gel├Âscht werden: {e_del_old}")
    |

F821 Undefined name `os`
   --> admin_panel.py:878:45
    |
876 | ÔÇª             except OSError as e_del_old:
877 | ÔÇª                 st.warning(f"Altes Datenblatt konnte nicht gel├Âscht werden: {e_del_old}")
878 | ÔÇª     prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(product_id_for_files))
    |                           ^^
879 | ÔÇª     os.makedirs(prod_specific_dir, exist_ok=True)
880 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
    |

F821 Undefined name `PRODUCT_DATASHEETS_BASE_DIR_ADMIN`
   --> admin_panel.py:878:58
    |
876 | ÔÇª             except OSError as e_del_old:
877 | ÔÇª                 st.warning(f"Altes Datenblatt konnte nicht gel├Âscht werden: {e_del_old}")
878 | ÔÇª     prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(product_id_for_files))
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
879 | ÔÇª     os.makedirs(prod_specific_dir, exist_ok=True)
880 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
    |

F821 Undefined name `os`
   --> admin_panel.py:879:25
    |
877 | ÔÇª                 st.warning(f"Altes Datenblatt konnte nicht gel├Âscht werden: {e_del_old}")
878 | ÔÇª     prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(product_id_for_files))
879 | ÔÇª     os.makedirs(prod_specific_dir, exist_ok=True)
    |       ^^
880 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
881 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
    |

F821 Undefined name `os`
   --> admin_panel.py:882:53
    |
880 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
881 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
882 | ÔÇª     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
    |                                   ^^
883 | ÔÇª     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
884 | ÔÇª     with open(disk_path, "wb") as f:
    |

F821 Undefined name `os`
   --> admin_panel.py:882:101
    |
880 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
881 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
882 | ÔÇª     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
    |                                                                                   ^^
883 | ÔÇª     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
884 | ÔÇª     with open(disk_path, "wb") as f:
    |

F821 Undefined name `os`
   --> admin_panel.py:883:37
    |
881 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
882 | ÔÇª     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
883 | ÔÇª     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
    |                   ^^
884 | ÔÇª     with open(disk_path, "wb") as f:
885 | ÔÇª         f.write(datasheet_content_bytes_to_write)
    |

F821 Undefined name `os`
   --> admin_panel.py:886:77
    |
884 |                         with open(disk_path, "wb") as f:
885 |                             f.write(datasheet_content_bytes_to_write)
886 |                         product_data_to_save_db["datasheet_link_db_path"] = os.path.join(str(product_id_for_files), final_safe_filenaÔÇª
    |                                                                             ^^
887 |
888 |                     if update_product_func(product_id_for_files, product_data_to_save_db):
    |

F821 Undefined name `os`
   --> admin_panel.py:914:49
    |
913 | ÔÇª     if datasheet_content_bytes_to_write and original_datasheet_filename_to_write:
914 | ÔÇª         prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(new_product_id))
    |                               ^^
915 | ÔÇª         os.makedirs(prod_specific_dir, exist_ok=True)
916 | ÔÇª         safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
    |

F821 Undefined name `PRODUCT_DATASHEETS_BASE_DIR_ADMIN`
   --> admin_panel.py:914:62
    |
913 | ÔÇª     if datasheet_content_bytes_to_write and original_datasheet_filename_to_write:
914 | ÔÇª         prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(new_product_id))
    |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
915 | ÔÇª         os.makedirs(prod_specific_dir, exist_ok=True)
916 | ÔÇª         safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
    |

F821 Undefined name `os`
   --> admin_panel.py:915:29
    |
913 | ÔÇª     if datasheet_content_bytes_to_write and original_datasheet_filename_to_write:
914 | ÔÇª         prod_specific_dir = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, str(new_product_id))
915 | ÔÇª         os.makedirs(prod_specific_dir, exist_ok=True)
    |           ^^
916 | ÔÇª         safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
917 | ÔÇª         timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
    |

F821 Undefined name `os`
   --> admin_panel.py:918:57
    |
916 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
917 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
918 | ÔÇª     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
    |                                   ^^
919 | ÔÇª     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
920 | ÔÇª     with open(disk_path, "wb") as f:
    |

F821 Undefined name `os`
   --> admin_panel.py:918:105
    |
916 | ÔÇª     safe_filename = "".join(c if c.isalnum() or c in ('.', '-', '_') else '_' for c in original_datasheet_filename_to_write)
917 | ÔÇª     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
918 | ÔÇª     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
    |                                                                                   ^^
919 | ÔÇª     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
920 | ÔÇª     with open(disk_path, "wb") as f:
    |

F821 Undefined name `os`
   --> admin_panel.py:919:41
    |
917 | ÔÇª                     timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
918 | ÔÇª                     final_safe_filename_ds = f"{os.path.splitext(safe_filename)[0]}_{timestamp}{os.path.splitext(safe_filename)[1]}"
919 | ÔÇª                     disk_path = os.path.join(prod_specific_dir, final_safe_filename_ds)
    |                                   ^^
920 | ÔÇª                     with open(disk_path, "wb") as f:
921 | ÔÇª                         f.write(datasheet_content_bytes_to_write)
    |

F821 Undefined name `os`
   --> admin_panel.py:922:48
    |
920 | ÔÇª                     with open(disk_path, "wb") as f:
921 | ÔÇª                         f.write(datasheet_content_bytes_to_write)
922 | ÔÇª                     relative_ds_path = os.path.join(str(new_product_id), final_safe_filename_ds)
    |                                          ^^
923 | ÔÇª                     if update_product_func(new_product_id, {"datasheet_link_db_path": relative_ds_path}):
924 | ÔÇª                         st.info(get_text_local("product_info_datasheet_saved","Produktdatenblatt gespeichert..."))
    |

F821 Undefined name `pa_list_attributes`
   --> admin_panel.py:937:24
    |
935 | ÔÇª     st.markdown("---")
936 | ÔÇª     with st.expander(get_text_local("product_attributes_expander_title", "Erweiterte Eigenschaften / Attribute"), expanded=False):
937 | ÔÇª         if not pa_list_attributes or not pa_upsert_attribute or not pa_delete_attribute:
    |                  ^^^^^^^^^^^^^^^^^^
938 | ÔÇª             st.warning(get_text_local("product_attributes_module_missing", "Attribut-Module nicht verf├╝gbar."))
939 | ÔÇª         else:
    |

F821 Undefined name `pa_upsert_attribute`
   --> admin_panel.py:937:50
    |
935 | ÔÇª     st.markdown("---")
936 | ÔÇª     with st.expander(get_text_local("product_attributes_expander_title", "Erweiterte Eigenschaften / Attribute"), expanded=False):
937 | ÔÇª         if not pa_list_attributes or not pa_upsert_attribute or not pa_delete_attribute:
    |                                            ^^^^^^^^^^^^^^^^^^^
938 | ÔÇª             st.warning(get_text_local("product_attributes_module_missing", "Attribut-Module nicht verf├╝gbar."))
939 | ÔÇª         else:
    |

F821 Undefined name `pa_delete_attribute`
   --> admin_panel.py:937:77
    |
935 | ÔÇª     st.markdown("---")
936 | ÔÇª     with st.expander(get_text_local("product_attributes_expander_title", "Erweiterte Eigenschaften / Attribute"), expanded=False):
937 | ÔÇª         if not pa_list_attributes or not pa_upsert_attribute or not pa_delete_attribute:
    |                                                                       ^^^^^^^^^^^^^^^^^^^
938 | ÔÇª             st.warning(get_text_local("product_attributes_module_missing", "Attribut-Module nicht verf├╝gbar."))
939 | ÔÇª         else:
    |

F821 Undefined name `pa_list_attributes`
   --> admin_panel.py:944:34
    |
943 | ÔÇª     # Liste vorhandener Attribute
944 | ÔÇª     attrs_list = pa_list_attributes(current_pid_attr) or []
    |                    ^^^^^^^^^^^^^^^^^^
945 | ÔÇª     if not attrs_list:
946 | ÔÇª         st.info(get_text_local("product_attributes_none_info", "Keine Attribute vorhanden. Du kannst unten welche hinzuf├╝gen."))
    |

F821 Undefined name `pa_delete_attribute`
   --> admin_panel.py:958:40
    |
956 | ÔÇª     if cols_a[4].button("", key=del_key, help=get_text_local("product_attributes_delete_help", "Attribut l├Âschen")):
957 | ÔÇª         try:
958 | ÔÇª             if pa_delete_attribute(int(a['id'])):
    |                  ^^^^^^^^^^^^^^^^^^^
959 | ÔÇª                 st.success(get_text_local("product_attributes_deleted_success", "Attribut gel├Âscht."))
960 | ÔÇª                 set_current_page("admin")
    |

F821 Undefined name `pa_upsert_attribute`
   --> admin_panel.py:987:44
    |
985 | ÔÇª     else:
986 | ÔÇª         try:
987 | ÔÇª             saved_id = pa_upsert_attribute(current_pid_attr, current_category_attr, a_key.strip(), a_val.strip() if isinstance(a_vaÔÇª
    |                          ^^^^^^^^^^^^^^^^^^^
988 | ÔÇª             if saved_id:
989 | ÔÇª                 st.success(get_text_local("product_attributes_upsert_success", "Attribut gespeichert."))
    |

F821 Undefined name `os`
    --> admin_panel.py:1000:43
     |
 998 | ÔÇª     if st.button(get_text_local("product_button_delete_current_datasheet","Aktuelles Datenblatt l├Âschen"), key=f"delete_datasheet_ÔÇª
 999 | ÔÇª         datasheet_to_delete_path_val = product_data_for_manual_form.get("datasheet_link_db_path")
1000 | ÔÇª         full_path_to_delete_val = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, datasheet_to_delete_path_val)
     |                                     ^^
1001 | ÔÇª         file_deleted_fs_val = False
1002 | ÔÇª         if os.path.exists(full_path_to_delete_val):
     |

F821 Undefined name `PRODUCT_DATASHEETS_BASE_DIR_ADMIN`
    --> admin_panel.py:1000:56
     |
 998 | ÔÇª     if st.button(get_text_local("product_button_delete_current_datasheet","Aktuelles Datenblatt l├Âschen"), key=f"delete_datasheet_ÔÇª
 999 | ÔÇª         datasheet_to_delete_path_val = product_data_for_manual_form.get("datasheet_link_db_path")
1000 | ÔÇª         full_path_to_delete_val = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, datasheet_to_delete_path_val)
     |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1001 | ÔÇª         file_deleted_fs_val = False
1002 | ÔÇª         if os.path.exists(full_path_to_delete_val):
     |

F821 Undefined name `os`
    --> admin_panel.py:1002:20
     |
1000 |                 full_path_to_delete_val = os.path.join(PRODUCT_DATASHEETS_BASE_DIR_ADMIN, datasheet_to_delete_path_val)
1001 |                 file_deleted_fs_val = False
1002 |                 if os.path.exists(full_path_to_delete_val):
     |                    ^^
1003 |                     try:
1004 |                         os.remove(full_path_to_delete_val)
     |

F821 Undefined name `os`
    --> admin_panel.py:1004:25
     |
1002 |                 if os.path.exists(full_path_to_delete_val):
1003 |                     try:
1004 |                         os.remove(full_path_to_delete_val)
     |                         ^^
1005 |                         parent_dir_ds_val = os.path.dirname(full_path_to_delete_val)
1006 |                         if os.path.exists(parent_dir_ds_val) and not os.listdir(parent_dir_ds_val):
     |

F821 Undefined name `os`
    --> admin_panel.py:1005:45
     |
1003 |                     try:
1004 |                         os.remove(full_path_to_delete_val)
1005 |                         parent_dir_ds_val = os.path.dirname(full_path_to_delete_val)
     |                                             ^^
1006 |                         if os.path.exists(parent_dir_ds_val) and not os.listdir(parent_dir_ds_val):
1007 |                             os.rmdir(parent_dir_ds_val)
     |

F821 Undefined name `os`
    --> admin_panel.py:1006:28
     |
1004 |                         os.remove(full_path_to_delete_val)
1005 |                         parent_dir_ds_val = os.path.dirname(full_path_to_delete_val)
1006 |                         if os.path.exists(parent_dir_ds_val) and not os.listdir(parent_dir_ds_val):
     |                            ^^
1007 |                             os.rmdir(parent_dir_ds_val)
1008 |                         file_deleted_fs_val = True
     |

F821 Undefined name `os`
    --> admin_panel.py:1006:70
     |
1004 |                         os.remove(full_path_to_delete_val)
1005 |                         parent_dir_ds_val = os.path.dirname(full_path_to_delete_val)
1006 |                         if os.path.exists(parent_dir_ds_val) and not os.listdir(parent_dir_ds_val):
     |                                                                      ^^
1007 |                             os.rmdir(parent_dir_ds_val)
1008 |                         file_deleted_fs_val = True
     |

F821 Undefined name `os`
    --> admin_panel.py:1007:29
     |
1005 |                         parent_dir_ds_val = os.path.dirname(full_path_to_delete_val)
1006 |                         if os.path.exists(parent_dir_ds_val) and not os.listdir(parent_dir_ds_val):
1007 |                             os.rmdir(parent_dir_ds_val)
     |                             ^^
1008 |                         file_deleted_fs_val = True
1009 |                     except OSError as e_del_ds_f:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1022:9
     |
1020 |   ÔÇª                     st.error(get_text_local("product_error_removing_datasheet_path","Fehler beim Entfernen des Datenblatt-Pfads aus der DB."))
1021 |   ÔÇª
1022 | / ÔÇª     if st.session_state.product_to_edit_id_manual:
1023 | | ÔÇª         if st.button(get_text_local("admin_finish_edit_product_button", "Produktbearbeitung abschlie├ƒen/Neues Produkt"), key=f"finish_edit_prod_btn_manual_man{WIDGET_KEY_SUFFIX}_key_end"):
     | |______________________________________________________________________________________________________________________________________________________________________________________________^
1024 |   ÔÇª             st.session_state.product_to_edit_id_manual = None
1025 |   ÔÇª             set_current_page("admin")
     |
help: Combine `if` statements using `and`

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
    --> admin_panel.py:1064:13
     |
1062 |               price_euro_val = prod_item_in_list.get('price_euro')
1063 |               price_display_val = 0.0
1064 | /             try:
1065 | |                 price_display_val = float(price_euro_val if price_euro_val is not None else 0.0)
1066 | |             except (ValueError, TypeError):
1067 | |                 pass
     | |____________________^
1068 |               list_cols_r[5].caption(f"{price_display_val:.2f}")
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1070:13
     |
1068 |               list_cols_r[5].caption(f"{price_display_val:.2f}")
1069 |
1070 | /             if list_cols_r[6].button("", key=f"edit_prod_list_btn_man_final_key_admin_item_{key_suffix_in_list}", help="Produkt bearÔÇª
1071 | |                 if prod_id_in_list is not None:
     | |_______________________________________________^
1072 |                       st.session_state.product_to_edit_id_manual = prod_id_in_list
1073 |                       set_current_page("admin")
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1076:13
     |
1075 |   ÔÇª     confirm_del_key_prod_item_list_final = f"confirm_del_prod_item_list_man_final_key_admin_item_{key_suffix_in_list}"
1076 | / ÔÇª     if list_cols_r[7].button("", key=f"delete_prod_list_btn_man_final_key_admin_item_{key_suffix_in_list}", help="Produkt l├Âschen"ÔÇª
1077 | | ÔÇª         if prod_id_in_list is not None:
     | |_________________________________________^
1078 |   ÔÇª             if st.session_state.get(confirm_del_key_prod_item_list_final, False):
1079 |   ÔÇª                 if delete_product_func(prod_id_in_list):
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1108:50
     |
1106 |     current_global_constants = load_admin_setting_func('global_constants', {})
1107 |     temp_merged_constants = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
1108 |     if isinstance(current_global_constants, dict): temp_merged_constants.update(current_global_constants)
     |                                                  ^
1109 |     current_global_constants = temp_merged_constants
1110 |     with st.form(f"global_constants_form{WIDGET_KEY_SUFFIX}"):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1121:27
     |
1119 | ÔÇª         new_maint_var = st.number_input(label=get_text_local("maintenance_variable_eur_per_kwp_pa", "Variable Wartungskosten (Ôé¼ prÔÇª
1120 | ÔÇª         new_alt_invest_interest = st.number_input(label=get_text_local("alternative_investment_interest_rate_percent", "VergleichsÔÇª
1121 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_yield_settings_header", "Ertragseinstellungen f├╝r Photovoltaik-Anlage"))
     |                         ^
1122 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1123 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1123:24
     |
1121 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_yield_settings_header", "Ertragseinstellungen f├╝r Photovoltaik-Anlage"))
1122 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1123 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
     |                      ^
1124 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1125 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1124:24
     |
1122 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1123 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
1124 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
     |                      ^
1125 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
1126 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1125:27
     |
1123 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
1124 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1125 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
     |                         ^
1126 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
1127 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1125:142
     |
1123 | ÔÇªxt_local("global_yield_adjustment_percent", "Globale Ertragsanpassung (%)"), value=float(current_global_constants.get('global_yieldÔÇª
1124 | ÔÇªocal("reference_specific_yield_pr", "Referenz-Spezialertrag f├╝r PR (kWh/kWp/a)"), value=float(current_global_constants.get('referenÔÇª
1125 | ÔÇªields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/a)...")); st.caption(get_text_local("admin_orientation_yields_info_v2", "BÔÇª
     |                                                                   ^
1126 | ÔÇª_yields_by_orientation_tilt', {}); default_yield_map_template = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_orientation_ÔÇª
1127 | ÔÇªNordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tilts_ordered = ["0", "15", "30", "45", "60"]
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1126:110
     |
1124 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1125 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
1126 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
     |                                                                                                            ^
1127 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1128 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1126:214
     |
1124 | ÔÇªkWp/a)"), value=float(current_global_constants.get('reference_specific_yield_pr', 1100.0)), key=f"gc_ref_yield_pr{WIDGET_KEY_SUFFIXÔÇª
1125 | ÔÇªption(get_text_local("admin_orientation_yields_info_v2", "Basis-Ertragswerte..."))
1126 | ÔÇª_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_orientation_tilt']; updated_specific_yields_map = {}
     |                                                                   ^
1127 | ÔÇª["0", "15", "30", "45", "60"]
1128 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1127:131
     |
1125 | ÔÇªientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/a)...")); st.caption(get_text_local("admin_orientation_yields_iÔÇª
1126 | ÔÇªt('specific_yields_by_orientation_tilt', {}); default_yield_map_template = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_oÔÇª
1127 | ÔÇª, "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tilts_ordered = ["0", "15", "30", "45", "60"]
     |                                                                   ^
1128 | ÔÇª header_cols[0].markdown("**Ausrichtung**")
1129 | ÔÇªols[i+1].markdown(f"**{tilt_val_str}┬░**")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1128:65
     |
1126 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
1127 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1128 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
     |                                                               ^
1129 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1130 | ÔÇª     for ori in orientations_ordered:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1129:56
     |
1127 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1128 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
1129 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
     |                                                      ^
1130 | ÔÇª     for ori in orientations_ordered:
1131 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1131:66
     |
1129 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1130 | ÔÇª     for ori in orientations_ordered:
1131 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |                                                                ^
1132 | ÔÇª         for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1133 | ÔÇª             current_val_for_field = 900.0
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1131:100
     |
1129 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1130 | ÔÇª     for ori in orientations_ordered:
1131 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |                                                                                                  ^
1132 | ÔÇª         for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1133 | ÔÇª             current_val_for_field = 900.0
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1134:132
     |
1132 | ÔÇª     for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1133 | ÔÇª         current_val_for_field = 900.0
1134 | ÔÇª         if isinstance(current_specific_yields_map.get(ori), dict) and tilt_val_str_loop in current_specific_yields_map[ori]: curreÔÇª
     |                                                                                                                              ^
1135 | ÔÇª         elif isinstance(default_yield_map_template.get(ori), dict) and tilt_val_str_loop in default_yield_map_template[ori]: curreÔÇª
1136 | ÔÇª         updated_specific_yields_map[ori][tilt_val_str_loop] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loop}", ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1135:132
     |
1133 | ÔÇª
1134 | ÔÇª, dict) and tilt_val_str_loop in current_specific_yields_map[ori]: current_val_for_field = float(current_specific_yields_map[ori][tÔÇª
1135 | ÔÇª), dict) and tilt_val_str_loop in default_yield_map_template[ori]: current_val_for_field = float(default_yield_map_template[ori][tiÔÇª
     |                                                                   ^
1136 | ÔÇª] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loop}", value=current_val_for_field, min_value=0.0, max_value=2000.ÔÇª
1137 | ÔÇªilt'] = updated_specific_yields_map
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1138:27
     |
1136 | ÔÇª             updated_specific_yields_map[ori][tilt_val_str_loop] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loopÔÇª
1137 | ÔÇª     current_global_constants['specific_yields_by_orientation_tilt'] = updated_specific_yields_map
1138 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_multiyear_settings_header", "Parameter f├╝r Mehrjahressimulation"))
     |                         ^
1139 | ÔÇª     col_my1, col_my2 = st.columns(2)
1140 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1140:21
     |
1138 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_multiyear_settings_header", "Parameter f├╝r Mehrjahressimulation"))
1139 | ÔÇª     col_my1, col_my2 = st.columns(2)
1140 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
     |                   ^
1141 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
1142 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1141:21
     |
1139 | ÔÇª     col_my1, col_my2 = st.columns(2)
1140 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
1141 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
     |                   ^
1142 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
1143 | ÔÇª         current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent']ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:72
     |
1141 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
1142 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
1143 | ÔÇª         current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent']ÔÇª
     |                                                                      ^
1144 | ÔÇª         for key_gc, default_val_gc in _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.items():
1145 | ÔÇª             if key_gc not in current_global_constants: current_global_constants[key_gc] = default_val_gc
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:153
     |
1141 | ÔÇªal("electricity_price_increase_annual_percent", "Strompreissteigerung (% p.a.)"), value=float(current_global_constants.get('electriÔÇª
1142 | ÔÇªton", "Alle Wirtschafts- und Ertragsparameter speichern")):
1143 | ÔÇª_constants['annual_module_degradation_percent'] = new_degradation; current_global_constants['maintenance_fixed_eur_pa'] = new_maintÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª_gc] = default_val_gc
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:231
     |
1141 | ÔÇª"), value=float(current_global_constants.get('electricity_price_increase_annual_percent', 3.0)), min_value=0.0, max_value=20.0, steÔÇª
1142 | ÔÇª
1143 | ÔÇªbal_constants['maintenance_fixed_eur_pa'] = new_maintenance_fixed; current_global_constants['inflation_rate_percent'] = new_inflatiÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:299
     |
1141 | ÔÇªease_annual_percent', 3.0)), min_value=0.0, max_value=20.0, step=0.1, format="%.2f", key=f"gc_elec_increase{WIDGET_KEY_SUFFIX}")
1142 | ÔÇª
1143 | ÔÇªurrent_global_constants['inflation_rate_percent'] = new_inflation; current_global_constants['maintenance_increase_percent_pa'] = neÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:387
     |
1141 | ÔÇª=f"gc_elec_increase{WIDGET_KEY_SUFFIX}")
1142 | ÔÇª
1143 | ÔÇªnts['maintenance_increase_percent_pa'] = new_maintenance_increase; current_global_constants['maintenance_variable_eur_per_kwp_pa'] ÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:468
     |
1141 | ÔÇª
1142 | ÔÇª
1143 | ÔÇª_constants['maintenance_variable_eur_per_kwp_pa'] = new_maint_var; current_global_constants['alternative_investment_interest_rate_pÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:568
     |
1141 | ÔÇª
1142 | ÔÇª
1143 | ÔÇªtive_investment_interest_rate_percent'] = new_alt_invest_interest; current_global_constants['global_yield_adjustment_percent'] = neÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:652
     |
1141 | ÔÇª
1142 | ÔÇª
1143 | ÔÇªnstants['global_yield_adjustment_percent'] = new_global_yield_adj; current_global_constants['reference_specific_yield_pr'] = new_reÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:728
     |
1141 | ÔÇª
1142 | ÔÇª
1143 | ÔÇªlobal_constants['reference_specific_yield_pr'] = new_ref_yield_pr; current_global_constants['simulation_period_years'] = new_sim_peÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1143:798
     |
1141 | ÔÇª
1142 | ÔÇª
1143 | ÔÇªrent_global_constants['simulation_period_years'] = new_sim_period; current_global_constants['electricity_price_increase_annual_percÔÇª
     |                                                                   ^
1144 | ÔÇª
1145 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1145:58
     |
1143 | ÔÇª     current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent'] = nÔÇª
1144 | ÔÇª     for key_gc, default_val_gc in _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.items():
1145 | ÔÇª         if key_gc not in current_global_constants: current_global_constants[key_gc] = default_val_gc
     |                                                    ^
1146 | ÔÇª         elif isinstance(default_val_gc, dict) and isinstance(current_global_constants.get(key_gc), dict):
1147 | ÔÇª             for sub_key_gc, sub_default_val_gc in default_val_gc.items():
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1148:78
     |
1146 | ÔÇª         elif isinstance(default_val_gc, dict) and isinstance(current_global_constants.get(key_gc), dict):
1147 | ÔÇª             for sub_key_gc, sub_default_val_gc in default_val_gc.items():
1148 | ÔÇª                 if sub_key_gc not in current_global_constants[key_gc]: current_global_constants[key_gc][sub_key_gc] = sub_default_ÔÇª
     |                                                                        ^
1149 | ÔÇª     if save_admin_setting_func('global_constants', current_global_constants):
1150 | ÔÇª         st.success(get_text_local("admin_economic_yield_settings_save_success", "Einstellungen erfolgreich gespeichert."))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1152:17
     |
1150 |                 st.success(get_text_local("admin_economic_yield_settings_save_success", "Einstellungen erfolgreich gespeichert."))
1151 |                 set_current_page("admin")
1152 |             else: st.error(get_text_local("admin_economic_yield_settings_save_error", "Fehler beim Speichern der Einstellungen."))
     |                 ^
1153 |
1154 |     # Abschnitt: Cheat-Amortisationszeit
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1181:59
     |
1179 |     st.info(get_text_local("admin_tariff_management_info", "Verwalten Sie hier die Einspeiseverg├╝tungen..."))
1180 |     current_feed_in_tariffs_block = load_admin_setting_func('feed_in_tariffs', _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy())
1181 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
     |                                                           ^
1182 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
1183 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1182:116
     |
1180 |     current_feed_in_tariffs_block = load_admin_setting_func('feed_in_tariffs', _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy())
1181 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
1182 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
     |                                                                                                                    ^
1183 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
1184 |     form_key_parts = f"tariff_form_parts{WIDGET_KEY_SUFFIX}"
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1183:114
     |
1181 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
1182 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
1183 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
     |                                                                                                                  ^
1184 |     form_key_parts = f"tariff_form_parts{WIDGET_KEY_SUFFIX}"
1185 |     st.markdown(f"#### {get_text_local('admin_partial_feed_in_header', 'Teileinspeisung')}")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1190:70
     |
1188 | ÔÇª     submitted_parts = st.form_submit_button(get_text_local("admin_save_tariffs_button_parts", "Tarife f├╝r Teileinspeisung speicherÔÇª
1189 | ÔÇª     if submitted_parts:
1190 | ÔÇª         final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
     |                                                                    ^
1191 | ÔÇª         for item_tariff in final_processed_tariffs_parts:
1192 | ÔÇª             if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1192:86
     |
1190 |             final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
1191 |             for item_tariff in final_processed_tariffs_parts:
1192 |                 if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |                                                                                      ^
1193 |             if final_valid_parts_form:
1194 |                 current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1192:118
     |
1190 |             final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
1191 |             for item_tariff in final_processed_tariffs_parts:
1192 |                 if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |                                                                                                                      ^
1193 |             if final_valid_parts_form:
1194 |                 current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1196:123
     |
1194 | ÔÇª         current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
1195 | ÔÇª         if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1196 | ÔÇª             st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); set_current_paÔÇª
     |                                                                                                                     ^
1197 | ÔÇª         else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1198 | ÔÇª     else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1197:21
     |
1195 |                 if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1196 |                     st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); set_currÔÇª
1197 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
     |                     ^
1198 |             else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
1199 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1198:17
     |
1196 |                     st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); set_currÔÇª
1197 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1198 |             else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
     |                 ^
1199 |     st.markdown("---")
1200 |     form_key_full = f"tariff_form_full{WIDGET_KEY_SUFFIX}"
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1206:68
     |
1204 | ÔÇª     submitted_full = st.form_submit_button(get_text_local("admin_save_tariffs_button_full", "Tarife f├╝r Volleinspeisung speichern"ÔÇª
1205 | ÔÇª     if submitted_full:
1206 | ÔÇª         final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
     |                                                                  ^
1207 | ÔÇª         for item_tariff_f in final_processed_tariffs_full:
1208 | ÔÇª             if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1208:90
     |
1206 |             final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
1207 |             for item_tariff_f in final_processed_tariffs_full:
1208 |                 if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |                                                                                          ^
1209 |             if final_valid_full_form:
1210 |                 current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1208:121
     |
1206 |             final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
1207 |             for item_tariff_f in final_processed_tariffs_full:
1208 |                 if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |                                                                                                                         ^
1209 |             if final_valid_full_form:
1210 |                 current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1212:122
     |
1210 | ÔÇª         current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
1211 | ÔÇª         if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1212 | ÔÇª             st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); set_current_pagÔÇª
     |                                                                                                                    ^
1213 | ÔÇª         else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1214 | ÔÇª     else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1213:21
     |
1211 |                 if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1212 |                     st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); set_curreÔÇª
1213 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
     |                     ^
1214 |             else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
1215 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1214:17
     |
1212 |                     st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); set_curreÔÇª
1213 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1214 |             else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
     |                 ^
1215 |     st.markdown("---")
     |

E722 Do not use bare `except`
    --> admin_panel.py:1248:17
     |
1246 |                 try:
1247 |                     overrides = json.loads(overrides_json)
1248 |                 except:
     |                 ^^^^^^
1249 |                     overrides = {}
1250 |             else:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1284:17
     |
1283 |                   # Theme speichern wenn ge├ñndert
1284 | /                 if selected_key != active_key:
1285 | |                     if save_admin_setting_func('app_theme_key', selected_key):
     | |______________________________________________________________________________^
1286 |                           st.session_state.active_theme_key = selected_key
1287 |                           st.session_state["_active_theme_payload"] = theme_manager.get_theme_payload_json(selected_key)
     |
help: Combine `if` statements using `and`

F841 Local variable `sidebar_config` is assigned to but never used
    --> admin_panel.py:1300:17
     |
1298 |                 theme_def = themes[selected_key]
1299 |                 base_config = dict(theme_def.config) if theme_def.config else {}
1300 |                 sidebar_config = dict(theme_def.sidebar_config) if theme_def.sidebar_config else {}
     |                 ^^^^^^^^^^^^^^
1301 |                 override_for_theme = overrides.get(selected_key, {})
     |
help: Remove assignment to unused variable `sidebar_config`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1361:21
     |
1360 |                   with action_cols[1]:
1361 | /                     if st.button("­ƒöä Akzente zur├╝cksetzen", key=f"reset_theme_accents{WIDGET_KEY_SUFFIX}"):
1362 | |                         if selected_key in overrides:
     | |_____________________________________________________^
1363 |                               overrides.pop(selected_key)
1364 |                               if save_admin_setting_func('app_theme_overrides', json.dumps(overrides)):
     |
help: Combine `if` statements using `and`

E722 Do not use bare `except`
    --> admin_panel.py:1397:17
     |
1395 |                         if current_settings.get("active_effect") not in get_effect_names():
1396 |                             current_settings["active_effect"] = get_default_effect()
1397 |                 except:
     |                 ^^^^^^
1398 |                     current_settings = default_settings
1399 |             else:
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1552:23
     |
1550 |     st.subheader(get_text_local("admin_advanced_header", "Erweiterte Einstellungen"))
1551 |     render_api_key_settings(load_admin_setting_func, save_admin_setting_func)
1552 |     st.markdown("---"); st.subheader(get_text_local("admin_localization_settings_header", "Lokalisierung"))
     |                       ^
1553 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1554 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1554:72
     |
1552 |     st.markdown("---"); st.subheader(get_text_local("admin_localization_settings_header", "Lokalisierung"))
1553 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1554 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
     |                                                                        ^
1555 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1556 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1555:49
     |
1553 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1554 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
1555 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
     |                                                 ^
1556 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
1557 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1556:8
     |
1554 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
1555 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1556 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
     |        ^
1557 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
1558 |     edited_locale_json_string = st.text_area(get_text_local("admin_locale_json_editor_label", "Texte (JSON-Editor)"), value=locale_jÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1557:36
     |
1555 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1556 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
1557 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
     |                                    ^
1558 |     edited_locale_json_string = st.text_area(get_text_local("admin_locale_json_editor_label", "Texte (JSON-Editor)"), value=locale_jÔÇª
1559 |     if st.button(get_text_local("admin_save_locale_button", "Lokalisierungstexte speichern"), key=f"save_locale_btn_final{WIDGET_KEYÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1562:52
     |
1560 |       try:
1561 |         parsed_locale_data = json.loads(edited_locale_json_string)
1562 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
     |                                                    ^
1563 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1564 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1563:75
     |
1561 |         parsed_locale_data = json.loads(edited_locale_json_string)
1562 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
1563 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
     |                                                                           ^
1564 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1565 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1564:13
     |
1562 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
1563 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1564 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
     |             ^
1565 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1566 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1565:51
     |
1563 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1564 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1565 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
     |                                                   ^
1566 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
1567 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1566:43
     |
1564 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1565 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1566 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
     |                                           ^
1567 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
1568 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1567:23
     |
1565 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1566 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
1567 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
     |                       ^
1568 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
1569 |     if not isinstance(current_debug_mode_for_display, bool): current_debug_mode_for_display = False
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1569:60
     |
1567 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
1568 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
1569 |     if not isinstance(current_debug_mode_for_display, bool): current_debug_mode_for_display = False
     |                                                            ^
1570 |     with st.form(f"debug_settings_form_final{WIDGET_KEY_SUFFIX}"):
1571 |         app_debug_mode_new_val = st.checkbox(get_text_local("admin_enable_debug_mode_label", "App-weiten Debug-Modus aktivieren...")ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1577:13
     |
1575 |             st.success(get_text_local("admin_debug_settings_saved_success", "Debugging-Einstellungen gespeichert."))
1576 |             set_current_page("admin")
1577 |         else: st.error(get_text_local("admin_debug_settings_save_error", "Fehler beim Speichern der Debugging-Einstellungen."))
     |             ^
1578 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
1579 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1578:23
     |
1576 |             set_current_page("admin")
1577 |         else: st.error(get_text_local("admin_debug_settings_save_error", "Fehler beim Speichern der Debugging-Einstellungen."))
1578 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
     |                       ^
1579 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
1580 |         st.warning(get_text_local("admin_reset_warning_text", "ACHTUNG: Das Zur├╝cksetzen...nicht r├╝ckg├ñngig...")); confirm_text_reseÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1580:114
     |
1578 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
1579 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
1580 |         st.warning(get_text_local("admin_reset_warning_text", "ACHTUNG: Das Zur├╝cksetzen...nicht r├╝ckg├ñngig...")); confirm_text_reseÔÇª
     |                                                                                                                  ^
1581 |         user_confirm_text = st.text_input(f"Geben Sie exakt '{confirm_text_reset}' ein...", key=f"confirm_delete_text_input_final{WIÔÇª
1582 |         if st.button(get_text_local("admin_reset_app_data_button", " App-Daten jetzt endg├╝ltig zur├╝cksetzen"), key=f"reset_all_app_dÔÇª
     |

F821 Undefined name `os`
    --> admin_panel.py:1585:43
     |
1583 | ÔÇª     if user_confirm_text == confirm_text_reset:
1584 | ÔÇª         try:
1585 | ÔÇª             _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_resÔÇª
     |                                     ^^
1586 | ÔÇª             if os.path.exists(_db_path_for_reset):
1587 | ÔÇª                 os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

F821 Undefined name `os`
    --> admin_panel.py:1585:59
     |
1583 | ÔÇª     if user_confirm_text == confirm_text_reset:
1584 | ÔÇª         try:
1585 | ÔÇª             _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_resÔÇª
     |                                                     ^^
1586 | ÔÇª             if os.path.exists(_db_path_for_reset):
1587 | ÔÇª                 os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1585:85
     |
1583 | ÔÇª     if user_confirm_text == confirm_text_reset:
1584 | ÔÇª         try:
1585 | ÔÇª             _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_resÔÇª
     |                                                                               ^
1586 | ÔÇª             if os.path.exists(_db_path_for_reset):
1587 | ÔÇª                 os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

F821 Undefined name `os`
    --> admin_panel.py:1585:109
     |
1583 | ÔÇª     if user_confirm_text == confirm_text_reset:
1584 | ÔÇª         try:
1585 | ÔÇª             _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_resÔÇª
     |                                                                                                       ^^
1586 | ÔÇª             if os.path.exists(_db_path_for_reset):
1587 | ÔÇª                 os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1585:150
     |
1583 | ÔÇª
1584 | ÔÇª
1585 | ÔÇª; _data_dir_for_reset = os.path.join(_base_dir_for_reset, 'data'); _db_path_for_reset = os.path.join(_data_dir_for_reset, 'app_dataÔÇª
     |                                                                   ^
1586 | ÔÇª
1587 | ÔÇªaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

F821 Undefined name `os`
    --> admin_panel.py:1585:173
     |
1583 | ÔÇª
1584 | ÔÇª
1585 | ÔÇªos.path.join(_base_dir_for_reset, 'data'); _db_path_for_reset = os.path.join(_data_dir_for_reset, 'app_data.db')
     |                                                                  ^^
1586 | ÔÇª
1587 | ÔÇªt}) wurden gel├Âscht.")
     |

F821 Undefined name `os`
    --> admin_panel.py:1586:24
     |
1584 | ÔÇª     try:
1585 | ÔÇª         _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_reset, ÔÇª
1586 | ÔÇª         if os.path.exists(_db_path_for_reset):
     |              ^^
1587 | ÔÇª             os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
1588 | ÔÇª             st.info("Bitte starten Sie die Streamlit-Anwendung vollst├ñndig neu...")
     |

F821 Undefined name `os`
    --> admin_panel.py:1587:25
     |
1585 | ÔÇª     _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_reset, 'datÔÇª
1586 | ÔÇª     if os.path.exists(_db_path_for_reset):
1587 | ÔÇª         os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |           ^^
1588 | ÔÇª         st.info("Bitte starten Sie die Streamlit-Anwendung vollst├ñndig neu...")
1589 | ÔÇª         for k_to_del in list(st.session_state.keys()):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1587:54
     |
1585 | ÔÇª     _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_reset, 'datÔÇª
1586 | ÔÇª     if os.path.exists(_db_path_for_reset):
1587 | ÔÇª         os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |                                        ^
1588 | ÔÇª         st.info("Bitte starten Sie die Streamlit-Anwendung vollst├ñndig neu...")
1589 | ÔÇª         for k_to_del in list(st.session_state.keys()):
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1593:25
     |
1591 |                                 del st.session_state[k_to_del]
1592 |                         set_current_page("admin")
1593 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
     |                         ^
1594 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
1595 |             else: st.error("Falscher Best├ñtigungstext...")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1594:54
     |
1592 |                         set_current_page("admin")
1593 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
1594 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
     |                                                      ^
1595 |             else: st.error("Falscher Best├ñtigungstext...")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1595:17
     |
1593 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
1594 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
1595 |             else: st.error("Falscher Best├ñtigungstext...")
     |                 ^
1596 |
1597 | def render_pdf_design_settings(load_admin_setting_func: Callable, save_admin_setting_func: Callable):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1617:76
     |
1615 |         st.subheader(get_text_local("admin_pdf_company_branding_expander", "Firmen-Branding f├╝r PDF-Dokumente"))
1616 |         active_company_id = load_admin_setting_func('active_company_id', None)
1617 |         company_info_for_pdf = {"name": "Ihre Firma (Platzhalter)", "id":0}; company_logo_b64_for_pdf = None
     |                                                                            ^
1618 |         if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1619 |             active_company_data = _get_company_by_id_safe(int(active_company_id))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1620:35
     |
1618 | ÔÇª     if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1619 | ÔÇª         active_company_data = _get_company_by_id_safe(int(active_company_id))
1620 | ÔÇª         if active_company_data: company_info_for_pdf = active_company_data; company_logo_b64_for_pdf = active_company_data.get('loÔÇª
     |                                 ^
1621 | ÔÇª     col_pdf_logo, col_pdf_info = st.columns([1,2])
1622 | ÔÇª     with col_pdf_logo:
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1620:79
     |
1618 | ÔÇª     if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1619 | ÔÇª         active_company_data = _get_company_by_id_safe(int(active_company_id))
1620 | ÔÇª         if active_company_data: company_info_for_pdf = active_company_data; company_logo_b64_for_pdf = active_company_data.get('loÔÇª
     |                                                                             ^
1621 | ÔÇª     col_pdf_logo, col_pdf_info = st.columns([1,2])
1622 | ÔÇª     with col_pdf_logo:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1625:20
     |
1623 | ÔÇª     st.markdown("<h6>" + get_text_local("admin_pdf_logo_header_short", "Logo f├╝r PDF") + "</h6>", unsafe_allow_html=True)
1624 | ÔÇª     if company_logo_b64_for_pdf:
1625 | ÔÇª         try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_captioÔÇª
     |              ^
1626 | ÔÇª         except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
1627 | ÔÇª     else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1626:33
     |
1624 | ÔÇª     if company_logo_b64_for_pdf:
1625 | ÔÇª         try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_captioÔÇª
1626 | ÔÇª         except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
     |                           ^
1627 | ÔÇª     else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
1628 | ÔÇª     st.caption(get_text_local("admin_pdf_logo_manage_in_companies", "Logo wird in der 'Firmenverwaltung'... verwendet."))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1627:17
     |
1625 | ÔÇª             try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_caÔÇª
1626 | ÔÇª             except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
1627 | ÔÇª         else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
     |               ^
1628 | ÔÇª         st.caption(get_text_local("admin_pdf_logo_manage_in_companies", "Logo wird in der 'Firmenverwaltung'... verwendet."))
1629 | ÔÇª     with col_pdf_info:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1633:43
     |
1631 | ÔÇª     for field_key, label_key_suffix in [("name","name"), ("street","address1"), ("zip_code","address2_zip"), ("city","address2_citÔÇª
1632 | ÔÇª         val_disp = company_info_for_pdf.get(field_key, '')
1633 | ÔÇª         if field_key == "zip_code": val_disp = f"{company_info_for_pdf.get('zip_code', '')} {company_info_for_pdf.get('city', '')}ÔÇª
     |                                     ^
1634 | ÔÇª         if field_key == "city" and "zip_code" in [f[0] for f in [("name","name"), ("street","address1"), ("zip_code","address2_zipÔÇª
1635 | ÔÇª         st.text_input(get_text_local(f"admin_pdf_company_{label_key_suffix}", field_key.replace("_"," ").title()), value=val_disp,ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1634:298
     |
1632 | ÔÇª
1633 | ÔÇª
1634 | ÔÇªax_id","tax_id"), ("commercial_register","commercial_register")]]: continue
     |                                                                   ^
1635 | ÔÇª
1636 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1646:27
     |
1644 |         except Exception as e_srv_cfg:
1645 |             st.warning(f"Service Darstellungs-UI nicht geladen: {e_srv_cfg}")
1646 |         st.markdown("---"); st.subheader(get_text_local("admin_pdf_design_colors_header", "PDF Design Farben"))
     |                           ^
1647 |         PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
1648 |         current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
     |

N806 Variable `PDF_DESIGN_SETTINGS_DEFAULT` in function should be lowercase
    --> admin_panel.py:1647:9
     |
1645 |             st.warning(f"Service Darstellungs-UI nicht geladen: {e_srv_cfg}")
1646 |         st.markdown("---"); st.subheader(get_text_local("admin_pdf_design_colors_header", "PDF Design Farben"))
1647 |         PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
1648 |         current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
1649 |         if not isinstance(current_design_settings, dict): current_design_settings = PDF_DESIGN_SETTINGS_DEFAULT.copy()
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1649:57
     |
1647 |         PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
1648 |         current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
1649 |         if not isinstance(current_design_settings, dict): current_design_settings = PDF_DESIGN_SETTINGS_DEFAULT.copy()
     |                                                         ^
1650 |         with st.form(f"pdf_design_form{WIDGET_KEY_SUFFIX}"):
1651 |             primary_color = st.color_picker(
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1684:39
     |
1682 |     st.subheader(get_text_local(f"admin_{template_type_key}_header", f"{template_type_key.replace('_', ' ').title()} Vorlagen"))
1683 |     templates: list[dict[str, Any]] = _load_admin_setting_safe(template_list_setting_key, [])
1684 |     if not isinstance(templates, list): st.error(f"Fehler: Vorlagendaten f├╝r '{template_list_setting_key}' nicht im Listenformat.");ÔÇª
     |                                       ^
1685 |     form_key_mt = f"{template_type_key}_form_mt_local_tpl{WIDGET_KEY_SUFFIX}"
1686 |     edit_mode_session_key = f"edit_mode_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1684:132
     |
1682 | ÔÇª", f"{template_type_key.replace('_', ' ').title()} Vorlagen"))
1683 | ÔÇªplate_list_setting_key, [])
1684 | ÔÇªndaten f├╝r '{template_list_setting_key}' nicht im Listenformat."); templates = []
     |                                                                   ^
1685 | ÔÇªEY_SUFFIX}"
1686 | ÔÇªy}{WIDGET_KEY_SUFFIX}"
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1688:53
     |
1686 |     edit_mode_session_key = f"edit_mode_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1687 |     edit_index_session_key = f"edit_index_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1688 |     if edit_mode_session_key not in st.session_state: st.session_state[edit_mode_session_key] = False
     |                                                     ^
1689 |     if edit_index_session_key not in st.session_state: st.session_state[edit_index_session_key] = -1
1690 |     options_for_select = [get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---")] + [f"{t.get('name', f'VÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1689:54
     |
1687 |     edit_index_session_key = f"edit_index_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1688 |     if edit_mode_session_key not in st.session_state: st.session_state[edit_mode_session_key] = False
1689 |     if edit_index_session_key not in st.session_state: st.session_state[edit_index_session_key] = -1
     |                                                      ^
1690 |     options_for_select = [get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---")] + [f"{t.get('name', f'VÔÇª
1691 |     current_selection_index = 0
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1693:74
     |
1691 |     current_selection_index = 0
1692 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1693 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
     |                                                                          ^
1694 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1695 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1694:13
     |
1692 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1693 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
1694 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |             ^
1695 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
1696 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1694:62
     |
1692 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1693 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
1694 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |                                                              ^
1695 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
1696 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1714:26
     |
1712 |                 st.session_state[edit_index_session_key] = -1
1713 |                 set_current_page("admin")
1714 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
     |                          ^
1715 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1716 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1714:52
     |
1712 |                 st.session_state[edit_index_session_key] = -1
1713 |                 set_current_page("admin")
1714 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
     |                                                    ^
1715 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1716 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1717:83
     |
1715 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1716 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
1717 |             template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', ÔÇª
     |                                                                                   ^
1718 |             if is_image_template: current_image_data_b64 = template_to_edit.get('data')
1719 |             else: current_content_val = template_to_edit.get('content', '')
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1718:33
     |
1716 | ÔÇª     if 0 <= st.session_state[edit_index_session_key] < len(templates):
1717 | ÔÇª         template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', '')
1718 | ÔÇª         if is_image_template: current_image_data_b64 = template_to_edit.get('data')
     |                               ^
1719 | ÔÇª         else: current_content_val = template_to_edit.get('content', '')
1720 | ÔÇª     else:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1719:17
     |
1717 | ÔÇª         template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', '')
1718 | ÔÇª         if is_image_template: current_image_data_b64 = template_to_edit.get('data')
1719 | ÔÇª         else: current_content_val = template_to_edit.get('content', '')
     |               ^
1720 | ÔÇª     else:
1721 | ÔÇª         st.warning(get_text_local("admin_template_edit_invalid_index_warning", "Die ausgew├ñhlte Vorlage...existiert nicht mehr..."ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1728:46
     |
1726 | ÔÇª     st.markdown(f"**{get_text_local('admin_template_edit_add_header', 'Vorlage erstellen / bearbeiten')}**")
1727 | ÔÇª     new_template_name = st.text_input(get_text_local(item_name_label_key, "Vorlagenname"), value=current_name_val, key=f"{templateÔÇª
1728 | ÔÇª     new_template_data_b64_for_save = None; new_template_content_input = ""
     |                                            ^
1729 | ÔÇª     if is_image_template:
1730 | ÔÇª         uploaded_image_file = st.file_uploader(get_text_local("admin_upload_title_image", "Bild hochladen..."), type=["png", "jpg"ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1731:35
     |
1729 | ÔÇª     if is_image_template:
1730 | ÔÇª         uploaded_image_file = st.file_uploader(get_text_local("admin_upload_title_image", "Bild hochladen..."), type=["png", "jpg"ÔÇª
1731 | ÔÇª         if uploaded_image_file: new_template_data_b64_for_save = base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8');ÔÇª
     |                                 ^
1732 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1733 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1731:134
     |
1729 | ÔÇª
1730 | ÔÇªdmin_upload_title_image", "Bild hochladen..."), type=["png", "jpg", "jpeg"], key=f"{template_type_key}_upload_fu_mt{WIDGET_KEY_SUFFÔÇª
1731 | ÔÇª base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8'); st.image(uploaded_image_file, caption=get_text_local("admin_imagÔÇª
     |                                                                   ^
1732 | ÔÇªde_session_key]:
1733 | ÔÇª4), caption=get_text_local("admin_current_image", "Aktuelles Bild"), width=200); new_template_data_b64_for_save = current_image_datÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1733:20
     |
1731 | ÔÇª         if uploaded_image_file: new_template_data_b64_for_save = base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8');ÔÇª
1732 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1733 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
     |                  ^
1734 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
1735 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1733:148
     |
1731 | ÔÇªode(uploaded_image_file.getvalue()).decode('utf-8'); st.image(uploaded_image_file, caption=get_text_local("admin_image_preview", "VÔÇª
1732 | ÔÇª]:
1733 | ÔÇªt_text_local("admin_current_image", "Aktuelles Bild"), width=200); new_template_data_b64_for_save = current_image_data_b64
     |                                                                   ^
1734 | ÔÇªcurrent_image", "Fehler beim Anzeigen..."))
1735 | ÔÇªt_label_key or "admin_template_content_label", "Inhalt..."), value=current_content_val, height=200, key=f"{template_type_key}_conteÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1734:33
     |
1732 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1733 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
1734 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
     |                               ^
1735 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
1736 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1735:13
     |
1733 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
1734 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
1735 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
     |           ^
1736 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
1737 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1: submit_button_text = get_text_lÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1737:102
     |
1735 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
1736 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
1737 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1: submit_button_text = get_text_lÔÇª
     |                                                                                                    ^
1738 | ÔÇª     submitted = st.form_submit_button(submit_button_text)
1739 | ÔÇª     if submitted:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1740:45
     |
1738 | ÔÇª     submitted = st.form_submit_button(submit_button_text)
1739 | ÔÇª     if submitted:
1740 | ÔÇª         if not new_template_name.strip(): st.error(get_text_local("admin_template_name_required", "Vorlagenname ist erforderlich."ÔÇª
     |                                           ^
1741 | ÔÇª         else:
1742 | ÔÇª             new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1742:73
     |
1740 | ÔÇª     if not new_template_name.strip(): st.error(get_text_local("admin_template_name_required", "Vorlagenname ist erforderlich."))
1741 | ÔÇª     else:
1742 | ÔÇª         new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
     |                                                                   ^
1743 | ÔÇª         if is_image_template:
1744 | ÔÇª             if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1744:54
     |
1742 | ÔÇª     new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
1743 | ÔÇª     if is_image_template:
1744 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
     |                                            ^
1745 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
1746 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1745:69
     |
1743 | ÔÇª     if is_image_template:
1744 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
1745 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
     |                                                           ^
1746 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
1747 | ÔÇª     if valid_to_save:
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1745:168
     |
1743 | ÔÇª
1744 | ÔÇªb64_for_save
1745 | ÔÇªmage_required_for_new_template", "F├╝r eine neue Bildvorlage...")); valid_to_save = False
     |                                                                   ^
1746 | ÔÇª
1747 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1746:21
     |
1744 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
1745 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
1746 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
     |           ^
1747 | ÔÇª     if valid_to_save:
1748 | ÔÇª         temp_templates_list = templates[:]
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1750:100
     |
1748 | ÔÇª     temp_templates_list = templates[:]
1749 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1750 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
     |                                                                                      ^
1751 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
1752 | ÔÇª     else: temp_templates_list.append(new_template_entry)
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1751:29
     |
1749 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1750 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
1751 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
     |               ^
1752 | ÔÇª     else: temp_templates_list.append(new_template_entry)
1753 | ÔÇª     if valid_to_save:
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1751:145
     |
1749 | ÔÇªtate[edit_index_session_key] != -1:
1750 | ÔÇªtemp_templates_list): temp_templates_list[st.session_state[edit_index_session_key]] = new_template_entry
1751 | ÔÇªror_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); valid_to_save = False
     |                                                                   ^
1752 | ÔÇª
1753 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1752:25
     |
1750 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
1751 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
1752 | ÔÇª     else: temp_templates_list.append(new_template_entry)
     |           ^
1753 | ÔÇª     if valid_to_save:
1754 | ÔÇª         if _save_admin_setting_safe(template_list_setting_key, temp_templates_list):
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1757:29
     |
1755 |                             st.success(get_text_local("admin_template_saved_success", "Vorlage gespeichert."))
1756 |                             set_current_page("admin")
1757 |                         else: st.error(get_text_local("admin_template_save_error", "Fehler beim Speichern der Vorlage."))
     |                             ^
1758 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1759 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_panel.py:1758:5
     |
1756 |                               set_current_page("admin")
1757 |                           else: st.error(get_text_local("admin_template_save_error", "Fehler beim Speichern der Vorlage."))
1758 | /     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1759 | |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     | |__________________________________________________________________________^
1760 |               delete_button_key = f"delete_template_{template_type_key}{WIDGET_KEY_SUFFIX}_outer_btn"
1761 |               confirm_delete_session_key = f"confirm_delete_tpl_{template_type_key}_{st.session_state[edit_index_session_key]}{WIDGET_ÔÇª
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1774:29
     |
1772 |                             st.session_state[edit_index_session_key] = -1
1773 |                             set_current_page("admin")
1774 |                         else: st.error(get_text_local("admin_template_delete_error", "Fehler beim Speichern nach dem L├Âschen..."))
     |                             ^
1775 |                     except IndexError:
1776 |                         st.error("Fehler: Vorlage zum L├Âschen nicht im Index gefunden (IndexError).")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1814:59
     |
1812 | ÔÇª     if save_admin_setting_func(key_name, value_to_save):
1813 | ÔÇª         reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1814 | ÔÇª         if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); something_ÔÇª
     |                                             ^
1815 | ÔÇª         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloaded_valÔÇª
1816 | ÔÇª     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."))
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1814:135
     |
1812 | ÔÇª     if save_admin_setting_func(key_name, value_to_save):
1813 | ÔÇª         reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1814 | ÔÇª         if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); something_ÔÇª
     |                                                                                                                         ^
1815 | ÔÇª         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloaded_valÔÇª
1816 | ÔÇª     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."))
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1815:29
     |
1813 | ÔÇª                 reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1814 | ÔÇª                 if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); soÔÇª
1815 | ÔÇª                 else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloÔÇª
     |                       ^
1816 | ÔÇª             else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."ÔÇª
1817 | ÔÇª     if something_changed_and_saved:
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1816:25
     |
1814 | ÔÇª                 if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); soÔÇª
1815 | ÔÇª                 else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloÔÇª
1816 | ÔÇª             else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."ÔÇª
     |                   ^
1817 | ÔÇª     if something_changed_and_saved:
1818 | ÔÇª         st.info("├änderungen verarbeitet...")
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1820:54
     |
1818 |                 st.info("├änderungen verarbeitet...")
1819 |                 set_current_page("admin")
1820 |             elif not any(new_api_key_inputs.values()): st.info("Keine neuen API-Schl├╝ssel eingegeben...")
     |                                                      ^
1821 |     st.markdown("---")
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1824:35
     |
1823 | def manage_tariff_list_ui(tariff_list_input: list[dict[str, Any]], form_element_key_suffix: str) -> tuple[list[dict[str, Any]], boolÔÇª
1824 |     collected_tariffs_from_ui = []; all_entries_valid = True
     |                                   ^
1825 |     actual_tariff_list_for_ui = tariff_list_input[:]
1826 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
     |

E701 Multiple statements on one line (colon)
    --> admin_panel.py:1826:38
     |
1824 |     collected_tariffs_from_ui = []; all_entries_valid = True
1825 |     actual_tariff_list_for_ui = tariff_list_input[:]
1826 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
     |                                      ^
1827 |     for i, tariff_entry_db_like in enumerate(actual_tariff_list_for_ui):
1828 |         cols_tariff_ui = st.columns([2, 2, 2, 1]); key_base = f"tariff_entry_{form_element_key_suffix}_{i}{WIDGET_KEY_SUFFIX}_ui" # ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1828:50
     |
1826 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
1827 |     for i, tariff_entry_db_like in enumerate(actual_tariff_list_for_ui):
1828 |         cols_tariff_ui = st.columns([2, 2, 2, 1]); key_base = f"tariff_entry_{form_element_key_suffix}_{i}{WIDGET_KEY_SUFFIX}_ui" # ÔÇª
     |                                                  ^
1829 |         kwp_min_current_value = st.session_state.get(f"{key_base}_min", float(tariff_entry_db_like.get("kwp_min", 0.0)))
1830 |         kwp_min_ui_val = cols_tariff_ui[0].number_input(label=f"kWp Min #{i+1}", min_value=0.0, value=kwp_min_current_value, step=0.ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1839:73
     |
1837 |         collected_tariffs_from_ui.append({"kwp_min": kwp_min_ui_val, "kwp_max": kwp_max_ui_val, "ct_per_kwh": ct_per_kwh_ui_val})
1838 |         if kwp_min_ui_val is not None and kwp_max_ui_val is not None and kwp_min_ui_val >= kwp_max_ui_val:
1839 |             cols_tariff_ui[1].error("Max kWp muss gr├Â├ƒer Min kWp sein!"); all_entries_valid = False
     |                                                                         ^
1840 |     return collected_tariffs_from_ui, all_entries_valid
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1872:55
     |
1870 |     global _list_company_documents_safe, _delete_company_document_safe
1871 |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
     |                                                       ^
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1873:45
     |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                             ^
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1873:83
     |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                                                                   ^
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1873:127
     |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                                                                                                               ^
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1874:53
     |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
     |                                                     ^
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1874:119
     |
1872 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
     |                                                                                                                       ^
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1875:50
     |
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |                                                  ^
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1877 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1875:91
     |
1873 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |                                                                                           ^
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1877 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1875:144
     |
1873 | ÔÇªfunc; _update_product_safe = update_product_func; _delete_product_safe = delete_product_func
1874 | ÔÇªme_safe = get_product_by_model_name_func; _list_product_categories_safe = list_product_categories_func
1875 | ÔÇªcompany_func; _get_company_by_id_safe = db_get_company_by_id_func; _update_company_safe = db_update_company_func
     |                                                                   ^
1876 | ÔÇª db_set_default_company_func; _add_company_document_safe = db_add_company_document_func
1877 | ÔÇªpany_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1876:50
     |
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |                                                  ^
1877 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1876:107
     |
1874 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |                                                                                                           ^
1877 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> admin_panel.py:1877:66
     |
1875 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1876 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1877 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |                                                                  ^
1878 |
1879 |     actual_texts_dict_for_session: dict[str, str]
     |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> admin_panel.py:1991:5
     |
1990 |       # Textvorlage hinzuf├╝gen
1991 | /     with st.expander(" Neue Textvorlage erstellen", expanded=False):
1992 | |         with st.form(f"add_text_template_{company_id}", clear_on_submit=True):
     | |______________________________________________________________________________^
1993 |               template_name = st.text_input(
1994 |                   "Name der Vorlage",
     |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> admin_panel.py:2055:21
     |
2053 |                       col1, col2 = st.columns([3, 1])
2054 |
2055 | /                     with col1:
2056 | |                         # Bearbeitung
2057 | |                         with st.form(f"edit_text_template_{template['id']}"):
     | |_____________________________________________________________________________^
2058 |                               new_name = st.text_input(
2059 |                                   "Name",
     |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> admin_panel.py:2106:5
     |
2105 |       # Bildvorlage hinzuf├╝gen
2106 | /     with st.expander(" Neue Bildvorlage hochladen", expanded=False):
2107 | |         with st.form(f"add_image_template_{company_id}", clear_on_submit=True):
     | |_______________________________________________________________________________^
2108 |               template_name = st.text_input(
2109 |                   "Name der Bildvorlage",
     |
help: Combine `with` statements

F401 `base64` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> admin_panel.py:2161:16
     |
2159 |     # Vorhandene Bildvorlagen auflisten
2160 |     try:
2161 |         import base64
     |                ^^^^^^
2162 |
2163 |         from database import (
     |
help: Remove unused import: `base64`

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> admin_panel.py:2196:25
     |
2195 |                           # Bearbeitung und L├Âschung
2196 | /                         with st.expander(" Bearbeiten"):
2197 | |                             with st.form(f"edit_image_template_{template['id']}"):
     | |__________________________________________________________________________________^
2198 |                                   new_name = st.text_input(
2199 |                                       "Name ├ñndern",
     |
help: Combine `with` statements

W291 Trailing whitespace
 --> admin_payment_terms_ui.py:5:80
  |
3 | --------------------------
4 |
5 | Erweiterte Benutzeroberfl├ñche f├╝r Administratoren zur umfassenden Konfiguration 
  |                                                                                ^
6 | der Zahlungsmodalit├ñten. Das Modul bietet:
  |
help: Remove trailing whitespace

RET503 Missing explicit `return` at the end of function able to return non-`None` value
  --> admin_payment_terms_ui.py:59:1
   |
59 | / def format_currency_de(value: float) -> str:
60 | |     """Return a Euro string formatted with German separators."""
61 | |     return f"{_format_decimal_de(value, 2)} Ôé¼"
62 | |     PAYMENT_TERMS_AVAILABLE = False
   | |___________________________________^
   |
help: Add explicit `return` statement

N806 Variable `PAYMENT_TERMS_AVAILABLE` in function should be lowercase
  --> admin_payment_terms_ui.py:62:5
   |
60 |     """Return a Euro string formatted with German separators."""
61 |     return f"{_format_decimal_de(value, 2)} Ôé¼"
62 |     PAYMENT_TERMS_AVAILABLE = False
   |     ^^^^^^^^^^^^^^^^^^^^^^^
   |

F841 Local variable `PAYMENT_TERMS_AVAILABLE` is assigned to but never used
  --> admin_payment_terms_ui.py:62:5
   |
60 |     """Return a Euro string formatted with German separators."""
61 |     return f"{_format_decimal_de(value, 2)} Ôé¼"
62 |     PAYMENT_TERMS_AVAILABLE = False
   |     ^^^^^^^^^^^^^^^^^^^^^^^
   |
help: Remove assignment to unused variable `PAYMENT_TERMS_AVAILABLE`

B007 Loop control variable `i` not used within loop body
    --> admin_payment_terms_ui.py:1281:9
     |
1279 |     recommended_id = payment_terms.get('display_settings', {}).get('recommended_option', '')
1280 |
1281 |     for i, option in enumerate(active_options):
     |         ^
1282 |         is_recommended = option.get('id') == recommended_id
     |
help: Rename unused `i` to `_i`

B007 Loop control variable `tab_idx` not used within loop body
    --> admin_payment_terms_ui.py:1667:9
     |
1665 |     updated_variants = current_variants.copy()
1666 |
1667 |     for tab_idx, (tab, variant_key) in enumerate(zip(variant_tabs, variant_keys, strict=False)):
     |         ^^^^^^^
1668 |         with tab:
1669 |             variant_data = current_variants.get(variant_key, get_default_payment_variants()[variant_key])
     |
help: Rename unused `tab_idx` to `_tab_idx`

B007 Loop control variable `variant_key` not used within loop body
    --> admin_payment_terms_ui.py:1867:21
     |
1865 |                 validation_errors = []
1866 |
1867 |                 for variant_key, variant_data in updated_variants.items():
     |                     ^^^^^^^^^^^
1868 |                     if variant_data.get('enabled', False):
1869 |                         is_valid, validation_msg = validate_payment_variant_percentages(variant_data)
     |
help: Rename unused `variant_key` to `_variant_key`

B007 Loop control variable `variant_key` not used within loop body
    --> admin_payment_terms_ui.py:1905:17
     |
1903 |         if st.button("­ƒôè Alle Varianten testen", key=f"test_variants{widget_key_suffix}"):
1904 |             st.markdown("### ­ƒº¬ Test aller Zahlungsvarianten")
1905 |             for variant_key, variant_data in updated_variants.items():
     |                 ^^^^^^^^^^^
1906 |                 if variant_data.get('enabled', False):
1907 |                     st.markdown(f"**{variant_data['name']}:**")
     |
help: Rename unused `variant_key` to `_variant_key`

W291 Trailing whitespace
    --> admin_payment_terms_ui.py:1930:72
     |
1928 | ):
1929 |     """
1930 |     Kombinierte UI f├╝r sowohl das umfassende Zahlungsmodalit├ñten-System 
     |                                                                        ^
1931 |     als auch die neuen dynamischen Zahlungsvarianten.
1932 |     """
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:1968:1
     |
1966 |     """
1967 |     Benutzer-Auswahl-Komponente f├╝r Zahlungsvarianten im PDF-Erstellungsbereich.
1968 |     
     | ^^^^
1969 |     Args:
1970 |         load_admin_setting_func: Funktion zum Laden der Admin-Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:1973:1
     |
1971 |         widget_key_suffix: Suffix f├╝r eindeutige Widget-Keys
1972 |         example_total: Beispielbetrag f├╝r die Vorschau
1973 |         
     | ^^^^^^^^
1974 |     Returns:
1975 |         Dict mit ausgew├ñhlter Zahlungsvariante oder None wenn keine ausgew├ñhlt
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:2112:1
     |
2110 |     """
2111 |     Kompakte Zahlungsvarianten-Auswahl f├╝r Integration in bestehende UI-Bereiche.
2112 |     
     | ^^^^
2113 |     Args:
2114 |         load_admin_setting_func: Funktion zum Laden der Admin-Einstellungen  
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> admin_payment_terms_ui.py:2114:76
     |
2113 |     Args:
2114 |         load_admin_setting_func: Funktion zum Laden der Admin-Einstellungen  
     |                                                                            ^^
2115 |         widget_key_suffix: Suffix f├╝r eindeutige Widget-Keys
2116 |         show_preview: Ob eine Vorschau angezeigt werden soll
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:2117:1
     |
2115 |         widget_key_suffix: Suffix f├╝r eindeutige Widget-Keys
2116 |         show_preview: Ob eine Vorschau angezeigt werden soll
2117 |         
     | ^^^^^^^^
2118 |     Returns:
2119 |         Key der ausgew├ñhlten Zahlungsvariante oder None
     |
help: Remove whitespace from blank line

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> admin_payment_terms_ui.py:2181:17
     |
2179 |               custom_percent_values = st.session_state.get('custom_variant_4_percents')
2180 |               if isinstance(custom_percent_values, (list, tuple)) and len(custom_percent_values) == 3:
2181 | /                 try:
2182 | |                     preview_variant['percents'] = [float(val) for val in custom_percent_values]
2183 | |                 except Exception:
2184 | |                     pass
     | |________________________^
2185 |
2186 |           with st.expander("­ƒæü´©Å Vorschau der Zahlungsmodalit├ñten", expanded=False):
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:2225:1
     |
2223 |     """
2224 |     Bereitet die ausgew├ñhlte Zahlungsvariante f├╝r die PDF-Generierung vor.
2225 |     
     | ^^^^
2226 |     Args:
2227 |         selected_variant_key: Key der ausgew├ñhlten Zahlungsvariante
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_payment_terms_ui.py:2231:1
     |
2229 |         project_total: Gesamtbetrag des Projekts
2230 |         include_amounts: Ob Betr├ñge in den Text einbezogen werden sollen
2231 |         
     | ^^^^^^^^
2232 |     Returns:
2233 |         Dictionary mit formatierten Zahlungsdaten f├╝r PDF oder None
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:354:1
    |
352 |                 ">LOGO</div>
353 |             </div>
354 |             
    | ^^^^^^^^^^^^
355 |             <h1 style="
356 |                 color: {primary_color};
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:361:1
    |
359 |                 margin: 10px 0;
360 |             ">Haupt├╝berschrift</h1>
361 |             
    | ^^^^^^^^^^^^
362 |             <h2 style="
363 |                 color: {secondary_color};
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:368:1
    |
366 |                 margin: 8px 0;
367 |             ">Unter├╝berschrift</h2>
368 |             
    | ^^^^^^^^^^^^
369 |             <p style="
370 |                 color: #374151;
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> admin_pdf_settings_ui.py:376:58
    |
374 |                 margin: 10px 0;
375 |             ">
376 |                 Dies ist ein Beispieltext im Body-Format. 
    |                                                          ^
377 |                 Er zeigt, wie der Flie├ƒtext in Ihrem PDF aussehen wird.
378 |             </p>
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:379:1
    |
377 |                 Er zeigt, wie der Flie├ƒtext in Ihrem PDF aussehen wird.
378 |             </p>
379 |             
    | ^^^^^^^^^^^^
380 |             <div style="
381 |                 background-color: {secondary_color}20;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:393:1
    |
391 |                 ">Beispiel-Tabellenzelle mit Sekund├ñrfarbe</p>
392 |             </div>
393 |             
    | ^^^^^^^^^^^^
394 |             <p style="
395 |                 color: #6b7280;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:400:1
    |
398 |                 margin: 10px 0;
399 |             ">Kleintext f├╝r Fu├ƒnoten und Details</p>
400 |             
    | ^^^^^^^^^^^^
401 |             {f'''
402 |             <div style="
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:418:1
    |
416 |             </div>
417 |             ''' if watermark_enabled else ''}
418 |             
    | ^^^^^^^^^^^^
419 |             <div style="
420 |                 margin-top: 20px;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:447:1
    |
445 |             - Prim├ñrfarbe: `{primary_color}`
446 |             - Sekund├ñrfarbe: `{secondary_color}`
447 |             
    | ^^^^^^^^^^^^
448 |             **Schriftart:**
449 |             - Familie: {font_family}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:454:1
    |
452 |             - Body: {font_size_body}pt
453 |             - Small: {font_size_small}pt
454 |             
    | ^^^^^^^^^^^^
455 |             **Layout:**
456 |             - Logo-Position: {logo_position}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_pdf_settings_ui.py:458:1
    |
456 |             - Logo-Position: {logo_position}
457 |             - Footer: {footer_format}
458 |             
    | ^^^^^^^^^^^^
459 |             **Wasserzeichen:**
460 |             - Aktiviert: {'Ja' if watermark_enabled else 'Nein'}
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_pdf_settings_ui.py:985:9
    |
984 |       with col2:
985 | /         if st.button(
986 | |             "­ƒöä Auf Global zur├╝cksetzen",
987 | |             use_container_width=True,
988 | |             key=f"reset_chart_{selected_chart_key}"
989 | |         ):
990 | |             # Remove custom settings for this chart
991 | |             if selected_chart_key in individual_charts:
    | |_______________________________________________________^
992 |                   del individual_charts[selected_chart_key]
993 |                   visualization_settings['individual_chart_colors'] = (
    |
help: Combine `if` statements using `and`

B007 Loop control variable `category` not used within loop body
    --> admin_pdf_settings_ui.py:1019:21
     |
1017 |                 # Find chart name
1018 |                 chart_name = chart_key
1019 |                 for category, charts in chart_categories.items():
     |                     ^^^^^^^^
1020 |                     for chart in charts:
1021 |                         if chart[0] == chart_key:
     |
help: Rename unused `category` to `_category`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_pdf_settings_ui.py:1126:9
     |
1125 |           # Theme aktivieren button
1126 | /         if selected_theme_key != 'custom':
1127 | |             if st.button(
1128 | |                 "Ô£ô Theme aktivieren",
1129 | |                 type="primary",
1130 | |                 use_container_width=True,
1131 | |                 key="activate_theme"
1132 | |             ):
     | |______________^
1133 |                   new_theme_settings = {
1134 |                       'active_theme': selected_theme_key,
     |
help: Combine `if` statements using `and`

W291 Trailing whitespace
    --> admin_pdf_settings_ui.py:1314:66
     |
1312 |                     margin: 10px 0;
1313 |                 ">
1314 |                     Dies ist ein Beispieltext, der zeigt, wie der 
     |                                                                  ^
1315 |                     Flie├ƒtext in diesem Theme aussieht. Die Textfarbe 
1316 |                     sollte gut lesbar sein.
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> admin_pdf_settings_ui.py:1315:70
     |
1313 |                 ">
1314 |                     Dies ist ein Beispieltext, der zeigt, wie der 
1315 |                     Flie├ƒtext in diesem Theme aussieht. Die Textfarbe 
     |                                                                      ^
1316 |                     sollte gut lesbar sein.
1317 |                 </p>
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:1488:1
     |
1486 |     """
1487 |     Rendert Template-Auswahl und Details (Task 12.1 & 12.2)
1488 |     
     | ^^^^
1489 |     Zeigt:
1490 |     - Dropdown f├╝r verf├╝gbare Templates
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> admin_pdf_settings_ui.py:1678:21
     |
1676 |                         status_icon = "Ô£à"
1677 |                         status_text = f"({size_kb:.1f} KB)"
1678 |                     except:
     |                     ^^^^^^
1679 |                         status_icon = "Ô£à"
1680 |                         status_text = ""
     |

E722 Do not use bare `except`
    --> admin_pdf_settings_ui.py:1709:21
     |
1707 |                         status_icon = "Ô£à"
1708 |                         status_text = f"({size_kb:.1f} KB)"
1709 |                     except:
     |                     ^^^^^^
1710 |                         status_icon = "Ô£à"
1711 |                         status_text = ""
     |

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:1811:1
     |
1809 |     """
1810 |     Rendert "Neues Template hinzuf├╝gen" Formular (Task 12.3)
1811 |     
     | ^^^^
1812 |     Erm├Âglicht:
1813 |     - Text Inputs f├╝r Template-Informationen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2021:1
     |
2019 |         - Beispiel: `pdf_templates_static/seite1.pdf`
2020 |         - PDFs sollten im A4-Format sein
2021 |         
     | ^^^^^^^^
2022 |         **Koordinaten-Dateien:**
2023 |         - YML-Dateien mit Textpositionen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2026:1
     |
2024 |         - Beispiel: `coords/seite1.yml`
2025 |         - Format: `key: [x, y, width, height]`
2026 |         
     | ^^^^^^^^
2027 |         **Tipps:**
2028 |         - Verwenden Sie konsistente Pfadstrukturen
     |
help: Remove whitespace from blank line

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> admin_pdf_settings_ui.py:2212:29
     |
2210 |                     # If setting as default, unset all others
2211 |                     if is_default:
2212 |                         for key in updated_layouts.keys():
     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2213 |                             updated_layouts[key]['is_default'] = False
2214 |                         updated_layouts[layout_key]['is_default'] = True
     |
help: Remove `.keys()`

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2422:1
     |
2420 |     """
2421 |     Rendert Import/Export-Funktionen f├╝r Design-Konfigurationen (Task 14)
2422 |     
     | ^^^^
2423 |     Erm├Âglicht:
2424 |     - Export aller Design-Einstellungen als JSON
     |
help: Remove whitespace from blank line

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> admin_pdf_settings_ui.py:2549:35
     |
2547 |                     with st.expander("­ƒôï Was wird importiert?"):
2548 |                         settings_count = len([
2549 |                             k for k in imported_config.keys()
     |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2550 |                             if not k.startswith('_')
2551 |                         ])
     |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> admin_pdf_settings_ui.py:2554:29
     |
2552 |                         st.markdown(f"**{settings_count} Einstellungsbereiche gefunden:**")
2553 |
2554 |                         for key in imported_config.keys():
     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2555 |                             if not key.startswith('_'):
2556 |                                 friendly_name = _get_setting_friendly_name(key)
     |
help: Remove `.keys()`

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2631:1
     |
2629 |         st.markdown("""
2630 |         ### Import/Export-Funktionen
2631 |         
     | ^^^^^^^^
2632 |         **Export:**
2633 |         - Exportiert alle Design-Einstellungen in eine JSON-Datei
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2636:1
     |
2634 |         - Enth├ñlt Metadaten wie Export-Datum und Version
2635 |         - Kann als Backup oder zum Teilen verwendet werden
2636 |         
     | ^^^^^^^^
2637 |         **Import:**
2638 |         - Importiert Design-Einstellungen aus einer JSON-Datei
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2642:1
     |
2640 |         - ├£berschreibt alle aktuellen Einstellungen
2641 |         - Erfordert Best├ñtigung vor dem Import
2642 |         
     | ^^^^^^^^
2643 |         **Verwendungszwecke:**
2644 |         - Backup von Einstellungen erstellen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2648:1
     |
2646 |         - Verschiedene Design-Varianten testen
2647 |         - Schnelles Zur├╝cksetzen auf bekannte Konfiguration
2648 |         
     | ^^^^^^^^
2649 |         **Hinweise:**
2650 |         - Exportierte Dateien sind im JSON-Format
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2660:1
     |
2658 |     """
2659 |     Sammelt alle Design-Einstellungen f├╝r den Export (Task 14.1)
2660 |     
     | ^^^^
2661 |     Returns:
2662 |         Dictionary mit allen Design-Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2707:1
     |
2705 |     """
2706 |     Validiert importierte Konfigurationsdaten (Task 14.2)
2707 |     
     | ^^^^
2708 |     Args:
2709 |         config: Importierte Konfigurationsdaten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2710:1
     |
2708 |     Args:
2709 |         config: Importierte Konfigurationsdaten
2710 |     
     | ^^^^
2711 |     Returns:
2712 |         Tuple (is_valid, errors)
     |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_pdf_settings_ui.py:2746:13
     |
2744 |           else:
2745 |               # Check for required color fields
2746 | /             if 'primary_color' in pdf_design:
2747 | |                 if not isinstance(pdf_design['primary_color'], str):
     | |____________________________________________________________________^
2748 |                       errors.append("primary_color muss ein String sein")
2749 |               if 'secondary_color' in pdf_design:
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_pdf_settings_ui.py:2749:13
     |
2747 |                   if not isinstance(pdf_design['primary_color'], str):
2748 |                       errors.append("primary_color muss ein String sein")
2749 | /             if 'secondary_color' in pdf_design:
2750 | |                 if not isinstance(pdf_design['secondary_color'], str):
     | |______________________________________________________________________^
2751 |                       errors.append("secondary_color muss ein String sein")
     |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2795:1
     |
2793 |     """
2794 |     Importiert Design-Einstellungen (Task 14.2)
2795 |     
     | ^^^^
2796 |     Args:
2797 |         config: Validierte Konfigurationsdaten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2799:1
     |
2797 |         config: Validierte Konfigurationsdaten
2798 |         save_setting: Funktion zum Speichern von Einstellungen
2799 |     
     | ^^^^
2800 |     Returns:
2801 |         True wenn erfolgreich, False bei Fehler
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:2855:1
     |
2853 |     """
2854 |     Rendert Versionsverwaltung f├╝r Design-Konfigurationen (Task 15)
2855 |     
     | ^^^^
2856 |     Erm├Âglicht:
2857 |     - Speichern von Versionen (Task 15.1)
     |
help: Remove whitespace from blank line

F841 Local variable `version_description` is assigned to but never used
    --> admin_pdf_settings_ui.py:2932:9
     |
2930 |     # Optional description
2931 |     if version_name and version_name.strip():
2932 |         version_description = st.text_area(
     |         ^^^^^^^^^^^^^^^^^^^
2933 |             "Beschreibung (optional)",
2934 |             placeholder="Beschreiben Sie die ├änderungen in dieser Version...",
     |
help: Remove assignment to unused variable `version_description`

E722 Do not use bare `except`
    --> admin_pdf_settings_ui.py:2962:17
     |
2960 |                     dt = datetime.datetime.fromisoformat(created_at)
2961 |                     created_at_formatted = dt.strftime('%d.%m.%Y %H:%M')
2962 |                 except:
     |                 ^^^^^^
2963 |                     created_at_formatted = created_at
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_pdf_settings_ui.py:2996:21
     |
2994 |                   with col2:
2995 |                       # Load button (Task 15.2)
2996 | /                     if st.button(
2997 | |                         "­ƒôÑ Version laden",
2998 | |                         use_container_width=True,
2999 | |                         key=f"load_version_{version_name}",
3000 | |                         help="Stellt alle Einstellungen dieser Version wieder her"
3001 | |                     ):
3002 | |                         # Show confirmation dialog
3003 | |                         if 'confirm_load_version' not in st.session_state:
     | |__________________________________________________________________________^
3004 |                               st.session_state.confirm_load_version = version_name
3005 |                               st.rerun()
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> admin_pdf_settings_ui.py:3008:21
     |
3007 |                       # Delete button (Task 15.3)
3008 | /                     if st.button(
3009 | |                         "­ƒùæ´©Å L├Âschen",
3010 | |                         use_container_width=True,
3011 | |                         key=f"delete_version_{version_name}",
3012 | |                         help="L├Âscht diese Version permanent"
3013 | |                     ):
3014 | |                         # Show confirmation dialog
3015 | |                         if 'confirm_delete_version' not in st.session_state:
     | |____________________________________________________________________________^
3016 |                               st.session_state.confirm_delete_version = version_name
3017 |                               st.rerun()
     |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3111:1
     |
3109 |         st.markdown("""
3110 |         ### Wie funktioniert die Versionsverwaltung?
3111 |         
     | ^^^^^^^^
3112 |         **Version speichern:**
3113 |         - Erstellt einen Snapshot aller aktuellen Design-Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3116:1
     |
3114 |         - Geben Sie einen eindeutigen Namen ein (z.B. "Corporate Design v1.0")
3115 |         - Optional k├Ânnen Sie eine Beschreibung hinzuf├╝gen
3116 |         
     | ^^^^^^^^
3117 |         **Version laden:**
3118 |         - Stellt alle Einstellungen einer gespeicherten Version wieder her
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3121:1
     |
3119 |         - **Achtung:** Alle aktuellen Einstellungen werden ├╝berschrieben
3120 |         - Eine Best├ñtigung ist erforderlich
3121 |         
     | ^^^^^^^^
3122 |         **Version l├Âschen:**
3123 |         - L├Âscht eine gespeicherte Version permanent
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3126:1
     |
3124 |         - Diese Aktion kann nicht r├╝ckg├ñngig gemacht werden
3125 |         - Eine Best├ñtigung ist erforderlich
3126 |         
     | ^^^^^^^^
3127 |         ### Was wird gespeichert?
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3128:1
     |
3127 |         ### Was wird gespeichert?
3128 |         
     | ^^^^^^^^
3129 |         Eine Version enth├ñlt:
3130 |         - PDF-Design-Einstellungen (Farben, Schriftarten, Layout)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3135:1
     |
3133 |         - PDF-Template-Einstellungen
3134 |         - Layout-Optionen
3135 |         
     | ^^^^^^^^
3136 |         ### Best Practices
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3137:1
     |
3136 |         ### Best Practices
3137 |         
     | ^^^^^^^^
3138 |         - Speichern Sie regelm├ñ├ƒig Versionen vor gr├Â├ƒeren ├änderungen
3139 |         - Verwenden Sie aussagekr├ñftige Namen (z.B. mit Versionsnummer)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3148:1
     |
3146 |     """
3147 |     Erstellt einen Snapshot aller Design-Einstellungen (Task 15.1)
3148 |     
     | ^^^^
3149 |     Args:
3150 |         load_setting: Funktion zum Laden von Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3151:1
     |
3149 |     Args:
3150 |         load_setting: Funktion zum Laden von Einstellungen
3151 |     
     | ^^^^
3152 |     Returns:
3153 |         Dictionary mit allen Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3183:1
     |
3181 |     """
3182 |     L├ñdt eine gespeicherte Version (Task 15.2)
3183 |     
     | ^^^^
3184 |     Args:
3185 |         version_name: Name der zu ladenden Version
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3188:1
     |
3186 |         versions: Dictionary mit allen Versionen
3187 |         save_setting: Funktion zum Speichern von Einstellungen
3188 |     
     | ^^^^
3189 |     Returns:
3190 |         True wenn erfolgreich, False bei Fehler
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3226:1
     |
3224 |     """
3225 |     Gibt einen benutzerfreundlichen Namen f├╝r einen Einstellungs-Key zur├╝ck
3226 |     
     | ^^^^
3227 |     Args:
3228 |         key: Einstellungs-Key
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> admin_pdf_settings_ui.py:3229:1
     |
3227 |     Args:
3228 |         key: Einstellungs-Key
3229 |     
     | ^^^^
3230 |     Returns:
3231 |         Benutzerfreundlicher Name
     |
help: Remove whitespace from blank line

F401 `pricing.dynamic_key_manager.DynamicKeyManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_pricing_rule_ui.py:14:45
   |
13 | try:
14 |     from pricing.dynamic_key_manager import DynamicKeyManager
   |                                             ^^^^^^^^^^^^^^^^^
15 |     from pricing.pricing_modification_engine import (
16 |         AccessoryConfig,
   |
help: Remove unused import: `pricing.dynamic_key_manager.DynamicKeyManager`

F401 `pricing.pricing_modification_engine.ModificationType` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_pricing_rule_ui.py:18:9
   |
16 |         AccessoryConfig,
17 |         DiscountConfig,
18 |         ModificationType,
   |         ^^^^^^^^^^^^^^^^
19 |         PricingModificationEngine,
20 |         SurchargeConfig,
   |
help: Remove unused import: `pricing.pricing_modification_engine.ModificationType`

SIM115 Use a context manager for opening files
  --> admin_product_attributes_ui.py:33:19
   |
31 |             import os
32 |             import tempfile
33 |             tmp = tempfile.NamedTemporaryFile(delete=False, suffix=".csv")
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
34 |             tmp.write(upf.read())
35 |             tmp.close()
   |

E722 Do not use bare `except`
  --> admin_product_database_ui.py:79:17
   |
77 |                         value = value.replace(',', '.')
78 |                     return float(value)
79 |                 except:
   |                 ^^^^^^
80 |                     return default
   |

E722 Do not use bare `except`
  --> admin_product_database_ui.py:88:17
   |
86 |                 try:
87 |                     return int(float(str(value).replace(',', '.')))
88 |                 except:
   |                 ^^^^^^
89 |                     return default
   |

RET504 Unnecessary assignment to `df` before `return` statement
   --> admin_product_database_ui.py:140:20
    |
138 |         try:
139 |             df = pd.read_sql_query("SELECT * FROM products_complete ORDER BY kategorie, hersteller, produkt_modell", conn)
140 |             return df
    |                    ^^
141 |         except:
142 |             return pd.DataFrame()
    |
help: Remove unnecessary assignment

E722 Do not use bare `except`
   --> admin_product_database_ui.py:141:9
    |
139 |             df = pd.read_sql_query("SELECT * FROM products_complete ORDER BY kategorie, hersteller, produkt_modell", conn)
140 |             return df
141 |         except:
    |         ^^^^^^
142 |             return pd.DataFrame()
143 |         finally:
    |

RET504 Unnecessary assignment to `df` before `return` statement
   --> admin_product_database_ui.py:154:20
    |
152 |                 conn, params=[category]
153 |             )
154 |             return df
    |                    ^^
155 |         except:
156 |             return pd.DataFrame()
    |
help: Remove unnecessary assignment

E722 Do not use bare `except`
   --> admin_product_database_ui.py:155:9
    |
153 |             )
154 |             return df
155 |         except:
    |         ^^^^^^
156 |             return pd.DataFrame()
157 |         finally:
    |

E722 Do not use bare `except`
   --> admin_product_database_ui.py:170:9
    |
168 |             )
169 |             return [row[0] for row in cursor.fetchall()]
170 |         except:
    |         ^^^^^^
171 |             return []
172 |         finally:
    |

W291 Trailing whitespace
   --> admin_product_database_ui.py:181:78
    |
179 |             cursor = conn.cursor()
180 |             cursor.execute("""
181 |                 SELECT id, produkt_modell, pv_modul_leistung, wr_leistung_kw, 
    |                                                                              ^
182 |                        kapazitaet_speicher_kwh, preis_st├╝ck, wirkungsgrad_prozent
183 |                 FROM products_complete 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_product_database_ui.py:183:39
    |
181 |                 SELECT id, produkt_modell, pv_modul_leistung, wr_leistung_kw, 
182 |                        kapazitaet_speicher_kwh, preis_st├╝ck, wirkungsgrad_prozent
183 |                 FROM products_complete 
    |                                       ^
184 |                 WHERE kategorie = ? AND hersteller = ? 
185 |                 ORDER BY produkt_modell
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_product_database_ui.py:184:55
    |
182 |                        kapazitaet_speicher_kwh, preis_st├╝ck, wirkungsgrad_prozent
183 |                 FROM products_complete 
184 |                 WHERE kategorie = ? AND hersteller = ? 
    |                                                       ^
185 |                 ORDER BY produkt_modell
186 |             """, [category, manufacturer])
    |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> admin_product_database_ui.py:190:9
    |
188 |             columns = [description[0] for description in cursor.description]
189 |             return [dict(zip(columns, row, strict=False)) for row in cursor.fetchall()]
190 |         except:
    |         ^^^^^^
191 |             return []
192 |         finally:
    |

F401 `product_db.get_product_by_id` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_profit_margin_ui.py:21:28
   |
19 |         ProfitMarginManager,
20 |     )
21 |     from product_db import get_product_by_id, list_product_categories, list_products
   |                            ^^^^^^^^^^^^^^^^^
22 |     PRICING_AVAILABLE = True
23 | except ImportError as e:
   |
help: Remove unused import

F401 `product_db.list_product_categories` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> admin_profit_margin_ui.py:21:47
   |
19 |         ProfitMarginManager,
20 |     )
21 |     from product_db import get_product_by_id, list_product_categories, list_products
   |                                               ^^^^^^^^^^^^^^^^^^^^^^^
22 |     PRICING_AVAILABLE = True
23 | except ImportError as e:
   |
help: Remove unused import

SIM108 Use ternary operator `products = list_products() if PRICING_AVAILABLE else []` instead of `if`-`else`-block
   --> admin_profit_margin_ui.py:351:9
    |
349 |       # Product selection
350 |       try:
351 | /         if PRICING_AVAILABLE:
352 | |             products = list_products()
353 | |         else:
354 | |             products = []
    | |_________________________^
355 |       except Exception as e:
356 |           st.error(f"Fehler beim Laden der Produkte: {e}")
    |
help: Replace `if`-`else`-block with `products = list_products() if PRICING_AVAILABLE else []`

C401 Unnecessary generator (rewrite as a set comprehension)
   --> admin_profit_margin_ui.py:364:34
    |
363 |     # Filter products by category
364 |     categories = ["Alle"] + list(set(p.get('category', 'Unbekannt') for p in products))
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
365 |     selected_category_filter = st.selectbox(
366 |         "Kategorie filtern",
    |
help: Rewrite as a set comprehension

W291 Trailing whitespace
  --> admin_services_ui.py:79:74
   |
77 |     if 'pdf_order' in columns:
78 |         cursor.execute('''
79 |             SELECT id, name, description, category, price, calculate_per, 
   |                                                                          ^
80 |                    is_standard, is_active, pdf_order, created_at, updated_at
81 |             FROM services 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> admin_services_ui.py:81:26
   |
79 |             SELECT id, name, description, category, price, calculate_per, 
80 |                    is_standard, is_active, pdf_order, created_at, updated_at
81 |             FROM services 
   |                          ^
82 |             WHERE is_active = 1
83 |             ORDER BY pdf_order ASC, category, name
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> admin_services_ui.py:88:74
   |
86 |         # Fallback query without pdf_order column
87 |         cursor.execute('''
88 |             SELECT id, name, description, category, price, calculate_per, 
   |                                                                          ^
89 |                    is_standard, is_active, created_at, updated_at
90 |             FROM services 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> admin_services_ui.py:90:26
   |
88 |             SELECT id, name, description, category, price, calculate_per, 
89 |                    is_standard, is_active, created_at, updated_at
90 |             FROM services 
   |                          ^
91 |             WHERE is_active = 1
92 |             ORDER BY category, name
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_services_ui.py:149:36
    |
147 |             if has_pdf_order:
148 |                 cursor.execute('''
149 |                     UPDATE services 
    |                                    ^
150 |                     SET name=?, description=?, category=?, price=?, calculate_per=?, 
151 |                         is_standard=?, pdf_order=?, updated_at=CURRENT_TIMESTAMP
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_services_ui.py:150:85
    |
148 |                 cursor.execute('''
149 |                     UPDATE services 
150 |                     SET name=?, description=?, category=?, price=?, calculate_per=?, 
    |                                                                                     ^
151 |                         is_standard=?, pdf_order=?, updated_at=CURRENT_TIMESTAMP
152 |                     WHERE id=?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_services_ui.py:165:36
    |
163 |             else:
164 |                 cursor.execute('''
165 |                     UPDATE services 
    |                                    ^
166 |                     SET name=?, description=?, category=?, price=?, calculate_per=?, 
167 |                         is_standard=?, updated_at=CURRENT_TIMESTAMP
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_services_ui.py:166:85
    |
164 |                 cursor.execute('''
165 |                     UPDATE services 
166 |                     SET name=?, description=?, category=?, price=?, calculate_per=?, 
    |                                                                                     ^
167 |                         is_standard=?, updated_at=CURRENT_TIMESTAMP
168 |                     WHERE id=?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_services_ui.py:220:28
    |
219 |         cursor.execute('''
220 |             UPDATE services 
    |                            ^
221 |             SET is_active = 0, updated_at = CURRENT_TIMESTAMP
222 |             WHERE id = ?
    |
help: Remove trailing whitespace

C403 Unnecessary list comprehension (rewrite as a set comprehension)
   --> admin_services_ui.py:264:27
    |
262 |     col1, col2 = st.columns(2)
263 |     with col1:
264 |         categories = list(set([s['category'] for s in services if s['category']]))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
265 |         selected_category = st.selectbox(
266 |             "Kategorie filtern",
    |
help: Rewrite as a set comprehension

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_services_ui.py:303:21
    |
302 |                   with col3:
303 | /                     if st.button("­ƒùæ´©Å L├Âschen", key=f"delete_service_{service['id']}"):
304 | |                         if delete_service(service['id']):
    | |_________________________________________________________^
305 |                               st.success("Service gel├Âscht!")
306 |                               st.rerun()
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> admin_services_ui.py:522:32
    |
520 |         if 'pdf_order' in columns:
521 |             cursor.execute('''
522 |                 UPDATE services 
    |                                ^
523 |                 SET pdf_order = ?, updated_at = CURRENT_TIMESTAMP
524 |                 WHERE id = ?
    |
help: Remove trailing whitespace

B007 Loop control variable `i` not used within loop body
   --> admin_services_ui.py:573:13
    |
571 |         updated_orders = {}
572 |
573 |         for i, service in enumerate(services_sorted):
    |             ^
574 |             col1, col2, col3 = st.columns([1, 3, 1])
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `name` not used within loop body
  --> admin_ui_effects_settings.py:93:20
   |
91 |     # Finde den aktuellen Index
92 |     current_index = 0
93 |     for idx, (key, name) in enumerate(effect_options):
   |                    ^^^^
94 |         if key == current_effect:
95 |             current_index = idx
   |
help: Rename unused `name` to `_name`

W293 Blank line contains whitespace
   --> admin_ui_effects_settings.py:191:1
    |
189 |         st.markdown("""
190 |         **Verf├╝gbare Effekte:**
191 |         
    | ^^^^^^^^
192 |         1. **Shimmer + Pulse** - Gl├ñnzender Sweep mit Puls-Animation (Standard)
193 |         2. **Glow + Bounce** - Leuchtender Glow mit Bounce-Bewegung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_ui_effects_settings.py:202:1
    |
200 |         9. **Cyberpunk + Glitch** - Cyberpunk-Stil mit Glitch-Effekt
201 |         10. **Elegant + Luxury** - Luxus-Stil mit goldenen Akzenten
202 |         
    | ^^^^^^^^
203 |         **Betroffene Elemente:**
204 |         - Alle Buttons (Primary, Secondary, Standard)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_ui_effects_settings.py:218:1
    |
216 |         - Die Effekte werden beim Start der Anwendung geladen
217 |         - Keine Auswirkung auf die Performance bei modernen Browsern
218 |         
    | ^^^^^^^^
219 |         **Kompatibilit├ñt:**
220 |         - Alle modernen Browser (Chrome, Firefox, Safari, Edge)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_ui_effects_settings.py:223:1
    |
221 |         - Mobile Ger├ñte werden unterst├╝tzt
222 |         - Fallback auf Standard-Styling bei ├ñlteren Browsern
223 |         
    | ^^^^^^^^
224 |         **Wartung:**
225 |         - Neue Effekte k├Ânnen in `ui_effects_library.py` hinzugef├╝gt werden
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> admin_user_management_ui.py:132:37
    |
130 |             with col_info1:
131 |                 st.markdown(f"""
132 |                 **ID:** {user['id']}  
    |                                     ^^
133 |                 **Benutzername:** `{user['username']}`  
134 |                 **Vollst├ñndiger Name:** {user.get('full_name', 'N/A')}  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:133:55
    |
131 |                 st.markdown(f"""
132 |                 **ID:** {user['id']}  
133 |                 **Benutzername:** `{user['username']}`  
    |                                                       ^^
134 |                 **Vollst├ñndiger Name:** {user.get('full_name', 'N/A')}  
135 |                 **Email:** {user.get('email', 'N/A')}  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:134:71
    |
132 |                 **ID:** {user['id']}  
133 |                 **Benutzername:** `{user['username']}`  
134 |                 **Vollst├ñndiger Name:** {user.get('full_name', 'N/A')}  
    |                                                                       ^^
135 |                 **Email:** {user.get('email', 'N/A')}  
136 |                 **Telefon:** {user.get('phone', 'N/A')}  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:135:54
    |
133 |                 **Benutzername:** `{user['username']}`  
134 |                 **Vollst├ñndiger Name:** {user.get('full_name', 'N/A')}  
135 |                 **Email:** {user.get('email', 'N/A')}  
    |                                                      ^^
136 |                 **Telefon:** {user.get('phone', 'N/A')}  
137 |                 **Firma:** {user.get('company_id', 'N/A')}
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:136:56
    |
134 |                 **Vollst├ñndiger Name:** {user.get('full_name', 'N/A')}  
135 |                 **Email:** {user.get('email', 'N/A')}  
136 |                 **Telefon:** {user.get('phone', 'N/A')}  
    |                                                        ^^
137 |                 **Firma:** {user.get('company_id', 'N/A')}
138 |                 """)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:142:41
    |
140 |             with col_info2:
141 |                 st.markdown(f"""
142 |                 **Rang:** {user['rank']}  
    |                                         ^^
143 |                 **Rolle:** {ROLES.get(user['role'], user['role'])}  
144 |                 **Provision:** {user['commission_rate']}%  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:143:67
    |
141 |                 st.markdown(f"""
142 |                 **Rang:** {user['rank']}  
143 |                 **Rolle:** {ROLES.get(user['role'], user['role'])}  
    |                                                                   ^^
144 |                 **Provision:** {user['commission_rate']}%  
145 |                 **Status:** {user['status']}  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:144:58
    |
142 |                 **Rang:** {user['rank']}  
143 |                 **Rolle:** {ROLES.get(user['role'], user['role'])}  
144 |                 **Provision:** {user['commission_rate']}%  
    |                                                          ^^
145 |                 **Status:** {user['status']}  
146 |                 **Erstellt:** {user['created_at'][:10]}  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:145:45
    |
143 |                 **Rolle:** {ROLES.get(user['role'], user['role'])}  
144 |                 **Provision:** {user['commission_rate']}%  
145 |                 **Status:** {user['status']}  
    |                                             ^^
146 |                 **Erstellt:** {user['created_at'][:10]}  
147 |                 **Letzter Login:** {user.get('last_login', 'Nie')[:10] if user.get('last_login') else 'Nie'}
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> admin_user_management_ui.py:146:56
    |
144 |                 **Provision:** {user['commission_rate']}%  
145 |                 **Status:** {user['status']}  
146 |                 **Erstellt:** {user['created_at'][:10]}  
    |                                                        ^^
147 |                 **Letzter Login:** {user.get('last_login', 'Nie')[:10] if user.get('last_login') else 'Nie'}
148 |                 """)
    |
help: Remove trailing whitespace

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_user_management_ui.py:192:21
    |
191 |                   with col_act3:
192 | /                     if user['status'] == 'active':
193 | |                         if st.button("Bef├Ârdern", key=f"promote_{user['id']}", use_container_width=True):
    | |_________________________________________________________________________________________________________^
194 |                               st.session_state[f'promote_user_{user["id"]}'] = True
195 |                               st.rerun()
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_user_management_ui.py:198:21
    |
197 |                   with col_act4:
198 | /                     if user['status'] == 'active':
199 | |                         if st.button("K├╝ndigen", key=f"term_{user['id']}", use_container_width=True):
    | |_____________________________________________________________________________________________________^
200 |                               st.session_state[f'terminate_user_{user["id"]}'] = True
201 |                               st.rerun()
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> admin_user_management_ui.py:204:21
    |
203 |                   with col_act5:
204 | /                     if user['username'] not in ['admin', 'TSchwarz']:
205 | |                         if st.button("L├Âschen", key=f"del_{user['id']}", use_container_width=True):
    | |___________________________________________________________________________________________________^
206 |                               st.session_state[f'delete_user_{user["id"]}'] = True
207 |                               st.rerun()
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> admin_user_management_ui.py:610:1
    |
608 |                     st.info(f"""
609 |                     **Transfer-Code:** `{transfer_code}`
610 |                     
    | ^^^^^^^^^^^^^^^^^^^^
611 |                     Der Empf├ñnger muss sich anmelden und diesen Code eingeben,
612 |                     um die Super-Admin-Rechte zu erhalten.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> admin_user_management_ui.py:613:1
    |
611 |                     Der Empf├ñnger muss sich anmelden und diesen Code eingeben,
612 |                     um die Super-Admin-Rechte zu erhalten.
613 |                     
    | ^^^^^^^^^^^^^^^^^^^^
614 |                     Code g├╝ltig bis: Heute 23:59 Uhr
615 |                     """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_charts.py:23:1
   |
21 |     """
22 |     Erstellt ein detailliertes Break-Even Chart mit mehreren Szenarien.
23 |     
   | ^^^^
24 |     Zeigt:
25 |     - Kumulativer Cashflow ├╝ber Zeit
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_charts.py:30:1
   |
28 |     - Investitionspunkt
29 |     - ROI-Entwicklung
30 |     
   | ^^^^
31 |     Args:
32 |         analysis_results: Analyseergebnisse
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_charts.py:34:1
   |
32 |         analysis_results: Analyseergebnisse
33 |         texts: Sprachdateien
34 |         
   | ^^^^^^^^
35 |     Returns:
36 |         Plotly Figure
   |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> advanced_charts.py:114:22
    |
112 |                 name=scenario_name,
113 |                 mode='lines+markers',
114 |                 line=dict(width=3, color=colors.get(scenario_name, '#1F4B99')),
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
115 |                 marker=dict(size=6),
116 |                 hovertemplate=f'{scenario_name}<br>Jahr %{{x}}<br>Cashflow: %{{y:,.0f}} Ôé¼<extra></extra>'
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> advanced_charts.py:115:24
    |
113 |                 mode='lines+markers',
114 |                 line=dict(width=3, color=colors.get(scenario_name, '#1F4B99')),
115 |                 marker=dict(size=6),
    |                        ^^^^^^^^^^^^
116 |                 hovertemplate=f'{scenario_name}<br>Jahr %{{x}}<br>Cashflow: %{{y:,.0f}} Ôé¼<extra></extra>'
117 |             ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> advanced_charts.py:128:28
    |
126 |                     name=f'Break-Even ({scenario_name})',
127 |                     mode='markers+text',
128 |                     marker=dict(size=15, color=colors.get(scenario_name), symbol='star'),
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
129 |                     text=[f'Jahr {be_year}'],
130 |                     textposition='top center',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> advanced_charts.py:141:20
    |
139 |             name='Investition',
140 |             mode='markers+text',
141 |             marker=dict(size=12, color='black', symbol='diamond'),
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
142 |             text=[f'-{total_investment:,.0f} Ôé¼'],
143 |             textposition='bottom center',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> advanced_charts.py:154:20
    |
152 |               hovermode='x unified',
153 |               showlegend=True,
154 |               legend=dict(
    |  ____________________^
155 | |                 orientation="h",
156 | |                 yanchor="bottom",
157 | |                 y=1.02,
158 | |                 xanchor="right",
159 | |                 x=1
160 | |             ),
    | |_____________^
161 |               height=500
162 |           )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> advanced_charts.py:194:1
    |
192 |     """
193 |     Erstellt ein Lebenszykluskosten-Chart (Total Cost of Ownership).
194 |     
    | ^^^^
195 |     Zeigt:
196 |     - Anschaffungskosten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_charts.py:201:1
    |
199 |     - Einsparungen
200 |     - Netto-TCO ├╝ber Lebenszyklus
201 |     
    | ^^^^
202 |     Args:
203 |         analysis_results: Analyseergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_charts.py:206:1
    |
204 |         project_data: Projektdaten
205 |         texts: Sprachdateien
206 |         
    | ^^^^^^^^
207 |     Returns:
208 |         Plotly Figure (Waterfall Chart)
    |
help: Remove whitespace from blank line

F841 Local variable `inverter_replacement_year` is assigned to but never used
   --> advanced_charts.py:232:9
    |
231 |         # 3. Wechselrichter-Austausch (nach 12-15 Jahren)
232 |         inverter_replacement_year = 12
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^
233 |         inverter_cost = pv_power_kw * 200  # ca. 200Ôé¼/kW
    |
help: Remove assignment to unused variable `inverter_replacement_year`

F841 Local variable `battery_replacement_year` is assigned to but never used
   --> advanced_charts.py:238:13
    |
236 |         if has_battery:
237 |             battery_capacity = analysis_results.get('battery_capacity_kwh', 10)
238 |             battery_replacement_year = 12
    |             ^^^^^^^^^^^^^^^^^^^^^^^^
239 |             battery_cost = battery_capacity * 600  # ca. 600Ôé¼/kWh (g├╝nstiger als Neupreis)
240 |         else:
    |
help: Remove assignment to unused variable `battery_replacement_year`

W293 Blank line contains whitespace
   --> advanced_charts.py:366:1
    |
364 |     """
365 |     Exportiert Plotly Figure zu Bytes f├╝r PDF-Export.
366 |     
    | ^^^^
367 |     Args:
368 |         fig: Plotly Figure
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_charts.py:370:1
    |
368 |         fig: Plotly Figure
369 |         texts: Sprachdateien
370 |         
    | ^^^^^^^^
371 |     Returns:
372 |         PNG Bytes
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `img_bytes` before `return` statement
   --> advanced_charts.py:376:16
    |
374 |     try:
375 |         img_bytes = fig.to_image(format="png", width=1200, height=600, scale=2)
376 |         return img_bytes
    |                ^^^^^^^^^
377 |     except Exception as e:
378 |         print(f"Fehler beim Export: {e}")
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> advanced_charts.py:389:1
    |
387 |     """
388 |     Erstellt alle erweiterten Charts und exportiert sie.
389 |     
    | ^^^^
390 |     Args:
391 |         analysis_results: Analyseergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_charts.py:394:1
    |
392 |         project_data: Projektdaten
393 |         texts: Sprachdateien
394 |         
    | ^^^^^^^^
395 |     Returns:
396 |         Dict mit Chart-Bytes f├╝r PDF-Export
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_features.py:22:1
   |
20 |     """
21 |     Optimiert die Stromtarif-Auswahl basierend auf Verbrauchsprofil und PV-Produktion.
22 |     
   | ^^^^
23 |     Analysiert:
24 |     - Verschiedene Tarifmodelle (Einheitstarif, HT/NT, dynamisch)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_features.py:28:1
   |
26 |     - Optimale Tarif-Kombination mit PV-Anlage
27 |     - Lastverschiebungspotenzial
28 |     
   | ^^^^
29 |     Args:
30 |         project_data: Projektdaten mit Verbrauchsprofil
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> advanced_features.py:32:1
   |
30 |         project_data: Projektdaten mit Verbrauchsprofil
31 |         analysis_results: Analyseergebnisse mit PV-Produktion
32 |         
   | ^^^^^^^^
33 |     Returns:
34 |         Dict mit Tarif-Optimierungsergebnissen
   |
help: Remove whitespace from blank line

F841 Local variable `pv_production` is assigned to but never used
  --> advanced_features.py:39:9
   |
37 |         # Basis-Daten extrahieren
38 |         annual_consumption = project_data.get('annual_consumption', 5000)
39 |         pv_production = analysis_results.get('total_pv_production_year', 0)
   |         ^^^^^^^^^^^^^
40 |         grid_import = analysis_results.get('grid_import_kwh', annual_consumption)
   |
help: Remove assignment to unused variable `pv_production`

W293 Blank line contains whitespace
   --> advanced_features.py:133:1
    |
131 |     """
132 |     Berechnet steuerliche Vorteile der PV-Anlage.
133 |     
    | ^^^^
134 |     Ber├╝cksichtigt:
135 |     - Umsatzsteuererstattung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:140:1
    |
138 |     - Kleinunternehmerregelung
139 |     - Sonderabschreibungen
140 |     
    | ^^^^
141 |     Args:
142 |         project_data: Projektdaten mit Investitionssumme
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:144:1
    |
142 |         project_data: Projektdaten mit Investitionssumme
143 |         analysis_results: Analyseergebnisse mit Einnahmen
144 |         
    | ^^^^^^^^
145 |     Returns:
146 |         Dict mit Steuervorteilen
    |
help: Remove whitespace from blank line

F841 Local variable `annual_savings` is assigned to but never used
   --> advanced_features.py:152:9
    |
150 |         total_investment = analysis_results.get('total_investment', 0)
151 |         annual_feed_in_revenue = analysis_results.get('annual_feed_in_revenue', 0)
152 |         annual_savings = analysis_results.get('annual_savings_after_pv', 0)
    |         ^^^^^^^^^^^^^^
153 |
154 |         # Customer data
    |
help: Remove assignment to unused variable `annual_savings`

F841 Local variable `is_business` is assigned to but never used
   --> advanced_features.py:156:9
    |
154 |         # Customer data
155 |         customer_data = project_data.get('customer_data', {})
156 |         is_business = customer_data.get('is_business', False)
    |         ^^^^^^^^^^^
157 |         tax_rate = customer_data.get('tax_rate_percent', 30) / 100  # Standard 30%
    |
help: Remove assignment to unused variable `is_business`

W293 Blank line contains whitespace
   --> advanced_features.py:280:1
    |
278 |     """
279 |     Optimiert die Auswahl verf├╝gbarer F├Ârderungen.
280 |     
    | ^^^^
281 |     Analysiert:
282 |     - Bundesf├Ârderungen (BAFA, KfW)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:287:1
    |
285 |     - Kombinationsm├Âglichkeiten
286 |     - Optimale Antragsstrategie
287 |     
    | ^^^^
288 |     Args:
289 |         project_data: Projektdaten mit Standort und Komponenten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:291:1
    |
289 |         project_data: Projektdaten mit Standort und Komponenten
290 |         analysis_results: Analyseergebnisse
291 |         
    | ^^^^^^^^
292 |     Returns:
293 |         Dict mit F├Ârderungsempfehlungen
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> advanced_features.py:359:9
    |
358 |           # Bayern: 10.000-H├ñuser-Programm (Stand 2023, kann sich ├ñndern)
359 | /         if 'Bayern' in state or postal_code.startswith(('8', '9')):
360 | |             if has_battery and battery_capacity >= 5:
    | |_____________________________________________________^
361 |                   bayern_battery = {
362 |                       'name': 'Bayern: PV-Speicher-Programm',
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> advanced_features.py:373:9
    |
372 |           # NRW: progres.nrw
373 | /         if 'Nordrhein-Westfalen' in state or 'NRW' in state or postal_code.startswith(('4', '5')):
374 | |             if has_battery:
    | |___________________________^
375 |                   nrw_battery = {
376 |                       'name': 'NRW: progres.nrw - Speicherf├Ârderung',
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> advanced_features.py:461:1
    |
459 |     """
460 |     Erweiterte Optimierung der Batteriespeicher-Konfiguration.
461 |     
    | ^^^^
462 |     Analysiert:
463 |     - Optimale Speichergr├Â├ƒe (kWh)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:469:1
    |
467 |     - ROI-Optimierung
468 |     - Mehrwert durch Peak Shaving
469 |     
    | ^^^^
470 |     Args:
471 |         project_data: Projektdaten mit PV und Verbrauch
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:473:1
    |
471 |         project_data: Projektdaten mit PV und Verbrauch
472 |         analysis_results: Analyseergebnisse
473 |         
    | ^^^^^^^^
474 |     Returns:
475 |         Dict mit Batterie-Optimierung
    |
help: Remove whitespace from blank line

F841 Local variable `daily_production` is assigned to but never used
   --> advanced_features.py:482:9
    |
480 |         pv_production = analysis_results.get('total_pv_production_year', 0)
481 |         daily_consumption = annual_consumption / 365
482 |         daily_production = pv_production / 365
    |         ^^^^^^^^^^^^^^^^
483 |
484 |         current_battery_capacity = analysis_results.get('battery_capacity_kwh', 0)
    |
help: Remove assignment to unused variable `daily_production`

F841 Local variable `has_battery` is assigned to but never used
   --> advanced_features.py:485:9
    |
484 |         current_battery_capacity = analysis_results.get('battery_capacity_kwh', 0)
485 |         has_battery = current_battery_capacity > 0
    |         ^^^^^^^^^^^
486 |
487 |         # Verschiedene Speichergr├Â├ƒen simulieren
    |
help: Remove assignment to unused variable `has_battery`

W293 Blank line contains whitespace
   --> advanced_features.py:625:1
    |
623 |     """
624 |     Vollst├ñndiger Vergleich aller Finanzierungsszenarien.
625 |     
    | ^^^^
626 |     Vergleicht:
627 |     - Barkauf
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:632:1
    |
630 |     - Mietkauf / PPA
631 |     - Mit und ohne Eigenkapital
632 |     
    | ^^^^
633 |     Args:
634 |         project_data: Projektdaten mit Finanzierung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:636:1
    |
634 |         project_data: Projektdaten mit Finanzierung
635 |         analysis_results: Analyseergebnisse
636 |         
    | ^^^^^^^^
637 |     Returns:
638 |         Dict mit Finanzierungs-Szenarien-Vergleich
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:807:1
    |
805 |     """
806 |     F├╝hrt alle erweiterten Features aus und gibt Ergebnisse zur├╝ck.
807 |     
    | ^^^^
808 |     Args:
809 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> advanced_features.py:811:1
    |
809 |         project_data: Projektdaten
810 |         analysis_results: Analyseergebnisse
811 |         
    | ^^^^^^^^
812 |     Returns:
813 |         Dict mit allen Feature-Ergebnissen
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `context` before `return` statement
  --> ai_companion.py:61:16
   |
59 | - Solar-/PV-fokussiert
60 | """
61 |         return context
   |                ^^^^^^^
62 |
63 |     def call_deepseek_api(self, message: str) -> str | None:
   |
help: Remove unnecessary assignment

SIM102 Use a single `if` statement instead of nested `if` statements
   --> ai_companion.py:137:13
    |
136 |           with col3:
137 | /             if st.session_state.ai_companion_visible:
138 | |                 if st.button("", help="AI-Begleiter schlie├ƒen", key="ai_close"):
    | |________________________________________________________________________________^
139 |                       st.session_state.ai_companion_visible = False
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> ai_companion.py:152:33
    |
150 |             st.markdown("""
151 |             <div style="
152 |                 position: fixed; 
    |                                 ^
153 |                 top: 100px; 
154 |                 right: 20px; 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:153:28
    |
151 |             <div style="
152 |                 position: fixed; 
153 |                 top: 100px; 
    |                            ^
154 |                 right: 20px; 
155 |                 width: 350px; 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:154:29
    |
152 |                 position: fixed; 
153 |                 top: 100px; 
154 |                 right: 20px; 
    |                             ^
155 |                 width: 350px; 
156 |                 max-height: 500px;
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:155:30
    |
153 |                 top: 100px; 
154 |                 right: 20px; 
155 |                 width: 350px; 
    |                              ^
156 |                 max-height: 500px;
157 |                 background: white; 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:157:35
    |
155 |                 width: 350px; 
156 |                 max-height: 500px;
157 |                 background: white; 
    |                                   ^
158 |                 border: 2px solid #1B365D; 
159 |                 border-radius: 10px; 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:158:43
    |
156 |                 max-height: 500px;
157 |                 background: white; 
158 |                 border: 2px solid #1B365D; 
    |                                           ^
159 |                 border-radius: 10px; 
160 |                 padding: 15px; 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:159:37
    |
157 |                 background: white; 
158 |                 border: 2px solid #1B365D; 
159 |                 border-radius: 10px; 
    |                                     ^
160 |                 padding: 15px; 
161 |                 box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ai_companion.py:160:31
    |
158 |                 border: 2px solid #1B365D; 
159 |                 border-radius: 10px; 
160 |                 padding: 15px; 
    |                               ^
161 |                 box-shadow: 0 4px 20px rgba(0,0,0,0.15);
162 |                 z-index: 1000;
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> ai_companion.py:251:62
    |
250 |         with col2:
251 |             if st.button(" Einw├ñnde", key="quick_objections"):                self.process_message("Was sind typische Kundeneinw├ñnde ÔÇª
    |                                                              ^
252 |
253 |             if st.button(" Angebotshilfe", key="quick_offer"):
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> ai_companion.py:273:13
    |
271 |                       st.warning(" Bitte eine Frage eingeben")
272 |           with col2:
273 | /             if st.button(" Settings", key="ai_settings"):
274 | |                 # API-Key zur├╝cksetzen
275 | |                 if st.button(" Key ├ñndern", key="reset_api_key"):
    | |_________________________________________________________________^
276 |                       st.session_state.ai_companion_api_key = ""
277 |                       st.rerun()
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
  --> analyse_alle_amortisationszeit_berechnungen.py:13:33
   |
11 | print("-" * 120)
12 | print("""
13 | FUNKTION: perform_calculations() 
   |                                 ^
14 | ORT: calculations.py, Zeile 3692-3698
15 | FORMEL: final_investment_amount / annual_financial_benefit_year1
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> analyse_alle_amortisationszeit_berechnungen.py:222:1
    |
220 | 1. SOFORT FIXEN:
221 |    ÔØî analysis.py Zeile 403: _calculate_amortization_time() entfernen oder implementieren
222 |    
    | ^^^
223 | 2. PREIS F├£R AMORTISATION PR├£FEN:
224 |    Ô£à Sicherstellen dass calculations.py FINAL_END_PREIS verwendet
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analyse_alle_amortisationszeit_berechnungen.py:226:1
    |
224 |    Ô£à Sicherstellen dass calculations.py FINAL_END_PREIS verwendet
225 |    ÔØî Alte Keys (final_modified_price_net, etc.) auskommentieren oder entfernen
226 |    
    | ^^^
227 | 3. KEYS VEREINHEITLICHEN:
228 |    ÔåÆ Nur noch "amortization_time_years" verwenden
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analyse_alle_amortisationszeit_berechnungen.py:230:1
    |
228 |    ÔåÆ Nur noch "amortization_time_years" verwenden
229 |    ÔåÆ Alle anderen Keys (payback_time, payback_period) eliminieren
230 |    
    | ^^^
231 | 4. PDF-PLACEHOLDER PR├£FEN:
232 |    ÔåÆ Sicherstellen dass "amortization_time" den richtigen Wert aus 
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> analyse_alle_amortisationszeit_berechnungen.py:232:67
    |
231 | 4. PDF-PLACEHOLDER PR├£FEN:
232 |    ÔåÆ Sicherstellen dass "amortization_time" den richtigen Wert aus 
    |                                                                   ^
233 |      "amortization_time_years" bekommt
234 |    ÔåÆ Fallback auf "amortisationszeit_jahre" entfernen
    |
help: Remove trailing whitespace

B007 Loop control variable `dirs` not used within loop body
  --> analyse_alle_duplikate.py:16:11
   |
14 | # Alle Python-Dateien scannen
15 | dateien = []
16 | for root, dirs, files in os.walk('c:/Users/win10/Desktop/Bokuk2'):
   |           ^^^^
17 |     # ├£berspringe bestimmte Verzeichnisse
18 |     if any(skip in root for skip in ['.git', '__pycache__', 'venv', 'env', 'node_modules']):
   |
help: Rename unused `dirs` to `_dirs`

E722 Do not use bare `except`
   --> analyse_alle_duplikate.py:159:5
    |
157 |                         'code': zeile_text[:80]
158 |                     })
159 |     except:
    |     ^^^^^^
160 |         pass
    |

C401 Unnecessary generator (rewrite as a set comprehension)
   --> analyse_alle_duplikate.py:172:21
    |
170 |     for key, locations in sorted(mehrfach_keys.items(), key=lambda x: len(x[1]), reverse=True)[:10]:
171 |         print(f"\n'{key}': {len(locations)} Zuweisungen")
172 |         datei_set = set(loc['datei'] for loc in locations)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
173 |         for datei in sorted(datei_set)[:5]:
174 |             count = sum(1 for loc in locations if loc['datei'] == datei)
    |
help: Rewrite as a set comprehension

SIM102 Use a single `if` statement instead of nested `if` statements
   --> analyse_alle_duplikate.py:192:17
    |
190 |               for i, zeile in enumerate(zeilen, 1):
191 |                   # Suche nach Division (Amortisation)
192 | /                 if re.search(r'=.*\s*/\s*', zeile) and not zeile.strip().startswith('#'):
193 | |                     if any(word in zeile.lower() for word in ['amort', 'payback', 'jahre', 'years']):
    | |_____________________________________________________________________________________________________^
194 |                           rel_pfad = datei.replace('c:/Users/win10/Desktop/Bokuk2/', '')
195 |                           formeln.append({
    |
help: Combine `if` statements using `and`

E722 Do not use bare `except`
   --> analyse_alle_duplikate.py:211:5
    |
209 |                         'code': zeile.strip()[:100]
210 |                     })
211 |     except:
    |     ^^^^^^
212 |         pass
    |

E402 Module level import not at top of file
   --> analysis.py:294:1
    |
292 | """
293 |
294 | from typing import Any
    | ^^^^^^^^^^^^^^^^^^^^^^
295 |
296 | import streamlit as st
    |

E402 Module level import not at top of file
   --> analysis.py:296:1
    |
294 | from typing import Any
295 |
296 | import streamlit as st
    | ^^^^^^^^^^^^^^^^^^^^^^
    |

F841 Local variable `brutto_betrag` is assigned to but never used
   --> analysis.py:319:5
    |
317 |     # Preis-KPIs berechnen
318 |     netto_betrag = results.get('total_investment_netto', 0.0)
319 |     brutto_betrag = results.get('total_investment_brutto', 0.0)
    |     ^^^^^^^^^^^^^
320 |
321 |     # FINALE PREISLOGIK: Verwende den finalen Endbetrag aus Solar Calculator
    |
help: Remove assignment to unused variable `brutto_betrag`

RET503 Missing explicit `return` at the end of function able to return non-`None` value
   --> analysis.py:363:1
    |
363 | / def get_final_investment_amount(results: dict[str, Any] = None) -> float:
364 | |     """
365 | |     Holt den finalen Investitionsbetrag mit korrekter Priorit├ñt:
366 | |     1. Preis├ñnderungen (h├Âchste Priorit├ñt)
367 | |     2. Provision 
368 | |     3. Basis-Nettobetrag
369 | |     4. Fallback aus results
370 | |     """
371 | |     project_details = st.session_state.get('project_data', {}).get('project_details', {})
372 | |
373 | |     # 1. Finaler Preis aus Preis├ñnderungen (h├Âchste Priorit├ñt)
374 | |     final_amount = project_details.get('final_offer_price_net')
375 | |     if final_amount is not None and final_amount > 0:
376 | |         return float(final_amount)
377 | |
378 | |     # 2. Preis mit Provision
379 | |     final_amount = project_details.get('final_price_with_provision')
380 | |     if final_amount is not None and final_amount > 0:
381 | |         return float(final_amount)
382 | |
383 | |     # 3. Basis-Nettobetrag aus results
384 | |     if results:
385 | |         final_amount = results.get('total_investment_netto', 0.0)
386 | |         if final_amount > 0:
387 | |             return float(final_amount)
388 | |
389 | |     # 4. Fallback aus Session State
390 | |     if 'calculation_results' in st.session_state:
391 | |         calc_results = st.session_state['calculation_results']
392 | |         final_amount = calc_results.get('total_investment_netto', 0.0)
393 | |         if final_amount > 0:
394 | |             return float(final_amount)
395 | |
396 | |     # 5. Letzter Fallback
397 | |     return 25000.0
398 | |
399 | |     # MwSt-Ersparnis berechnen (nur f├╝r Privatpersonen) - zur Visualisierung mit 19%
400 | |     customer_type = st.session_state.get('project_data', {}).get('customer_data', {}).get('type', '')
401 | |     is_private = customer_type.lower() in ['privat', 'private', 'privatperson', 'privatkunde']
402 | |
403 | |     # Wenn brutto_betrag 0 ist, MwSt aus netto_betrag berechnen - immer 19% f├╝r Privatpersonen zur Visualisierung
404 | |     if is_private:
405 | |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
406 | |             mwst_ersparnis = brutto_betrag - netto_betrag
407 | |         else:
408 | |             # Berechne 19% MwSt zur Visualisierung
409 | |             mwst_ersparnis = netto_betrag * 0.19
410 | |     else:
411 | |         mwst_ersparnis = 0.0
412 | |
413 | |     # Amortisationszeit korrekt berechnen
414 | |     annual_savings = results.get('annual_total_savings_euro', 0.0)
415 | |     annual_feedin_revenue = results.get('annual_feedin_revenue_euro', 0.0)
416 | |     annual_electricity_savings = results.get('annual_electricity_cost_savings_euro', 0.0)
417 | |
418 | |     # Gesamteinsparungen berechnen (falls nicht direkt verf├╝gbar)
419 | |     if annual_savings <= 0:
420 | |         annual_savings = annual_feedin_revenue + annual_electricity_savings
421 | |     st.sidebar.write(f"Stromkostenersparnis: {annual_electricity_savings:.2f}Ôé¼")
422 | |     st.sidebar.write(f"Einspeiseverg├╝tung: {annual_feedin_revenue:.2f}Ôé¼")
423 | |     st.sidebar.write(f"Gesamteinsparung: {annual_savings:.2f}Ôé¼")
424 | |
425 | |     amortisation_years = _calculate_amortization_time(final_price, annual_savings)
426 | |     debug_log(
427 | |         "analysis.pricing",
428 | |         "Amortisationszeit berechnet",
429 | |         final_price=final_price,
430 | |         annual_savings=annual_savings,
431 | |         amortisation_years=amortisation_years
432 | |     )
433 | |
434 | |     # Admin-Cheat f├╝r Amortisationszeit anwenden (Anzeige)
435 | |     try:
436 | |         cheat = load_admin_setting("amortization_cheat_settings", None)
437 | |         if isinstance(cheat, dict) and cheat.get("enabled"):
438 | |             mode = cheat.get("mode", "fixed")
439 | |             cheated = None
440 | |             if mode == "fixed":
441 | |                 try:
442 | |                     val = float(cheat.get("value_years"))
443 | |                     if val > 0:
444 | |                         cheated = val
445 | |                 except (TypeError, ValueError):
446 | |                     pass
447 | |             elif mode == "absolute_reduction":
448 | |                 try:
449 | |                     red = float(cheat.get("value_years"))
450 | |                     if red > 0 and amortisation_years not in (None, float("inf")):
451 | |                         cheated = max(0.1, amortisation_years - red)
452 | |                 except (TypeError, ValueError):
453 | |                     pass
454 | |             elif mode == "percentage_reduction":
455 | |                 try:
456 | |                     pct = float(cheat.get("percent"))
457 | |                     if amortisation_years not in (None, float("inf")):
458 | |                         pct = min(95.0, max(0.0, pct))
459 | |                         cheated = max(0.1, amortisation_years * (1 - pct / 100.0))
460 | |                 except (TypeError, ValueError):
461 | |                     pass
462 | |             if cheated is not None:
463 | |                 amortisation_years = cheated
464 | |     except Exception:
465 | |         pass
466 | |
467 | |     # Hauptmetriken in 6 Spalten
468 | |     st.subheader(" Haupt KPIs")
469 | |     col1, col2, col3, col4, col5, col6 = st.columns(6)
470 | |
471 | |     with col1:
472 | |         st.metric(
473 | |             get_text(texts,"kpi_net_amount","Nettobetrag"),
474 | |             format_kpi_value(netto_betrag, "Ôé¼", texts_dict=texts, precision=2)
475 | |         )
476 | |
477 | |     with col2:
478 | |         rebate_color = "" if total_rebates > 0 else ""
479 | |         st.metric(
480 | |             f"{rebate_color} " + get_text(texts,"kpi_rebates","Rabatte"),
481 | |             format_kpi_value(total_rebates, "Ôé¼", texts_dict=texts, precision=2)
482 | |         )
483 | |
484 | |     with col3:
485 | |         surcharge_color = "" if total_surcharges > 0 else ""
486 | |         st.metric(
487 | |             f"{surcharge_color} " + get_text(texts,"kpi_surcharges","Aufpreise"),
488 | |             format_kpi_value(total_surcharges, "Ôé¼", texts_dict=texts, precision=2)
489 | |         )
490 | |
491 | |     with col4:
492 | |         st.metric(
493 | |             get_text(texts,"kpi_final_price","Finaler Angebotspreis"),
494 | |             format_kpi_value(final_price, "Ôé¼", texts_dict=texts, precision=2)
495 | |         )
496 | |
497 | |     with col5:
498 | |         if is_private:
499 | |             st.metric(
500 | |                 get_text(texts,"kpi_vat_savings","Ersparte MwSt"),
501 | |                 format_kpi_value(mwst_ersparnis, "Ôé¼", texts_dict=texts, precision=2)
502 | |             )
503 | |             # Debug-Info als Hilfe f├╝r den Benutzer (auskommentiert f├╝r Produktion)
504 | |             # if mwst_ersparnis == 0:
505 | |             #     st.caption(f"Debug: Kunde='{customer_type}', Privat={is_private}, Netto={netto_betrag:.2f}Ôé¼")
506 | |         else:
507 | |             st.metric(
508 | |                 get_text(texts,"kpi_vat_savings","MwSt-Status"),
509 | |                 "Gesch├ñftskunde"
510 | |             )
511 | |
512 | |     with col6:
513 | |         amortization_color = "" if amortisation_years <= 10 else "" if amortisation_years <= 15 else ""
514 | |         st.metric(
515 | |             f"{amortization_color} " + get_text(texts,"kpi_payback_time","Amortisationszeit"),
516 | |             format_kpi_value(amortisation_years, "Jahre", texts_dict=texts, precision=1) if amortisation_years > 0 else "Nicht berechÔÇª
517 | |         )
518 | |
519 | |     st.markdown("---")
520 | |
521 | |     # Energie-KPIs in 4 Spalten
522 | |     st.subheader(" Energie-KPIs")
523 | |     ecol1, ecol2, ecol3, ecol4 = st.columns(4)
524 | |
525 | |     with ecol1:
526 | |         st.metric(
527 | |             get_text(texts,"kpi_annual_yield","J├ñhrliche Stromproduktion"),
528 | |             format_kpi_value(results.get('annual_pv_production_kwh', 0.0), "kWh", texts_dict=texts, precision=0)
529 | |         )
530 | |
531 | |     with ecol2:
532 | |         st.metric(
533 | |             get_text(texts,"kpi_self_sufficiency","Autarkiegrad"),
534 | |             f"{results.get('self_supply_rate_percent', 0.0):.2f}%"
535 | |         )
536 | |
537 | |     with ecol3:
538 | |         eigenverbrauch = results.get('eigenverbrauch_pro_jahr_kwh', 0.0)
539 | |         st.metric(
540 | |             get_text(texts,"kpi_self_consumption","Eigenverbrauch"),
541 | |             format_kpi_value(eigenverbrauch, "kWh", texts_dict=texts, precision=0)
542 | |         )
543 | |
544 | |     with ecol4:
545 | |         einspeisung = results.get('netzeinspeisung_kwh', 0.0)
546 | |         st.metric(
547 | |             get_text(texts,"kpi_feed_in","Einspeisung"),
548 | |             format_kpi_value(einspeisung, "kWh", texts_dict=texts, precision=0)
549 | |         )
550 | |
551 | |     st.markdown("---")
552 | |
553 | |     # Langzeit-Stromkosten in 3 Spalten - mit korrekter Berechnung aus Bedarfsanalyse
554 | |     st.subheader(" Stromkosten-Prognose")
555 | |     simulation_years = results.get('simulation_period_years_effective', 20)
556 | |     electricity_price_increase = results.get('electricity_price_increase_rate_effective_percent', 3.0)
557 | |
558 | |     # Bedarfsanalyse-Daten holen f├╝r korrekte Berechnung
559 | |     project_data = st.session_state.get('project_data', {})
560 | |     household_costs_monthly = project_data.get('stromkosten_haushalt_euro_monat', 0.0)
561 | |     heating_costs_monthly = project_data.get('stromkosten_heizung_euro_monat', 0.0)
562 | |     annual_total_costs_without_pv = (household_costs_monthly + heating_costs_monthly) * 12
563 | |     annual_consumption_total = results.get('annual_consumption_kwh', 3000.0)
564 | |
565 | |     # Berechne aktuellen Stromtarif
566 | |     if annual_consumption_total > 0 and annual_total_costs_without_pv > 0:
567 | |         current_tariff_eur_per_kwh = annual_total_costs_without_pv / annual_consumption_total
568 | |     else:
569 | |         current_tariff_eur_per_kwh = 0.35
570 | |
571 | |     # Info-Sektion f├╝r Tarif-Anzeige
572 | |     st.info(f"""
573 | |      **Bedarfsanalyse-Daten:**
574 | |     ÔÇó Monatliche Stromkosten: {household_costs_monthly + heating_costs_monthly:.2f}Ôé¼ 
575 | |     ÔÇó J├ñhrliche Stromkosten (ohne Photovoltaik): {annual_total_costs_without_pv:.2f}Ôé¼
576 | |     ÔÇó Gesamtverbrauch: {annual_consumption_total:.2f} kWh
577 | |     ÔÇó **Aktueller Stromtarif: {current_tariff_eur_per_kwh:.3f} Ôé¼/kWh**
578 | |     """)
579 | |
580 | |     fcol1, fcol2, fcol3 = st.columns(3)
581 | |
582 | |     with fcol1:
583 | |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
584 | |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
585 | |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
586 | |
587 | |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
588 | |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
589 | |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
590 | |
591 | |         # Einsparung berechnen
592 | |         savings_10_years = costs_without_pv_10_with_increase - costs_with_pv_10_with_increase
593 | |
594 | |         st.metric(
595 | |             " Stromkosten OHNE Photovoltaik (10 Jahre)",
596 | |             format_kpi_value(costs_without_pv_10_with_increase, "Ôé¼", texts_dict=texts, precision=0),
597 | |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_10_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
598 | |         )
599 | |         st.success(f"**Ersparnis: {format_kpi_value(savings_10_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
600 | |
601 | |     with fcol2:
602 | |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
603 | |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
604 | |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
605 | |
606 | |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
607 | |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
608 | |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
609 | |
610 | |         # Einsparung berechnen
611 | |         savings_20_years = costs_without_pv_20_with_increase - costs_with_pv_20_with_increase
612 | |
613 | |         st.metric(
614 | |             " Stromkosten OHNE Photovoltaik (20 Jahre)",
615 | |             format_kpi_value(costs_without_pv_20_with_increase, "Ôé¼", texts_dict=texts, precision=0),
616 | |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_20_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
617 | |         )
618 | |         st.success(f"**Ersparnis: {format_kpi_value(savings_20_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
619 | |
620 | |     with fcol3:
621 | |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
622 | |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
623 | |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
624 | |
625 | |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
626 | |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
627 | |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
628 | |
629 | |         # Einsparung berechnen
630 | |         savings_30_years = costs_without_pv_30_with_increase - costs_with_pv_30_with_increase
631 | |
632 | |         st.metric(
633 | |             " Stromkosten OHNE Photovoltaik (30 Jahre)",
634 | |             format_kpi_value(costs_without_pv_30_with_increase, "Ôé¼", texts_dict=texts, precision=0),
635 | |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_30_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
636 | |         )
637 | |         st.success(f"**Ersparnis: {format_kpi_value(savings_30_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
638 | |
639 | |     st.markdown("---")
640 | |
641 | |     # NEU: 20 Jahre ÔÇô J├ñhrliche Stromkosten (ohne/mit Erh├Âhung) als shadcn-├ñhnliches Balkendiagramm
642 | |     st.subheader(" 20 Jahre ÔÇô J├ñhrliche Stromkosten (ohne/mit Erh├Âhung)")
643 | |     try:
644 | |         years = 20
645 | |         # Robuste Basis aus mehreren Quellen
646 | |         base_annual_cost = float(
647 | |             _get_baseline_annual_costs_without_pv(
648 | |                 st.session_state.get('project_data', {}),
649 | |                 st.session_state.get('project_data', {}).get('project_details', {}),
650 | |                 results,
651 | |             )
652 | |         ) or float(annual_total_costs_without_pv)
653 | |         inc_pct = float(electricity_price_increase)
654 | |         series_no_inc = _compute_annual_cost_series(base_annual_cost, years, 0.0)
655 | |         series_with_inc = _compute_annual_cost_series(base_annual_cost, years, inc_pct)
656 | |
657 | |         # Speichere dynamische Keys f├╝r sp├ñtere PDF-Nutzung
658 | |         st.session_state["page3_20y_series_years"] = list(range(1, years + 1))
659 | |         st.session_state["page3_20y_series_no_inc"] = series_no_inc
660 | |         st.session_state["page3_20y_series_with_inc"] = series_with_inc
661 | |         st.session_state["page3_20y_axis_top"] = max(max(series_no_inc or [0]), max(series_with_inc or [0]))
662 | |
663 | |         import plotly.graph_objects as go
664 | |         fig_20y = go.Figure()
665 | |         x_vals = list(range(1, years + 1))
666 | |         # Farben im shadcn-Stil (hell/dunkel, dezent)
667 | |         color_no_inc = "#9CA3AF"  # slate-400
668 | |         color_with_inc = "#1F4B99"  # dunkles Blau passend zum Corporate
669 | |         fig_20y.add_bar(
670 | |             x=x_vals,
671 | |             y=series_no_inc,
672 | |             name="Ohne Erh├Âhung",
673 | |             marker_color=color_no_inc,
674 | |             hovertemplate="Jahr %{x}: %{y:,.0f} Ôé¼<extra></extra>",
675 | |         )
676 | |         fig_20y.add_bar(
677 | |             x=x_vals,
678 | |             y=series_with_inc,
679 | |             name="Mit Erh├Âhung",
680 | |             marker_color=color_with_inc,
681 | |             hovertemplate="Jahr %{x}: %{y:,.0f} Ôé¼<extra></extra>",
682 | |         )
683 | |         fig_20y.update_layout(
684 | |             barmode="group",
685 | |             title="J├ñhrliche Stromkosten je Jahr (20 Jahre)",
686 | |             xaxis_title="Jahr",
687 | |             yaxis_title="Ôé¼ pro Jahr",
688 | |         )
689 | |         # Shadcn-├ñhnliches Theme und punktiertes Grid
690 | |         _apply_shadcn_like_theme(fig_20y)
691 | |         fig_20y.update_yaxes(showgrid=True, gridcolor="rgba(0,0,0,0.12)", griddash="dot", gridwidth=1)
692 | |         fig_20y.update_xaxes(showgrid=False)
693 | |
694 | |         st.plotly_chart(fig_20y, use_container_width=True)
695 | |     except Exception as _e:
696 | |         st.warning("20-Jahre Stromkosten-Diagramm konnte nicht erzeugt werden.")
697 | |
698 | |     # NEUE SEKTION: Erweiterte Visualisierungen
699 | |     st.subheader(" Erweiterte Visualisierungen")
700 | |
701 | |     # Tabs f├╝r bessere Organisation
702 | |     tab1, tab2, tab3, tab4 = st.tabs([
703 | |         " Wirtschaftlichkeit",
704 | |         " Energie-Bilanz",
705 | |         " Umwelt-Impact",
706 | |         " Zeitverlauf"
707 | |     ])
708 | |
709 | |     with tab1:
710 | |         st.markdown("#### Wirtschaftlichkeits-Analysen")
711 | |         try:
712 | |             # Erweiterte Charts f├╝r Wirtschaftlichkeit
713 | |             from enhanced_analysis_charts import (
714 | |                 create_amortization_chart,
715 | |                 create_costs_vs_feed_in_chart,
716 | |                 create_dynamic_cost_comparison_chart,
717 | |             )
718 | |
719 | |             # Amortisationszeit-Chart
720 | |             fig_amort, kpi_amort, desc_amort = create_amortization_chart(results, texts)
721 | |             st.plotly_chart(fig_amort, use_container_width=True)
722 | |             st.info(f" **KPI:** {kpi_amort}")
723 | |             st.markdown(f"**Beschreibung:** {desc_amort}")
724 | |             st.markdown("---")
725 | |
726 | |             # Kosten vs. Verg├╝tung
727 | |             fig_costs, kpi_costs, desc_costs = create_costs_vs_feed_in_chart(results, texts)
728 | |             st.plotly_chart(fig_costs, use_container_width=True)
729 | |             st.info(f" **KPI:** {kpi_costs}")
730 | |             st.markdown(f"**Beschreibung:** {desc_costs}")
731 | |             st.markdown("---")
732 | |
733 | |             # Dynamischer Kostenvergleich
734 | |             fig_dynamic, kpi_dynamic, desc_dynamic = create_dynamic_cost_comparison_chart(results, texts)
735 | |             st.plotly_chart(fig_dynamic, use_container_width=True)
736 | |             st.info(f" **KPI:** {kpi_dynamic}")
737 | |             st.markdown(f"**Beschreibung:** {desc_dynamic}")
738 | |
739 | |         except Exception as e:
740 | |             st.error(f" Fehler beim Laden der Wirtschaftlichkeits-Charts: {e}")
741 | |
742 | |     with tab2:
743 | |         st.markdown("#### Energie-Bilanz & Autarkie")
744 | |         try:
745 | |             from enhanced_analysis_charts import (
746 | |                 create_autarky_donut_chart,
747 | |                 create_consumption_vs_production_chart,
748 | |                 create_feed_in_percentage_donut_chart,
749 | |                 create_self_consumption_donut_chart,
750 | |             )
751 | |
752 | |             # Verbrauch vs. Produktion
753 | |             fig_consumption, kpi_consumption, desc_consumption = create_consumption_vs_production_chart(results, texts)
754 | |             st.plotly_chart(fig_consumption, use_container_width=True)
755 | |             st.info(f" **KPI:** {kpi_consumption}")
756 | |             st.markdown(f"**Beschreibung:** {desc_consumption}")
757 | |             st.markdown("---")
758 | |
759 | |             # Donut-Charts in Spalten
760 | |             col1, col2 = st.columns(2)
761 | |
762 | |             with col1:
763 | |                 # Autarkiegrad
764 | |                 fig_autarky, kpi_autarky, desc_autarky = create_autarky_donut_chart(results, texts)
765 | |                 st.plotly_chart(fig_autarky, use_container_width=True)
766 | |                 st.info(f" **KPI:** {kpi_autarky}")
767 | |                 st.markdown(f"**Beschreibung:** {desc_autarky}")
768 | |
769 | |                 # Eigenverbrauch
770 | |                 fig_self, kpi_self, desc_self = create_self_consumption_donut_chart(results, texts)
771 | |                 st.plotly_chart(fig_self, use_container_width=True)
772 | |                 st.info(f" **KPI:** {kpi_self}")
773 | |                 st.markdown(f"**Beschreibung:** {desc_self}")
774 | |
775 | |             with col2:
776 | |                 # Einspeisung
777 | |                 fig_feed, kpi_feed, desc_feed = create_feed_in_percentage_donut_chart(results, texts)
778 | |                 st.plotly_chart(fig_feed, use_container_width=True)
779 | |                 st.info(f" **KPI:** {kpi_feed}")
780 | |                 st.markdown(f"**Beschreibung:** {desc_feed}")
781 | |
782 | |         except Exception as e:
783 | |             st.error(f" Fehler beim Laden der Energie-Bilanz-Charts: {e}")
784 | |
785 | |     with tab3:
786 | |         st.markdown("#### Umwelt-Impact & COÔéé-Ersparnis")
787 | |         try:
788 | |             from enhanced_analysis_charts import create_co2_savings_visual_chart
789 | |
790 | |             # COÔéé-Ersparnis visualisiert
791 | |             fig_co2, kpi_co2, desc_co2 = create_co2_savings_visual_chart(results, texts)
792 | |             st.plotly_chart(fig_co2, use_container_width=True)
793 | |             st.info(f" **KPI:** {kpi_co2}")
794 | |             st.markdown(f"**Beschreibung:** {desc_co2}")
795 | |
796 | |         except Exception as e:
797 | |             st.error(f" Fehler beim Laden der Umwelt-Charts: {e}")
798 | |
799 | |     with tab4:
800 | |         st.markdown("#### Zeitverlauf & Produktion")
801 | |         try:
802 | |             from enhanced_analysis_charts import (
803 | |                 create_hourly_daily_production_chart,
804 | |                 create_monthly_production_chart,
805 | |             )
806 | |
807 | |             # Monatliche Produktion
808 | |             fig_monthly, kpi_monthly, desc_monthly = create_monthly_production_chart(results, texts)
809 | |             st.plotly_chart(fig_monthly, use_container_width=True)
810 | |             st.info(f" **KPI:** {kpi_monthly}")
811 | |             st.markdown(f"**Beschreibung:** {desc_monthly}")
812 | |             st.markdown("---")
813 | |
814 | |             # St├╝ndliche Produktion
815 | |             fig_hourly, kpi_hourly, desc_hourly = create_hourly_daily_production_chart(results, texts)
816 | |             st.plotly_chart(fig_hourly, use_container_width=True)
817 | |             st.info(f" **KPI:** {kpi_hourly}")
818 | |             st.markdown(f"**Beschreibung:** {desc_hourly}")
819 | |
820 | |         except Exception as e:
821 | |             st.error(f" Fehler beim Laden der Zeitverlauf-Charts: {e}")
822 | |
823 | |     # Einspeiseverg├╝tung und Netzbezug
824 | |     st.subheader(" Energie-Bilanz")
825 | |     bcol1, bcol2, bcol3 = st.columns(3)
826 | |
827 | |     with bcol1:
828 | |         netzbezug = results.get('grid_bezug_kwh', 0.0)
829 | |         st.metric(
830 | |             get_text(texts,"kpi_grid_purchase","Netzbezug"),
831 | |             format_kpi_value(netzbezug, "kWh", texts_dict=texts, precision=0)
832 | |         )
833 | |
834 | |     with bcol2:
835 | |         einspeisung_verguetung = results.get('annual_feedin_revenue_euro', 0.0)
836 | |         st.metric(
837 | |             get_text(texts,"kpi_feed_in_revenue","Einspeiseverg├╝tung"),
838 | |             format_kpi_value(einspeisung_verguetung, "Ôé¼", texts_dict=texts, precision=2)
839 | |         )
840 | |
841 | |     with bcol3:
842 | |         # Verwende die berechnete Gesamteinsparung
843 | |         st.metric(
844 | |             get_text(texts,"kpi_total_savings","Gesamteinsparung/Jahr"),
845 | |             format_kpi_value(annual_savings, "Ôé¼", texts_dict=texts, precision=2)
846 | |         )
    | |_________^
847 |
848 |   def _render_financial_section(results: dict[str, Any], texts: dict[str, str], viz_settings: dict[str, Any]):
    |
help: Add explicit `return` statement

W291 Trailing whitespace
   --> analysis.py:367:17
    |
365 |     Holt den finalen Investitionsbetrag mit korrekter Priorit├ñt:
366 |     1. Preis├ñnderungen (h├Âchste Priorit├ñt)
367 |     2. Provision 
    |                 ^
368 |     3. Basis-Nettobetrag
369 |     4. Fallback aus results
    |
help: Remove trailing whitespace

F821 Undefined name `brutto_betrag`
   --> analysis.py:405:12
    |
403 |     # Wenn brutto_betrag 0 ist, MwSt aus netto_betrag berechnen - immer 19% f├╝r Privatpersonen zur Visualisierung
404 |     if is_private:
405 |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
    |            ^^^^^^^^^^^^^
406 |             mwst_ersparnis = brutto_betrag - netto_betrag
407 |         else:
    |

F821 Undefined name `brutto_betrag`
   --> analysis.py:405:34
    |
403 |     # Wenn brutto_betrag 0 ist, MwSt aus netto_betrag berechnen - immer 19% f├╝r Privatpersonen zur Visualisierung
404 |     if is_private:
405 |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
    |                                  ^^^^^^^^^^^^^
406 |             mwst_ersparnis = brutto_betrag - netto_betrag
407 |         else:
    |

F821 Undefined name `netto_betrag`
   --> analysis.py:405:50
    |
403 |     # Wenn brutto_betrag 0 ist, MwSt aus netto_betrag berechnen - immer 19% f├╝r Privatpersonen zur Visualisierung
404 |     if is_private:
405 |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
    |                                                  ^^^^^^^^^^^^
406 |             mwst_ersparnis = brutto_betrag - netto_betrag
407 |         else:
    |

F821 Undefined name `brutto_betrag`
   --> analysis.py:406:30
    |
404 |     if is_private:
405 |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
406 |             mwst_ersparnis = brutto_betrag - netto_betrag
    |                              ^^^^^^^^^^^^^
407 |         else:
408 |             # Berechne 19% MwSt zur Visualisierung
    |

F821 Undefined name `netto_betrag`
   --> analysis.py:406:46
    |
404 |     if is_private:
405 |         if brutto_betrag > 0 and brutto_betrag > netto_betrag:
406 |             mwst_ersparnis = brutto_betrag - netto_betrag
    |                                              ^^^^^^^^^^^^
407 |         else:
408 |             # Berechne 19% MwSt zur Visualisierung
    |

F821 Undefined name `netto_betrag`
   --> analysis.py:409:30
    |
407 |         else:
408 |             # Berechne 19% MwSt zur Visualisierung
409 |             mwst_ersparnis = netto_betrag * 0.19
    |                              ^^^^^^^^^^^^
410 |     else:
411 |         mwst_ersparnis = 0.0
    |

F821 Undefined name `final_price`
   --> analysis.py:425:55
    |
423 |     st.sidebar.write(f"Gesamteinsparung: {annual_savings:.2f}Ôé¼")
424 |
425 |     amortisation_years = _calculate_amortization_time(final_price, annual_savings)
    |                                                       ^^^^^^^^^^^
426 |     debug_log(
427 |         "analysis.pricing",
    |

F821 Undefined name `final_price`
   --> analysis.py:429:21
    |
427 |         "analysis.pricing",
428 |         "Amortisationszeit berechnet",
429 |         final_price=final_price,
    |                     ^^^^^^^^^^^
430 |         annual_savings=annual_savings,
431 |         amortisation_years=amortisation_years
    |

F821 Undefined name `texts`
   --> analysis.py:473:22
    |
471 |     with col1:
472 |         st.metric(
473 |             get_text(texts,"kpi_net_amount","Nettobetrag"),
    |                      ^^^^^
474 |             format_kpi_value(netto_betrag, "Ôé¼", texts_dict=texts, precision=2)
475 |         )
    |

F821 Undefined name `netto_betrag`
   --> analysis.py:474:30
    |
472 |         st.metric(
473 |             get_text(texts,"kpi_net_amount","Nettobetrag"),
474 |             format_kpi_value(netto_betrag, "Ôé¼", texts_dict=texts, precision=2)
    |                              ^^^^^^^^^^^^
475 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:474:60
    |
472 |         st.metric(
473 |             get_text(texts,"kpi_net_amount","Nettobetrag"),
474 |             format_kpi_value(netto_betrag, "Ôé¼", texts_dict=texts, precision=2)
    |                                                            ^^^^^
475 |         )
    |

F821 Undefined name `total_rebates`
   --> analysis.py:478:30
    |
477 |     with col2:
478 |         rebate_color = "" if total_rebates > 0 else ""
    |                              ^^^^^^^^^^^^^
479 |         st.metric(
480 |             f"{rebate_color} " + get_text(texts,"kpi_rebates","Rabatte"),
    |

F821 Undefined name `texts`
   --> analysis.py:480:43
    |
478 |         rebate_color = "" if total_rebates > 0 else ""
479 |         st.metric(
480 |             f"{rebate_color} " + get_text(texts,"kpi_rebates","Rabatte"),
    |                                           ^^^^^
481 |             format_kpi_value(total_rebates, "Ôé¼", texts_dict=texts, precision=2)
482 |         )
    |

F821 Undefined name `total_rebates`
   --> analysis.py:481:30
    |
479 |         st.metric(
480 |             f"{rebate_color} " + get_text(texts,"kpi_rebates","Rabatte"),
481 |             format_kpi_value(total_rebates, "Ôé¼", texts_dict=texts, precision=2)
    |                              ^^^^^^^^^^^^^
482 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:481:61
    |
479 |         st.metric(
480 |             f"{rebate_color} " + get_text(texts,"kpi_rebates","Rabatte"),
481 |             format_kpi_value(total_rebates, "Ôé¼", texts_dict=texts, precision=2)
    |                                                             ^^^^^
482 |         )
    |

F821 Undefined name `total_surcharges`
   --> analysis.py:485:33
    |
484 |     with col3:
485 |         surcharge_color = "" if total_surcharges > 0 else ""
    |                                 ^^^^^^^^^^^^^^^^
486 |         st.metric(
487 |             f"{surcharge_color} " + get_text(texts,"kpi_surcharges","Aufpreise"),
    |

F821 Undefined name `texts`
   --> analysis.py:487:46
    |
485 |         surcharge_color = "" if total_surcharges > 0 else ""
486 |         st.metric(
487 |             f"{surcharge_color} " + get_text(texts,"kpi_surcharges","Aufpreise"),
    |                                              ^^^^^
488 |             format_kpi_value(total_surcharges, "Ôé¼", texts_dict=texts, precision=2)
489 |         )
    |

F821 Undefined name `total_surcharges`
   --> analysis.py:488:30
    |
486 |         st.metric(
487 |             f"{surcharge_color} " + get_text(texts,"kpi_surcharges","Aufpreise"),
488 |             format_kpi_value(total_surcharges, "Ôé¼", texts_dict=texts, precision=2)
    |                              ^^^^^^^^^^^^^^^^
489 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:488:64
    |
486 |         st.metric(
487 |             f"{surcharge_color} " + get_text(texts,"kpi_surcharges","Aufpreise"),
488 |             format_kpi_value(total_surcharges, "Ôé¼", texts_dict=texts, precision=2)
    |                                                                ^^^^^
489 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:493:22
    |
491 |     with col4:
492 |         st.metric(
493 |             get_text(texts,"kpi_final_price","Finaler Angebotspreis"),
    |                      ^^^^^
494 |             format_kpi_value(final_price, "Ôé¼", texts_dict=texts, precision=2)
495 |         )
    |

F821 Undefined name `final_price`
   --> analysis.py:494:30
    |
492 |         st.metric(
493 |             get_text(texts,"kpi_final_price","Finaler Angebotspreis"),
494 |             format_kpi_value(final_price, "Ôé¼", texts_dict=texts, precision=2)
    |                              ^^^^^^^^^^^
495 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:494:59
    |
492 |         st.metric(
493 |             get_text(texts,"kpi_final_price","Finaler Angebotspreis"),
494 |             format_kpi_value(final_price, "Ôé¼", texts_dict=texts, precision=2)
    |                                                           ^^^^^
495 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:500:26
    |
498 |         if is_private:
499 |             st.metric(
500 |                 get_text(texts,"kpi_vat_savings","Ersparte MwSt"),
    |                          ^^^^^
501 |                 format_kpi_value(mwst_ersparnis, "Ôé¼", texts_dict=texts, precision=2)
502 |             )
    |

F821 Undefined name `texts`
   --> analysis.py:501:66
    |
499 |             st.metric(
500 |                 get_text(texts,"kpi_vat_savings","Ersparte MwSt"),
501 |                 format_kpi_value(mwst_ersparnis, "Ôé¼", texts_dict=texts, precision=2)
    |                                                                  ^^^^^
502 |             )
503 |             # Debug-Info als Hilfe f├╝r den Benutzer (auskommentiert f├╝r Produktion)
    |

F821 Undefined name `texts`
   --> analysis.py:508:26
    |
506 |         else:
507 |             st.metric(
508 |                 get_text(texts,"kpi_vat_savings","MwSt-Status"),
    |                          ^^^^^
509 |                 "Gesch├ñftskunde"
510 |             )
    |

F821 Undefined name `texts`
   --> analysis.py:515:49
    |
513 | ÔÇª     amortization_color = "" if amortisation_years <= 10 else "" if amortisation_years <= 15 else ""
514 | ÔÇª     st.metric(
515 | ÔÇª         f"{amortization_color} " + get_text(texts,"kpi_payback_time","Amortisationszeit"),
    |                                               ^^^^^
516 | ÔÇª         format_kpi_value(amortisation_years, "Jahre", texts_dict=texts, precision=1) if amortisation_years > 0 else "Nicht berechenÔÇª
517 | ÔÇª     )
    |

F821 Undefined name `texts`
   --> analysis.py:516:70
    |
514 | ÔÇª     st.metric(
515 | ÔÇª         f"{amortization_color} " + get_text(texts,"kpi_payback_time","Amortisationszeit"),
516 | ÔÇª         format_kpi_value(amortisation_years, "Jahre", texts_dict=texts, precision=1) if amortisation_years > 0 else "Nicht berechenÔÇª
    |                                                                    ^^^^^
517 | ÔÇª     )
    |

F821 Undefined name `texts`
   --> analysis.py:527:22
    |
525 |     with ecol1:
526 |         st.metric(
527 |             get_text(texts,"kpi_annual_yield","J├ñhrliche Stromproduktion"),
    |                      ^^^^^
528 |             format_kpi_value(results.get('annual_pv_production_kwh', 0.0), "kWh", texts_dict=texts, precision=0)
529 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:528:94
    |
526 |         st.metric(
527 |             get_text(texts,"kpi_annual_yield","J├ñhrliche Stromproduktion"),
528 |             format_kpi_value(results.get('annual_pv_production_kwh', 0.0), "kWh", texts_dict=texts, precision=0)
    |                                                                                              ^^^^^
529 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:533:22
    |
531 |     with ecol2:
532 |         st.metric(
533 |             get_text(texts,"kpi_self_sufficiency","Autarkiegrad"),
    |                      ^^^^^
534 |             f"{results.get('self_supply_rate_percent', 0.0):.2f}%"
535 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:540:22
    |
538 |         eigenverbrauch = results.get('eigenverbrauch_pro_jahr_kwh', 0.0)
539 |         st.metric(
540 |             get_text(texts,"kpi_self_consumption","Eigenverbrauch"),
    |                      ^^^^^
541 |             format_kpi_value(eigenverbrauch, "kWh", texts_dict=texts, precision=0)
542 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:541:64
    |
539 |         st.metric(
540 |             get_text(texts,"kpi_self_consumption","Eigenverbrauch"),
541 |             format_kpi_value(eigenverbrauch, "kWh", texts_dict=texts, precision=0)
    |                                                                ^^^^^
542 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:547:22
    |
545 |         einspeisung = results.get('netzeinspeisung_kwh', 0.0)
546 |         st.metric(
547 |             get_text(texts,"kpi_feed_in","Einspeisung"),
    |                      ^^^^^
548 |             format_kpi_value(einspeisung, "kWh", texts_dict=texts, precision=0)
549 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:548:61
    |
546 |         st.metric(
547 |             get_text(texts,"kpi_feed_in","Einspeisung"),
548 |             format_kpi_value(einspeisung, "kWh", texts_dict=texts, precision=0)
    |                                                             ^^^^^
549 |         )
    |

F841 Local variable `simulation_years` is assigned to but never used
   --> analysis.py:555:5
    |
553 |     # Langzeit-Stromkosten in 3 Spalten - mit korrekter Berechnung aus Bedarfsanalyse
554 |     st.subheader(" Stromkosten-Prognose")
555 |     simulation_years = results.get('simulation_period_years_effective', 20)
    |     ^^^^^^^^^^^^^^^^
556 |     electricity_price_increase = results.get('electricity_price_increase_rate_effective_percent', 3.0)
    |
help: Remove assignment to unused variable `simulation_years`

W291 Trailing whitespace
   --> analysis.py:574:85
    |
572 |     st.info(f"""
573 |      **Bedarfsanalyse-Daten:**
574 |     ÔÇó Monatliche Stromkosten: {household_costs_monthly + heating_costs_monthly:.2f}Ôé¼ 
    |                                                                                     ^
575 |     ÔÇó J├ñhrliche Stromkosten (ohne Photovoltaik): {annual_total_costs_without_pv:.2f}Ôé¼
576 |     ÔÇó Gesamtverbrauch: {annual_consumption_total:.2f} kWh
    |
help: Remove trailing whitespace

F841 Local variable `costs_without_pv_10_no_increase` is assigned to but never used
   --> analysis.py:584:9
    |
582 |     with fcol1:
583 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
584 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
585 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_10_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:584:43
    |
582 |     with fcol1:
583 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
584 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
585 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:585:45
    |
583 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
584 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
585 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
586 |
587 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_10_no_increase` is assigned to but never used
   --> analysis.py:588:9
    |
587 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
588 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
589 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_10_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:588:40
    |
587 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
588 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
589 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:589:42
    |
587 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
588 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
589 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
590 |
591 |         # Einsparung berechnen
    |

F821 Undefined name `texts`
   --> analysis.py:596:81
    |
594 |         st.metric(
595 |             " Stromkosten OHNE Photovoltaik (10 Jahre)",
596 |             format_kpi_value(costs_without_pv_10_with_increase, "Ôé¼", texts_dict=texts, precision=0),
    |                                                                                 ^^^^^
597 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_10_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
598 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:597:105
    |
595 |             " Stromkosten OHNE Photovoltaik (10 Jahre)",
596 |             format_kpi_value(costs_without_pv_10_with_increase, "Ôé¼", texts_dict=texts, precision=0),
597 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_10_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
    |                                                                                                         ^^^^^
598 |         )
599 |         st.success(f"**Ersparnis: {format_kpi_value(savings_10_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |

F821 Undefined name `texts`
   --> analysis.py:599:87
    |
597 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_10_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
598 |         )
599 |         st.success(f"**Ersparnis: {format_kpi_value(savings_10_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |                                                                                       ^^^^^
600 |
601 |     with fcol2:
    |

F841 Local variable `costs_without_pv_20_no_increase` is assigned to but never used
   --> analysis.py:603:9
    |
601 |     with fcol2:
602 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
603 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
604 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_20_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:603:43
    |
601 |     with fcol2:
602 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
603 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
604 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:604:45
    |
602 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
603 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
604 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
605 |
606 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_20_no_increase` is assigned to but never used
   --> analysis.py:607:9
    |
606 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
607 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
608 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_20_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:607:40
    |
606 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
607 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
608 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:608:42
    |
606 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
607 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
608 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
609 |
610 |         # Einsparung berechnen
    |

F821 Undefined name `texts`
   --> analysis.py:615:81
    |
613 |         st.metric(
614 |             " Stromkosten OHNE Photovoltaik (20 Jahre)",
615 |             format_kpi_value(costs_without_pv_20_with_increase, "Ôé¼", texts_dict=texts, precision=0),
    |                                                                                 ^^^^^
616 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_20_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
617 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:616:105
    |
614 |             " Stromkosten OHNE Photovoltaik (20 Jahre)",
615 |             format_kpi_value(costs_without_pv_20_with_increase, "Ôé¼", texts_dict=texts, precision=0),
616 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_20_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
    |                                                                                                         ^^^^^
617 |         )
618 |         st.success(f"**Ersparnis: {format_kpi_value(savings_20_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |

F821 Undefined name `texts`
   --> analysis.py:618:87
    |
616 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_20_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
617 |         )
618 |         st.success(f"**Ersparnis: {format_kpi_value(savings_20_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |                                                                                       ^^^^^
619 |
620 |     with fcol3:
    |

F841 Local variable `costs_without_pv_30_no_increase` is assigned to but never used
   --> analysis.py:622:9
    |
620 |     with fcol3:
621 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
622 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
623 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_30_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:622:43
    |
620 |     with fcol3:
621 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
622 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
623 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> analysis.py:623:45
    |
621 |         # Kosten OHNE Photovoltaik-Anlage (Referenz)
622 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
623 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
624 |
625 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_30_no_increase` is assigned to but never used
   --> analysis.py:626:9
    |
625 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
626 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
627 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_30_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:626:40
    |
625 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
626 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
627 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> analysis.py:627:42
    |
625 |         # Kosten MIT Photovoltaik-Anlage (tats├ñchliche Kosten)
626 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
627 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
628 |
629 |         # Einsparung berechnen
    |

F821 Undefined name `texts`
   --> analysis.py:634:81
    |
632 |         st.metric(
633 |             " Stromkosten OHNE Photovoltaik (30 Jahre)",
634 |             format_kpi_value(costs_without_pv_30_with_increase, "Ôé¼", texts_dict=texts, precision=0),
    |                                                                                 ^^^^^
635 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_30_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
636 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:635:105
    |
633 |             " Stromkosten OHNE Photovoltaik (30 Jahre)",
634 |             format_kpi_value(costs_without_pv_30_with_increase, "Ôé¼", texts_dict=texts, precision=0),
635 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_30_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
    |                                                                                                         ^^^^^
636 |         )
637 |         st.success(f"**Ersparnis: {format_kpi_value(savings_30_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |

F821 Undefined name `texts`
   --> analysis.py:637:87
    |
635 |             delta=f"MIT Photovoltaik: {format_kpi_value(costs_with_pv_30_with_increase, 'Ôé¼', texts_dict=texts, precision=0)}"
636 |         )
637 |         st.success(f"**Ersparnis: {format_kpi_value(savings_30_years, 'Ôé¼', texts_dict=texts, precision=0)}**")
    |                                                                                       ^^^^^
638 |
639 |     st.markdown("---")
    |

F821 Undefined name `texts`
   --> analysis.py:720:83
    |
719 |             # Amortisationszeit-Chart
720 |             fig_amort, kpi_amort, desc_amort = create_amortization_chart(results, texts)
    |                                                                                   ^^^^^
721 |             st.plotly_chart(fig_amort, use_container_width=True)
722 |             st.info(f" **KPI:** {kpi_amort}")
    |

F821 Undefined name `texts`
   --> analysis.py:727:87
    |
726 |             # Kosten vs. Verg├╝tung
727 |             fig_costs, kpi_costs, desc_costs = create_costs_vs_feed_in_chart(results, texts)
    |                                                                                       ^^^^^
728 |             st.plotly_chart(fig_costs, use_container_width=True)
729 |             st.info(f" **KPI:** {kpi_costs}")
    |

F821 Undefined name `texts`
   --> analysis.py:734:100
    |
733 |             # Dynamischer Kostenvergleich
734 |             fig_dynamic, kpi_dynamic, desc_dynamic = create_dynamic_cost_comparison_chart(results, texts)
    |                                                                                                    ^^^^^
735 |             st.plotly_chart(fig_dynamic, use_container_width=True)
736 |             st.info(f" **KPI:** {kpi_dynamic}")
    |

F821 Undefined name `texts`
   --> analysis.py:753:114
    |
752 |             # Verbrauch vs. Produktion
753 |             fig_consumption, kpi_consumption, desc_consumption = create_consumption_vs_production_chart(results, texts)
    |                                                                                                                  ^^^^^
754 |             st.plotly_chart(fig_consumption, use_container_width=True)
755 |             st.info(f" **KPI:** {kpi_consumption}")
    |

F821 Undefined name `texts`
   --> analysis.py:764:94
    |
762 |             with col1:
763 |                 # Autarkiegrad
764 |                 fig_autarky, kpi_autarky, desc_autarky = create_autarky_donut_chart(results, texts)
    |                                                                                              ^^^^^
765 |                 st.plotly_chart(fig_autarky, use_container_width=True)
766 |                 st.info(f" **KPI:** {kpi_autarky}")
    |

F821 Undefined name `texts`
   --> analysis.py:770:94
    |
769 |                 # Eigenverbrauch
770 |                 fig_self, kpi_self, desc_self = create_self_consumption_donut_chart(results, texts)
    |                                                                                              ^^^^^
771 |                 st.plotly_chart(fig_self, use_container_width=True)
772 |                 st.info(f" **KPI:** {kpi_self}")
    |

F821 Undefined name `texts`
   --> analysis.py:777:96
    |
775 |             with col2:
776 |                 # Einspeisung
777 |                 fig_feed, kpi_feed, desc_feed = create_feed_in_percentage_donut_chart(results, texts)
    |                                                                                                ^^^^^
778 |                 st.plotly_chart(fig_feed, use_container_width=True)
779 |                 st.info(f" **KPI:** {kpi_feed}")
    |

F821 Undefined name `texts`
   --> analysis.py:791:83
    |
790 |             # COÔéé-Ersparnis visualisiert
791 |             fig_co2, kpi_co2, desc_co2 = create_co2_savings_visual_chart(results, texts)
    |                                                                                   ^^^^^
792 |             st.plotly_chart(fig_co2, use_container_width=True)
793 |             st.info(f" **KPI:** {kpi_co2}")
    |

F821 Undefined name `texts`
   --> analysis.py:808:95
    |
807 |             # Monatliche Produktion
808 |             fig_monthly, kpi_monthly, desc_monthly = create_monthly_production_chart(results, texts)
    |                                                                                               ^^^^^
809 |             st.plotly_chart(fig_monthly, use_container_width=True)
810 |             st.info(f" **KPI:** {kpi_monthly}")
    |

F821 Undefined name `texts`
   --> analysis.py:815:97
    |
814 |             # St├╝ndliche Produktion
815 |             fig_hourly, kpi_hourly, desc_hourly = create_hourly_daily_production_chart(results, texts)
    |                                                                                                 ^^^^^
816 |             st.plotly_chart(fig_hourly, use_container_width=True)
817 |             st.info(f" **KPI:** {kpi_hourly}")
    |

F821 Undefined name `texts`
   --> analysis.py:830:22
    |
828 |         netzbezug = results.get('grid_bezug_kwh', 0.0)
829 |         st.metric(
830 |             get_text(texts,"kpi_grid_purchase","Netzbezug"),
    |                      ^^^^^
831 |             format_kpi_value(netzbezug, "kWh", texts_dict=texts, precision=0)
832 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:831:59
    |
829 |         st.metric(
830 |             get_text(texts,"kpi_grid_purchase","Netzbezug"),
831 |             format_kpi_value(netzbezug, "kWh", texts_dict=texts, precision=0)
    |                                                           ^^^^^
832 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:837:22
    |
835 |         einspeisung_verguetung = results.get('annual_feedin_revenue_euro', 0.0)
836 |         st.metric(
837 |             get_text(texts,"kpi_feed_in_revenue","Einspeiseverg├╝tung"),
    |                      ^^^^^
838 |             format_kpi_value(einspeisung_verguetung, "Ôé¼", texts_dict=texts, precision=2)
839 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:838:70
    |
836 |         st.metric(
837 |             get_text(texts,"kpi_feed_in_revenue","Einspeiseverg├╝tung"),
838 |             format_kpi_value(einspeisung_verguetung, "Ôé¼", texts_dict=texts, precision=2)
    |                                                                      ^^^^^
839 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:844:22
    |
842 |         # Verwende die berechnete Gesamteinsparung
843 |         st.metric(
844 |             get_text(texts,"kpi_total_savings","Gesamteinsparung/Jahr"),
    |                      ^^^^^
845 |             format_kpi_value(annual_savings, "Ôé¼", texts_dict=texts, precision=2)
846 |         )
    |

F821 Undefined name `texts`
   --> analysis.py:845:62
    |
843 |         st.metric(
844 |             get_text(texts,"kpi_total_savings","Gesamteinsparung/Jahr"),
845 |             format_kpi_value(annual_savings, "Ôé¼", texts_dict=texts, precision=2)
    |                                                              ^^^^^
846 |         )
    |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1172:18
     |
1170 |             yanchor="middle",
1171 |             showarrow=False,
1172 |             font=dict(size=14, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1173 |         )
1174 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1174:59
     |
1172 |             font=dict(size=14, color="red"),
1173 |         )
1174 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1175 |         st.error(f"Fehler bei der Diagrammerstellung: {str(e)}")
1176 |         return fig
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1328:18
     |
1326 |             yanchor="middle",
1327 |             showarrow=False,
1328 |             font=dict(size=16, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1329 |         )
1330 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1330:59
     |
1328 |             font=dict(size=16, color="red"),
1329 |         )
1330 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1331 |         st.error("Datenformat nicht unterst├╝tzt f├╝r Diagrammerstellung")
1332 |         return fig
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> analysis.py:1335:5
     |
1334 |       # Interne Plotly-Titel unterdr├╝cken ÔÇô die ├£berschrift steht bereits ├╝ber dem Chart
1335 | /     try:
1336 | |         fig.update_layout(title_text="")
1337 | |     except Exception:
1338 | |         pass
     | |____________^
1339 |
1340 |       # Basis-Layout (Feinheiten ├╝bernimmt _apply_shadcn_like_theme)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1345:14
     |
1343 |         plot_bgcolor="rgba(0,0,0,0)",
1344 |         paper_bgcolor="rgba(0,0,0,0)",
1345 |         font=dict(size=12),
     |              ^^^^^^^^^^^^^
1346 |         height=400,
1347 |         margin=dict(l=40, r=30, t=60, b=40),
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1347:16
     |
1345 |         font=dict(size=12),
1346 |         height=400,
1347 |         margin=dict(l=40, r=30, t=60, b=40),
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1348 |     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1397:22
     |
1395 |                 text="Unbekanntes Datenformat f├╝r vier-Typ-Chart",
1396 |                 xref="paper", yref="paper", x=0.5, y=0.5, showarrow=False,
1397 |                 font=dict(size=14, color="red"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
1398 |             )
1399 |             fig.update_layout(title=title)
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1582:22
     |
1580 |                 yanchor="middle",
1581 |                 showarrow=False,
1582 |                 font=dict(size=16, color="red"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
1583 |             )
1584 |             fig.update_layout(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1585:49
     |
1583 |             )
1584 |             fig.update_layout(
1585 |                 title=title, height=400, margin=dict(l=50, r=50, t=80, b=50)
     |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1586 |             )
1587 |             st.error("Datenformat nicht unterst├╝tzt f├╝r Multi-Series Diagramm")
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> analysis.py:1591:9
     |
1590 |           # Interne Plotly-Titel unterdr├╝cken ÔÇô die ├£berschrift steht bereits ├╝ber dem Chart
1591 | /         try:
1592 | |             fig.update_layout(title_text="")
1593 | |         except Exception:
1594 | |             pass
     | |________________^
1595 |
1596 |           # Layout anpassen und shadcn-├ñhnliches Theme anwenden
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1601:18
     |
1599 |             plot_bgcolor="rgba(0,0,0,0)",
1600 |             paper_bgcolor="rgba(0,0,0,0)",
1601 |             font=dict(size=12),
     |                  ^^^^^^^^^^^^^
1602 |             height=400,
1603 |             margin=dict(l=40, r=30, t=60, b=40),
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1603:20
     |
1601 |             font=dict(size=12),
1602 |             height=400,
1603 |             margin=dict(l=40, r=30, t=60, b=40),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1604 |             legend=dict(
1605 |                 orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1604:20
     |
1602 |               height=400,
1603 |               margin=dict(l=40, r=30, t=60, b=40),
1604 |               legend=dict(
     |  ____________________^
1605 | |                 orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
1606 | |             ),
     | |_____________^
1607 |           )
1608 |           _apply_shadcn_like_theme(fig)
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1626:18
     |
1624 |             yanchor="middle",
1625 |             showarrow=False,
1626 |             font=dict(size=14, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1627 |         )
1628 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1628:59
     |
1626 |             font=dict(size=14, color="red"),
1627 |         )
1628 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1629 |         st.error(f"Fehler bei der Diagrammerstellung: {str(e)}")
1630 |         return fig
     |
help: Rewrite as a literal

F821 Undefined name `gc`
    --> analysis.py:1633:9
     |
1632 |     loaded_viz_settings = (
1633 |         gc.get("visualization_settings") if isinstance(gc, dict) else None
     |         ^^
1634 |     )
1635 |     if isinstance(loaded_viz_settings, dict):
     |

F821 Undefined name `gc`
    --> analysis.py:1633:56
     |
1632 |     loaded_viz_settings = (
1633 |         gc.get("visualization_settings") if isinstance(gc, dict) else None
     |                                                        ^^
1634 |     )
1635 |     if isinstance(loaded_viz_settings, dict):
     |

F821 Undefined name `default_viz_settings`
    --> analysis.py:1636:26
     |
1634 |     )
1635 |     if isinstance(loaded_viz_settings, dict):
1636 |         final_settings = default_viz_settings.copy()
     |                          ^^^^^^^^^^^^^^^^^^^^
1637 |         final_settings.update(loaded_viz_settings)
1638 |         return final_settings
     |

F821 Undefined name `default_viz_settings`
    --> analysis.py:1639:12
     |
1637 |         final_settings.update(loaded_viz_settings)
1638 |         return final_settings
1639 |     return default_viz_settings.copy()
     |            ^^^^^^^^^^^^^^^^^^^^
     |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1692:14
     |
1690 |     )
1691 |     fig.update_layout(
1692 |         font=dict(family=font_family),
     |              ^^^^^^^^^^^^^^^^^^^^^^^^
1693 |         title_font_size=font_size_title,
1694 |         legend_font_size=font_size_tick_label,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1828:19
     |
1826 |             paper_bgcolor="rgba(0,0,0,0)",
1827 |             plot_bgcolor="rgba(0,0,0,0)",
1828 |             title=dict(x=0.02, y=0.98, xanchor="left", yanchor="top"),
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1829 |             margin=dict(l=40, r=30, t=60, b=40),
1830 |             hovermode="x unified",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1829:20
     |
1827 |             plot_bgcolor="rgba(0,0,0,0)",
1828 |             title=dict(x=0.02, y=0.98, xanchor="left", yanchor="top"),
1829 |             margin=dict(l=40, r=30, t=60, b=40),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1830 |             hovermode="x unified",
1831 |             legend=dict(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1831:20
     |
1829 |               margin=dict(l=40, r=30, t=60, b=40),
1830 |               hovermode="x unified",
1831 |               legend=dict(
     |  ____________________^
1832 | |                 bgcolor="rgba(0,0,0,0)",
1833 | |                 bordercolor="rgba(0,0,0,0)",
1834 | |                 orientation="h",
1835 | |                 yanchor="bottom",
1836 | |                 y=1.02,
1837 | |                 xanchor="right",
1838 | |                 x=1,
1839 | |             ),
     | |_____________^
1840 |           )
1841 |           # Achsen: dezente Linien und Gitter
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> analysis.py:1866:21
     |
1864 |                   if getattr(tr, "type", "") == "bar":
1865 |                       any_bar = True
1866 | /                     try:
1867 | |                         tr.update(marker_line_color="rgba(17,24,39,0.10)", marker_line_width=1.2)
1868 | |                     except Exception:
1869 | |                         pass
     | |____________________________^
1870 |               if any_bar:
1871 |                   fig.update_layout(bargap=0.28, bargroupgap=0.18)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1874:24
     |
1872 |           # Hoverlabel dezent
1873 |           fig.update_layout(
1874 |               hoverlabel=dict(
     |  ________________________^
1875 | |                 bgcolor="rgba(255,255,255,0.95)",
1876 | |                 bordercolor="rgba(0,0,0,0.1)",
1877 | |                 font=dict(color="#111827"),
1878 | |             )
     | |_____________^
1879 |           )
1880 |       except Exception:
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:1877:22
     |
1875 |                 bgcolor="rgba(255,255,255,0.95)",
1876 |                 bordercolor="rgba(0,0,0,0.1)",
1877 |                 font=dict(color="#111827"),
     |                      ^^^^^^^^^^^^^^^^^^^^^
1878 |             )
1879 |         )
     |
help: Rewrite as a literal

F841 Local variable `df_day` is assigned to but never used
    --> analysis.py:2094:5
     |
2092 |     ]
2093 |
2094 |     df_day = pd.DataFrame({
     |     ^^^^^^
2095 |         "Stunde": hours,
2096 |         get_text(texts, "pv_power_label_switcher", "Photovoltaik-Leistung (kW)"): power,
     |
help: Remove assignment to unused variable `df_day`

F841 Local variable `years_to_break_even` is assigned to but never used
    --> analysis.py:2376:9
     |
2374 |     for factor in factors:
2375 |         adjusted_benefit = annual_financial_benefit_year1_val * factor
2376 |         years_to_break_even = (
     |         ^^^^^^^^^^^^^^^^^^^
2377 |             total_investment_netto_val / adjusted_benefit
2378 |             if adjusted_benefit > 0
     |
help: Remove assignment to unused variable `years_to_break_even`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:2710:22
     |
2708 |                 mode="lines+markers",
2709 |                 name="Verbrauch (kWh)",
2710 |                 line=dict(color=colors[0]),
     |                      ^^^^^^^^^^^^^^^^^^^^^
2711 |             )
2712 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:2719:22
     |
2717 |                 mode="lines+markers",
2718 |                 name="Produktion (kWh)",
2719 |                 line=dict(color=colors[1]),
     |                      ^^^^^^^^^^^^^^^^^^^^^
2720 |             )
2721 |         )
     |
help: Rewrite as a literal

F811 Redefinition of unused `render_tariff_cube_switcher` from line 2147
    --> analysis.py:2765:5
     |
2763 |         )
2764 |
2765 | def render_tariff_cube_switcher(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_tariff_cube_switcher` redefined here
2766 |     analysis_results: dict[str, Any],
2767 |     texts: dict[str, str],
     |
    ::: analysis.py:2147:5
     |
2145 |     analysis_results["daily_production_switcher_chart_bytes"] = _export_plotly_fig_to_bytes(fig, texts)
2146 |
2147 | def render_tariff_cube_switcher(
     |     --------------------------- previous definition of `render_tariff_cube_switcher` here
2148 |     analysis_results: dict[str, Any],
2149 |     texts: dict[str, str],
     |
help: Remove definition: `render_tariff_cube_switcher`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3251:26
     |
3249 |               data=[
3250 |                   go.Sankey(
3251 |                       node=dict(
     |  __________________________^
3252 | |                         pad=15,
3253 | |                         thickness=20,
3254 | |                         line=dict(color="black", width=0.5),
3255 | |                         label=[
3256 | |                             "Photovoltaik-Erzeugung",
3257 | |                             "Eigenverbrauch",
3258 | |                             "Netzeinspeisung",
3259 | |                             "Netzbezug",
3260 | |                             "Gesamtverbrauch",
3261 | |                         ],
3262 | |                         color=["#F59E0B", "#10B981", "#3B82F6", "#EF4444", "#6B7280"],
3263 | |                     ),
     | |_____________________^
3264 |                       link=dict(
3265 |                           source=[0, 0, 3, 1],
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3254:30
     |
3252 |                         pad=15,
3253 |                         thickness=20,
3254 |                         line=dict(color="black", width=0.5),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3255 |                         label=[
3256 |                             "Photovoltaik-Erzeugung",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3264:26
     |
3262 |                           color=["#F59E0B", "#10B981", "#3B82F6", "#EF4444", "#6B7280"],
3263 |                       ),
3264 |                       link=dict(
     |  __________________________^
3265 | |                         source=[0, 0, 3, 1],
3266 | |                         target=[1, 2, 4, 4],
3267 | |                         value=[
3268 | |                             system_data["self_consumption_kwh"],
3269 | |                             grid_results["grid_feed_in_kwh"],
3270 | |                             grid_results["grid_purchase_kwh"],
3271 | |                             system_data["self_consumption_kwh"],
3272 | |                         ],
3273 | |                     ),
     | |_____________________^
3274 |                   )
3275 |               ]
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3334:22
     |
3332 |                 mode="lines+markers",
3333 |                 name="Anlagenleistung",
3334 |                 line=dict(color="#EF4444", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3335 |                 marker=dict(size=8),
3336 |             )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3335:24
     |
3333 |                 name="Anlagenleistung",
3334 |                 line=dict(color="#EF4444", width=3),
3335 |                 marker=dict(size=8),
     |                        ^^^^^^^^^^^^
3336 |             )
3337 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:3483:22
     |
3481 |                 fill="tozeroy",
3482 |                 name="COÔéé-Einsparungen",
3483 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3484 |             )
3485 |         )
     |
help: Rewrite as a literal

F811 Redefinition of unused `render_co2_savings_value_switcher` from line 2865
    --> analysis.py:3577:5
     |
3577 | def render_co2_savings_value_switcher(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_co2_savings_value_switcher` redefined here
3578 |     analysis_results: dict[str, Any],
3579 |     texts: dict[str, str],
     |
    ::: analysis.py:2865:5
     |
2865 | def render_co2_savings_value_switcher(
     |     --------------------------------- previous definition of `render_co2_savings_value_switcher` here
2866 |     analysis_results: dict[str, Any],
2867 |     texts: dict[str, str],
     |
help: Remove definition: `render_co2_savings_value_switcher`

C414 Unnecessary `list()` call within `sorted()`
    --> analysis.py:4060:30
     |
4058 |           analysis_results.get("electricity_price_increase_rate_effective_percent", 3.0)
4059 |       )
4060 |       szenarien_prozent_vals = sorted(
     |  ______________________________^
4061 | |         list(
4062 | |             set(
4063 | |                 round(s, 1)
4064 | |                 for s in [
4065 | |                     max(0, current_increase_rate_percent - 1.5),
4066 | |                     current_increase_rate_percent,
4067 | |                     current_increase_rate_percent + 1.5,
4068 | |                 ]
4069 | |             )
4070 | |         )
4071 | |     )
     | |_____^
4072 |
4073 |       # Daten f├╝r Multi-Series Chart vorbereiten
     |
help: Remove the inner `list()` call

C401 Unnecessary generator (rewrite as a set comprehension)
    --> analysis.py:4062:13
     |
4060 |       szenarien_prozent_vals = sorted(
4061 |           list(
4062 | /             set(
4063 | |                 round(s, 1)
4064 | |                 for s in [
4065 | |                     max(0, current_increase_rate_percent - 1.5),
4066 | |                     current_increase_rate_percent,
4067 | |                     current_increase_rate_percent + 1.5,
4068 | |                 ]
4069 | |             )
     | |_____________^
4070 |           )
4071 |       )
     |
help: Rewrite as a set comprehension

F841 Local variable `bubble_sizes` is assigned to but never used
    --> analysis.py:4186:5
     |
4184 |     ]
4185 |     max_ev_kwh = max(ev_monat_kwh) if any(ev_monat_kwh) else 1.0
4186 |     bubble_sizes = [(v / max_ev_kwh * 30) + 10 for v in ev_monat_kwh]
     |     ^^^^^^^^^^^^
4187 |     #  PROFESSIONELLES 2D SHADCN CHART F├£R EIGENVERBRAUCH
4188 |     chart_data = {"x": month_labels, "y": ev_monat_grad}
     |
help: Remove assignment to unused variable `bubble_sizes`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> analysis.py:4643:13
     |
4641 |           )
4642 |           if palette_name != "Plotly":
4643 | /             try:
4644 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
4645 | |             except AttributeError:
4646 | |                 pass
     | |____________________^
4647 |       fig = go.Figure()
4648 |       prod_label_fig = get_text(
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> analysis.py:4805:13
     |
4803 |           )
4804 |           if palette_name != "Plotly":
4805 | /             try:
4806 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
4807 | |             except AttributeError:
4808 | |                 pass
     | |____________________^
4809 |
4810 |       if selected_chart_type == "line":
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> analysis.py:4905:13
     |
4903 |           )
4904 |           if palette_name != "Plotly":
4905 | /             try:
4906 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
4907 | |             except AttributeError:
4908 | |                 pass
     | |____________________^
4909 |
4910 |       if selected_chart_type == "area":
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> analysis.py:5047:13
     |
5045 |           )
5046 |           if palette_name != "Plotly":
5047 | /             try:
5048 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
5049 | |             except AttributeError:
5050 | |                 pass
     | |____________________^
5051 |       if not dynamic_color_list:
5052 |           default_color_1 = _safe_viz_get(
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

E741 Ambiguous variable name: `l`
    --> analysis.py:5073:32
     |
5071 |         values = [self_supply_float, grid_cons_float]
5072 |         # Filter raus sehr kleine Anteile
5073 |         filtered = [(l, v) for l, v in zip(labels, values, strict=False) if v >= 0.01]
     |                                ^
5074 |         if not filtered:
5075 |             st.info(
     |

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> analysis.py:5194:13
     |
5192 |           )
5193 |           if palette_name != "Plotly":
5194 | /             try:
5195 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
5196 | |             except AttributeError:
5197 | |                 pass
     | |____________________^
5198 |
5199 |       if not dynamic_color_list or len(dynamic_color_list) < 3:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

E741 Ambiguous variable name: `l`
    --> analysis.py:5225:32
     |
5223 |         ]
5224 |         values = [direct_cons_float, storage_cons_float, feed_in_prod_perc]
5225 |         filtered = [(l, v) for l, v in zip(labels, values, strict=False) if v >= 0.01]
     |                                ^
5226 |         if not filtered:
5227 |             st.info(
     |

F811 Redefinition of unused `integrate_advanced_calculations` from line 986
    --> analysis.py:5328:5
     |
5328 | def integrate_advanced_calculations(texts: dict[str, str]):
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `integrate_advanced_calculations` redefined here
5329 |     """Haupt-Integration der erweiterten Berechnungen"""
     |
    ::: analysis.py:986:5
     |
 986 | def integrate_advanced_calculations(texts: dict[str, str]):
     |     ------------------------------- previous definition of `integrate_advanced_calculations` here
 987 |     """Integrator f├╝r erweiterte Berechnungen und Analysen"""
     |
help: Remove definition: `integrate_advanced_calculations`

F401 `analysis_chart_modern_enhancement.get_modern_chart_color_sequence` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> analysis.py:5421:13
     |
5419 |         from analysis_chart_modern_enhancement import (
5420 |             create_sample_modern_charts_for_analysis,
5421 |             get_modern_chart_color_sequence,
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5422 |         )
5423 |         from pdf_ui_design_enhancement import (
     |
help: Remove unused import: `analysis_chart_modern_enhancement.get_modern_chart_color_sequence`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5523:22
     |
5521 |                 mode="lines+markers",
5522 |                 name="LCOE",
5523 |                 line=dict(color="#1E3A8A", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5524 |             )
5525 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5535:22
     |
5533 |                 mode="lines",
5534 |                 name="Netzstrompreis",
5535 |                 line=dict(color="#DC2626", width=2, dash="dash"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5536 |             )
5537 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5567:22
     |
5565 |                 fill="tozeroy",
5566 |                 name="NPV",
5567 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5568 |             )
5569 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5646:26
     |
5644 |               data=[
5645 |                   go.Sankey(
5646 |                       node=dict(
     |  __________________________^
5647 | |                         pad=15,
5648 | |                         thickness=20,
5649 | |                         line=dict(color="black", width=0.5),
5650 | |                         label=[
5651 | |                             "Photovoltaik-Erzeugung",
5652 | |                             "Direktverbrauch",
5653 | |                             "Batterieladung",
5654 | |                             "Netzeinspeisung",
5655 | |                             "Batterieentladung",
5656 | |                             "Netzbezug",
5657 | |                             "Hausverbrauch",
5658 | |                             "Verluste",
5659 | |                         ],
5660 | |                         color=[
5661 | |                             "#F59E0B",  # Photovoltaik-Erzeugung
5662 | |                             "#10B981",  # Direktverbrauch
5663 | |                             "#3B82F6",  # Batterieladung
5664 | |                             "#6366F1",  # Netzeinspeisung
5665 | |                             "#8B5CF6",  # Batterieentladung
5666 | |                             "#EF4444",  # Netzbezug
5667 | |                             "#6B7280",  # Hausverbrauch
5668 | |                             "#DC2626",  # Verluste
5669 | |                         ],
5670 | |                     ),
     | |_____________________^
5671 |                       link=dict(
5672 |                           source=energy_flows["sources"],
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5649:30
     |
5647 |                         pad=15,
5648 |                         thickness=20,
5649 |                         line=dict(color="black", width=0.5),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5650 |                         label=[
5651 |                             "Photovoltaik-Erzeugung",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5671:26
     |
5669 |                           ],
5670 |                       ),
5671 |                       link=dict(
     |  __________________________^
5672 | |                         source=energy_flows["sources"],
5673 | |                         target=energy_flows["targets"],
5674 | |                         value=energy_flows["values"],
5675 | |                         color=energy_flows["colors"],
5676 | |                     ),
     | |_____________________^
5677 |                   )
5678 |               ]
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5728:22
     |
5726 |                 name="Verbrauch",
5727 |                 fill="tozeroy",
5728 |                 line=dict(color="#EF4444", width=2),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5729 |             )
5730 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5740:22
     |
5738 |                 name="Photovoltaik-Erzeugung",
5739 |                 fill="tozeroy",
5740 |                 line=dict(color="#F59E0B", width=2),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5741 |             )
5742 |         )
     |
help: Rewrite as a literal

F841 Local variable `unique_id` is assigned to but never used
    --> analysis.py:5859:9
     |
5857 |         import uuid
5858 |
5859 |         unique_id = str(uuid.uuid4())[:8]
     |         ^^^^^^^^^
5860 |         st.plotly_chart(
5861 |             fig,
     |
help: Remove assignment to unused variable `unique_id`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5918:22
     |
5916 |                 mode="lines+markers",
5917 |                 name="Modultemperatur",
5918 |                 line=dict(color="#EF4444", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5919 |             ),
5920 |             row=1,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:5931:22
     |
5929 |                 mode="lines",
5930 |                 name="Umgebungstemperatur",
5931 |                 line=dict(color="#3B82F6", width=2, dash="dash"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5932 |             ),
5933 |             row=1,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6001:22
     |
5999 |                 mode="lines+markers",
6000 |                 name="Wirkungsgrad",
6001 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6002 |             )
6003 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6012:24
     |
6010 |                 mode="markers",
6011 |                 name="H├ñufige Betriebspunkte",
6012 |                 marker=dict(size=10, color="#EF4444"),
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6013 |             )
6014 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6020:19
     |
6018 |             xaxis_title="Auslastung (%)",
6019 |             yaxis_title="Wirkungsgrad (%)",
6020 |             yaxis=dict(range=[90, 100]),
     |                   ^^^^^^^^^^^^^^^^^^^^^
6021 |             hovermode="x unified",
6022 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6226:26
     |
6224 |                     mode="lines+markers",
6225 |                     name=scenario,
6226 |                     line=dict(width=3),
     |                          ^^^^^^^^^^^^^
6227 |                 )
6228 |             )
     |
help: Rewrite as a literal

F841 Local variable `styled_df` is assigned to but never used
    --> analysis.py:6250:13
     |
6248 |         # Szenario-Vergleich Tabelle mit sicherer Formatierung
6249 |         try:
6250 |             styled_df = comparison_df.copy()
     |             ^^^^^^^^^
6251 |
6252 |             # Sichere Formatierung f├╝r numerische Spalten
     |
help: Remove assignment to unused variable `styled_df`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6314:22
     |
6312 |                 name="Kumulative COÔéé-Einsparung",
6313 |                 fill="tozeroy",
6314 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6315 |             )
6316 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6504:18
     |
6502 |             x1=50,
6503 |             y1=potentials_df["benefit_potential"].max(),
6504 |             line=dict(color="gray", width=1, dash="dash"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6505 |         )
6506 |         fig.add_shape(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:6512:18
     |
6510 |             x1=100,
6511 |             y1=potentials_df["benefit_potential"].mean(),
6512 |             line=dict(color="gray", width=1, dash="dash"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6513 |         )
     |
help: Rewrite as a literal

F841 Local variable `total_investment` is assigned to but never used
    --> analysis.py:6729:13
     |
6727 |         # Berechne aktuelle Finanzierungskosten wenn Daten verf├╝gbar
6728 |         if financing_summary["financing_requested"]:
6729 |             total_investment = get_final_investment_amount(results)
     |             ^^^^^^^^^^^^^^^^
6730 |             financing_amount = financing_summary["financing_amount"]
     |
help: Remove assignment to unused variable `total_investment`

B007 Loop control variable `section` not used within loop body
    --> analysis.py:6800:9
     |
6799 |     # Z├ñhle verf├╝gbare Charts
6800 |     for section, data in financing_data.items():
     |         ^^^^^^^
6801 |         if isinstance(data, dict):
6802 |             chart_keys = [k for k in data.keys() if "chart" in k.lower()]
     |
help: Rename unused `section` to `_section`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> analysis.py:6802:33
     |
6800 |     for section, data in financing_data.items():
6801 |         if isinstance(data, dict):
6802 |             chart_keys = [k for k in data.keys() if "chart" in k.lower()]
     |                                 ^^^^^^^^^^^^^^^^
6803 |             summary["total_charts"] += len(chart_keys)
     |
help: Remove `.keys()`

F811 Redefinition of unused `render_pricing_modifications_ui` from line 299
    --> analysis.py:6817:5
     |
6817 | def render_pricing_modifications_ui():
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_pricing_modifications_ui` redefined here
6818 |     st.markdown("## Preis├ñnderungen (Rabatte, Zuschl├ñge, Sondervereinbarungen)")
6819 |     if "pricing_modifications" not in st.session_state:
     |
    ::: analysis.py:299:5
     |
 299 | def render_pricing_modifications_ui():
     |     ------------------------------- previous definition of `render_pricing_modifications_ui` here
 300 |     """Zeigt die UI f├╝r Preismodifikationen (Rabatte, Aufschl├ñge etc.)"""
     |
help: Remove definition: `render_pricing_modifications_ui`

N806 Variable `LIVE_PREVIEW_AVAILABLE` in function should be lowercase
    --> analysis.py:6942:9
     |
6940 |             render_modern_kpi_section,
6941 |         )
6942 |         LIVE_PREVIEW_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^
6943 |     except ImportError:
6944 |         LIVE_PREVIEW_AVAILABLE = False
     |

N806 Variable `LIVE_PREVIEW_AVAILABLE` in function should be lowercase
    --> analysis.py:6944:9
     |
6942 |         LIVE_PREVIEW_AVAILABLE = True
6943 |     except ImportError:
6944 |         LIVE_PREVIEW_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^
6945 |         st.warning(" Erweiterte Live-Vorschau nicht verf├╝gbar")
6946 |     debug_log("analysis.live_preview", "Status ermittelt", available=LIVE_PREVIEW_AVAILABLE)
     |

F401 `universal_chart_modernizer.modernize_existing_chart` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> analysis.py:7732:13
     |
7730 |         from universal_chart_modernizer import (
7731 |             apply_modern_style_to_figure,
7732 |             modernize_existing_chart,
     |             ^^^^^^^^^^^^^^^^^^^^^^^^
7733 |         )
7734 |         MODERN_CHARTS_AVAILABLE = True
     |
help: Remove unused import: `universal_chart_modernizer.modernize_existing_chart`

N806 Variable `MODERN_CHARTS_AVAILABLE` in function should be lowercase
    --> analysis.py:7734:9
     |
7732 |             modernize_existing_chart,
7733 |         )
7734 |         MODERN_CHARTS_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^^
7735 |         CHART_MODERNIZER_AVAILABLE = True
7736 |     except ImportError:
     |

N806 Variable `CHART_MODERNIZER_AVAILABLE` in function should be lowercase
    --> analysis.py:7735:9
     |
7733 |         )
7734 |         MODERN_CHARTS_AVAILABLE = True
7735 |         CHART_MODERNIZER_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
7736 |     except ImportError:
7737 |         MODERN_CHARTS_AVAILABLE = False
     |

N806 Variable `MODERN_CHARTS_AVAILABLE` in function should be lowercase
    --> analysis.py:7737:9
     |
7735 |         CHART_MODERNIZER_AVAILABLE = True
7736 |     except ImportError:
7737 |         MODERN_CHARTS_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^^
7738 |         CHART_MODERNIZER_AVAILABLE = False
7739 |         st.warning(" Moderne Diagramme nicht verf├╝gbar - verwende Standard-Charts")
     |

N806 Variable `CHART_MODERNIZER_AVAILABLE` in function should be lowercase
    --> analysis.py:7738:9
     |
7736 |     except ImportError:
7737 |         MODERN_CHARTS_AVAILABLE = False
7738 |         CHART_MODERNIZER_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
7739 |         st.warning(" Moderne Diagramme nicht verf├╝gbar - verwende Standard-Charts")
     |

B023 Function definition does not bind loop variable `unit_in_table`
    --> analysis.py:8369:42
     |
8367 | ÔÇª                     format_kpi_value(
8368 | ÔÇª                         x,
8369 | ÔÇª                         unit=unit_in_table,
     |                                ^^^^^^^^^^^^^
8370 | ÔÇª                         precision=precision_in_table,
8371 | ÔÇª                         texts_dict=texts,
     |

B023 Function definition does not bind loop variable `precision_in_table`
    --> analysis.py:8370:47
     |
8368 | ÔÇª                         x,
8369 | ÔÇª                         unit=unit_in_table,
8370 | ÔÇª                         precision=precision_in_table,
     |                                     ^^^^^^^^^^^^^^^^^^
8371 | ÔÇª                         texts_dict=texts,
8372 | ÔÇª                     )
     |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8631:30
     |
8629 |                         fill="tozeroy",
8630 |                         stackgroup="one",
8631 |                         line=dict(color="#EF4444", width=2),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8632 |                     )
8633 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8642:30
     |
8640 |                         fill="tonexty",
8641 |                         stackgroup="one",
8642 |                         line=dict(color="#10B981", width=2),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8643 |                     )
8644 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8654:30
     |
8652 |                         name="Restschuld",
8653 |                         yaxis="y2",
8654 |                         line=dict(color="#3B82F6", width=3, dash="dash"),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8655 |                     )
8656 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8662:28
     |
8660 |                       xaxis_title="Monat",
8661 |                       yaxis_title="Monatliche Belastung (Ôé¼)",
8662 |                       yaxis2=dict(
     |  ____________________________^
8663 | |                         title="Restschuld (Ôé¼)",
8664 | |                         overlaying="y",
8665 | |                         side="right",
8666 | |                         showgrid=False,
8667 | |                     ),
     | |_____________________^
8668 |                       hovermode="x unified",
8669 |                       legend=dict(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8669:28
     |
8667 |                       ),
8668 |                       hovermode="x unified",
8669 |                       legend=dict(
     |  ____________________________^
8670 | |                         orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
8671 | |                     ),
     | |_____________________^
8672 |                   )
8673 |                   st.plotly_chart(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8731:34
     |
8729 |                             mode="lines",
8730 |                             name="Kumulierte Zinsen",
8731 |                             line=dict(color="#EF4444", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8732 |                         )
8733 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8740:34
     |
8738 |                             mode="lines",
8739 |                             name="Kumulierte Tilgung",
8740 |                             line=dict(color="#10B981", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8741 |                         )
8742 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8847:34
     |
8845 |                             mode="lines",
8846 |                             name="Kumulierter Cashflow (Leasing)",
8847 |                             line=dict(color="#3B82F6", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8848 |                         )
8849 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:8856:34
     |
8854 |                             mode="lines",
8855 |                             name="Kumulierter Cashflow (Kauf)",
8856 |                             line=dict(color="#10B981", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8857 |                         )
8858 |                     )
     |
help: Rewrite as a literal

B007 Loop control variable `year` not used within loop body
    --> analysis.py:9110:21
     |
9108 |                 cumulative = -roi_item["initial_investment"]
9109 |
9110 |                 for year in years:
     |                     ^^^^
9111 |                     cumulative += roi_item["net_benefit"]
9112 |                     cumulative_cashflow.append(cumulative)
     |
help: Rename unused `year` to `_year`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:9120:30
     |
9118 |                         mode="lines+markers",
9119 |                         name=roi_item["option"],
9120 |                         line=dict(width=3),
     |                              ^^^^^^^^^^^^^
9121 |                     )
9122 |                 )
     |
help: Rewrite as a literal

F821 Undefined name `annual_Photovoltaik_revenue`
    --> analysis.py:9239:60
     |
9237 |         col_tax3, col_tax4 = st.columns(2)
9238 |         with col_tax3:
9239 |             st.metric("J├ñhrlicher Photovoltaik-Ertrag", f"{annual_Photovoltaik_revenue:,.2f} Ôé¼")
     |                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
9240 |         with col_tax4:
9241 |             st.metric("Steuer (KESt 26,375%)", f"{tax_result['steuer']:,.2f} Ôé¼")
     |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:9546:20
     |
9544 |             xaxis_title='Jahr',
9545 |             yaxis_title='J├ñhrlicher Cashflow (Ôé¼)',
9546 |             yaxis2=dict(title='Kumulativer Cashflow (Ôé¼)', side='right', overlaying='y'),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
9547 |             height=400
9548 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> analysis.py:9712:18
     |
9710 |             fill='tozeroy',
9711 |             name='COÔéé-Einsparungen',
9712 |             line=dict(color='green', width=3)
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
9713 |         ))
     |
help: Rewrite as a literal

W293 Blank line contains whitespace
  --> analysis_utils.py:20:1
   |
18 |     """
19 |     L├ñdt lokalisierten Text aus Dictionary
20 |     
   | ^^^^
21 |     Args:
22 |         texts_dict: Dictionary mit Texten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> analysis_utils.py:25:1
   |
23 |         key: Schl├╝ssel f├╝r gew├╝nschten Text
24 |         fallback_text: Standard-Text falls Schl├╝ssel nicht gefunden
25 |         
   | ^^^^^^^^
26 |     Returns:
27 |         Lokalisierter Text oder Fallback
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> analysis_utils.py:39:1
   |
37 |     """
38 |     Formatiert W├ñhrungsbetr├ñge
39 |     
   | ^^^^
40 |     Args:
41 |         value: Zu formatierender Betrag
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> analysis_utils.py:45:1
   |
43 |         decimal_places: Anzahl Dezimalstellen
44 |         german_format: Deutsche Formatierung verwenden
45 |         
   | ^^^^^^^^
46 |     Returns:
47 |         Formatierter W├ñhrungsbetrag
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> analysis_utils.py:69:1
   |
67 |     """
68 |     Formatiert Energiewerte
69 |     
   | ^^^^
70 |     Args:
71 |         value: Zu formatierender Energiewert
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> analysis_utils.py:74:1
   |
72 |         unit: Einheit (kWh, MWh, etc.)
73 |         decimal_places: Anzahl Dezimalstellen
74 |         
   | ^^^^^^^^
75 |     Returns:
76 |         Formatierter Energiewert
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:98:1
    |
 96 |     """
 97 |     Formatiert Prozentwerte
 98 |     
    | ^^^^
 99 |     Args:
100 |         value: Zu formatierender Prozentwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:102:1
    |
100 |         value: Zu formatierender Prozentwert
101 |         decimal_places: Anzahl Dezimalstellen
102 |         
    | ^^^^^^^^
103 |     Returns:
104 |         Formatierter Prozentwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:116:1
    |
114 |     """
115 |     Formatiert Zeitdauern
116 |     
    | ^^^^
117 |     Args:
118 |         value: Zu formatierender Zeitwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:121:1
    |
119 |         unit: Zeiteinheit
120 |         decimal_places: Anzahl Dezimalstellen
121 |         
    | ^^^^^^^^
122 |     Returns:
123 |         Formatierte Zeitdauer
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:143:1
    |
141 |     """
142 |     Validiert numerische Eingaben
143 |     
    | ^^^^
144 |     Args:
145 |         value: Zu validierender Wert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:148:1
    |
146 |         min_value: Minimaler erlaubter Wert
147 |         max_value: Maximaler erlaubter Wert
148 |         
    | ^^^^^^^^
149 |     Returns:
150 |         True wenn Wert valide ist
    |
help: Remove whitespace from blank line

SIM103 Return the negated condition directly
   --> analysis_utils.py:161:9
    |
159 |               return False
160 |
161 | /         if max_value is not None and numeric_value > max_value:
162 | |             return False
163 | |
164 | |         return True
    | |___________________^
165 |
166 |       except (ValueError, TypeError):
    |
help: Inline condition

W293 Blank line contains whitespace
   --> analysis_utils.py:173:1
    |
171 |     """
172 |     Berechnet prozentuale ├änderung
173 |     
    | ^^^^
174 |     Args:
175 |         old_value: Alter Wert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:177:1
    |
175 |         old_value: Alter Wert
176 |         new_value: Neuer Wert
177 |         
    | ^^^^^^^^
178 |     Returns:
179 |         Prozentuale ├änderung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:191:1
    |
189 |     """
190 |     Sichere Division mit Fallback-Wert
191 |     
    | ^^^^
192 |     Args:
193 |         numerator: Z├ñhler
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:196:1
    |
194 |         denominator: Nenner
195 |         default_value: Wert bei Division durch 0
196 |         
    | ^^^^^^^^
197 |     Returns:
198 |         Ergebnis der Division oder Fallback-Wert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:215:1
    |
213 |     """
214 |     Interpoliert j├ñhrliche Werte auf monatliche Werte
215 |     
    | ^^^^
216 |     Args:
217 |         annual_value: J├ñhrlicher Gesamtwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:219:1
    |
217 |         annual_value: J├ñhrlicher Gesamtwert
218 |         seasonal_pattern: Saisonale Gewichtungsfaktoren (12 Werte)
219 |         
    | ^^^^^^^^
220 |     Returns:
221 |         Liste mit 12 monatlichen Werten
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `monthly_values` before `return` statement
   --> analysis_utils.py:238:12
    |
236 |     monthly_values = [(annual_value / 12) * factor for factor in normalized_pattern]
237 |
238 |     return monthly_values
    |            ^^^^^^^^^^^^^^
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> analysis_utils.py:245:1
    |
243 |     """
244 |     Erstellt Szenario-Variationen basierend auf Basiswert
245 |     
    | ^^^^
246 |     Args:
247 |         base_value: Basiswert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:249:1
    |
247 |         base_value: Basiswert
248 |         variation_percentages: Liste mit Prozentabweichungen
249 |         
    | ^^^^^^^^
250 |     Returns:
251 |         Dictionary mit Szenario-Namen und -Werten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:271:1
    |
269 |     """
270 |     Berechnet zusammengesetztes Wachstum
271 |     
    | ^^^^
272 |     Args:
273 |         initial_value: Startwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:276:1
    |
274 |         growth_rate_percent: J├ñhrliche Wachstumsrate in Prozent
275 |         years: Anzahl Jahre
276 |         
    | ^^^^^^^^
277 |     Returns:
278 |         Endwert nach zusammengesetztem Wachstum
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:291:1
    |
289 |     """
290 |     Berechnet Barwert
291 |     
    | ^^^^
292 |     Args:
293 |         future_value: Zuk├╝nftiger Wert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:296:1
    |
294 |         discount_rate_percent: Diskontierungssatz in Prozent
295 |         years: Anzahl Jahre
296 |         
    | ^^^^^^^^
297 |     Returns:
298 |         Barwert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:310:1
    |
308 |     """
309 |     Extrahiert numerischen Wert aus Text
310 |     
    | ^^^^
311 |     Args:
312 |         text: Text mit numerischem Wert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:313:1
    |
311 |     Args:
312 |         text: Text mit numerischem Wert
313 |         
    | ^^^^^^^^
314 |     Returns:
315 |         Extrahierter numerischer Wert oder None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:340:1
    |
338 |     """
339 |     Erstellt Vergleichsmetriken zwischen aktuellen und Benchmark-Werten
340 |     
    | ^^^^
341 |     Args:
342 |         current_values: Aktuelle Werte
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:344:1
    |
342 |         current_values: Aktuelle Werte
343 |         benchmark_values: Benchmark-Werte
344 |         
    | ^^^^^^^^
345 |     Returns:
346 |         Dictionary mit Vergleichsmetriken
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:380:1
    |
378 |     """
379 |     Generiert zusammenfassende Statistiken
380 |     
    | ^^^^
381 |     Args:
382 |         data: Liste mit numerischen Werten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> analysis_utils.py:383:1
    |
381 |     Args:
382 |         data: Liste mit numerischen Werten
383 |         
    | ^^^^^^^^
384 |     Returns:
385 |         Dictionary mit Statistiken
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
  --> analyze_missing_features.py:73:13
   |
71 |             try:
72 |                 return ast.unparse(node.returns)
73 |             except:
   |             ^^^^^^
74 |                 return "unknown"
75 |         return None
   |

E722 Do not use bare `except`
   --> analyze_missing_features.py:115:5
    |
113 |                 found.append(func_name)
114 |         return found
115 |     except:
    |     ^^^^^^
116 |         return []
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> app_status.py:11:5
   |
10 |   def add_error(msg: str) -> None:
11 | /     try:
12 | |         import_errors.append(str(msg))
13 | |     except Exception:
14 | |         pass
   | |____________^
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

W293 Blank line contains whitespace
  --> auto_chart_generator.py:17:1
   |
15 |     """
16 |     Generiert ein Platzhalter-Chart als PNG
17 |     
   | ^^^^
18 |     Args:
19 |         chart_key: Name des Charts
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> auto_chart_generator.py:22:1
   |
20 |         width: Breite in Pixeln
21 |         height: H├Âhe in Pixeln
22 |         
   | ^^^^^^^^
23 |     Returns:
24 |         PNG-Bytes
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> auto_chart_generator.py:67:1
   |
65 |     """
66 |     Erstellt ein einfaches Platzhalter-PNG ohne matplotlib
67 |     
   | ^^^^
68 |     Returns:
69 |         PNG-Bytes (1x1 transparentes Pixel als Fallback)
   |
help: Remove whitespace from blank line

F401 `PIL.ImageFont` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> auto_chart_generator.py:72:43
   |
70 |     """
71 |     try:
72 |         from PIL import Image, ImageDraw, ImageFont
   |                                           ^^^^^^^^^
73 |
74 |         # 800x600 wei├ƒes Bild
   |
help: Remove unused import: `PIL.ImageFont`

RET504 Unnecessary assignment to `png_data` before `return` statement
  --> auto_chart_generator.py:96:16
   |
94 | ÔÇª     # PNG-Header f├╝r 1x1 transparentes Bild
95 | ÔÇª     png_data = b'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\x01\x00\x00\x00\x01\x08\x06\x00\x00\x00\x1f\x15\xc4\x89\x00\x00\x00ÔÇª
96 | ÔÇª     return png_data
   |              ^^^^^^^^
   |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> auto_chart_generator.py:105:1
    |
103 |     """
104 |     Generiert automatisch fehlende Charts als Platzhalter
105 |     
    | ^^^^
106 |     Args:
107 |         analysis_results: Bestehende Ergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:109:1
    |
107 |         analysis_results: Bestehende Ergebnisse
108 |         chart_keys_needed: Liste der ben├Âtigten Chart-Keys
109 |         
    | ^^^^^^^^
110 |     Returns:
111 |         Erweiterte analysis_results mit Platzhalter-Charts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:143:1
    |
141 |     """
142 |     Stellt sicher dass ALLE 55 Charts existieren (mit Platzhaltern wenn n├Âtig)
143 |     
    | ^^^^
144 |     Args:
145 |         analysis_results: Bestehende Ergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:146:1
    |
144 |     Args:
145 |         analysis_results: Bestehende Ergebnisse
146 |         
    | ^^^^^^^^
147 |     Returns:
148 |         Vollst├ñndige analysis_results mit ALLEN Charts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:174:1
    |
172 |     """
173 |     AUTO-FIX: Stellt sicher dass alle Charts verf├╝gbar sind
174 |     
    | ^^^^
175 |     Args:
176 |         analysis_results: Bestehende Ergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:178:1
    |
176 |         analysis_results: Bestehende Ergebnisse
177 |         force_all: Wenn True, werden ALLE 55 Charts erzwungen (mit Platzhaltern)
178 |         
    | ^^^^^^^^
179 |     Returns:
180 |         Korrigierte analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:207:1
    |
205 |     """
206 |     AUTO-FIX f├╝r Streamlit Session State
207 |     
    | ^^^^
208 |     Verwendung in admin_panel.py:
209 |         from auto_chart_generator import auto_fix_session_state_charts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:210:1
    |
208 |     Verwendung in admin_panel.py:
209 |         from auto_chart_generator import auto_fix_session_state_charts
210 |         
    | ^^^^^^^^
211 |         # Nach perform_calculations():
212 |         auto_fix_session_state_charts(force_all=True)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:213:1
    |
211 |         # Nach perform_calculations():
212 |         auto_fix_session_state_charts(force_all=True)
213 |     
    | ^^^^
214 |     Args:
215 |         force_all: Wenn True, werden ALLE 55 Charts erzwungen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> auto_chart_generator.py:254:1
    |
252 |     """
253 |     Erstellt einen Report ├╝ber Chart-Verf├╝gbarkeit
254 |     
    | ^^^^
255 |     Returns:
256 |         Dict mit Statistiken
    |
help: Remove whitespace from blank line

F401 `database.init_db` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> brand_logo_db.py:11:45
   |
10 | try:
11 |     from database import get_db_connection, init_db
   |                                             ^^^^^^^
12 |     DB_AVAILABLE = True
13 | except ImportError as e:
   |
help: Remove unused import: `database.init_db`

F821 Undefined name `e`
  --> brand_logo_db.py:15:66
   |
13 | except ImportError as e:
14 |     def get_db_connection():
15 |         print(f"brand_logo_db.py: Importfehler f├╝r database.py: {e}")
   |                                                                  ^
16 |         return
17 |     DB_AVAILABLE = False
   |

W291 Trailing whitespace
  --> brand_logo_db.py:68:35
   |
66 |             # Update existing logo
67 |             cursor.execute("""
68 |                 UPDATE brand_logos 
   |                                   ^
69 |                 SET logo_base64 = ?, logo_format = ?, file_size_bytes = ?,
70 |                     logo_position_x = ?, logo_position_y = ?, logo_width = ?, logo_height = ?,
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> brand_logo_db.py:113:29
    |
111 |                    logo_position_x, logo_position_y, logo_width, logo_height,
112 |                    is_active, created_at, updated_at
113 |             FROM brand_logos 
    |                             ^
114 |             WHERE brand_name = ?
115 |         """, (brand_name,))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> brand_logo_db.py:159:29
    |
157 |                    logo_position_x, logo_position_y, logo_width, logo_height,
158 |                    is_active, created_at, updated_at
159 |             FROM brand_logos 
    |                             ^
160 |             WHERE is_active = 1
161 |             ORDER BY brand_name
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> brand_logo_db.py:260:35
    |
258 |         if width is not None and height is not None:
259 |             cursor.execute("""
260 |                 UPDATE brand_logos 
    |                                   ^
261 |                 SET logo_position_x = ?, logo_position_y = ?, logo_width = ?, logo_height = ?,
262 |                     updated_at = CURRENT_TIMESTAMP
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> brand_logo_db.py:267:35
    |
265 |         else:
266 |             cursor.execute("""
267 |                 UPDATE brand_logos 
    |                                   ^
268 |                 SET logo_position_x = ?, logo_position_y = ?, updated_at = CURRENT_TIMESTAMP
269 |                 WHERE brand_name = ?
    |
help: Remove trailing whitespace

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> brand_logo_db.py:355:23
    |
354 |         # Indexe bauen
355 |         index_exact = {k: v for k, v in all_rows.items()}
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
356 |         index_norm = {_normalize_brand_key(k): v for k, v in all_rows.items()}
357 |         index_base = {_normalize_brand_key(_base_brand_without_suffix(k)): v for k, v in all_rows.items()}
    |
help: Rewrite using `dict()`

W291 Trailing whitespace
   --> brand_logo_db.py:398:31
    |
396 |         cursor = conn.cursor()
397 |         cursor.execute("""
398 |             UPDATE brand_logos 
    |                               ^
399 |             SET is_active = 0, updated_at = CURRENT_TIMESTAMP
400 |             WHERE brand_name = ?
    |
help: Remove trailing whitespace

RET504 Unnecessary assignment to `calculation_input` before `return` statement
   --> calculation_bridge.py:157:16
    |
155 |         }
156 |
157 |         return calculation_input
    |                ^^^^^^^^^^^^^^^^^
158 |
159 |     except Exception as e:
    |
help: Remove unnecessary assignment

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> calculation_bridge.py:160:9
    |
159 |     except Exception as e:
160 |         raise Exception(f"Configuration conversion error: {str(e)}")
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |

F841 Local variable `annual_production` is assigned to but never used
   --> calculation_bridge.py:272:9
    |
271 |         # Recalculate affected KPIs
272 |         annual_production = base_results.get('annual_pv_production_kwh', 0)
    |         ^^^^^^^^^^^^^^^^^
273 |         annual_savings = base_results.get('annual_financial_benefit_year1', 0)
    |
help: Remove assignment to unused variable `annual_production`

F401 `pv_calculations_core.PVCalculationsAdvanced` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:21:9
   |
19 | try:
20 |     from pv_calculations_core import (
21 |         PVCalculationsAdvanced,
   |         ^^^^^^^^^^^^^^^^^^^^^^
22 |         calculate_annual_energy_yield,
23 |         calculate_annuity,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_annual_energy_yield` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:22:9
   |
20 |     from pv_calculations_core import (
21 |         PVCalculationsAdvanced,
22 |         calculate_annual_energy_yield,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 |         calculate_annuity,
24 |         calculate_autarky_degree,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_annuity` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:23:9
   |
21 |         PVCalculationsAdvanced,
22 |         calculate_annual_energy_yield,
23 |         calculate_annuity,
   |         ^^^^^^^^^^^^^^^^^
24 |         calculate_autarky_degree,
25 |         calculate_co2_payback_time,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_autarky_degree` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:24:9
   |
22 |         calculate_annual_energy_yield,
23 |         calculate_annuity,
24 |         calculate_autarky_degree,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^
25 |         calculate_co2_payback_time,
26 |         calculate_co2_savings,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_co2_payback_time` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:25:9
   |
23 |         calculate_annuity,
24 |         calculate_autarky_degree,
25 |         calculate_co2_payback_time,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
26 |         calculate_co2_savings,
27 |         calculate_comprehensive_pv_analysis,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_co2_savings` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:26:9
   |
24 |         calculate_autarky_degree,
25 |         calculate_co2_payback_time,
26 |         calculate_co2_savings,
   |         ^^^^^^^^^^^^^^^^^^^^^
27 |         calculate_comprehensive_pv_analysis,
28 |         calculate_irr,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_irr` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:28:9
   |
26 |         calculate_co2_savings,
27 |         calculate_comprehensive_pv_analysis,
28 |         calculate_irr,
   |         ^^^^^^^^^^^^^
29 |         calculate_leasing_costs,
30 |         calculate_net_present_value,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_leasing_costs` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:29:9
   |
27 |         calculate_comprehensive_pv_analysis,
28 |         calculate_irr,
29 |         calculate_leasing_costs,
   |         ^^^^^^^^^^^^^^^^^^^^^^^
30 |         calculate_net_present_value,
31 |         calculate_payback_period,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_net_present_value` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:30:9
   |
28 |         calculate_irr,
29 |         calculate_leasing_costs,
30 |         calculate_net_present_value,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
31 |         calculate_payback_period,
32 |         calculate_self_consumption_quote,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_payback_period` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:31:9
   |
29 |         calculate_leasing_costs,
30 |         calculate_net_present_value,
31 |         calculate_payback_period,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^
32 |         calculate_self_consumption_quote,
33 |         calculate_total_roi,
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_self_consumption_quote` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:32:9
   |
30 |         calculate_net_present_value,
31 |         calculate_payback_period,
32 |         calculate_self_consumption_quote,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
33 |         calculate_total_roi,
34 |     )
   |
help: Remove unused import

F401 `pv_calculations_core.calculate_total_roi` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> calculations.py:33:9
   |
31 |         calculate_payback_period,
32 |         calculate_self_consumption_quote,
33 |         calculate_total_roi,
   |         ^^^^^^^^^^^^^^^^^^^
34 |     )
35 |     PV_CALCULATIONS_CORE_AVAILABLE = True
   |
help: Remove unused import

N801 Class name `sidebar` should use CapWords convention
  --> calculations.py:55:15
   |
53 |         @staticmethod
54 |         def error(msg): print(f"ERROR: {msg}")
55 |         class sidebar:
   |               ^^^^^^^
56 |             @staticmethod
57 |             def info(msg): print(f"SIDEBAR INFO: {msg}")
   |

N802 Function name `Dummy_load_admin_setting_calc` should be lowercase
  --> calculations.py:64:5
   |
63 | # --- DUMMY FUNKTIONEN UND FALLBACKS ---
64 | def Dummy_load_admin_setting_calc(key, default=None):
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 |     if key == "price_matrix_csv_data":
66 |         return ""
   |

N802 Function name `Dummy_list_products_calc` should be lowercase
   --> calculations.py:204:5
    |
204 | def Dummy_list_products_calc(category=None):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^
205 |     return []
    |

N802 Function name `Dummy_get_product_by_id_calc` should be lowercase
   --> calculations.py:208:5
    |
208 | def Dummy_get_product_by_id_calc(product_id):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
209 |     return None
    |

N802 Function name `Dummy_get_product_by_model_name_calc` should be lowercase
   --> calculations.py:212:5
    |
212 | def Dummy_get_product_by_model_name_calc(model_name):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
213 |     return None
    |

W293 Blank line contains whitespace
   --> calculations.py:269:1
    |
267 |     """
268 |     Sammelt alle Preismodifikationen aus verschiedenen Session State Quellen.
269 |     
    | ^^^^
270 |     Returns:
271 |         Dictionary mit standardisierten Preismodifikationen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:345:1
    |
343 |                                       system_type: str = "pv") -> bool:
344 |         """Update session state with enhanced pricing calculations
345 |         
    | ^^^^^^^^
346 |         Args:
347 |             calculation_data: Complete calculation data including components and modifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:349:1
    |
347 |             calculation_data: Complete calculation data including components and modifications
348 |             system_type: Type of system ("pv", "heatpump", "combined")
349 |             
    | ^^^^^^^^^^^^
350 |         Returns:
351 |             True if update was successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:462:1
    |
460 |                           system_type: str = "pv") -> dict[str, Any] | None:
461 |         """Get cached pricing data if available and valid
462 |         
    | ^^^^^^^^
463 |         Args:
464 |             calculation_data: Current calculation data to check against cache
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:466:1
    |
464 |             calculation_data: Current calculation data to check against cache
465 |             system_type: Type of system ("pv", "heatpump", "combined")
466 |             
    | ^^^^^^^^^^^^
467 |         Returns:
468 |             Cached pricing data if valid, None otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:500:1
    |
498 |     def invalidate_pricing_cache(self, system_type: str | None = None) -> None:
499 |         """Invalidate pricing cache for specific system type or all systems
500 |         
    | ^^^^^^^^
501 |         Args:
502 |             system_type: System type to invalidate, or None for all systems
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:543:1
    |
541 |     def get_pricing_modifications_from_session(self) -> dict[str, Any]:
542 |         """Get pricing modifications from session state in enhanced format
543 |         
    | ^^^^^^^^
544 |         Returns:
545 |             Dictionary with pricing modifications compatible with enhanced pricing engine
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:711:1
    |
709 | def get_pricing_cache_info() -> dict[str, Any]:
710 |     """Get information about current pricing cache status - for debugging and monitoring
711 |     
    | ^^^^
712 |     Returns:
713 |         Dictionary with cache status information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:750:1
    |
748 | ) -> dict[str, Any] | None:
749 |     """Calculate pricing using the enhanced pricing system
750 |     
    | ^^^^
751 |     Args:
752 |         components: List of component dictionaries with product info and quantities
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:756:1
    |
754 |         vat_rate: VAT rate in percent
755 |         use_cache: Whether to use cached results if available
756 |         
    | ^^^^^^^^
757 |     Returns:
758 |         Enhanced pricing calculation result or None if calculation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:795:1
    |
793 | def invalidate_pricing_cache(system_type: str | None = None) -> None:
794 |     """Invalidate pricing cache - call when component selection or pricing parameters change
795 |     
    | ^^^^
796 |     Args:
797 |         system_type: System type to invalidate, or None for all systems
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:804:1
    |
802 | def get_enhanced_pricing_from_session(system_type: str = "pv") -> dict[str, Any] | None:
803 |     """Get enhanced pricing data from session state
804 |     
    | ^^^^
805 |     Args:
806 |         system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:807:1
    |
805 |     Args:
806 |         system_type: Type of system ("pv", "heatpump", "combined")
807 |         
    | ^^^^^^^^
808 |     Returns:
809 |         Enhanced pricing data or None if not available
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:827:1
    |
825 |                                      system_type: str = "pv") -> bool:
826 |     """Update pricing when component selection changes - for real-time updates
827 |     
    | ^^^^
828 |     Args:
829 |         components: Updated component list
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:831:1
    |
829 |         components: Updated component list
830 |         system_type: Type of system ("pv", "heatpump", "combined")
831 |         
    | ^^^^^^^^
832 |     Returns:
833 |         True if update was successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:859:1
    |
857 |     """
858 |     Berechnet den finalen Preis mit der korrekten Formel: Matrixpreis + Zubeh├Âr - Rabatte.
859 |     
    | ^^^^
860 |     Args:
861 |         base_matrix_price: Basis-Matrixpreis (netto)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations.py:867:1
    |
865 |         one_time_bonus: Einmaliger Bonus (wird abgezogen)
866 |         debug_mode: Ob Debug-Ausgaben aktiviert sind
867 |         
    | ^^^^^^^^
868 |     Returns:
869 |         Dictionary mit finalen Preisberechnungen
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> calculations.py:1782:9
     |
1780 |                     irr = rate
1781 |                     break
1782 |         except:
     |         ^^^^^^
1783 |             irr = 0.05  # Fallback
     |

F841 Local variable `finance_rate` is assigned to but never used
    --> calculations.py:1786:9
     |
1785 |         # MIRR (vereinfacht)
1786 |         finance_rate = 0.04
     |         ^^^^^^^^^^^^
1787 |         reinvest_rate = 0.03
1788 |         mirr = ((annual_benefit * lifetime / investment) ** (1 / lifetime)) - 1
     |
help: Remove assignment to unused variable `finance_rate`

F841 Local variable `reinvest_rate` is assigned to but never used
    --> calculations.py:1787:9
     |
1785 |         # MIRR (vereinfacht)
1786 |         finance_rate = 0.04
1787 |         reinvest_rate = 0.03
     |         ^^^^^^^^^^^^^
1788 |         mirr = ((annual_benefit * lifetime / investment) ** (1 / lifetime)) - 1
     |
help: Remove assignment to unused variable `reinvest_rate`

F811 Redefinition of unused `calculate_shading_analysis` from line 1494
    --> calculations.py:1964:9
     |
1962 |         }
1963 |
1964 |     def calculate_shading_analysis(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_shading_analysis` redefined here
1965 |         self, project_data: dict[str, Any]
1966 |     ) -> dict[str, Any]:
     |
    ::: calculations.py:1494:9
     |
1492 |         }
1493 |
1494 |     def calculate_shading_analysis(
     |         -------------------------- previous definition of `calculate_shading_analysis` here
1495 |         self, project_data: dict[str, Any]
1496 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_shading_analysis`

F811 Redefinition of unused `calculate_subsidy_scenarios` from line 1517
    --> calculations.py:2196:9
     |
2194 |         }
2195 |
2196 |     def calculate_subsidy_scenarios(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_subsidy_scenarios` redefined here
2197 |         self, calc_results: dict[str, Any]
2198 |     ) -> dict[str, Any]:
     |
    ::: calculations.py:1517:9
     |
1515 |         }
1516 |
1517 |     def calculate_subsidy_scenarios(
     |         --------------------------- previous definition of `calculate_subsidy_scenarios` here
1518 |         self, calc_results: dict[str, Any]
1519 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_subsidy_scenarios`

F811 Redefinition of unused `calculate_detailed_co2_analysis` from line 1616
    --> calculations.py:2295:9
     |
2293 |         return {"scenarios": scenarios, "comparison": comparison}
2294 |
2295 |     def calculate_detailed_co2_analysis(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_detailed_co2_analysis` redefined here
2296 |         self, calc_results: dict[str, Any]
2297 |     ) -> dict[str, Any]:
     |
    ::: calculations.py:1616:9
     |
1614 |         }
1615 |
1616 |     def calculate_detailed_co2_analysis(
     |         ------------------------------- previous definition of `calculate_detailed_co2_analysis` here
1617 |         self, calc_results: dict[str, Any]
1618 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_detailed_co2_analysis`

F811 Redefinition of unused `generate_optimization_suggestions` from line 1553
    --> calculations.py:2352:9
     |
2350 |         }
2351 |
2352 |     def generate_optimization_suggestions(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `generate_optimization_suggestions` redefined here
2353 |         self, calc_results: dict[str, Any], project_data: dict[str, Any]
2354 |     ) -> dict[str, Any]:
     |
    ::: calculations.py:1553:9
     |
1551 |         }
1552 |
1553 |     def generate_optimization_suggestions(
     |         --------------------------------- previous definition of `generate_optimization_suggestions` here
1554 |         self, calc_results: dict[str, Any], project_data: dict[str, Any]
1555 |     ) -> dict[str, Any]:
     |
help: Remove definition: `generate_optimization_suggestions`

N806 Variable `DEFAULT_YIELD_KWH_PER_KWP_ANNUAL` in function should be lowercase
    --> calculations.py:2771:5
     |
2770 |     # Globale Konstanten extrahieren mit robusten Fallbacks
2771 |     DEFAULT_YIELD_KWH_PER_KWP_ANNUAL = float(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2772 |         global_constants.get("default_specific_yield_kwh_kwp", 950.0) or 950.0
2773 |     )
     |

F823 Local variable `st` referenced before assignment
    --> calculations.py:2880:17
     |
2878 |             print(debug_msg)
2879 |             if STREAMLIT_AVAILABLE:
2880 |                 st.sidebar.info(debug_msg)
     |                 ^^
2881 |
2882 |     except ImportError:
     |

N806 Variable `SYSTEM_LOSS_PVGIS` in function should be lowercase
    --> calculations.py:2927:17
     |
2925 |                 orientation_text_val = project_details.get("roof_orientation", "S├╝d")
2926 |                 azimuth_val = convert_orientation_to_pvgis_azimuth(orientation_text_val)
2927 |                 SYSTEM_LOSS_PVGIS = float(
     |                 ^^^^^^^^^^^^^^^^^
2928 |                     global_constants.get("pvgis_system_loss_default_percent", 14.0)
2929 |                     or 14.0
     |

E722 Do not use bare `except`
    --> calculations.py:2997:13
     |
2995 |                 import streamlit as st_local
2996 |                 st_local.info("Ôä╣ PV GIS ist in den Einstellungen DEAKTIVIERT. Verwende manuelle Ertragsberechnung.")
2997 |             except:
     |             ^^^^^^
2998 |                 pass  # Streamlit nicht verf├╝gbar, ignoriere Meldung
     |

F841 Local variable `direct_sc_from_production_factor` is assigned to but never used
    --> calculations.py:3121:5
     |
3120 |     # Eigenverbrauchsberechnung (vereinfacht, kann detaillierter werden)
3121 |     direct_sc_from_production_factor = float(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3122 |         global_constants.get("direct_self_consumption_factor_of_production", 0.25)
3123 |         or 0.25
     |
help: Remove assignment to unused variable `direct_sc_from_production_factor`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> calculations.py:3131:9
     |
3129 |       # Sicherstellen, dass die Storage-ID wirklich ein int ist (wichtig f├╝r get_product_by_id)
3130 |       if selected_storage_id is not None and not isinstance(selected_storage_id, int):
3131 | /         try:
3132 | |             selected_storage_id = int(str(selected_storage_id).strip())
3133 | |         except Exception:
3134 | |             # Falls Konvertierung fehlschl├ñgt, belassen wir den Wert (Lookup schl├ñgt dann ggf. fehl)
3135 | |             pass
     | |________________^
3136 |       # Nutze die explizit im Projekt ausgew├ñhlte Kapazit├ñt, nicht die aus den Produktdetails f├╝r diese Logik
3137 |       selected_storage_capacity_kwh = (
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `effective_direct_for_storage_view` is assigned to but never used
    --> calculations.py:3201:13
     |
3199 |             shifted_portion = cons_month * evening_fraction
3200 |             # Verhindere Doppelz├ñhlung: reduziere den direkten Eigenverbrauch entsprechend (nur intern f├╝r Entladung)
3201 |             effective_direct_for_storage_view = max(0.0, direct_sc - shifted_portion)
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3202 |             # Neue nutzbare Speicher-Entladungsmenge durch Verschiebung
3203 |             discharge_potential = min(shifted_portion, speicher_ladung_netto)
     |
help: Remove assignment to unused variable `effective_direct_for_storage_view`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> calculations.py:3231:13
     |
3230 |           if app_debug_mode_is_enabled:
3231 | /             try:
3232 | |                 print(f"MONAT {i+1:02d} | Prod={prod_month:.2f} kWh | Verbrauch={cons_month:.2f} kWh | Direkt={direct_sc:.2f} | PV-├£ÔÇª
3233 | |             except Exception:
3234 | |                 pass
     | |____________________^
3235 |
3236 |       # --- Spezialfall Volleinspeisung -------------------------------------------------
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `real_annual_savings` is assigned to but never used
    --> calculations.py:4483:9
     |
4482 |         # Reale Einsparungen (inflationsbereinigt)
4483 |         real_annual_savings = self.annual_savings
     |         ^^^^^^^^^^^^^^^^^^^
4484 |         real_investment = self.investment
     |
help: Remove assignment to unused variable `real_annual_savings`

F841 Local variable `pv_savings` is assigned to but never used
    --> calculations.py:4562:9
     |
4560 |     ) -> dict[str, list[dict[str, float]]]:
4561 |         base_cost = self.current_consumption * self.current_price
4562 |         pv_savings = self.self_consumption * self.current_price
     |         ^^^^^^^^^^
4563 |         feed_in_revenue = (
4564 |             self.pv_production - self.self_consumption
     |
help: Remove assignment to unused variable `pv_savings`

RET504 Unnecessary assignment to `offer_details` before `return` statement
    --> calculations.py:4762:16
     |
4760 |         }
4761 |
4762 |         return offer_details
     |                ^^^^^^^^^^^^^
4763 |
4764 |     except Exception as e:
     |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
    --> calculations.py:4776:1
     |
4774 |     """
4775 |     Berechnet das Verh├ñltnis der Speicherkapazit├ñt zum durchschnittlichen Tagesverbrauch
4776 |     
     | ^^^^
4777 |     Args:
4778 |         storage_capacity_kwh (float): Speicherkapazit├ñt in kWh
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> calculations.py:4780:1
     |
4778 |         storage_capacity_kwh (float): Speicherkapazit├ñt in kWh
4779 |         daily_consumption_kwh (float): Durchschnittlicher Tagesverbrauch in kWh
4780 |     
     | ^^^^
4781 |     Returns:
4782 |         float: Prozentsatz der Speicherkapazit├ñt im Verh├ñltnis zum Tagesverbrauch
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> calculations.py:4791:1
     |
4789 |     """
4790 |     Berechnet das Verh├ñltnis der Speicherkapazit├ñt zur durchschnittlichen PV-Tagesproduktion
4791 |     
     | ^^^^
4792 |     Args:
4793 |         storage_capacity_kwh (float): Speicherkapazit├ñt in kWh
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> calculations.py:4795:1
     |
4793 |         storage_capacity_kwh (float): Speicherkapazit├ñt in kWh
4794 |         daily_pv_production_kwh (float): Durchschnittliche PV-Tagesproduktion in kWh
4795 |     
     | ^^^^
4796 |     Returns:
4797 |         float: Prozentsatz der Speicherkapazit├ñt im Verh├ñltnis zur PV-Tagesproduktion
     |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
  --> calculations_cli.py:43:9
   |
41 |         data: dict[str, Any] = json.load(sys.stdin)
42 |     except json.JSONDecodeError as exc:
43 |         raise SystemExit(f"Ung├╝ltiges JSON auf der Eingabe: {exc}")
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
44 |
45 |     project_data: dict[str, Any] = data.get("project_data", {})
   |

E701 Multiple statements on one line (colon)
  --> calculations_extended.py:47:22
   |
45 |         current_annual_savings *= (1 + price_increase_percent / 100)
46 |         years += 1
47 |         if years > 50: return float('inf') # Sicherheitsabbruch
   |                      ^
48 |     # Feinjustierung f├╝r unterj├ñhrige Amortisation
49 |     return years - (cumulative_savings - investment) / (current_annual_savings / (1 + price_increase_percent / 100))
   |

E701 Multiple statements on one line (colon)
  --> calculations_extended.py:60:23
   |
58 | def calculate_internal_rate_of_return(investment: float, annual_savings: float) -> float:
59 |     """Berechnet den internen Zinsfu├ƒ (IRR)."""
60 |     if investment <= 0: return 0.0
   |                       ^
61 |     cash_flows = [-investment] + [annual_savings] * LIFESPAN_YEARS
62 |     try:
   |

E701 Multiple statements on one line (colon)
  --> calculations_extended.py:91:32
   |
89 | def calculate_lcoe(total_costs: float, total_generated_kwh: float) -> float:
90 |     """2. Stromgestehungskosten (LCOE) in Ôé¼/kWh"""
91 |     if total_generated_kwh == 0: return float('inf')
   |                                ^
92 |     return total_costs / total_generated_kwh
   |

E701 Multiple statements on one line (colon)
  --> calculations_extended.py:96:33
   |
94 | def calculate_self_consumption_quote(self_consumed_kwh: float, total_generation_kwh: float) -> float:
95 |     """3. Eigenverbrauchsquote (%)"""
96 |     if total_generation_kwh == 0: return 0.0
   |                                 ^
97 |     return (self_consumed_kwh / total_generation_kwh) * 100
   |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:101:34
    |
 99 | def calculate_autarky_degree(self_consumed_kwh: float, total_consumption_kwh: float) -> float:
100 |     """4. Autarkiegrad (%) """
101 |     if total_consumption_kwh == 0: return 0.0
    |                                  ^
102 |     return (self_consumed_kwh / total_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:106:27
    |
104 | def calculate_payback_period(investment_costs: float, annual_savings: float) -> float:
105 |     """5. Amortisationsdauer (Jahre) """
106 |     if annual_savings == 0: return float('inf')
    |                           ^
107 |     return investment_costs / annual_savings
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:127:32
    |
125 | def calculate_effective_pv_electricity_price(total_costs: float, total_generated_kwh: float) -> float:
126 |     """10. Effektiver Strompreis durch PV (ct/kWh) """
127 |     if total_generated_kwh == 0: return float('inf')
    |                                ^
128 |     return (total_costs / total_generated_kwh) * 100
    |

E722 Do not use bare `except`
   --> calculations_extended.py:142:5
    |
140 |     try:
141 |         return npf.irr(cashflows) * 100
142 |     except:
    |     ^^^^^^
143 |         return 0.0
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:155:39
    |
153 | def calculate_storage_coverage_degree(stored_self_consumption_kwh: float, total_self_consumption_kwh: float) -> float:
154 |     """15. Speicherdeckungsgrad (%)"""
155 |     if total_self_consumption_kwh == 0: return 0.0
    |                                       ^
156 |     return (stored_self_consumption_kwh / total_self_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:169:24
    |
167 |     """18. Berechnung Dachfl├ñchennutzung - Anzahl Module """
168 |     module_area = module_length_m * module_width_m
169 |     if module_area == 0: return 0
    |                        ^
170 |     return int(roof_area_m2 / module_area)
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:174:27
    |
172 | def calculate_break_even_year(investment: float, annual_savings: float) -> int:
173 |     """19. Break-Even-Analyse - Im wievielten Jahr """
174 |     if annual_savings == 0: return float('inf')
    |                           ^
175 |     return int(investment // annual_savings) + 1
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:200:30
    |
198 |     # Annahme: 'global_radiation' ist die Einstrahlung auf die Modulfl├ñche (kWh).
199 |     theoretical_yield = global_radiation_kwh_per_m2 * pv_area_m2
200 |     if theoretical_yield == 0: return 0.0
    |                              ^
201 |     return actual_yield_kwh / theoretical_yield
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:205:30
    |
203 | def calculate_specific_yield(annual_yield_kwh: float, pv_peak_power_kwp: float) -> float:
204 |     """22. Spezifischer Ertrag (kWh/kWp) """
205 |     if pv_peak_power_kwp == 0: return 0.0
    |                              ^
206 |     return annual_yield_kwh / pv_peak_power_kwp
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:210:29
    |
208 | def calculate_area_specific_yield(annual_yield_kwh: float, occupied_area_m2: float) -> float:
209 |     """23. Fl├ñchenspezifischer Ertrag (kWh/m┬▓) """
210 |     if occupied_area_m2 == 0: return 0.0
    |                             ^
211 |     return annual_yield_kwh / occupied_area_m2
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:215:27
    |
213 | def calculate_pv_module_efficiency(module_power_wp: float, module_area_m2: float) -> float:
214 |     """24. Effizienz der PV-Module (%) """
215 |     if module_area_m2 == 0: return 0.0
    |                           ^
216 |     # 1000 W/m┬▓ ist die Standard-Testbedingung (STC)
217 |     return (module_power_wp / (module_area_m2 * 1000)) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:221:26
    |
219 | def calculate_shading_loss(yield_with_shading: float, optimal_yield: float) -> float:
220 |     """25. Verschattungsverlust (%) """
221 |     if optimal_yield == 0: return 0.0
    |                          ^
222 |     return (1 - (yield_with_shading / optimal_yield)) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:226:30
    |
224 | def calculate_dc_ac_oversizing_factor(pv_power_kwp: float, inverter_power_kw: float) -> float:
225 |     """26. DC/AC-├£berdimensionierungsfaktor """
226 |     if inverter_power_kw == 0: return float('inf')
    |                              ^
227 |     return pv_power_kwp / inverter_power_kw
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:260:44
    |
258 | def calculate_pv_coverage_for_heatpump(pv_surplus_to_hp_kwh: float, heatpump_annual_consumption_kwh: float) -> float:
259 |     """33. PV-Deckungsgrad f├╝r W├ñrmepumpe (%) """
260 |     if heatpump_annual_consumption_kwh == 0: return 0.0
    |                                            ^
261 |     return (pv_surplus_to_hp_kwh / heatpump_annual_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:265:27
    |
263 | def calculate_roe(profit: float, equity_capital: float) -> float:
264 |     """34. Eigenkapitalrendite (ROE) (%) """
265 |     if equity_capital == 0: return float('inf')
    |                           ^
266 |     return (profit / equity_capital) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:270:20
    |
268 | def check_debt_service_capability(annual_surplus: float, annuity: float) -> float:
269 |     """35. Kapitaldienstf├ñhigkeitspr├╝fung (als Faktor) """
270 |     if annuity == 0: return float('inf')
    |                    ^
271 |     # Ein Wert > 1.2 wird oft als sicher angesehen.
272 |     return annual_surplus / annuity
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:280:31
    |
278 | def calculate_linear_depreciation(investment: float, depreciation_years: int) -> float:
279 |     """37. Steuerliche Abschreibung (linear) """
280 |     if depreciation_years == 0: return 0.0
    |                               ^
281 |     return investment / depreciation_years
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:310:28
    |
308 | def calculate_battery_lifespan_years(max_cycles: int, cycles_per_year: int) -> float:
309 |     """43. Batteriezyklus-Kalkulation (Lebensdauer in Jahren) """
310 |     if cycles_per_year == 0: return float('inf')
    |                            ^
311 |     return max_cycles / cycles_per_year
    |

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> calculations_extended.py:329:12
    |
327 |     # Platzhalter-Funktion, die die Struktur zur├╝ckgibt.
328 |     # Hier w├╝rde f├╝r jedes Szenario eine KPI-Berechnung stattfinden.
329 |     return {name: kpis for name, kpis in scenarios.items()}
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
330 |
331 | def calculate_plant_expansion(old_kpis: dict, new_kpis: dict) -> dict:
    |
help: Rewrite using `dict()`

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:345:23
    |
343 | def calculate_profitability_index(investment: float, annual_savings: float) -> float:
344 |     """Berechnet den Rentabilit├ñtsindex."""
345 |     if investment <= 0: return 0.0
    |                       ^
346 |     npv_of_future_cash_flows = npf.npv(DISCOUNT_RATE, [annual_savings] * LIFESPAN_YEARS)
347 |     return npv_of_future_cash_flows / investment
    |

F811 Redefinition of unused `calculate_lcoe` from line 89
   --> calculations_extended.py:350:5
    |
350 | def calculate_lcoe(investment: float, annual_production_kwh: float) -> float:
    |     ^^^^^^^^^^^^^^ `calculate_lcoe` redefined here
351 |     """Berechnet die Energiegestehungskosten (LCOE) in ct/kWh."""
352 |     if annual_production_kwh <= 0: return float('inf')
    |
   ::: calculations_extended.py:89:5
    |
 87 |     return pv_peak_power_kwp * specific_yield_kwh_per_kwp
 88 |
 89 | def calculate_lcoe(total_costs: float, total_generated_kwh: float) -> float:
    |     -------------- previous definition of `calculate_lcoe` here
 90 |     """2. Stromgestehungskosten (LCOE) in Ôé¼/kWh"""
 91 |     if total_generated_kwh == 0: return float('inf')
    |
help: Remove definition: `calculate_lcoe`

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:352:34
    |
350 | def calculate_lcoe(investment: float, annual_production_kwh: float) -> float:
351 |     """Berechnet die Energiegestehungskosten (LCOE) in ct/kWh."""
352 |     if annual_production_kwh <= 0: return float('inf')
    |                                  ^
353 |     # Vereinfachte Formel (ohne Betriebskosten, die hier in der Ersparnis stecken)
354 |     # Annuit├ñtenfaktor berechnen
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:367:34
    |
365 | def calculate_energy_payback_time(total_embodied_energy_kwh: float, annual_production_kwh: float) -> float:
366 |     """Berechnet die energetische Amortisationszeit."""
367 |     if annual_production_kwh <= 0: return float('inf')
    |                                  ^
368 |     return total_embodied_energy_kwh / annual_production_kwh
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:375:34
    |
373 |     total_embodied_co2 = pv_size_kwp * CO2_EMBODIED_PV_KWP
374 |     annual_co2_savings_kg = annual_production_kwh * CO2_EMISSIONS_GRID_KWH
375 |     if annual_co2_savings_kg <= 0: return float('inf')
    |                                  ^
376 |     return total_embodied_co2 / annual_co2_savings_kg
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:381:23
    |
379 | def calculate_total_roi(investment: float, annual_savings: float) -> float:
380 |     """Berechnet die Gesamtrendite ├╝ber die gesamte Lebensdauer."""
381 |     if investment <= 0: return 0.0
    |                       ^
382 |     total_profit = (annual_savings * LIFESPAN_YEARS) - investment
383 |     return (total_profit / investment) * 100
    |

E701 Multiple statements on one line (colon)
   --> calculations_extended.py:388:23
    |
386 | def calculate_annual_equity_return(investment: float, annual_savings: float) -> float:
387 |     """Berechnet die durchschnittliche j├ñhrliche Eigenkapitalrendite."""
388 |     if investment <= 0: return 0.0
    |                       ^
389 |     return (annual_savings / investment) * 100
    |

RET504 Unnecessary assignment to `results` before `return` statement
   --> calculations_extended.py:424:12
    |
422 |         "profit_after_20_years": calculate_profit_after_x_years(investment, annual_savings, 20),
423 |     }
424 |     return results
    |            ^^^^^^^
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> calculations_heatpump.py:50:1
   |
48 |     """
49 |     Empfiehlt die kleinste passende W├ñrmepumpe aus einer Liste.
50 |     
   | ^^^^
51 |     Args:
52 |         heat_load_kw (float): Die ben├Âtigte Heizlast.
   |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `annual_electricity_consumption_kwh` before `return` statement
  --> calculations_heatpump.py:80:12
   |
78 |     annual_heat_demand_kwh = heat_load_kw * heating_hours
79 |     annual_electricity_consumption_kwh = annual_heat_demand_kwh / scop
80 |     return annual_electricity_consumption_kwh
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
81 |
82 | def calculate_heatpump_economics(heatpump_data: dict[str, Any], building_data: dict[str, Any] = None) -> dict[str, Any]:
   |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> calculations_heatpump.py:85:1
   |
83 |     """
84 |     Berechnet die Wirtschaftlichkeit einer W├ñrmepumpe.
85 |     
   | ^^^^
86 |     Args:
87 |         heatpump_data (Dict[str, Any]): W├ñrmepumpendaten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> calculations_heatpump.py:89:1
   |
87 |         heatpump_data (Dict[str, Any]): W├ñrmepumpendaten
88 |         building_data (Dict[str, Any], optional): Geb├ñudedaten
89 |     
   | ^^^^
90 |     Returns:
91 |         Dict[str, Any]: Wirtschaftlichkeitsberechnung
   |
help: Remove whitespace from blank line

F841 Local variable `heatpump_power` is assigned to but never used
   --> calculations_heatpump.py:99:5
    |
 97 |     # Extrahiere Daten
 98 |     heating_demand = heatpump_data.get('heating_demand', building_data.get('heating_demand', 15000))  # kWh/Jahr
 99 |     heatpump_power = heatpump_data.get('heatpump_power', heatpump_data.get('heating_power_kw', 10.0))  # kW
    |     ^^^^^^^^^^^^^^
100 |     cop = heatpump_data.get('cop', heatpump_data.get('cop_rating', 3.5))
101 |     electricity_price = heatpump_data.get('electricity_price', 0.30)  # Ôé¼/kWh
    |
help: Remove assignment to unused variable `heatpump_power`

W293 Blank line contains whitespace
   --> calculations_heatpump.py:146:1
    |
144 |     """
145 |     Berechnet die optimale W├ñrmepumpengr├Â├ƒe f├╝r ein Geb├ñude.
146 |     
    | ^^^^
147 |     Args:
148 |         building_data (Dict[str, Any]): Geb├ñudedaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> calculations_heatpump.py:149:1
    |
147 |     Args:
148 |         building_data (Dict[str, Any]): Geb├ñudedaten
149 |     
    | ^^^^
150 |     Returns:
151 |         Dict[str, Any]: Auslegungsempfehlung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils.py:29:1
   |
27 |     """
28 |     Rendert ein vertikales Carousel mit Confirmation-Step.
29 |     
   | ^^^^
30 |     Zwei-Stufen-Navigation:
31 |     1. Scroll/Navigate durch Optionen (Preview)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils.py:33:1
   |
31 |     1. Scroll/Navigate durch Optionen (Preview)
32 |     2. Best├ñtigen um tats├ñchlich zu navigieren
33 |     
   | ^^^^
34 |     Args:
35 |         state_key: Session State Key f├╝r aktive Seite
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils.py:42:1
   |
40 |         label: Optional Label ├╝ber Carousel
41 |         help_text: Optional Hilfetext
42 |         
   | ^^^^^^^^
43 |     Returns:
44 |         str: Key der best├ñtigten/aktiven Option
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:103:1
    |
101 |         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
102 |     }}
103 |     
    | ^^^^
104 |     .carousel-label {{
105 |         color: white;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:111:1
    |
109 |         text-align: center;
110 |     }}
111 |     
    | ^^^^
112 |     .carousel-help {{
113 |         color: rgba(255, 255, 255, 0.8);
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:118:1
    |
116 |         text-align: center;
117 |     }}
118 |     
    | ^^^^
119 |     .vertical-carousel-items {{
120 |         display: flex;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:125:1
    |
123 |         margin: 12px 0;
124 |     }}
125 |     
    | ^^^^
126 |     .vertical-carousel-card {{
127 |         background: rgba(255, 255, 255, 0.1);
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:143:1
    |
141 |         gap: 8px;
142 |     }}
143 |     
    | ^^^^
144 |     .vertical-carousel-card.dimmed {{
145 |         opacity: 0.4;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:147:1
    |
145 |         opacity: 0.4;
146 |     }}
147 |     
    | ^^^^
148 |     .vertical-carousel-card.preview {{
149 |         border-color: {theme_colors["preview_border"]};
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:155:1
    |
153 |         opacity: 1;
154 |     }}
155 |     
    | ^^^^
156 |     .vertical-carousel-card.active {{
157 |         background: {theme_colors["active_bg"]};
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:163:1
    |
161 |         opacity: 1;
162 |     }}
163 |     
    | ^^^^
164 |     .carousel-icon {{
165 |         font-size: 16px;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:169:1
    |
167 |         color: rgba(255, 255, 255, 0.9);
168 |     }}
169 |     
    | ^^^^
170 |     .carousel-nav-buttons {{
171 |         display: flex;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:176:1
    |
174 |         margin: 12px 0;
175 |     }}
176 |     
    | ^^^^
177 |     .carousel-confirm-button {{
178 |         margin-top: 12px;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:274:1
    |
272 |     """
273 |     Rendert ein horizontales Carousel (wie im Admin-Panel).
274 |     
    | ^^^^
275 |     Args:
276 |         state_key: Session State Key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils.py:283:1
    |
281 |         label: Optional Label
282 |         help_text: Optional Hilfetext
283 |         
    | ^^^^^^^^
284 |     Returns:
285 |         str: Key der ausgew├ñhlten Option
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils_native.py:27:1
   |
25 |     """
26 |     Rendert ein vertikales Carousel mit Confirmation-Step.
27 |     
   | ^^^^
28 |     Verwendet NATIVE STREAMLIT-KOMPONENTEN statt HTML!
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils_native.py:29:1
   |
28 |     Verwendet NATIVE STREAMLIT-KOMPONENTEN statt HTML!
29 |     
   | ^^^^
30 |     Args:
31 |         state_key: Session State Key f├╝r aktive Seite
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils_native.py:38:1
   |
36 |         label: Optional Label ├╝ber Carousel
37 |         help_text: Optional Hilfetext
38 |         
   | ^^^^^^^^
39 |     Returns:
40 |         str: Key der best├ñtigten/aktiven Option
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils_native.py:78:1
   |
76 |         max-width: 340px !important;
77 |     }
78 |     
   | ^^^^
79 |     /* Alle Buttons gr├Â├ƒer und einheitlich */
80 |     .stButton > button {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> carousel_ui_utils_native.py:94:1
   |
92 |         justify-content: flex-start !important;
93 |     }
94 |     
   | ^^^^
95 |     /* Success/Info Boxes gr├Â├ƒer */
96 |     .stSuccess, .stInfo {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils_native.py:106:1
    |
104 |         line-height: 1.5 !important;
105 |     }
106 |     
    | ^^^^
107 |     /* Icon hervorheben */
108 |     .stButton > button strong,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils_native.py:114:1
    |
112 |         font-weight: 700 !important;
113 |     }
114 |     
    | ^^^^
115 |     /* Divider zwischen Items */
116 |     hr {
    |
help: Remove whitespace from blank line

F841 Local variable `icon` is assigned to but never used
   --> carousel_ui_utils_native.py:157:9
    |
155 |     for i in range(start_index, end_index):
156 |         key, item_label = options[i]
157 |         icon = icons.get(key, "") if icons else ""
    |         ^^^^
158 |
159 |         # Bestimme Typ und Emoji basierend auf Status
    |
help: Remove assignment to unused variable `icon`

F841 Local variable `button_type` is assigned to but never used
   --> carousel_ui_utils_native.py:172:13
    |
170 |         else:
171 |             # Dimmed - inaktiv
172 |             button_type = "secondary"
    |             ^^^^^^^^^^^
173 |             status_emoji = ""
174 |             disabled = False
    |
help: Remove assignment to unused variable `button_type`

F841 Local variable `status_emoji` is assigned to but never used
   --> carousel_ui_utils_native.py:173:13
    |
171 |             # Dimmed - inaktiv
172 |             button_type = "secondary"
173 |             status_emoji = ""
    |             ^^^^^^^^^^^^
174 |             disabled = False
    |
help: Remove assignment to unused variable `status_emoji`

F841 Local variable `disabled` is assigned to but never used
   --> carousel_ui_utils_native.py:174:13
    |
172 |             button_type = "secondary"
173 |             status_emoji = ""
174 |             disabled = False
    |             ^^^^^^^^
175 |
176 |         # Mapping von Kategorien zu lokalen Bildern
    |
help: Remove assignment to unused variable `disabled`

F841 Local variable `cursor_style` is assigned to but never used
   --> carousel_ui_utils_native.py:215:17
    |
213 |             else:
214 |                 border_style = "border: 2px solid rgba(255,255,255,0.3);"
215 |                 cursor_style = "pointer"
    |                 ^^^^^^^^^^^^
216 |
217 |             # Button f├╝r Klick - MIT Bild als Hintergrund im Button selbst
    |
help: Remove assignment to unused variable `cursor_style`

W293 Blank line contains whitespace
   --> carousel_ui_utils_native.py:347:1
    |
345 |     """
346 |     Rendert ein horizontales Carousel (f├╝r Admin-Tabs).
347 |     
    | ^^^^
348 |     Verwendet NATIVE STREAMLIT-KOMPONENTEN!
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils_native.py:349:1
    |
348 |     Verwendet NATIVE STREAMLIT-KOMPONENTEN!
349 |     
    | ^^^^
350 |     Args:
351 |         state_key: Session State Key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> carousel_ui_utils_native.py:356:1
    |
354 |         visible_count: Anzahl sichtbarer Items (default 3)
355 |         theme: Farbschema
356 |         
    | ^^^^^^^^
357 |     Returns:
358 |         str: Key der ausgew├ñhlten Option
    |
help: Remove whitespace from blank line

F841 Local variable `total_cols` is assigned to but never used
   --> carousel_ui_utils_native.py:380:5
    |
379 |     # Navigation + Items in Columns
380 |     total_cols = visible_count + 2  # +2 f├╝r Left/Right Buttons
    |     ^^^^^^^^^^
381 |     cols = st.columns([0.5] + [1] * visible_count + [0.5])
    |
help: Remove assignment to unused variable `total_cols`

F841 Local variable `test_generator` is assigned to but never used
   --> central_pdf_system.py:155:13
    |
153 |             )
154 |             # Teste ob das Mega Hybrid System verf├╝gbar ist
155 |             test_generator = MegaTOM90HybridPDFGenerator
    |             ^^^^^^^^^^^^^^
156 |             self.available_systems['mega_hybrid'] = generate_mega_hybrid_pdf
157 |             st.session_state.pdf_mega_hybrid_available = True
    |
help: Remove assignment to unused variable `test_generator`

E722 Do not use bare `except`
   --> central_pdf_system.py:189:13
    |
187 |                     warning=repr(e),
188 |                 )
189 |             except:
    |             ^^^^^^
190 |                 self.available_systems['mega_hybrid'] = self._dummy_mega_hybrid_pdf
191 |                 st.session_state.pdf_mega_hybrid_available = False
    |

E722 Do not use bare `except`
   --> central_pdf_system.py:238:9
    |
236 |             from pdf_generator import generate_offer_pdf
237 |             return generate_offer_pdf(*args, **kwargs)
238 |         except:
    |         ^^^^^^
239 |             try:
240 |                 # Fallback auf Business-Sections
    |

E722 Do not use bare `except`
   --> central_pdf_system.py:246:13
    |
244 |                     st.info(" Verwende Business-Sections als Standard-Fallback...")
245 |                     return generate_business_sections_pdf(company_info)
246 |             except:
    |             ^^^^^^
247 |                 st.error(" Standard PDF-Generator nicht verf├╝gbar!")
248 |                 return None
    |

E722 Do not use bare `except`
   --> central_pdf_system.py:287:17
    |
285 |                         st.info(" Verwende Business-Sections PDF als TOM-90 Fallback...")
286 |                         return generate_business_sections_pdf(company_info)
287 |                 except:
    |                 ^^^^^^
288 |                     st.error(" TOM-90 PDF-System nicht verf├╝gbar!")
289 |                     return None
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> central_pdf_system.py:415:42
    |
414 | ÔÇª     # Deaktiviere alle Business-Sektionen (k├Ânnen XML-Probleme verursachen)
415 | ÔÇª     business_keys = [key for key in safe_inclusion_options.keys() if 'business' in key.lower() or 'warranty' in key.lower()]
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
416 | ÔÇª     for key in business_keys:
417 | ÔÇª         safe_inclusion_options[key] = False
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> central_pdf_system.py:570:53
    |
568 |                         safe_inclusion_options = kwargs.get('inclusion_options', {}).copy()
569 |                         # Entferne alle problematischen Optionen
570 |                         xml_problem_keys = [key for key in safe_inclusion_options.keys()
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
571 |                                           if 'warranty' in key.lower() or 'insurance' in key.lower()
572 |                                           or 'maintenance' in key.lower()]
    |
help: Remove `.keys()`

F401 `tom90_renderer.generate_tom90_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> central_pdf_system.py:863:40
    |
861 |         try:
862 |             # Pr├╝fe den RICHTIGEN TOM-90 Renderer
863 |             from tom90_renderer import generate_tom90_offer_pdf
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^
864 |             status['tom90'] = True
865 |             print(" TOM90 Renderer (mit Business-Sections) verf├╝gbar")
    |
help: Remove unused import: `tom90_renderer.generate_tom90_offer_pdf`

F401 `tom90_exact_renderer.TOM90ExactRenderer` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> central_pdf_system.py:870:50
    |
868 |             try:
869 |                 # Fallback auf tom90_exact_renderer
870 |                 from tom90_exact_renderer import TOM90ExactRenderer
    |                                                  ^^^^^^^^^^^^^^^^^^
871 |                 status['tom90'] = True
872 |                 print(" TOM90ExactRenderer (Fallback) verf├╝gbar")
    |
help: Remove unused import: `tom90_exact_renderer.TOM90ExactRenderer`

F841 Local variable `test_generator` is assigned to but never used
   --> central_pdf_system.py:883:13
    |
881 |             )
882 |             # Zus├ñtzliche Validierung - teste ob die Klasse funktional ist
883 |             test_generator = MegaTOM90HybridPDFGenerator
    |             ^^^^^^^^^^^^^^
884 |             test_function = generate_mega_hybrid_pdf
885 |             status['mega_hybrid'] = True
    |
help: Remove assignment to unused variable `test_generator`

F841 Local variable `test_function` is assigned to but never used
   --> central_pdf_system.py:884:13
    |
882 |             # Zus├ñtzliche Validierung - teste ob die Klasse funktional ist
883 |             test_generator = MegaTOM90HybridPDFGenerator
884 |             test_function = generate_mega_hybrid_pdf
    |             ^^^^^^^^^^^^^
885 |             status['mega_hybrid'] = True
886 |             print(" MegaTOM90HybridPDFGenerator vollst├ñndig verf├╝gbar")
    |
help: Remove assignment to unused variable `test_function`

E722 Do not use bare `except`
   --> central_pdf_system.py:897:13
    |
895 |                 status['mega_hybrid'] = True
896 |                 print(" MegaTOM90HybridPDFGenerator teilweise verf├╝gbar")
897 |             except:
    |             ^^^^^^
898 |                 status['mega_hybrid'] = False
    |

SIM105 Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`
   --> central_pdf_system.py:901:9
    |
900 |           # Preview pr├╝fen
901 | /         try:
902 | |             status['preview'] = st.session_state.get('pdf_preview_available', False)
903 | |         except:
904 | |             pass
    | |________________^
905 |
906 |           return status
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(BaseException): ...`

E722 Do not use bare `except`
   --> central_pdf_system.py:903:9
    |
901 |         try:
902 |             status['preview'] = st.session_state.get('pdf_preview_available', False)
903 |         except:
    |         ^^^^^^
904 |             pass
    |

E722 Do not use bare `except`
    --> central_pdf_system.py:1401:21
     |
1399 |                         current_options["selected_company_text_templates"] = [t['id'] for t in all_text_templates]
1400 |                         current_options["selected_company_image_templates"] = [t['id'] for t in all_image_templates]
1401 |                     except:
     |                     ^^^^^^
1402 |                         pass
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> central_pdf_system.py:1549:29
     |
1548 |   ÔÇª                     # Nach oben verschieben
1549 | / ÔÇª                     if st.button("", key=f"move_up_{i}", disabled=(i == 0), help="Nach oben verschieben"):
1550 | | ÔÇª                         if i > 0:
     | |___________________________________^
1551 |   ÔÇª                             custom_items[i], custom_items[i-1] = custom_items[i-1], custom_items[i]
1552 |   ÔÇª                             st.session_state["custom_content_items"] = custom_items
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> central_pdf_system.py:1556:29
     |
1555 |   ÔÇª                     # Nach unten verschieben
1556 | / ÔÇª                     if st.button("", key=f"move_down_{i}", disabled=(i == len(custom_items)-1), help="Nach unten verschieben"):
1557 | | ÔÇª                         if i < len(custom_items)-1:
     | |_____________________________________________________^
1558 |   ÔÇª                             custom_items[i], custom_items[i+1] = custom_items[i+1], custom_items[i]
1559 |   ÔÇª                             st.session_state["custom_content_items"] = custom_items
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> central_pdf_system.py:1660:29
     |
1658 |                       for i, (section_id, section_name, section_desc) in enumerate(group_sections):
1659 |                           with group_cols[i % 2]:
1660 | /                             if st.checkbox(
1661 | |                                 section_name,
1662 | |                                 value=section_id in selected_main_sections,
1663 | |                                 key=f"section_{section_id}",
1664 | |                                 help=section_desc
1665 | |                             ):
1666 | |                                 if section_id not in updated_sections:
     | |______________________________________________________________________^
1667 |                                       updated_sections.append(section_id)
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> central_pdf_system.py:1702:29
     |
1701 |                           with reorder_col3:
1702 | /                             if st.button("", key=f"up_{section}_{i}", disabled=(i == 0), help="Nach oben verschieben"):
1703 | |                                 if i > 0:
     | |_________________________________________^
1704 |                                       ordered_selected[i], ordered_selected[i-1] = ordered_selected[i-1], ordered_selected[i]
1705 |                                       st.session_state[f"{self.session_prefix}selected_main_sections"] = ordered_selected
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> central_pdf_system.py:1709:29
     |
1708 |   ÔÇª     with reorder_col4:
1709 | / ÔÇª         if st.button("", key=f"down_{section}_{i}", disabled=(i == len(ordered_selected)-1), help="Nach unten verschieben"):
1710 | | ÔÇª             if i < len(ordered_selected)-1:
     | |_____________________________________________^
1711 |   ÔÇª                 ordered_selected[i], ordered_selected[i+1] = ordered_selected[i+1], ordered_selected[i]
1712 |   ÔÇª                 st.session_state[f"{self.session_prefix}selected_main_sections"] = ordered_selected
     |
help: Combine `if` statements using `and`

F401 `financial_tools` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> central_pdf_system.py:1910:24
     |
1908 |             # Pr├╝fe ob financial_tools verf├╝gbar ist
1909 |             try:
1910 |                 import financial_tools
     |                        ^^^^^^^^^^^^^^^
1911 |                 st.success(" Financial Tools verf├╝gbar - Berechnungen werden automatisch aus bestehenden Ergebnissen ├╝bernommen")
     |
help: Remove unused import: `financial_tools`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> central_pdf_system.py:2330:40
     |
2328 |         "ui_initialized": CENTRAL_PDF_UI is not None,
2329 |         "available_systems": PDF_MANAGER.get_system_status() if PDF_MANAGER else {},
2330 |         "session_state_keys": [key for key in st.session_state.keys() if "central_pdf_" in key]
     |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2331 |     }
     |
help: Remove `.keys()`

W293 Blank line contains whitespace
  --> chart_styling_improvements.py:74:1
   |
72 |     """
73 |     Wendet verbesserte Styling-Einstellungen auf Matplotlib-Diagramme an.
74 |     
   | ^^^^
75 |     Args:
76 |         fig: Matplotlib Figure-Objekt
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:124:1
    |
122 |     """
123 |     Erstellt ein verbessertes Balkendiagramm.
124 |     
    | ^^^^
125 |     Args:
126 |         ax: Matplotlib Axes-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:173:1
    |
171 |     """
172 |     Erstellt ein verbessertes Liniendiagramm.
173 |     
    | ^^^^
174 |     Args:
175 |         ax: Matplotlib Axes-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:217:1
    |
215 |     """
216 |     Erstellt ein verbessertes Donut-Diagramm.
217 |     
    | ^^^^
218 |     Args:
219 |         ax: Matplotlib Axes-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:264:1
    |
262 |     """
263 |     Erstellt ein verbessertes Streudiagramm.
264 |     
    | ^^^^
265 |     Args:
266 |         ax: Matplotlib Axes-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:297:1
    |
295 |     """
296 |     Speichert Matplotlib-Diagramm als PNG-Bytes mit hoher Aufl├Âsung.
297 |     
    | ^^^^
298 |     Args:
299 |         fig: Matplotlib Figure-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:300:1
    |
298 |     Args:
299 |         fig: Matplotlib Figure-Objekt
300 |         
    | ^^^^^^^^
301 |     Returns:
302 |         PNG-Bytes
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:334:1
    |
332 |     """
333 |     Wendet verbesserte Styling-Einstellungen auf Plotly-Diagramme an.
334 |     
    | ^^^^
335 |     Args:
336 |         fig: Plotly Figure-Objekt
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:345:15
    |
343 |       # Layout mit transparenten Hintergr├╝nden (Task 1)
344 |       fig.update_layout(
345 |           title=dict(
    |  _______________^
346 | |             text=title,
347 | |             font=dict(size=FONT_SIZE_TITLE, family='Arial', color='black'),
348 | |             x=0.5,
349 | |             xanchor='center'
350 | |         ) if title else None,
    | |_________^
351 |           paper_bgcolor='rgba(0,0,0,0)',
352 |           plot_bgcolor='rgba(0,0,0,0)',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:347:18
    |
345 |         title=dict(
346 |             text=title,
347 |             font=dict(size=FONT_SIZE_TITLE, family='Arial', color='black'),
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
348 |             x=0.5,
349 |             xanchor='center'
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:353:14
    |
351 |         paper_bgcolor='rgba(0,0,0,0)',
352 |         plot_bgcolor='rgba(0,0,0,0)',
353 |         font=dict(size=FONT_SIZE_TICK_LABEL, family='Arial', color='black'),
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
354 |         xaxis=dict(
355 |             title=dict(text=xlabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if xlabel else None,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:354:15
    |
352 |           plot_bgcolor='rgba(0,0,0,0)',
353 |           font=dict(size=FONT_SIZE_TICK_LABEL, family='Arial', color='black'),
354 |           xaxis=dict(
    |  _______________^
355 | |             title=dict(text=xlabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if xlabel else None,
356 | |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
357 | |             showgrid=show_grid,
358 | |             tickfont=dict(size=FONT_SIZE_TICK_LABEL)
359 | |         ),
    | |_________^
360 |           yaxis=dict(
361 |               title=dict(text=ylabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if ylabel else None,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:355:19
    |
353 |         font=dict(size=FONT_SIZE_TICK_LABEL, family='Arial', color='black'),
354 |         xaxis=dict(
355 |             title=dict(text=xlabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if xlabel else None,
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
356 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
357 |             showgrid=show_grid,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:355:42
    |
353 |         font=dict(size=FONT_SIZE_TICK_LABEL, family='Arial', color='black'),
354 |         xaxis=dict(
355 |             title=dict(text=xlabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if xlabel else None,
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
356 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
357 |             showgrid=show_grid,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:358:22
    |
356 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
357 |             showgrid=show_grid,
358 |             tickfont=dict(size=FONT_SIZE_TICK_LABEL)
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
359 |         ),
360 |         yaxis=dict(
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:360:15
    |
358 |               tickfont=dict(size=FONT_SIZE_TICK_LABEL)
359 |           ),
360 |           yaxis=dict(
    |  _______________^
361 | |             title=dict(text=ylabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if ylabel else None,
362 | |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
363 | |             showgrid=show_grid,
364 | |             tickfont=dict(size=FONT_SIZE_TICK_LABEL)
365 | |         ),
    | |_________^
366 |           showlegend=show_legend,
367 |           legend=dict(
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:361:19
    |
359 |         ),
360 |         yaxis=dict(
361 |             title=dict(text=ylabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if ylabel else None,
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
362 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
363 |             showgrid=show_grid,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:361:42
    |
359 |         ),
360 |         yaxis=dict(
361 |             title=dict(text=ylabel, font=dict(size=FONT_SIZE_AXIS_LABEL)) if ylabel else None,
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
362 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
363 |             showgrid=show_grid,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:364:22
    |
362 |             gridcolor=f'rgba(128,128,128,{GRID_ALPHA})' if show_grid else 'rgba(0,0,0,0)',
363 |             showgrid=show_grid,
364 |             tickfont=dict(size=FONT_SIZE_TICK_LABEL)
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
365 |         ),
366 |         showlegend=show_legend,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:367:16
    |
365 |           ),
366 |           showlegend=show_legend,
367 |           legend=dict(
    |  ________________^
368 | |             bgcolor='rgba(0,0,0,0)',
369 | |             bordercolor='rgba(0,0,0,0)',
370 | |             font=dict(size=FONT_SIZE_LEGEND)
371 | |         ),
    | |_________^
372 |           margin=dict(l=70, r=30, t=80, b=60),
373 |           height=500
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:370:18
    |
368 |             bgcolor='rgba(0,0,0,0)',
369 |             bordercolor='rgba(0,0,0,0)',
370 |             font=dict(size=FONT_SIZE_LEGEND)
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
371 |         ),
372 |         margin=dict(l=70, r=30, t=80, b=60),
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:372:16
    |
370 |             font=dict(size=FONT_SIZE_LEGEND)
371 |         ),
372 |         margin=dict(l=70, r=30, t=80, b=60),
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
373 |         height=500
374 |     )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:387:1
    |
385 |     """
386 |     F├╝gt verbesserte Balken zu Plotly-Diagramm hinzu.
387 |     
    | ^^^^
388 |     Args:
389 |         fig: Plotly Figure-Objekt
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:403:16
    |
401 |           y=y_data,
402 |           name=name,
403 |           marker=dict(
    |  ________________^
404 | |             color=color,
405 | |             line=dict(color='white', width=1.5)
406 | |         ),
    | |_________^
407 |           text=[f'{val:,.0f}' for val in y_data] if show_values else None,
408 |           textposition='outside' if show_values else None,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:405:18
    |
403 |         marker=dict(
404 |             color=color,
405 |             line=dict(color='white', width=1.5)
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
406 |         ),
407 |         text=[f'{val:,.0f}' for val in y_data] if show_values else None,
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:409:18
    |
407 |         text=[f'{val:,.0f}' for val in y_data] if show_values else None,
408 |         textposition='outside' if show_values else None,
409 |         textfont=dict(size=FONT_SIZE_DATA_LABEL, color='black') if show_values else None,
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
410 |         hovertemplate='<b>%{x}</b><br>Wert: %{y:,.0f}<extra></extra>'
411 |     ))
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:424:1
    |
422 |     """
423 |     F├╝gt verbesserte Linie zu Plotly-Diagramm hinzu.
424 |     
    | ^^^^
425 |     Args:
426 |         fig: Plotly Figure-Objekt
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:443:14
    |
441 |         mode=mode,
442 |         name=name,
443 |         line=dict(color=color, width=LINE_WIDTH / 1.5),  # Plotly verwendet d├╝nnere Linien
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
444 |         marker=dict(size=8, color=color) if show_markers else None,
445 |         hovertemplate='<b>%{x}</b><br>Wert: %{y:,.0f}<extra></extra>'
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> chart_styling_improvements.py:444:16
    |
442 |         name=name,
443 |         line=dict(color=color, width=LINE_WIDTH / 1.5),  # Plotly verwendet d├╝nnere Linien
444 |         marker=dict(size=8, color=color) if show_markers else None,
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
445 |         hovertemplate='<b>%{x}</b><br>Wert: %{y:,.0f}<extra></extra>'
446 |     ))
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:454:1
    |
452 |     """
453 |     Speichert Plotly-Diagramm als PNG-Bytes mit hoher Aufl├Âsung.
454 |     
    | ^^^^
455 |     Args:
456 |         fig: Plotly Figure-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:457:1
    |
455 |     Args:
456 |         fig: Plotly Figure-Objekt
457 |         
    | ^^^^^^^^
458 |     Returns:
459 |         PNG-Bytes
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `chart_bytes` before `return` statement
   --> chart_styling_improvements.py:476:12
    |
474 |     )
475 |
476 |     return chart_bytes
    |            ^^^^^^^^^^^
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:491:1
    |
489 |     """
490 |     Generiert eine strukturierte Beschreibung f├╝r ein Diagramm.
491 |     
    | ^^^^
492 |     Args:
493 |         chart_type: Typ des Diagramms (z.B. "Balkendiagramm", "Liniendiagramm")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:497:1
    |
495 |         purpose: Zweck des Diagramms
496 |         key_insights: Liste der Haupterkenntnisse
497 |         
    | ^^^^^^^^
498 |     Returns:
499 |         Formatierte Beschreibung als String
    |
help: Remove whitespace from blank line

B905 `zip()` without an explicit `strict=` parameter
   --> chart_styling_improvements.py:520:29
    |
518 |         description_parts.append("\n\nWerte:")
519 |         labels = data.get('labels', [f"Wert {i+1}" for i in range(len(data['values']))])
520 |         for label, value in zip(labels, data['values']):
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
521 |             if isinstance(value, (int, float)):
522 |                 description_parts.append(f"\nÔÇó {label}: {value:,.2f}")
    |
help: Add explicit value for parameter `strict=`

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:534:1
    |
532 |     """
533 |     Gibt die optimale Diagrammgr├Â├ƒe in Zoll zur├╝ck (Task 4.3).
534 |     
    | ^^^^
535 |     Returns:
536 |         Tuple (Breite, H├Âhe) in Zoll
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:546:1
    |
544 |     """
545 |     Gibt eine professionelle Farbpalette zur├╝ck.
546 |     
    | ^^^^
547 |     Args:
548 |         n_colors: Anzahl der ben├Âtigten Farben
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> chart_styling_improvements.py:549:1
    |
547 |     Args:
548 |         n_colors: Anzahl der ben├Âtigten Farben
549 |         
    | ^^^^^^^^
550 |     Returns:
551 |         Liste von Farbcodes
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> check_actual_product_prices.py:26:61
   |
24 |     print("=" * 120)
25 |     cursor.execute("""
26 |         SELECT id, brand, model_name, price_euro, capacity_w 
   |                                                             ^
27 |         FROM products 
28 |         WHERE category='module' AND price_euro IS NOT NULL AND price_euro > 0
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_actual_product_prices.py:27:22
   |
25 |     cursor.execute("""
26 |         SELECT id, brand, model_name, price_euro, capacity_w 
27 |         FROM products 
   |                      ^
28 |         WHERE category='module' AND price_euro IS NOT NULL AND price_euro > 0
29 |         ORDER BY brand, capacity_w
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_actual_product_prices.py:47:61
   |
45 |     print("=" * 120)
46 |     cursor.execute("""
47 |         SELECT id, brand, model_name, price_euro, capacity_w 
   |                                                             ^
48 |         FROM products 
49 |         WHERE category='module'
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_actual_product_prices.py:48:22
   |
46 |     cursor.execute("""
47 |         SELECT id, brand, model_name, price_euro, capacity_w 
48 |         FROM products 
   |                      ^
49 |         WHERE category='module'
50 |         ORDER BY id
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_actual_product_prices.py:94:65
   |
92 |     for pid in test_ids:
93 |         cursor.execute("""
94 |             SELECT id, brand, model_name, price_euro, capacity_w 
   |                                                                 ^
95 |             FROM products 
96 |             WHERE category='module' AND id=?
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_actual_product_prices.py:95:26
   |
93 |         cursor.execute("""
94 |             SELECT id, brand, model_name, price_euro, capacity_w 
95 |             FROM products 
   |                          ^
96 |             WHERE category='module' AND id=?
97 |         """, (pid,))
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_categories.py:29:60
   |
28 | cursor.execute("""
29 |     SELECT id, category, model_name, price_euro, capacity_w 
   |                                                            ^
30 |     FROM products 
31 |     LIMIT 10
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_categories.py:30:18
   |
28 | cursor.execute("""
29 |     SELECT id, category, model_name, price_euro, capacity_w 
30 |     FROM products 
   |                  ^
31 |     LIMIT 10
32 | """)
   |
help: Remove trailing whitespace

E722 Do not use bare `except`
  --> check_companies.py:89:21
   |
87 |                         templates = json.loads(result[0])
88 |                         print(f'{template_key}: {len(templates)} Templates')
89 |                     except:
   |                     ^^^^^^
90 |                         print(f'{template_key}: Fehler beim Parsen')
91 |                 else:
   |

F821 Undefined name `sys`
  --> check_db.py:66:31
   |
64 | if st.button("Reload Data"):
65 |     # Re-run the whole script to refresh the data
66 |     os.execv(__file__, [''] + sys.argv)
   |                               ^^^
67 |
68 | st.write("App finished running.")
   |

W291 Trailing whitespace
  --> check_product_image_details.py:51:38
   |
49 |         print("\nAndere Produkte mit Bilddaten:")
50 |         cursor.execute('''
51 |             SELECT model_name, brand, 
   |                                      ^
52 |                    CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN LENGTH(image_base64) ELSE 0 END as img_len
53 |             FROM products 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_product_image_details.py:53:26
   |
51 |             SELECT model_name, brand, 
52 |                    CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN LENGTH(image_base64) ELSE 0 END as img_len
53 |             FROM products 
   |                          ^
54 |             WHERE image_base64 IS NOT NULL AND image_base64 != '' 
55 |             LIMIT 5
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_product_image_details.py:54:66
   |
52 |                    CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN LENGTH(image_base64) ELSE 0 END as img_len
53 |             FROM products 
54 |             WHERE image_base64 IS NOT NULL AND image_base64 != '' 
   |                                                                  ^
55 |             LIMIT 5
56 |         ''')
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_product_images.py:12:38
   |
10 |         # Pr├╝fe alle Produkte auf Bilder
11 |         cursor.execute('''
12 |             SELECT model_name, brand, 
   |                                      ^
13 |                    CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN 1 ELSE 0 END as has_image
14 |             FROM products 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_product_images.py:14:26
   |
12 |             SELECT model_name, brand, 
13 |                    CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN 1 ELSE 0 END as has_image
14 |             FROM products 
   |                          ^
15 |             LIMIT 10
16 |         ''')
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> check_product_images.py:26:19
   |
24 |         # Z├ñhle Produkte mit/ohne Bilder
25 |         cursor.execute('''
26 |             SELECT 
   |                   ^
27 |                 COUNT(*) as total,
28 |                 SUM(CASE WHEN image_base64 IS NOT NULL AND image_base64 != '' THEN 1 ELSE 0 END) as with_images
   |
help: Remove trailing whitespace

B007 Loop control variable `i` not used within loop body
  --> check_product_prices.py:17:9
   |
15 |     print("-" * 100)
16 |
17 |     for i, m in enumerate(modules[:20], 1):
   |         ^
18 |         brand = (m.get("brand") or "?")[:19]
19 |         model = (m.get("model_name") or "?")[:44]
   |
help: Rename unused `i` to `_i`

W293 Blank line contains whitespace
  --> complete_export.py:15:1
   |
13 |     """
14 |     Sammelt ALLE Chart-Bytes aus calculations.py Ergebnissen
15 |     
   | ^^^^
16 |     Args:
17 |         results: Ergebnisse von perform_calculations()
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> complete_export.py:18:1
   |
16 |     Args:
17 |         results: Ergebnisse von perform_calculations()
18 |         
   | ^^^^^^^^
19 |     Returns:
20 |         Dict mit allen Chart-Bytes
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> complete_export.py:50:1
   |
48 |     """
49 |     Sammelt ALLE Finanz-Berechnungen aus financial_tools.py
50 |     
   | ^^^^
51 |     Args:
52 |         project_data: Projektdaten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> complete_export.py:54:1
   |
52 |         project_data: Projektdaten
53 |         analysis_results: Analyse-Ergebnisse
54 |         
   | ^^^^^^^^
55 |     Returns:
56 |         Dict mit allen Finanz-Berechnungen
   |
help: Remove whitespace from blank line

F841 Local variable `annual_savings` is assigned to but never used
  --> complete_export.py:69:9
   |
68 |         total_investment = analysis_results.get('total_investment', 0)
69 |         annual_savings = analysis_results.get('annual_savings_after_pv', 0)
   |         ^^^^^^^^^^^^^^
70 |
71 |         financial_calcs = {}
   |
help: Remove assignment to unused variable `annual_savings`

E722 Do not use bare `except`
  --> complete_export.py:82:13
   |
80 |                 )
81 |                 financial_calcs['annuity_15y'] = annuity
82 |             except:
   |             ^^^^^^
83 |                 pass
   |

E722 Do not use bare `except`
  --> complete_export.py:92:13
   |
90 |                 )
91 |                 financial_calcs['annuity_20y'] = annuity_20y
92 |             except:
   |             ^^^^^^
93 |                 pass
   |

E722 Do not use bare `except`
   --> complete_export.py:104:13
    |
102 |                 )
103 |                 financial_calcs['leasing_180m'] = leasing
104 |             except:
    |             ^^^^^^
105 |                 pass
    |

E722 Do not use bare `except`
   --> complete_export.py:116:13
    |
114 |                 )
115 |                 financial_calcs['depreciation_linear'] = depreciation_linear
116 |             except:
    |             ^^^^^^
117 |                 pass
    |

E722 Do not use bare `except`
   --> complete_export.py:126:13
    |
124 |                 )
125 |                 financial_calcs['depreciation_degressive'] = depreciation_degressive
126 |             except:
    |             ^^^^^^
127 |                 pass
    |

E722 Do not use bare `except`
   --> complete_export.py:139:13
    |
137 |                 )
138 |                 financial_calcs['financing_comparison'] = comparison
139 |             except:
    |             ^^^^^^
140 |                 pass
    |

E722 Do not use bare `except`
   --> complete_export.py:151:13
    |
149 |                 )
150 |                 financial_calcs['capital_gains_tax'] = capital_gains
151 |             except:
    |             ^^^^^^
152 |                 pass
    |

E722 Do not use bare `except`
   --> complete_export.py:165:13
    |
163 |                 )
164 |                 financial_calcs['contracting_costs'] = contracting
165 |             except:
    |             ^^^^^^
166 |                 pass
    |

W293 Blank line contains whitespace
   --> complete_export.py:182:1
    |
180 |     """
181 |     Sammelt ALLE erweiterten Berechnungen aus calculations_extended.py
182 |     
    | ^^^^
183 |     Args:
184 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> complete_export.py:186:1
    |
184 |         project_data: Projektdaten
185 |         analysis_results: Analyse-Ergebnisse
186 |         
    | ^^^^^^^^
187 |     Returns:
188 |         Dict mit allen erweiterten Berechnungen
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> complete_export.py:206:13
    |
204 |                 )
205 |                 extended_calcs['extended_analysis'] = extended_results
206 |             except:
    |             ^^^^^^
207 |                 pass
    |

W293 Blank line contains whitespace
   --> complete_export.py:220:1
    |
218 |     """
219 |     VOLLST├äNDIGE Mapping-Liste ALLER verf├╝gbaren Charts
220 |     
    | ^^^^
221 |     Returns:
222 |         Dict mit Chart-Key ÔåÆ Freundlicher Name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> complete_export.py:299:1
    |
297 |     """
298 |     VOLLST├äNDIGE Liste ALLER verf├╝gbaren Berechnungen
299 |     
    | ^^^^
300 |     Returns:
301 |         Liste mit Berechnung-Info
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> complete_export.py:345:1
    |
343 |     """
344 |     MASTER-EXPORT: Sammelt ALLE Ergebnisse aus ALLEN Modulen
345 |     
    | ^^^^
346 |     Args:
347 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> complete_export.py:350:1
    |
348 |         calculation_results: Ergebnisse von perform_calculations()
349 |         analysis_results: Ergebnisse von analysis.py
350 |         
    | ^^^^^^^^
351 |     Returns:
352 |         Vollst├ñndiges Dict mit ALLEN Ergebnissen
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> complete_export.py:372:5
    |
370 |         complete_export['charts'].update(charts_calc)
371 |         complete_export['metadata']['modules_loaded'].append('calculations')
372 |     except:
    |     ^^^^^^
373 |         pass
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> complete_export.py:378:17
    |
376 |         if analysis_results:
377 |             # Charts aus analysis_results
378 |             for key in get_complete_chart_mapping().keys():
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
379 |                 if key in analysis_results and analysis_results[key] is not None:
380 |                     complete_export['charts'][key] = analysis_results[key]
    |
help: Remove `.keys()`

E722 Do not use bare `except`
   --> complete_export.py:382:5
    |
380 |                     complete_export['charts'][key] = analysis_results[key]
381 |             complete_export['metadata']['modules_loaded'].append('analysis')
382 |     except:
    |     ^^^^^^
383 |         pass
    |

E722 Do not use bare `except`
   --> complete_export.py:390:5
    |
388 |         complete_export['financial'] = financial
389 |         complete_export['metadata']['modules_loaded'].append('financial_tools')
390 |     except:
    |     ^^^^^^
391 |         pass
    |

E722 Do not use bare `except`
   --> complete_export.py:398:5
    |
396 |         complete_export['extended'] = extended
397 |         complete_export['metadata']['modules_loaded'].append('calculations_extended')
398 |     except:
    |     ^^^^^^
399 |         pass
    |

E722 Do not use bare `except`
   --> complete_export.py:407:5
    |
405 |         complete_export['advanced'] = advanced
406 |         complete_export['metadata']['modules_loaded'].append('advanced_features')
407 |     except:
    |     ^^^^^^
408 |         pass
    |

B007 Loop control variable `i` not used within loop body
  --> components\progress_demo.py:49:13
   |
47 |     def complex_calculation():
48 |         # Simuliere komplexe Berechnung
49 |         for i in range(10):
   |             ^
50 |             time.sleep(0.2)
51 |         return "Berechnung erfolgreich!"
   |
help: Rename unused `i` to `_i`

W293 Blank line contains whitespace
   --> components\progress_manager.py:106:1
    |
104 |         <style>
105 |         @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
106 |         
    | ^^^^^^^^
107 |         .progress-container {
108 |             font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> components\progress_manager.py:111:1
    |
109 |             margin: 1rem 0;
110 |         }
111 |         
    | ^^^^^^^^
112 |         .progress-text {
113 |             font-size: 0.875rem;
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> components\progress_manager.py:119:1
    |
117 |             line-height: 1.25rem;
118 |         }
119 |         
    | ^^^^^^^^
120 |         .progress-percentage {
121 |             font-size: 0.75rem;
    |
help: Remove whitespace from blank line

B007 Loop control variable `name` not used within loop body
  --> components\progress_settings.py:35:17
   |
33 |         # Finde aktuellen Index
34 |         current_index = 0
35 |         for i, (name, style) in enumerate(style_options.items()):
   |                 ^^^^
36 |             if style == current_style:
37 |                 current_index = i
   |
help: Rename unused `name` to `_name`

W291 Trailing whitespace
 --> core\alembic\versions\20251019_20834c771244ba_add_user_profile_fields.py:4:9
  |
3 | Revision ID: 834c771244ba
4 | Revises: 
  |         ^
5 | Create Date: 2025-10-19 20:36:18.297711+00:00
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:298:1
    |
296 |         """
297 |         Get all related tags based on registered relationships
298 |         
    | ^^^^^^^^
299 |         Args:
300 |             resource_type: Type of resource (e.g., "user", "form")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:303:1
    |
301 |             resource_id: Optional specific resource ID
302 |             depth: How many relationship levels to traverse
303 |             
    | ^^^^^^^^^^^^
304 |         Returns:
305 |             Set of related tags to invalidate
    |
help: Remove whitespace from blank line

F601 Dictionary key literal `"relationships"` repeated
   --> core\cache_invalidation.py:607:17
    |
605 |                     )
606 |                 ],
607 |                 "relationships": [
    |                 ^^^^^^^^^^^^^^^
608 |                     {
609 |                         "source": source_type,
    |
help: Remove repeated key literal `"relationships"`

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:746:1
    |
744 |     """
745 |     Invalidate cache after database write
746 |     
    | ^^^^
747 |     Args:
748 |         resource_type: Type of resource (e.g., 'user', 'form', 'product')
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:752:1
    |
750 |         operation: Type of operation ('create', 'update', 'delete')
751 |         context: Additional context for conditional rules
752 |         
    | ^^^^^^^^
753 |     Returns:
754 |         Number of cache entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:763:1
    |
761 |     """
762 |     Add cache dependency for smart invalidation
763 |     
    | ^^^^
764 |     Args:
765 |         key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:775:1
    |
773 |     """
774 |     Invalidate key and all its dependents
775 |     
    | ^^^^
776 |     Args:
777 |         key: Cache key to invalidate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:779:1
    |
777 |         key: Cache key to invalidate
778 |         recursive: If True, invalidate transitive dependencies
779 |         
    | ^^^^^^^^
780 |     Returns:
781 |         Number of entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:790:1
    |
788 |     """
789 |     Register custom invalidation rule
790 |     
    | ^^^^
791 |     Args:
792 |         rule: InvalidationRule to register
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:801:1
    |
799 |     """
800 |     Register data relationship for smart invalidation
801 |     
    | ^^^^
802 |     Args:
803 |         relationship: DataRelationship to register
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:812:1
    |
810 |     """
811 |     Schedule batched invalidation for performance
812 |     
    | ^^^^
813 |     Args:
814 |         tags: Tags to invalidate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:824:1
    |
822 |     """
823 |     Immediately execute pending invalidations
824 |     
    | ^^^^
825 |     Returns:
826 |         Number of entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:835:1
    |
833 |     """
834 |     Get invalidation engine statistics
835 |     
    | ^^^^
836 |     Returns:
837 |         Dictionary with statistics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_invalidation.py:846:1
    |
844 |     """
845 |     Set batch delay for performance tuning
846 |     
    | ^^^^
847 |     Args:
848 |         delay_ms: Delay in milliseconds (10-5000)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:151:1
    |
149 |         """
150 |         Register cache warming task
151 |         
    | ^^^^^^^^
152 |         Args:
153 |             task: Warming task to register
    |
help: Remove whitespace from blank line

F841 Local variable `value` is assigned to but never used
   --> core\cache_warming.py:203:13
    |
202 |             # Use get_or_compute with force_refresh
203 |             value = get_or_compute(
    |             ^^^^^
204 |                 key=key,
205 |                 fn=compute_fn,
    |
help: Remove assignment to unused variable `value`

W293 Blank line contains whitespace
   --> core\cache_warming.py:250:1
    |
248 |         """
249 |         Warm critical data based on registered tasks with optimization
250 |         
    | ^^^^^^^^
251 |         Args:
252 |             parallel: If True, warm tasks in parallel (experimental)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:253:1
    |
251 |         Args:
252 |             parallel: If True, warm tasks in parallel (experimental)
253 |         
    | ^^^^^^^^
254 |         Returns:
255 |             Results dictionary with warming statistics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:342:1
    |
340 |         """
341 |         Warm user-specific cache data with intelligent preloading
342 |         
    | ^^^^^^^^
343 |         Args:
344 |             user_id: User ID to warm data for
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:347:1
    |
345 |             force: Force refresh even if recently warmed
346 |             preload_forms: Also preload user's recent forms
347 |         
    | ^^^^^^^^
348 |         Returns:
349 |             Results dictionary with warming statistics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:437:1
    |
435 |         """
436 |         Warm cache based on usage patterns with frequency filtering
437 |         
    | ^^^^^^^^
438 |         Args:
439 |             top_n: Number of top keys to warm
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:441:1
    |
439 |             top_n: Number of top keys to warm
440 |             min_access_frequency: Minimum accesses per minute to consider
441 |         
    | ^^^^^^^^
442 |         Returns:
443 |             Results dictionary with warming statistics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:520:1
    |
518 |         """
519 |         Start background cache warming with configurable options
520 |         
    | ^^^^^^^^
521 |         Args:
522 |             interval_minutes: Interval between warming cycles
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:564:1
    |
562 |         """
563 |         Background warming loop with optimized execution
564 |         
    | ^^^^^^^^
565 |         Args:
566 |             interval_minutes: Interval between cycles
    |
help: Remove whitespace from blank line

F841 Local variable `manager` is assigned to but never used
   --> core\cache_warming.py:650:13
    |
648 |         try:
649 |             from .form_manager import FormManager
650 |             manager = FormManager()
    |             ^^^^^^^
651 |             # This would query the database for recent forms
652 |             # For now, return empty list
    |
help: Remove assignment to unused variable `manager`

W293 Blank line contains whitespace
   --> core\cache_warming.py:708:1
    |
706 |         """
707 |         Optimize warming schedules based on usage patterns and performance
708 |         
    | ^^^^^^^^
709 |         Returns:
710 |             Optimization results
    |
help: Remove whitespace from blank line

F841 Local variable `old_interval` is assigned to but never used
   --> core\cache_warming.py:726:17
    |
725 |                 # Adjust schedule based on frequency
726 |                 old_interval = 60  # Default
    |                 ^^^^^^^^^^^^
727 |                 if frequency > 1.0:  # More than 1 access per minute
728 |                     new_interval = 15  # Warm every 15 minutes
    |
help: Remove assignment to unused variable `old_interval`

W293 Blank line contains whitespace
   --> core\cache_warming.py:781:1
    |
779 |     """
780 |     Warm specific cache key
781 |     
    | ^^^^
782 |     Args:
783 |         key: Cache key to warm
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:788:1
    |
786 |         tags: Cache tags for invalidation
787 |         force: If True, recompute even if cached
788 |     
    | ^^^^
789 |     Returns:
790 |         True if warming succeeded
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:815:1
    |
813 |     """
814 |     Start background cache warming
815 |     
    | ^^^^
816 |     Args:
817 |         interval_minutes: Interval between warming cycles
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:860:1
    |
858 |     """
859 |     Warm user-specific data with optimization
860 |     
    | ^^^^
861 |     Args:
862 |         user_id: User ID to warm data for
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\cache_warming.py:865:1
    |
863 |         force: Force refresh even if recently warmed
864 |         preload_forms: Also preload user's recent forms
865 |     
    | ^^^^
866 |     Returns:
867 |         Results dictionary
    |
help: Remove whitespace from blank line

N802 Function name `PydanticField` should be lowercase
  --> core\config.py:35:9
   |
33 |     BaseModel = object
34 |
35 |     def PydanticField(*args, **kwargs):
   |         ^^^^^^^^^^^^^
36 |         return None
   |

N805 First argument of a method should be named `self`
   --> core\config.py:721:26
    |
720 |         @validator("env")
721 |         def validate_env(cls, v):
    |                          ^^^
722 |             """Validate environment value"""
723 |             valid = {"dev", "stage", "staging", "prod", "production"}
    |
help: Rename `cls` to `self`

N805 First argument of a method should be named `self`
   --> core\config.py:730:27
    |
729 |         @validator("mode")
730 |         def validate_mode(cls, v):
    |                           ^^^
731 |             """Validate mode value"""
732 |             valid = {"offline", "online"}
    |
help: Rename `cls` to `self`

N805 First argument of a method should be named `self`
   --> core\config.py:739:28
    |
738 |         @validator("theme")
739 |         def validate_theme(cls, v):
    |                            ^^^
740 |             """Validate theme value"""
741 |             valid = {"auto", "light", "dark"}
    |
help: Rename `cls` to `self`

N805 First argument of a method should be named `self`
   --> core\config.py:748:30
    |
747 |         @validator("compute")
748 |         def validate_compute(cls, v):
    |                              ^^^
749 |             """Validate compute value"""
750 |             valid = {"fast", "accurate"}
    |
help: Rename `cls` to `self`

W293 Blank line contains whitespace
   --> core\connection_manager.py:353:1
    |
351 |         """
352 |         Attempt to failover to next available database
353 |         
    | ^^^^^^^^
354 |         Returns:
355 |             Tuple of (success, new_url)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\connection_manager.py:604:1
    |
602 |         """
603 |         Get database session with automatic failover
604 |         
    | ^^^^^^^^
605 |         Returns:
606 |             SQLAlchemy Session
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\connection_manager.py:749:1
    |
747 |     """
748 |     Create enhanced connection manager with default configuration
749 |     
    | ^^^^
750 |     Args:
751 |         database_url: Primary database URL
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\connection_manager.py:757:1
    |
755 |         health_monitoring: Enable health monitoring
756 |         failover_urls: List of failover database URLs
757 |     
    | ^^^^
758 |     Returns:
759 |         EnhancedConnectionManager instance
    |
help: Remove whitespace from blank line

RET503 Missing explicit `return` at the end of function able to return non-`None` value
   --> core\database.py:253:5
    |
251 |                   )
252 |
253 | /     def get_session(self) -> Session:
254 | |         """Get database session with retry logic and automatic failover"""
255 | |         # Use enhanced connection manager if available
256 | |         if self.connection_manager:
257 | |             return self.connection_manager.get_session()
258 | |
259 | |         # Fallback to standard retry logic
260 | |         for attempt in range(self._max_retries):
261 | |             try:
262 | |                 return self.SessionLocal()
263 | |             except OperationalError as e:
264 | |                 if attempt < self._max_retries - 1:
265 | |                     logger.warning(
266 | |                         "Database connection failed, retrying",
267 | |                         attempt=attempt + 1,
268 | |                         error=str(e)
269 | |                     )
270 | |                     time.sleep(self._retry_delay * (2 ** attempt))
271 | |                 else:
272 | |                     logger.error("Database connection failed after retries", error=str(e))
273 | |                     raise
    | |_________________________^
274 |
275 |       @contextmanager
    |
help: Add explicit `return` statement

W293 Blank line contains whitespace
   --> core\database.py:306:1
    |
304 |         """
305 |         Comprehensive database health check
306 |         
    | ^^^^^^^^
307 |         Returns:
308 |             Dictionary with health status and metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\database.py:798:1
    |
796 |         """
797 |         Bulk update entities
798 |         
    | ^^^^^^^^
799 |         Args:
800 |             updates: List of dicts with 'id' and fields to update
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\database.py:801:1
    |
799 |         Args:
800 |             updates: List of dicts with 'id' and fields to update
801 |         
    | ^^^^^^^^
802 |         Returns:
803 |             Number of entities updated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\database.py:923:1
    |
921 |         """
922 |         Paginate entities with filters
923 |         
    | ^^^^^^^^
924 |         Returns:
925 |             Dictionary with items, total, page, page_size, total_pages
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1102:1
     |
1100 |     """
1101 |     Run function in transaction with audit context
1102 |     
     | ^^^^
1103 |     Args:
1104 |         fn: Function that takes UnitOfWork and returns result
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1108:1
     |
1106 |         session_id: Session ID for audit logging
1107 |         correlation_id: Correlation ID for request tracing
1108 |     
     | ^^^^
1109 |     Returns:
1110 |         Result from function
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1137:1
     |
1135 |     """
1136 |     Get database connection
1137 |     
     | ^^^^
1138 |     Returns:
1139 |         SQLAlchemy Session
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1147:1
     |
1145 |     """
1146 |     Run database migrations using Alembic
1147 |     
     | ^^^^
1148 |     Args:
1149 |         auto_run: If True, automatically run pending migrations
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1150:1
     |
1148 |     Args:
1149 |         auto_run: If True, automatically run pending migrations
1150 |     
     | ^^^^
1151 |     Returns:
1152 |         True if migrations successful, False otherwise
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1214:1
     |
1212 |     """
1213 |     Query audit logs with filters
1214 |     
     | ^^^^
1215 |     Args:
1216 |         resource_type: Filter by resource type
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1224:1
     |
1222 |         limit: Maximum number of results
1223 |         offset: Number of results to skip
1224 |     
     | ^^^^
1225 |     Returns:
1226 |         List of AuditLog entries
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1260:1
     |
1258 |     """
1259 |     Clean up old audit logs
1260 |     
     | ^^^^
1261 |     Args:
1262 |         retention_days: Number of days to retain audit logs
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\database.py:1263:1
     |
1261 |     Args:
1262 |         retention_days: Number of days to retain audit logs
1263 |     
     | ^^^^
1264 |     Returns:
1265 |         Number of audit logs deleted
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:197:1
    |
195 |     """
196 |     Comprehensive database performance monitoring system
197 |     
    | ^^^^
198 |     Features:
199 |     - Query performance tracking with slow query detection
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:253:1
    |
251 |         """
252 |         Record query execution metrics
253 |         
    | ^^^^^^^^
254 |         Args:
255 |             query: SQL query string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:358:1
    |
356 |         """
357 |         Record connection pool events
358 |         
    | ^^^^^^^^
359 |         Args:
360 |             event_type: Type of event (checkout, checkin, create, close, error)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:395:1
    |
393 |         """
394 |         Update connection pool metrics
395 |         
    | ^^^^^^^^
396 |         Args:
397 |             pool_size: Total pool size
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:433:1
    |
431 |         """
432 |         Get recent slow queries
433 |         
    | ^^^^^^^^
434 |         Args:
435 |             limit: Maximum number of queries to return
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:436:1
    |
434 |         Args:
435 |             limit: Maximum number of queries to return
436 |         
    | ^^^^^^^^
437 |         Returns:
438 |             List of slow query metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:446:1
    |
444 |         """
445 |         Get recent very slow queries
446 |         
    | ^^^^^^^^
447 |         Args:
448 |             limit: Maximum number of queries to return
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:449:1
    |
447 |         Args:
448 |             limit: Maximum number of queries to return
449 |         
    | ^^^^^^^^
450 |         Returns:
451 |             List of very slow query metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:463:1
    |
461 |         """
462 |         Get recent performance alerts
463 |         
    | ^^^^^^^^
464 |         Args:
465 |             severity: Filter by severity level
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:467:1
    |
465 |             severity: Filter by severity level
466 |             limit: Maximum number of alerts to return
467 |         
    | ^^^^^^^^
468 |         Returns:
469 |             List of performance alerts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:499:1
    |
497 |         """
498 |         Get query counts by table
499 |         
    | ^^^^^^^^
500 |         Args:
501 |             limit: Maximum number of tables to return
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:502:1
    |
500 |         Args:
501 |             limit: Maximum number of tables to return
502 |         
    | ^^^^^^^^
503 |         Returns:
504 |             Dictionary of table names to query counts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:517:1
    |
515 |         """
516 |         Get performance optimization recommendations
517 |         
    | ^^^^^^^^
518 |         Args:
519 |             force_refresh: Force regeneration of recommendations
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:520:1
    |
518 |         Args:
519 |             force_refresh: Force regeneration of recommendations
520 |         
    | ^^^^^^^^
521 |         Returns:
522 |             List of optimization recommendations
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:539:1
    |
537 |         """
538 |         Register callback for performance alerts
539 |         
    | ^^^^^^^^
540 |         Args:
541 |             callback: Function to call when alert is created
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:812:1
    |
810 |     """
811 |     Create database performance monitor with default configuration
812 |     
    | ^^^^
813 |     Args:
814 |         slow_query_threshold: Threshold for slow query detection (seconds)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\db_performance_monitor.py:816:1
    |
814 |         slow_query_threshold: Threshold for slow query detection (seconds)
815 |         enable_recommendations: Enable optimization recommendations
816 |     
    | ^^^^
817 |     Returns:
818 |         DatabasePerformanceMonitor instance
    |
help: Remove whitespace from blank line

B007 Loop control variable `i` not used within loop body
   --> core\example_cache_monitoring_usage.py:201:9
    |
199 |     # Establish baseline
200 |     print("Establishing performance baseline...")
201 |     for i in range(10):
    |         ^
202 |         monitor.metrics_collector.record_metric("memory", "hit_rate", 0.90)
    |
help: Rename unused `i` to `_i`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> core\example_data_protection_usage.py:257:9
    |
255 |     pii_fields = manager.identify_pii_fields(user_data)
256 |     print(f"\nStep 2: Identified {len(pii_fields)} PII fields")
257 |     for field in pii_fields.keys():
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
258 |         print(f"  - {field}")
    |
help: Remove `.keys()`

F841 Local variable `uow2` is assigned to but never used
   --> core\example_database_usage.py:199:44
    |
198 |         try:
199 |             with UnitOfWork(db_manager) as uow2:
    |                                            ^^^^
200 |                 # Inner transaction (uses savepoint)
201 |                 product2 = product_repo.create(
    |
help: Remove assignment to unused variable `uow2`

B007 Loop control variable `i` not used within loop body
   --> core\example_db_performance_monitor_usage.py:251:9
    |
250 |     # Some failed queries
251 |     for i in range(5):
    |         ^
252 |         monitor.record_query(
253 |             "SELECT * FROM invalid_table",
    |
help: Rename unused `i` to `_i`

F841 Local variable `form_state` is assigned to but never used
   --> core\example_form_usage.py:232:5
    |
231 |     # Create form with auto-save enabled
232 |     form_state = manager.get_form(
    |     ^^^^^^^^^^
233 |         form_id="notes",
234 |         session_id="session_123",
    |
help: Remove assignment to unused variable `form_state`

B007 Loop control variable `i` not used within loop body
   --> core\example_job_usage.py:324:9
    |
323 |     # Let it run for 3 seconds
324 |     for i in range(6):
    |         ^
325 |         result = poll(job_id)
326 |         if result:
    |
help: Rename unused `i` to `_i`

F841 Local variable `result` is assigned to but never used
   --> core\example_logging_usage.py:122:9
    |
120 |     try:
121 |         # Simulate an error
122 |         result = 10 / 0
    |         ^^^^^^
123 |     except ZeroDivisionError as e:
124 |         log_error(
    |
help: Remove assignment to unused variable `result`

F841 Local variable `correlation_id` is assigned to but never used
   --> core\example_logging_usage.py:227:34
    |
225 |     logger = get_logger(__name__)
226 |
227 |     with CorrelationContext() as correlation_id:
    |                                  ^^^^^^^^^^^^^^
228 |         start_time = time.time()
    |
help: Remove assignment to unused variable `correlation_id`

SIM115 Use a context manager for opening files
  --> core\example_migration_usage.py:11:11
   |
10 | # Set up temporary database for examples
11 | temp_db = tempfile.NamedTemporaryFile(suffix=".db", delete=False)
   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
12 | os.environ["DATABASE_URL"] = f"sqlite:///{temp_db.name}"
   |

E402 Module level import not at top of file
  --> core\example_migration_usage.py:14:1
   |
12 | os.environ["DATABASE_URL"] = f"sqlite:///{temp_db.name}"
13 |
14 | from core.database import init_database
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 | from core.migration_manager import (
16 |     create_migration,
   |

E402 Module level import not at top of file
  --> core\example_migration_usage.py:15:1
   |
14 |   from core.database import init_database
15 | / from core.migration_manager import (
16 | |     create_migration,
17 | |     get_migration_manager,
18 | |     get_migration_status,
19 | |     migrate,
20 | | )
   | |_^
21 |   from core.migration_templates import MigrationTemplates, generate_migration_code
   |

E402 Module level import not at top of file
  --> core\example_migration_usage.py:21:1
   |
19 |     migrate,
20 | )
21 | from core.migration_templates import MigrationTemplates, generate_migration_code
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

F841 Local variable `theme` is assigned to but never used
  --> core\example_navigation_usage.py:73:13
   |
71 |         # Settings form
72 |         with st.form("settings_form"):
73 |             theme = st.selectbox("Theme", ["Light", "Dark", "Auto"])
   |             ^^^^^
74 |             notifications = st.checkbox("Enable notifications")
75 |             language = st.selectbox("Language", ["English", "German", "French"])
   |
help: Remove assignment to unused variable `theme`

F841 Local variable `notifications` is assigned to but never used
  --> core\example_navigation_usage.py:74:13
   |
72 |         with st.form("settings_form"):
73 |             theme = st.selectbox("Theme", ["Light", "Dark", "Auto"])
74 |             notifications = st.checkbox("Enable notifications")
   |             ^^^^^^^^^^^^^
75 |             language = st.selectbox("Language", ["English", "German", "French"])
   |
help: Remove assignment to unused variable `notifications`

F841 Local variable `language` is assigned to but never used
  --> core\example_navigation_usage.py:75:13
   |
73 |             theme = st.selectbox("Theme", ["Light", "Dark", "Auto"])
74 |             notifications = st.checkbox("Enable notifications")
75 |             language = st.selectbox("Language", ["English", "German", "French"])
   |             ^^^^^^^^
76 |
77 |             if st.form_submit_button("Save Settings"):
   |
help: Remove assignment to unused variable `language`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> core\example_navigation_usage.py:198:9
    |
196 |           # Navigation history
197 |           st.subheader("History")
198 | /         if router.can_go_back():
199 | |             if st.button("ÔåÉ Back", use_container_width=True):
    | |_____________________________________________________________^
200 |                   router.go_back()
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> core\example_navigation_usage.py:202:9
    |
200 |                   router.go_back()
201 |
202 | /         if router.can_go_forward():
203 | |             if st.button("Forward ÔåÆ", use_container_width=True):
    | |________________________________________________________________^
204 |                   router.go_forward()
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
  --> core\example_session_recovery_usage.py:8:1
   |
 6 |     """
 7 |     Example: Recover session after browser refresh
 8 |     
   | ^^^^
 9 |     This is the most common use case - recovering a user's session
10 |     when they refresh the browser.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\example_session_recovery_usage.py:34:1
   |
32 |     """
33 |     Example: Recover session with a specific session ID
34 |     
   | ^^^^
35 |     Use this when you have a session ID from a URL parameter or cookie.
36 |     """
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\example_session_recovery_usage.py:59:1
   |
57 |     """
58 |     Example: Recover session and validate form data
59 |     
   | ^^^^
60 |     This ensures that recovered form data is still valid according
61 |     to the current validation rules.
   |
help: Remove whitespace from blank line

F841 Local variable `session` is assigned to but never used
  --> core\example_session_recovery_usage.py:66:5
   |
65 |     # Recover session with validation
66 |     session = recover_session_after_refresh(
   |     ^^^^^^^
67 |         session_id="550e8400-e29b-41d4-a716-446655440000",
68 |         validate_forms=True
   |
help: Remove assignment to unused variable `session`

W293 Blank line contains whitespace
  --> core\example_session_recovery_usage.py:88:1
   |
86 |     """
87 |     Example: Recover session without validating form data
88 |     
   | ^^^^
89 |     Use this when you want to recover the session quickly without
90 |     validation overhead, or when validation rules have changed.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:108:1
    |
106 |     """
107 |     Example: Ensure session ID is persisted for recovery
108 |     
    | ^^^^
109 |     Call this function on every page to ensure the session can be
110 |     recovered after a browser refresh.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:124:1
    |
122 |     """
123 |     Example: Complete Streamlit app with session recovery
124 |     
    | ^^^^
125 |     This shows how to integrate session recovery into a Streamlit app.
126 |     """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:166:1
    |
164 |     """
165 |     Example: Recover session with navigation state
166 |     
    | ^^^^
167 |     This shows how navigation history and parameters are preserved.
168 |     """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:190:1
    |
188 |     """
189 |     Example: Recover session with cache keys
190 |     
    | ^^^^
191 |     This shows how cache keys are preserved for performance optimization.
192 |     """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:215:1
    |
213 |     """
214 |     Example: Handle recovery errors gracefully
215 |     
    | ^^^^
216 |     This shows how to handle various recovery error scenarios.
217 |     """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:255:1
    |
253 |     """
254 |     Example: Use custom recovery manager for advanced scenarios
255 |     
    | ^^^^
256 |     This shows how to use the SessionRecoveryManager directly
257 |     for more control over the recovery process.
    |
help: Remove whitespace from blank line

F841 Local variable `session` is assigned to but never used
   --> core\example_session_recovery_usage.py:266:5
    |
265 |     # Perform recovery
266 |     session = manager.recover_complete_session(
    |     ^^^^^^^
267 |         session_id="550e8400-e29b-41d4-a716-446655440000",
268 |         validate_forms=True
    |
help: Remove assignment to unused variable `session`

W293 Blank line contains whitespace
   --> core\example_session_recovery_usage.py:282:1
    |
280 |     """
281 |     Example: Production-ready recovery with logging and monitoring
282 |     
    | ^^^^
283 |     This shows best practices for production deployments.
284 |     """
    |
help: Remove whitespace from blank line

F841 Local variable `session` is assigned to but never used
   --> core\example_session_usage.py:150:5
    |
149 |     # Bootstrap session
150 |     session = bootstrap_session(user_id="input_user", restore_from_db=False)
    |     ^^^^^^^
151 |
152 |     # Simulate rapid input changes (will be debounced)
    |
help: Remove assignment to unused variable `session`

F841 Local variable `name` is assigned to but never used
   --> core\example_widgets_usage.py:269:5
    |
268 |     # Create some widgets
269 |     name = s_text(label="Name", key="state_name")
    |     ^^^^
270 |     age = s_number(label="Age", key="state_age")
271 |     active = s_checkbox(label="Active", key="state_active")
    |
help: Remove assignment to unused variable `name`

F841 Local variable `age` is assigned to but never used
   --> core\example_widgets_usage.py:270:5
    |
268 |     # Create some widgets
269 |     name = s_text(label="Name", key="state_name")
270 |     age = s_number(label="Age", key="state_age")
    |     ^^^
271 |     active = s_checkbox(label="Active", key="state_active")
    |
help: Remove assignment to unused variable `age`

F841 Local variable `active` is assigned to but never used
   --> core\example_widgets_usage.py:271:5
    |
269 |     name = s_text(label="Name", key="state_name")
270 |     age = s_number(label="Age", key="state_age")
271 |     active = s_checkbox(label="Active", key="state_active")
    |     ^^^^^^
272 |
273 |     # Show state information
    |
help: Remove assignment to unused variable `active`

F841 Local variable `password` is assigned to but never used
   --> core\example_widgets_usage.py:360:9
    |
358 |         )
359 |
360 |         password = s_text(
    |         ^^^^^^^^
361 |             label="Password",
362 |             type="password",
    |
help: Remove assignment to unused variable `password`

W293 Blank line contains whitespace
   --> core\form_manager.py:249:1
    |
247 |         """
248 |         Update form data
249 |         
    | ^^^^^^^^
250 |         Args:
251 |             key: Data key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:267:1
    |
265 |         """
266 |         Update multiple form fields
267 |         
    | ^^^^^^^^
268 |         Args:
269 |             updates: Dictionary of updates
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:286:1
    |
284 |         """
285 |         Create form snapshot for undo/redo
286 |         
    | ^^^^^^^^
287 |         Args:
288 |             description: Snapshot description
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:290:1
    |
288 |             description: Snapshot description
289 |             snapshot_type: Type of snapshot (manual, auto, checkpoint)
290 |         
    | ^^^^^^^^
291 |         Returns:
292 |             Created FormSnapshot
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:337:1
    |
335 |         """
336 |         Undo to previous snapshot
337 |         
    | ^^^^^^^^
338 |         Returns:
339 |             True if undo was successful
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:363:1
    |
361 |         """
362 |         Redo to next snapshot
363 |         
    | ^^^^^^^^
364 |         Returns:
365 |             True if redo was successful
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:399:1
    |
397 |         """
398 |         Restore specific snapshot
399 |         
    | ^^^^^^^^
400 |         Args:
401 |             snapshot_id: Snapshot ID to restore
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:402:1
    |
400 |         Args:
401 |             snapshot_id: Snapshot ID to restore
402 |         
    | ^^^^^^^^
403 |         Returns:
404 |             True if restore was successful
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:431:1
    |
429 |         """
430 |         Clean up old snapshots
431 |         
    | ^^^^^^^^
432 |         Args:
433 |             keep_count: Number of snapshots to keep (uses max_snapshots if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:434:1
    |
432 |         Args:
433 |             keep_count: Number of snapshots to keep (uses max_snapshots if None)
434 |         
    | ^^^^^^^^
435 |         Returns:
436 |             Number of snapshots removed
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:586:1
    |
584 |         """
585 |         Save form data with transaction
586 |         
    | ^^^^^^^^
587 |         Args:
588 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:593:1
    |
591 |             session_id: Session ID
592 |             metadata: Additional metadata
593 |         
    | ^^^^^^^^
594 |         Returns:
595 |             Saved FormDataModel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:650:1
    |
648 |         """
649 |         Load form data
650 |         
    | ^^^^^^^^
651 |         Args:
652 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:654:1
    |
652 |             form_id: Form ID
653 |             session_id: Session ID
654 |         
    | ^^^^^^^^
655 |         Returns:
656 |             Form data dictionary or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:694:1
    |
692 |         """
693 |         Delete form data
694 |         
    | ^^^^^^^^
695 |         Args:
696 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:699:1
    |
697 |             session_id: Session ID
698 |             soft: Whether to soft delete
699 |         
    | ^^^^^^^^
700 |         Returns:
701 |             True if deleted
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:728:1
    |
726 |         """
727 |         Save form snapshot
728 |         
    | ^^^^^^^^
729 |         Args:
730 |             snapshot: FormSnapshot to save
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:731:1
    |
729 |         Args:
730 |             snapshot: FormSnapshot to save
731 |         
    | ^^^^^^^^
732 |         Returns:
733 |             Saved FormSnapshotModel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:780:1
    |
778 |         """
779 |         Load form snapshots
780 |         
    | ^^^^^^^^
781 |         Args:
782 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:785:1
    |
783 |             session_id: Optional session ID filter
784 |             limit: Maximum number of snapshots to load
785 |         
    | ^^^^^^^^
786 |         Returns:
787 |             List of FormSnapshot objects
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:833:1
    |
831 |         """
832 |         Clean up old snapshots
833 |         
    | ^^^^^^^^
834 |         Args:
835 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:837:1
    |
835 |             form_id: Form ID
836 |             keep_count: Number of snapshots to keep
837 |         
    | ^^^^^^^^
838 |         Returns:
839 |             Number of snapshots deleted
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:874:1
    |
872 |         """
873 |         Save validation result
874 |         
    | ^^^^^^^^
875 |         Args:
876 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:879:1
    |
877 |             session_id: Session ID
878 |             validation_result: ValidationResult to save
879 |         
    | ^^^^^^^^
880 |         Returns:
881 |             Saved FormValidationModel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:918:1
    |
916 |         """
917 |         Load validation result
918 |         
    | ^^^^^^^^
919 |         Args:
920 |             form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:922:1
    |
920 |             form_id: Form ID
921 |             session_id: Session ID
922 |         
    | ^^^^^^^^
923 |         Returns:
924 |             ValidationResult or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:980:1
    |
978 |     """
979 |     Save form data with transaction
980 |     
    | ^^^^
981 |     Args:
982 |         form_id: Form ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\form_manager.py:987:1
    |
985 |         session_id: Session ID
986 |         metadata: Additional metadata
987 |     
    | ^^^^
988 |     Returns:
989 |         Saved form data dictionary
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1042:1
     |
1040 |         """
1041 |         Register field validator
1042 |         
     | ^^^^^^^^
1043 |         Args:
1044 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1068:1
     |
1066 |         """
1067 |         Register form-level validator
1068 |         
     | ^^^^^^^^
1069 |         Args:
1070 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1090:1
     |
1088 |         """
1089 |         Validate single field
1090 |         
     | ^^^^^^^^
1091 |         Args:
1092 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1095:1
     |
1093 |             field: Field name
1094 |             value: Field value
1095 |         
     | ^^^^^^^^
1096 |         Returns:
1097 |             ValidationResult
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1127:1
     |
1125 |         """
1126 |         Validate entire form
1127 |         
     | ^^^^^^^^
1128 |         Args:
1129 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1131:1
     |
1129 |             form_id: Form ID
1130 |             data: Form data
1131 |         
     | ^^^^^^^^
1132 |         Returns:
1133 |             ValidationResult
     |
help: Remove whitespace from blank line

F402 Import `field` from line 20 shadowed by loop variable
    --> core\form_manager.py:1138:13
     |
1137 |         # Validate individual fields
1138 |         for field, value in data.items():
     |             ^^^^^
1139 |             field_result = self.validate_field(form_id, field, value)
1140 |             if not field_result.is_valid:
     |

W293 Blank line contains whitespace
    --> core\form_manager.py:1176:1
     |
1174 |         """
1175 |         Validate form with debouncing
1176 |         
     | ^^^^^^^^
1177 |         Args:
1178 |             form_id: Form ID
     |
help: Remove whitespace from blank line

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> core\form_manager.py:1206:37
     |
1204 |         """Clear all validators for form"""
1205 |         with self._lock:
1206 |             keys_to_remove = [k for k in self._validators.keys() if k.startswith(f"{form_id}.")]
     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1207 |             for key in keys_to_remove:
1208 |                 del self._validators[key]
     |
help: Remove `.keys()`

W293 Blank line contains whitespace
    --> core\form_manager.py:1252:1
     |
1250 |         """
1251 |         Schedule auto-save with debouncing
1252 |         
     | ^^^^^^^^
1253 |         Args:
1254 |             form_state: FormState to save
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1353:1
     |
1351 |         """
1352 |         Immediately execute pending saves
1353 |         
     | ^^^^^^^^
1354 |         Args:
1355 |             form_id: Optional form ID to flush (all if None)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1385:1
     |
1383 |         """
1384 |         Resolve save conflict
1385 |         
     | ^^^^^^^^
1386 |         Args:
1387 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1392:1
     |
1390 |             local_updated_at: Local update timestamp
1391 |             strategy: Conflict resolution strategy
1392 |         
     | ^^^^^^^^
1393 |         Returns:
1394 |             Tuple of (resolved_data, was_conflict)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1453:1
     |
1451 |         """
1452 |         Recover form after unexpected termination
1453 |         
     | ^^^^^^^^
1454 |         Args:
1455 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1457:1
     |
1455 |             form_id: Form ID
1456 |             session_id: Session ID
1457 |         
     | ^^^^^^^^
1458 |         Returns:
1459 |             Recovered FormState or None
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1557:1
     |
1555 |         """
1556 |         Get or create form state
1557 |         
     | ^^^^^^^^
1558 |         Args:
1559 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1564:1
     |
1562 |             auto_save_enabled: Whether to enable auto-save
1563 |             max_snapshots: Maximum number of snapshots to keep
1564 |         
     | ^^^^^^^^
1565 |         Returns:
1566 |             FormState instance
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1605:1
     |
1603 |         """
1604 |         Update form field
1605 |         
     | ^^^^^^^^
1606 |         Args:
1607 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1613:1
     |
1611 |             create_snapshot: Whether to create snapshot
1612 |             validate: Whether to validate
1613 |         
     | ^^^^^^^^
1614 |         Returns:
1615 |             ValidationResult
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1656:1
     |
1654 |         """
1655 |         Update multiple form fields
1656 |         
     | ^^^^^^^^
1657 |         Args:
1658 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1663:1
     |
1661 |             create_snapshot: Whether to create snapshot
1662 |             validate: Whether to validate
1663 |         
     | ^^^^^^^^
1664 |         Returns:
1665 |             ValidationResult
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1696:1
     |
1694 |         """
1695 |         Save form
1696 |         
     | ^^^^^^^^
1697 |         Args:
1698 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1701:1
     |
1699 |             session_id: Session ID
1700 |             immediate: Whether to save immediately
1701 |         
     | ^^^^^^^^
1702 |         Returns:
1703 |             True if save was successful
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1766:1
     |
1764 |         """
1765 |         Create form snapshot
1766 |         
     | ^^^^^^^^
1767 |         Args:
1768 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1773:1
     |
1771 |             snapshot_type: Snapshot type
1772 |             persist: Whether to persist to database
1773 |         
     | ^^^^^^^^
1774 |         Returns:
1775 |             Created FormSnapshot
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1818:1
     |
1816 |         """
1817 |         Validate form
1818 |         
     | ^^^^^^^^
1819 |         Args:
1820 |             form_id: Form ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1824:1
     |
1822 |             debounced: Whether to use debounced validation
1823 |             debounce_ms: Debounce delay in milliseconds
1824 |         
     | ^^^^^^^^
1825 |         Returns:
1826 |             ValidationResult (None if debounced)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> core\form_manager.py:1857:1
     |
1855 |         """
1856 |         Reset form to initial state
1857 |         
     | ^^^^^^^^
1858 |         Args:
1859 |             form_id: Form ID
     |
help: Remove whitespace from blank line

F401 `sqlalchemy.create_engine` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\job_repository.py:14:9
   |
12 |         String,
13 |         Text,
14 |         create_engine,
   |         ^^^^^^^^^^^^^
15 |     )
16 |     from sqlalchemy.orm import Session
   |
help: Remove unused import: `sqlalchemy.create_engine`

F401 `sqlalchemy.orm.Session` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\job_repository.py:16:32
   |
14 |         create_engine,
15 |     )
16 |     from sqlalchemy.orm import Session
   |                                ^^^^^^^
17 |
18 |     from .database import Base, get_db_manager
   |
help: Remove unused import: `sqlalchemy.orm.Session`

W293 Blank line contains whitespace
  --> core\job_ui.py:31:1
   |
29 |     """
30 |     Render job progress with progress bar (no spinners)
31 |     
   | ^^^^
32 |     Args:
33 |         job_id: Job ID to track
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\job_ui.py:37:1
   |
35 |         show_details: Show detailed progress information
36 |         container: Optional Streamlit container to render in
37 |     
   | ^^^^
38 |     Returns:
39 |         Final JobResult when job completes
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\job_ui.py:100:1
    |
 98 |     """
 99 |     Render unified job status dashboard
100 |     
    | ^^^^
101 |     Args:
102 |         container: Optional Streamlit container to render in
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\job_ui.py:183:1
    |
181 |     """
182 |     Create a self-refreshing job progress widget
183 |     
    | ^^^^
184 |     Args:
185 |         job_id: Job ID to track
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\job_ui.py:245:1
    |
243 |     """
244 |     Render a cancel job button
245 |     
    | ^^^^
246 |     Args:
247 |         job_id: Job ID to cancel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\job_ui.py:249:1
    |
247 |         job_id: Job ID to cancel
248 |         label: Button label
249 |     
    | ^^^^
250 |     Returns:
251 |         True if job was cancelled
    |
help: Remove whitespace from blank line

B007 Loop control variable `priority` not used within loop body
   --> core\jobs.py:282:21
    |
280 |             # Check for jobs ready to run
281 |             now = datetime.now()
282 |             for i, (priority, timestamp, job) in enumerate(self._queue):
    |                     ^^^^^^^^
283 |                 if timestamp <= now:
284 |                     self._queue.pop(i)
    |
help: Rename unused `priority` to `_priority`

SIM103 Return the condition `result.error_type != ErrorType.PERMANENT` directly
   --> core\jobs.py:586:9
    |
585 |           # Only retry transient errors
586 | /         if result.error_type == ErrorType.PERMANENT:
587 | |             return False
588 | |
589 | |         return True
    | |___________________^
590 |
591 |       def _retry_job(self, job: Job) -> None:
    |
help: Replace with `return result.error_type != ErrorType.PERMANENT`

W293 Blank line contains whitespace
   --> core\jobs.py:744:1
    |
742 |         """
743 |         Clean up old completed job results
744 |         
    | ^^^^^^^^
745 |         Args:
746 |             retention_days: Number of days to retain completed jobs
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\jobs.py:747:1
    |
745 |         Args:
746 |             retention_days: Number of days to retain completed jobs
747 |         
    | ^^^^^^^^
748 |         Returns:
749 |             Number of results cleaned up
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `current_rev` before `return` statement
   --> core\migration_manager.py:102:24
    |
100 |                 context = MigrationContext.configure(connection)
101 |                 current_rev = context.get_current_revision()
102 |                 return current_rev
    |                        ^^^^^^^^^^^
103 |         except Exception as e:
104 |             logger.warning(
    |
help: Remove unnecessary assignment

SIM102 Use a single `if` statement instead of nested `if` statements
   --> core\migration_manager.py:265:13
    |
264 |               # Safety checks
265 | /             if safety_check:
266 | |                 if not self._perform_safety_checks():
    | |_____________________________________________________^
267 |                       raise MigrationRollbackError(
268 |                           "Safety checks failed - rollback aborted"
    |
help: Combine `if` statements using `and`

B027 `Page.on_event` is an empty method in an abstract base class, but has no abstract decorator
   --> core\router.py:282:5
    |
280 |           """Render page content"""
281 |
282 | /     def on_event(self, event: NavigationEvent) -> None:
283 | |         """
284 | |         Handle navigation events
285 | |
286 | |         Args:
287 | |             event: Navigation event
288 | |         """
    | |___________^
289 |
290 |       def can_access(self, user: Any) -> bool:
    |

RET504 Unnecessary assignment to `user` before `return` statement
   --> core\security.py:349:20
    |
347 |             user = db_session.query(User).filter(User.id == session.user_id).first()
348 |
349 |             return user
    |                    ^^^^
350 |
351 |     def revoke_session(self, session_token: str) -> bool:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
    --> core\security.py:1031:1
     |
1029 |         """
1030 |         Evaluate dynamic permission expression
1031 |         
     | ^^^^^^^^
1032 |         Examples:
1033 |             - "users:read"
     |
help: Remove whitespace from blank line

E712 Avoid equality comparisons to `False`; use `not SecurityEvent.resolved:` for false checks
    --> core\security.py:1798:17
     |
1796 |             unresolved_events = session.query(SecurityEvent).filter(
1797 |                 SecurityEvent.timestamp >= cutoff_date,
1798 |                 SecurityEvent.resolved == False
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1799 |             ).count()
     |
help: Replace with `not SecurityEvent.resolved`

E712 Avoid equality comparisons to `True`; use `User.is_locked:` for truth checks
    --> core\security.py:1810:17
     |
1808 |             # Locked accounts
1809 |             locked_accounts = session.query(User).filter(
1810 |                 User.is_locked == True
     |                 ^^^^^^^^^^^^^^^^^^^^^^
1811 |             ).count()
     |
help: Replace with `User.is_locked`

W293 Blank line contains whitespace
   --> core\session.py:428:1
    |
426 |     """
427 |     Initialize or restore user session
428 |     
    | ^^^^
429 |     Args:
430 |         session_id: Optional session ID to restore
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:433:1
    |
431 |         user_id: Optional user ID for the session
432 |         restore_from_db: If True, attempt to restore from database
433 |     
    | ^^^^
434 |     Returns:
435 |         UserSession instance
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> core\session.py:438:5
    |
436 |       """
437 |       # Try to restore from Streamlit session_state first
438 | /     if STREAMLIT_AVAILABLE and st and hasattr(st, 'session_state'):
439 | |         if 'user_session' in st.session_state:
    | |______________________________________________^
440 |               logger.debug("Restored session from session_state")
441 |               return st.session_state.user_session
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> core\session.py:491:1
    |
489 |     """
490 |     Immediately persist input to session_state and schedule DB write
491 |     
    | ^^^^
492 |     Args:
493 |         key: Input key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:525:1
    |
523 |     """
524 |     Save session to database
525 |     
    | ^^^^
526 |     Args:
527 |         session: UserSession to save
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:551:1
    |
549 |     """
550 |     Recover session from database after browser refresh
551 |     
    | ^^^^
552 |     Args:
553 |         session_id: Session ID to recover
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:554:1
    |
552 |     Args:
553 |         session_id: Session ID to recover
554 |     
    | ^^^^
555 |     Returns:
556 |         Recovered UserSession or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:581:1
    |
579 |     """
580 |     Clean up expired sessions
581 |     
    | ^^^^
582 |     Args:
583 |         max_age_hours: Maximum session age in hours
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session.py:584:1
    |
582 |     Args:
583 |         max_age_hours: Maximum session age in hours
584 |     
    | ^^^^
585 |     Returns:
586 |         Number of sessions cleaned up
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\session_recovery.py:40:1
   |
38 |     """
39 |     Manages complete session state restoration after browser refresh
40 |     
   | ^^^^
41 |     This class handles:
42 |     - Session state restoration from database
   |
help: Remove whitespace from blank line

F821 Undefined name `UserSession`
  --> core\session_recovery.py:58:20
   |
56 |         user_id: str = None,
57 |         validate_forms: bool = True
58 |     ) -> Optional['UserSession']:
   |                    ^^^^^^^^^^^
59 |         """
60 |         Recover complete session state after browser refresh
   |

W293 Blank line contains whitespace
  --> core\session_recovery.py:61:1
   |
59 |         """
60 |         Recover complete session state after browser refresh
61 |         
   | ^^^^^^^^
62 |         Args:
63 |             session_id: Optional session ID to recover
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\session_recovery.py:66:1
   |
64 |             user_id: Optional user ID for recovery
65 |             validate_forms: If True, validate form data during recovery
66 |         
   | ^^^^^^^^
67 |         Returns:
68 |             Recovered UserSession or None if recovery fails
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\session_recovery.py:69:1
   |
67 |         Returns:
68 |             Recovered UserSession or None if recovery fails
69 |         
   | ^^^^^^^^
70 |         Raises:
71 |             SessionRecoveryError: If recovery fails after max attempts
   |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> core\session_recovery.py:156:21
    |
155 |                   if attempt == self.max_recovery_attempts - 1:
156 | /                     raise SessionRecoveryError(
157 | |                         f"Failed to recover session after {self.max_recovery_attempts} attempts: {str(e)}"
158 | |                     )
    | |_____________________^
159 |
160 |           return None
    |

F821 Undefined name `UserSession`
   --> core\session_recovery.py:162:68
    |
160 |         return None
161 |
162 |     def _recover_from_database(self, session_id: str) -> Optional['UserSession']:
    |                                                                    ^^^^^^^^^^^
163 |         """
164 |         Recover session from database
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:165:1
    |
163 |         """
164 |         Recover session from database
165 |         
    | ^^^^^^^^
166 |         Args:
167 |             session_id: Session ID to recover
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:168:1
    |
166 |         Args:
167 |             session_id: Session ID to recover
168 |         
    | ^^^^^^^^
169 |         Returns:
170 |             UserSession instance or None
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> core\session_recovery.py:193:13
    |
191 |                 error=str(e)
192 |             )
193 |             raise SessionRecoveryError(f"Database recovery failed: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
194 |
195 |     def _recover_and_validate_forms(self, session: 'UserSession') -> None:
    |

F821 Undefined name `UserSession`
   --> core\session_recovery.py:195:53
    |
193 |             raise SessionRecoveryError(f"Database recovery failed: {str(e)}")
194 |
195 |     def _recover_and_validate_forms(self, session: 'UserSession') -> None:
    |                                                     ^^^^^^^^^^^
196 |         """
197 |         Recover and validate form data
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:198:1
    |
196 |         """
197 |         Recover and validate form data
198 |         
    | ^^^^^^^^
199 |         Args:
200 |             session: UserSession instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:201:1
    |
199 |         Args:
200 |             session: UserSession instance
201 |         
    | ^^^^^^^^
202 |         Raises:
203 |             FormValidationError: If form validation fails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:250:1
    |
248 |         """
249 |         Validate form data against schema
250 |         
    | ^^^^^^^^
251 |         Args:
252 |             data: Form data to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:254:1
    |
252 |             data: Form data to validate
253 |             schema: Validation schema
254 |         
    | ^^^^^^^^
255 |         Returns:
256 |             Dictionary of field errors
    |
help: Remove whitespace from blank line

F821 Undefined name `UserSession`
   --> core\session_recovery.py:301:51
    |
299 |         return errors
300 |
301 |     def _recover_navigation_state(self, session: 'UserSession') -> None:
    |                                                   ^^^^^^^^^^^
302 |         """
303 |         Recover navigation state with parameter preservation
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:304:1
    |
302 |         """
303 |         Recover navigation state with parameter preservation
304 |         
    | ^^^^^^^^
305 |         Args:
306 |             session: UserSession instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:307:1
    |
305 |         Args:
306 |             session: UserSession instance
307 |         
    | ^^^^^^^^
308 |         Raises:
309 |             NavigationRecoveryError: If navigation recovery fails
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> core\session_recovery.py:335:13
    |
333 |         except Exception as e:
334 |             logger.error("Navigation state recovery failed", error=str(e))
335 |             raise NavigationRecoveryError(f"Failed to recover navigation state: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
336 |
337 |     def _recover_cache_keys(self, session: 'UserSession') -> None:
    |

F821 Undefined name `UserSession`
   --> core\session_recovery.py:337:45
    |
335 |             raise NavigationRecoveryError(f"Failed to recover navigation state: {str(e)}")
336 |
337 |     def _recover_cache_keys(self, session: 'UserSession') -> None:
    |                                             ^^^^^^^^^^^
338 |         """
339 |         Recover cache keys for performance optimization
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:340:1
    |
338 |         """
339 |         Recover cache keys for performance optimization
340 |         
    | ^^^^^^^^
341 |         Args:
342 |             session: UserSession instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:343:1
    |
341 |         Args:
342 |             session: UserSession instance
343 |         
    | ^^^^^^^^
344 |         Raises:
345 |             CacheRecoveryError: If cache recovery fails
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> core\session_recovery.py:361:13
    |
359 |         except Exception as e:
360 |             logger.error("Cache key recovery failed", error=str(e))
361 |             raise CacheRecoveryError(f"Failed to recover cache keys: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
362 |
363 |     def get_recovery_status(self) -> dict[str, Any]:
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:366:1
    |
364 |         """
365 |         Get recovery status information
366 |         
    | ^^^^^^^^
367 |         Returns:
368 |             Dictionary with recovery status
    |
help: Remove whitespace from blank line

F821 Undefined name `UserSession`
   --> core\session_recovery.py:398:16
    |
396 |     user_id: str = None,
397 |     validate_forms: bool = True
398 | ) -> Optional['UserSession']:
    |                ^^^^^^^^^^^
399 |     """
400 |     Recover session after browser refresh
    |

W293 Blank line contains whitespace
   --> core\session_recovery.py:401:1
    |
399 |     """
400 |     Recover session after browser refresh
401 |     
    | ^^^^
402 |     This is the main entry point for session recovery.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:403:1
    |
402 |     This is the main entry point for session recovery.
403 |     
    | ^^^^
404 |     Args:
405 |         session_id: Optional session ID to recover
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:408:1
    |
406 |         user_id: Optional user ID for recovery
407 |         validate_forms: If True, validate form data during recovery
408 |     
    | ^^^^
409 |     Returns:
410 |         Recovered UserSession or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:423:1
    |
421 |     """
422 |     Get current recovery status
423 |     
    | ^^^^
424 |     Returns:
425 |         Dictionary with recovery status information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_recovery.py:440:1
    |
438 |     """
439 |     Ensure session ID is persisted for recovery
440 |     
    | ^^^^
441 |     This function should be called on every page to ensure
442 |     the session ID is available for recovery after refresh.
    |
help: Remove whitespace from blank line

F821 Undefined name `UserSession`
  --> core\session_repository.py:43:38
   |
41 |         self.db_manager = db_manager or get_db_manager()
42 |
43 |     def save_session(self, session: 'UserSession') -> None:
   |                                      ^^^^^^^^^^^
44 |         """
45 |         Save or update session in database
   |

W293 Blank line contains whitespace
  --> core\session_repository.py:46:1
   |
44 |         """
45 |         Save or update session in database
46 |         
   | ^^^^^^^^
47 |         Args:
48 |             session: UserSession instance to save
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\session_repository.py:86:1
   |
84 |         """
85 |         Get session data from database
86 |         
   | ^^^^^^^^
87 |         Args:
88 |             session_id: Session ID to retrieve
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\session_repository.py:89:1
   |
87 |         Args:
88 |             session_id: Session ID to retrieve
89 |         
   | ^^^^^^^^
90 |         Returns:
91 |             Session data dictionary or None
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:117:1
    |
115 |         """
116 |         Get most recent session for a user
117 |         
    | ^^^^^^^^
118 |         Args:
119 |             user_id: User ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:120:1
    |
118 |         Args:
119 |             user_id: User ID
120 |         
    | ^^^^^^^^
121 |         Returns:
122 |             Session data dictionary or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:148:1
    |
146 |         """
147 |         Delete session from database
148 |         
    | ^^^^^^^^
149 |         Args:
150 |             session_id: Session ID to delete
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:151:1
    |
149 |         Args:
150 |             session_id: Session ID to delete
151 |         
    | ^^^^^^^^
152 |         Returns:
153 |             True if deleted, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:171:1
    |
169 |         """
170 |         Clean up expired sessions
171 |         
    | ^^^^^^^^
172 |         Args:
173 |             max_age_hours: Maximum session age in hours
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:174:1
    |
172 |         Args:
173 |             max_age_hours: Maximum session age in hours
174 |         
    | ^^^^^^^^
175 |         Returns:
176 |             Number of sessions deleted
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:196:1
    |
194 |         """
195 |         Get count of active sessions
196 |         
    | ^^^^^^^^
197 |         Args:
198 |             active_threshold_minutes: Minutes to consider session active
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:199:1
    |
197 |         Args:
198 |             active_threshold_minutes: Minutes to consider session active
199 |         
    | ^^^^^^^^
200 |         Returns:
201 |             Number of active sessions
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `count` before `return` statement
   --> core\session_repository.py:210:20
    |
208 |             ).count()
209 |
210 |             return count
    |                    ^^^^^
211 |
212 |     def get_all_sessions(
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> core\session_repository.py:220:1
    |
218 |         """
219 |         Get all sessions with pagination
220 |         
    | ^^^^^^^^
221 |         Args:
222 |             limit: Maximum number of sessions to return
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:225:1
    |
223 |             offset: Number of sessions to skip
224 |             user_id: Optional user ID filter
225 |         
    | ^^^^^^^^
226 |         Returns:
227 |             List of session data dictionaries
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:255:1
    |
253 |         """
254 |         Update last activity timestamp for session
255 |         
    | ^^^^^^^^
256 |         Args:
257 |             session_id: Session ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:258:1
    |
256 |         Args:
257 |             session_id: Session ID
258 |         
    | ^^^^^^^^
259 |         Returns:
260 |             True if updated, False otherwise
    |
help: Remove whitespace from blank line

F821 Undefined name `UserSession`
   --> core\session_repository.py:279:25
    |
277 |         self,
278 |         session_id: str,
279 |         local_session: 'UserSession',
    |                         ^^^^^^^^^^^
280 |         strategy: str = 'last_write_wins'
281 |     ) -> 'UserSession':
    |

F821 Undefined name `UserSession`
   --> core\session_repository.py:281:11
    |
279 |         local_session: 'UserSession',
280 |         strategy: str = 'last_write_wins'
281 |     ) -> 'UserSession':
    |           ^^^^^^^^^^^
282 |         """
283 |         Resolve session conflict using specified strategy
    |

W293 Blank line contains whitespace
   --> core\session_repository.py:284:1
    |
282 |         """
283 |         Resolve session conflict using specified strategy
284 |         
    | ^^^^^^^^
285 |         Args:
286 |             session_id: Session ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\session_repository.py:289:1
    |
287 |             local_session: Local session instance
288 |             strategy: Conflict resolution strategy ('last_write_wins', 'merge')
289 |         
    | ^^^^^^^^
290 |         Returns:
291 |             Resolved UserSession
    |
help: Remove whitespace from blank line

F841 Local variable `value` is assigned to but never used
   --> core\test_cache.py:145:9
    |
144 |         # Should fall back to database and populate memory
145 |         value = cache.get("key1")
    |         ^^^^^
146 |         # Note: This might be None if database cache is not initialized
147 |         # In real usage, database would be properly set up
    |
help: Remove assignment to unused variable `value`

F841 Local variable `count` is assigned to but never used
   --> core\test_cache_invalidation.py:227:5
    |
226 |     # Trigger write (should be batched)
227 |     count = engine.invalidate_by_write("form", "form123", "update")
    |     ^^^^^
228 |
229 |     # Wait for batch to execute
    |
help: Remove assignment to unused variable `count`

F841 Local variable `count` is assigned to but never used
   --> core\test_cache_invalidation.py:480:5
    |
479 |     # Should execute
480 |     count = engine.invalidate_by_write("test", context={"should_execute": True})
    |     ^^^^^
481 |     assert cache.get("target:1") is None
    |
help: Remove assignment to unused variable `count`

B007 Loop control variable `i` not used within loop body
   --> core\test_cache_monitoring.py:173:13
    |
172 |         # Simulate stable trend
173 |         for i in range(10):
    |             ^
174 |             collector.record_metric("memory", "hit_rate", 0.85)
    |
help: Rename unused `i` to `_i`

F841 Local variable `report` is assigned to but never used
   --> core\test_cache_monitoring.py:248:9
    |
246 |             cache.get(f"nonexistent_key_{i}")
247 |
248 |         report = analyzer.analyze_hit_rate("memory")
    |         ^^^^^^
249 |
250 |         # Check if alert was created
    |
help: Remove assignment to unused variable `report`

F841 Local variable `alerts` is assigned to but never used
   --> core\test_cache_monitoring.py:251:9
    |
250 |         # Check if alert was created
251 |         alerts = analyzer.get_active_alerts()
    |         ^^^^^^
252 |         # May or may not have alerts depending on cache state
    |
help: Remove assignment to unused variable `alerts`

F841 Local variable `result` is assigned to but never used
   --> core\test_cache_monitoring.py:315:9
    |
314 |         # With normal utilization, should not trigger cleanup
315 |         result = analyzer.check_and_cleanup_if_needed()
    |         ^^^^^^
316 |         # Result may be None if utilization is low
    |
help: Remove assignment to unused variable `result`

B007 Loop control variable `i` not used within loop body
   --> core\test_cache_monitoring.py:323:13
    |
322 |         # Record historical good performance
323 |         for i in range(10):
    |             ^
324 |             collector.record_metric("memory", "hit_rate", 0.90)
    |
help: Rename unused `i` to `_i`

F841 Local variable `degradation` is assigned to but never used
   --> core\test_cache_monitoring.py:332:9
    |
331 |         # Detect degradation
332 |         degradation = analyzer.detect_performance_degradation("memory")
    |         ^^^^^^^^^^^
333 |         # May or may not detect depending on actual cache state
    |
help: Remove assignment to unused variable `degradation`

F841 Local variable `result` is assigned to but never used
   --> core\test_cache_monitoring.py:541:9
    |
539 |         # Trigger cleanup check
540 |         monitor = get_cache_monitor()
541 |         result = monitor.analyzer.check_and_cleanup_if_needed()
    |         ^^^^^^
542 |
543 |         # Cleanup may or may not trigger depending on utilization
    |
help: Remove assignment to unused variable `result`

B007 Loop control variable `i` not used within loop body
   --> core\test_cache_monitoring.py:553:13
    |
552 |         # Establish baseline
553 |         for i in range(10):
    |             ^
554 |             monitor.metrics_collector.record_metric("memory", "hit_rate", 0.90)
    |
help: Rename unused `i` to `_i`

F841 Local variable `degradation` is assigned to but never used
   --> core\test_cache_monitoring.py:562:9
    |
561 |         # Detect degradation
562 |         degradation = monitor.analyzer.detect_performance_degradation("memory")
    |         ^^^^^^^^^^^
563 |
564 |         # May or may not detect depending on actual hit rate
    |
help: Remove assignment to unused variable `degradation`

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> core\test_connection_manager.py:321:9
    |
320 |           # Attempt operation that fails
321 | /         with pytest.raises(Exception):
322 | |             with connection_manager.session_scope() as session:
    | |_______________________________________________________________^
323 |                   model = TestModel(name="test")
324 |                   session.add(model)
    |
help: Combine `with` statements

B017 Do not assert blind exception: `Exception`
   --> core\test_connection_manager.py:321:14
    |
320 |         # Attempt operation that fails
321 |         with pytest.raises(Exception):
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
322 |             with connection_manager.session_scope() as session:
323 |                 model = TestModel(name="test")
    |

F841 Local variable `stats` is assigned to but never used
   --> core\test_database.py:108:9
    |
106 |             time.sleep(0.002)  # Ensure it's slow
107 |
108 |         stats = db_manager.metrics.get_stats()
    |         ^^^^^
109 |         # Note: Actual slow query detection depends on query execution time
    |
help: Remove assignment to unused variable `stats`

F841 Local variable `user1` is assigned to but never used
   --> core\test_database.py:394:9
    |
393 |         # Create some entities
394 |         user1 = repository.create(name="User 1", email="user1@example.com")
    |         ^^^^^
395 |         user2 = repository.create(name="User 2", email="user2@example.com")
    |
help: Remove assignment to unused variable `user1`

F841 Local variable `user2` is assigned to but never used
   --> core\test_database.py:395:9
    |
393 |         # Create some entities
394 |         user1 = repository.create(name="User 1", email="user1@example.com")
395 |         user2 = repository.create(name="User 2", email="user2@example.com")
    |         ^^^^^
396 |
397 |         # Query audit logs
    |
help: Remove assignment to unused variable `user2`

F841 Local variable `user1` is assigned to but never used
   --> core\test_database.py:404:9
    |
402 |         """Test audit log filtering"""
403 |         repository.set_context(user_id="user1")
404 |         user1 = repository.create(name="User 1", email="user1@example.com")
    |         ^^^^^
405 |
406 |         repository.set_context(user_id="user2")
    |
help: Remove assignment to unused variable `user1`

F841 Local variable `user2` is assigned to but never used
   --> core\test_database.py:407:9
    |
406 |         repository.set_context(user_id="user2")
407 |         user2 = repository.create(name="User 2", email="user2@example.com")
    |         ^^^^^
408 |
409 |         # Filter by user
    |
help: Remove assignment to unused variable `user2`

B007 Loop control variable `expected_type` not used within loop body
   --> core\test_db_performance_monitor.py:417:20
    |
415 |         ]
416 |
417 |         for query, expected_type in test_cases:
    |                    ^^^^^^^^^^^^^
418 |             monitor.record_query(query, 0.1)
    |
help: Rename unused `expected_type` to `_expected_type`

E712 Avoid equality comparisons to `False`; use `not form_state.is_dirty:` for false checks
  --> core\test_form_manager.py:83:16
   |
81 |         assert form_state.session_id == "test_session"
82 |         assert form_state.data == {}
83 |         assert form_state.is_dirty == False
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
84 |         assert form_state.version == 1
   |
help: Replace with `not form_state.is_dirty`

E712 Avoid equality comparisons to `True`; use `form_state.is_dirty:` for truth checks
  --> core\test_form_manager.py:93:16
   |
92 |         assert form_state.data["field1"] == "value1"
93 |         assert form_state.is_dirty == True
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
94 |         assert len(form_state.snapshots) == 1  # Auto-snapshot created
   |
help: Replace with `form_state.is_dirty`

E712 Avoid equality comparisons to `True`; use `form_state.is_dirty:` for truth checks
   --> core\test_form_manager.py:108:16
    |
107 |         assert form_state.data == updates
108 |         assert form_state.is_dirty == True
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
109 |
110 |     def test_create_snapshot(self):
    |
help: Replace with `form_state.is_dirty`

F841 Local variable `snapshot1` is assigned to but never used
   --> core\test_form_manager.py:179:9
    |
177 |         # Create snapshots
178 |         form_state.data = {"field1": "value1"}
179 |         snapshot1 = form_state.create_snapshot("First")
    |         ^^^^^^^^^
180 |
181 |         form_state.data = {"field1": "value2"}
    |
help: Remove assignment to unused variable `snapshot1`

E712 Avoid equality comparisons to `True`; use `save_called[0][0]:` for truth checks
   --> core\test_form_manager.py:459:16
    |
457 |         # Verify save was called
458 |         assert len(save_called) == 1
459 |         assert save_called[0][0] == True  # Success
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
460 |
461 |     def test_debouncing(self, form_auto_save):
    |
help: Replace with `save_called[0][0]`

B007 Loop control variable `dead_result` not used within loop body
   --> core\test_jobs.py:233:27
    |
231 |         if job_obj is None:
232 |             # Job completed, check retry count from dead letter queue
233 |             for dead_job, dead_result in manager.dead_letter_queue:
    |                           ^^^^^^^^^^^
234 |                 if dead_job.id == job_id:
235 |                     assert dead_job.retry_count > 0
    |
help: Rename unused `dead_result` to `_dead_result`

F841 Local variable `time1` is assigned to but never used
   --> core\test_security.py:351:5
    |
349 |     start = time.time()
350 |     permissions1 = authz_manager.get_user_permissions(user.id, use_cache=True)
351 |     time1 = time.time() - start
    |     ^^^^^
352 |
353 |     # Second call - should be faster from cache
    |
help: Remove assignment to unused variable `time1`

F841 Local variable `time2` is assigned to but never used
   --> core\test_security.py:356:5
    |
354 |     start = time.time()
355 |     permissions2 = authz_manager.get_user_permissions(user.id, use_cache=True)
356 |     time2 = time.time() - start
    |     ^^^^^
357 |
358 |     assert permissions1 == permissions2
    |
help: Remove assignment to unused variable `time2`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> core\test_session.py:374:9
    |
372 |           # This test requires database setup
373 |           # Just test that it doesn't raise errors
374 | /         try:
375 | |             persist_input("test_key", "test_value")
376 | |         except Exception:
377 | |             # Expected if database not initialized
378 | |             pass
    | |________________^
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `session` is assigned to but never used
   --> core\test_session_recovery.py:334:9
    |
333 |         # Recover without session ID
334 |         session = recover_session_after_refresh()
    |         ^^^^^^^
335 |
336 |         # Should create new session
    |
help: Remove assignment to unused variable `session`

N806 Variable `SessionLocal` in function should be lowercase
  --> core\test_session_repository.py:26:5
   |
24 |     Base.metadata.create_all(engine)
25 |
26 |     SessionLocal = sessionmaker(bind=engine)
   |     ^^^^^^^^^^^^
27 |
28 |     db_manager = DatabaseManager()
   |

B007 Loop control variable `i` not used within loop body
   --> core\test_session_repository.py:227:13
    |
225 |         """Test getting all sessions filtered by user"""
226 |         # Create sessions for different users
227 |         for i in range(3):
    |             ^
228 |             session = UserSession(user_id="target_user")
229 |             session_repo.save_session(session)
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `i` not used within loop body
   --> core\test_session_repository.py:231:13
    |
229 |             session_repo.save_session(session)
230 |
231 |         for i in range(2):
    |             ^
232 |             session = UserSession(user_id="other_user")
233 |             session_repo.save_session(session)
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `i` not used within loop body
   --> core\verify_cache_monitoring.py:167:9
    |
165 |     # Establish baseline
166 |     print("Establishing performance baseline...")
167 |     for i in range(10):
    |         ^
168 |         monitor.metrics_collector.record_metric("memory", "hit_rate", 0.90)
    |
help: Rename unused `i` to `_i`

F841 Local variable `result1` is assigned to but never used
   --> core\verify_cache_system.py:216:5
    |
214 |     # Measure uncached
215 |     start = time.time()
216 |     result1 = slow_function()
    |     ^^^^^^^
217 |     uncached_time = (time.time() - start) * 1000
    |
help: Remove assignment to unused variable `result1`

F841 Local variable `result2` is assigned to but never used
   --> core\verify_cache_system.py:221:5
    |
219 |     # Measure cached
220 |     start = time.time()
221 |     result2 = get_or_compute("perf_key", slow_function, ttl=60)
    |     ^^^^^^^
222 |     first_time = (time.time() - start) * 1000
    |
help: Remove assignment to unused variable `result2`

F841 Local variable `result3` is assigned to but never used
   --> core\verify_cache_system.py:225:5
    |
224 |     start = time.time()
225 |     result3 = get_or_compute("perf_key", slow_function, ttl=60)
    |     ^^^^^^^
226 |     cached_time = (time.time() - start) * 1000
    |
help: Remove assignment to unused variable `result3`

E712 Avoid equality comparisons to `True`; use `task.should_run():` for truth checks
  --> core\verify_cache_warming.py:40:12
   |
39 |     assert task.task_id == "test_task"
40 |     assert task.should_run() == True
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^
41 |     assert task.priority == 50
   |
help: Replace with `task.should_run()`

E712 Avoid equality comparisons to `True`; use `success:` for truth checks
  --> core\verify_cache_warming.py:94:12
   |
92 |     )
93 |
94 |     assert success == True
   |            ^^^^^^^^^^^^^^^
95 |     assert call_count == 1
   |
help: Replace with `success`

E712 Avoid equality comparisons to `True`; use `results2.get("skipped"):` for truth checks
   --> core\verify_cache_warming.py:192:12
    |
190 |     results2 = engine.warm_user_data(user_id, force=False, preload_forms=True)
191 |
192 |     assert results2.get("skipped") == True
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
193 |     assert results2.get("reason") == "recently_warmed"
    |
help: Replace with `results2.get("skipped")`

E712 Avoid inequality comparisons to `True`; use `not results3.get("skipped"):` for false checks
   --> core\verify_cache_warming.py:198:12
    |
196 |     results3 = engine.warm_user_data(user_id, force=True, preload_forms=True)
197 |
198 |     assert results3.get("skipped") != True
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
199 |     assert results3["succeeded"] >= 0
    |
help: Replace with `not results3.get("skipped")`

B007 Loop control variable `i` not used within loop body
   --> core\verify_cache_warming.py:250:9
    |
249 |     # Simulate usage
250 |     for i in range(10):
    |         ^
251 |         engine._usage_tracker.record_access("pattern_key")
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `i` not used within loop body
   --> core\verify_cache_warming.py:284:9
    |
283 |     # Simulate high frequency access
284 |     for i in range(100):
    |         ^
285 |         engine._usage_tracker.record_access("opt_key")
    |
help: Rename unused `i` to `_i`

E712 Avoid equality comparisons to `True`; use `stats["running"]:` for truth checks
   --> core\verify_cache_warming.py:328:12
    |
327 |     stats = engine.get_stats()
328 |     assert stats["running"] == True
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
329 |
330 |     # Let it run briefly
    |
help: Replace with `stats["running"]`

E712 Avoid equality comparisons to `False`; use `not stats["running"]:` for false checks
   --> core\verify_cache_warming.py:337:12
    |
336 |     stats = engine.get_stats()
337 |     assert stats["running"] == False
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^
338 |
339 |     print("   Ô£ô Background warming works correctly")
    |
help: Replace with `not stats["running"]`

E712 Avoid equality comparisons to `True`; use `success:` for truth checks
   --> core\verify_cache_warming.py:388:12
    |
386 |     # Warm the cache
387 |     success = warm_cache(key, expensive_operation, ttl=60, tags={"expensive"})
388 |     assert success == True
    |            ^^^^^^^^^^^^^^^
389 |
390 |     # Verify it's in cache
    |
help: Replace with `success`

F841 Local variable `success2` is assigned to but never used
   --> core\verify_cache_warming.py:398:5
    |
396 |     # Warm again (should use cache)
397 |     start_time = time.time()
398 |     success2 = warm_cache(key, expensive_operation, ttl=60, force=False)
    |     ^^^^^^^^
399 |     duration = time.time() - start_time
    |
help: Remove assignment to unused variable `success2`

F401 `.security.DataProtectionManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_data_protection.py:10:9
   |
 8 |     from .security import (
 9 |         DataAccessLog,
10 |         DataProtectionManager,
   |         ^^^^^^^^^^^^^^^^^^^^^
11 |         DataRetentionPolicy,
12 |         PIIField,
   |
help: Remove unused import

F401 `.security.DataRetentionPolicy` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_data_protection.py:11:9
   |
 9 |         DataAccessLog,
10 |         DataProtectionManager,
11 |         DataRetentionPolicy,
   |         ^^^^^^^^^^^^^^^^^^^
12 |         PIIField,
13 |         get_data_protection_manager,
   |
help: Remove unused import

B007 Loop control variable `i` not used within loop body
   --> core\verify_db_performance_monitor.py:239:9
    |
238 |     # Some errors
239 |     for i in range(3):
    |         ^
240 |         monitor.record_query(
241 |             "SELECT * FROM invalid",
    |
help: Rename unused `i` to `_i`

F401 `core.FormManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_form_manager.py:11:9
   |
 9 | try:
10 |     from core import (
11 |         FormManager,
   |         ^^^^^^^^^^^
12 |         FormSnapshot,
13 |         FormState,
   |
help: Remove unused import

F401 `core.FormSnapshot` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_form_manager.py:12:9
   |
10 |     from core import (
11 |         FormManager,
12 |         FormSnapshot,
   |         ^^^^^^^^^^^^
13 |         FormState,
14 |         ValidationResult,
   |
help: Remove unused import

F401 `core.init_form_tables` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_form_manager.py:17:9
   |
15 |         create_form,
16 |         get_form_manager,
17 |         init_form_tables,
   |         ^^^^^^^^^^^^^^^^
18 |         redo_form,
19 |         reset_form,
   |
help: Remove unused import

F401 `core.save_form_now` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_form_manager.py:20:9
   |
18 |         redo_form,
19 |         reset_form,
20 |         save_form_now,
   |         ^^^^^^^^^^^^^
21 |         undo_form,
22 |         update_form_field,
   |
help: Remove unused import

F401 `core.security.AuthenticationAuditLog` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:15:13
   |
13 |     try:
14 |         from core.security import (
15 |             AuthenticationAuditLog,
   |             ^^^^^^^^^^^^^^^^^^^^^^
16 |             # Authentication
17 |             AuthenticationManager,
   |
help: Remove unused import

F401 `core.security.AuthenticationManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:17:13
   |
15 |             AuthenticationAuditLog,
16 |             # Authentication
17 |             AuthenticationManager,
   |             ^^^^^^^^^^^^^^^^^^^^^
18 |             AuthenticationResult,
19 |             AuthenticationStatus,
   |
help: Remove unused import

F401 `core.security.AuthenticationResult` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:18:13
   |
16 |             # Authentication
17 |             AuthenticationManager,
18 |             AuthenticationResult,
   |             ^^^^^^^^^^^^^^^^^^^^
19 |             AuthenticationStatus,
20 |             # Authorization
   |
help: Remove unused import

F401 `core.security.AuthenticationStatus` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:19:13
   |
17 |             AuthenticationManager,
18 |             AuthenticationResult,
19 |             AuthenticationStatus,
   |             ^^^^^^^^^^^^^^^^^^^^
20 |             # Authorization
21 |             AuthorizationManager,
   |
help: Remove unused import

F401 `core.security.AuthorizationManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:21:13
   |
19 |             AuthenticationStatus,
20 |             # Authorization
21 |             AuthorizationManager,
   |             ^^^^^^^^^^^^^^^^^^^^
22 |             # Data Protection
23 |             DataAccessLog,
   |
help: Remove unused import

F401 `core.security.DataAccessLog` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:23:13
   |
21 |             AuthorizationManager,
22 |             # Data Protection
23 |             DataAccessLog,
   |             ^^^^^^^^^^^^^
24 |             DataProtectionManager,
25 |             DataRetentionPolicy,
   |
help: Remove unused import

F401 `core.security.DataProtectionManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:24:13
   |
22 |             # Data Protection
23 |             DataAccessLog,
24 |             DataProtectionManager,
   |             ^^^^^^^^^^^^^^^^^^^^^
25 |             DataRetentionPolicy,
26 |             MFAManager,
   |
help: Remove unused import

F401 `core.security.DataRetentionPolicy` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:25:13
   |
23 |             DataAccessLog,
24 |             DataProtectionManager,
25 |             DataRetentionPolicy,
   |             ^^^^^^^^^^^^^^^^^^^
26 |             MFAManager,
27 |             PasswordHasher,
   |
help: Remove unused import

F401 `core.security.MFAManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:26:13
   |
24 |             DataProtectionManager,
25 |             DataRetentionPolicy,
26 |             MFAManager,
   |             ^^^^^^^^^^
27 |             PasswordHasher,
28 |             Permission,
   |
help: Remove unused import

F401 `core.security.PasswordHasher` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:27:13
   |
25 |             DataRetentionPolicy,
26 |             MFAManager,
27 |             PasswordHasher,
   |             ^^^^^^^^^^^^^^
28 |             Permission,
29 |             PermissionCache,
   |
help: Remove unused import

F401 `core.security.Permission` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:28:13
   |
26 |             MFAManager,
27 |             PasswordHasher,
28 |             Permission,
   |             ^^^^^^^^^^
29 |             PermissionCache,
30 |             PIIField,
   |
help: Remove unused import

F401 `core.security.PermissionCache` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:29:13
   |
27 |             PasswordHasher,
28 |             Permission,
29 |             PermissionCache,
   |             ^^^^^^^^^^^^^^^
30 |             PIIField,
31 |             Role,
   |
help: Remove unused import

F401 `core.security.PIIField` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:30:13
   |
28 |             Permission,
29 |             PermissionCache,
30 |             PIIField,
   |             ^^^^^^^^
31 |             Role,
32 |             # Security Monitoring
   |
help: Remove unused import

F401 `core.security.Role` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:31:13
   |
29 |             PermissionCache,
30 |             PIIField,
31 |             Role,
   |             ^^^^
32 |             # Security Monitoring
33 |             SecurityEvent,
   |
help: Remove unused import

F401 `core.security.SecurityEvent` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:33:13
   |
31 |             Role,
32 |             # Security Monitoring
33 |             SecurityEvent,
   |             ^^^^^^^^^^^^^
34 |             SecurityEventType,
35 |             SecurityMonitor,
   |
help: Remove unused import

F401 `core.security.SecurityEventType` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:34:13
   |
32 |             # Security Monitoring
33 |             SecurityEvent,
34 |             SecurityEventType,
   |             ^^^^^^^^^^^^^^^^^
35 |             SecurityMonitor,
36 |             SecuritySeverity,
   |
help: Remove unused import

F401 `core.security.SecurityMonitor` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:35:13
   |
33 |             SecurityEvent,
34 |             SecurityEventType,
35 |             SecurityMonitor,
   |             ^^^^^^^^^^^^^^^
36 |             SecuritySeverity,
37 |             SessionManager,
   |
help: Remove unused import

F401 `core.security.SecuritySeverity` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:36:13
   |
34 |             SecurityEventType,
35 |             SecurityMonitor,
36 |             SecuritySeverity,
   |             ^^^^^^^^^^^^^^^^
37 |             SessionManager,
38 |             ThreatDetector,
   |
help: Remove unused import

F401 `core.security.SessionManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:37:13
   |
35 |             SecurityMonitor,
36 |             SecuritySeverity,
37 |             SessionManager,
   |             ^^^^^^^^^^^^^^
38 |             ThreatDetector,
39 |             User,
   |
help: Remove unused import

F401 `core.security.ThreatDetector` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:38:13
   |
36 |             SecuritySeverity,
37 |             SessionManager,
38 |             ThreatDetector,
   |             ^^^^^^^^^^^^^^
39 |             User,
40 |             UserSessionModel,
   |
help: Remove unused import

F401 `core.security.User` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:39:13
   |
37 |             SessionManager,
38 |             ThreatDetector,
39 |             User,
   |             ^^^^
40 |             UserSessionModel,
41 |             # Initialization
   |
help: Remove unused import

F401 `core.security.UserSessionModel` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:40:13
   |
38 |             ThreatDetector,
39 |             User,
40 |             UserSessionModel,
   |             ^^^^^^^^^^^^^^^^
41 |             # Initialization
42 |             create_default_roles_and_permissions,
   |
help: Remove unused import

F401 `core.security.create_default_roles_and_permissions` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:42:13
   |
40 |             UserSessionModel,
41 |             # Initialization
42 |             create_default_roles_and_permissions,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |             init_all_security_tables,
44 |             init_security_tables,
   |
help: Remove unused import

F401 `core.security.init_all_security_tables` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:43:13
   |
41 |             # Initialization
42 |             create_default_roles_and_permissions,
43 |             init_all_security_tables,
   |             ^^^^^^^^^^^^^^^^^^^^^^^^
44 |             init_security_tables,
45 |             log_data_access,
   |
help: Remove unused import

F401 `core.security.init_security_tables` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:44:13
   |
42 |             create_default_roles_and_permissions,
43 |             init_all_security_tables,
44 |             init_security_tables,
   |             ^^^^^^^^^^^^^^^^^^^^
45 |             log_data_access,
46 |             require_permission,
   |
help: Remove unused import

F401 `core.security.log_data_access` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:45:13
   |
43 |             init_all_security_tables,
44 |             init_security_tables,
45 |             log_data_access,
   |             ^^^^^^^^^^^^^^^
46 |             require_permission,
47 |             require_role,
   |
help: Remove unused import

F401 `core.security.require_permission` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:46:13
   |
44 |             init_security_tables,
45 |             log_data_access,
46 |             require_permission,
   |             ^^^^^^^^^^^^^^^^^^
47 |             require_role,
48 |         )
   |
help: Remove unused import

F401 `core.security.require_role` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> core\verify_security.py:47:13
   |
45 |             log_data_access,
46 |             require_permission,
47 |             require_role,
   |             ^^^^^^^^^^^^
48 |         )
49 |         print("   Ô£ô All security components imported successfully")
   |
help: Remove unused import

F841 Local variable `auth_manager` is assigned to but never used
   --> core\verify_security.py:277:9
    |
276 |         # Test convenience functions
277 |         auth_manager = get_authentication_manager()
    |         ^^^^^^^^^^^^
278 |         authz_manager = get_authorization_manager()
279 |         data_protection = get_data_protection_manager()
    |
help: Remove assignment to unused variable `auth_manager`

F841 Local variable `authz_manager` is assigned to but never used
   --> core\verify_security.py:278:9
    |
276 |         # Test convenience functions
277 |         auth_manager = get_authentication_manager()
278 |         authz_manager = get_authorization_manager()
    |         ^^^^^^^^^^^^^
279 |         data_protection = get_data_protection_manager()
280 |         security_monitor = get_security_monitor()
    |
help: Remove assignment to unused variable `authz_manager`

F841 Local variable `data_protection` is assigned to but never used
   --> core\verify_security.py:279:9
    |
277 |         auth_manager = get_authentication_manager()
278 |         authz_manager = get_authorization_manager()
279 |         data_protection = get_data_protection_manager()
    |         ^^^^^^^^^^^^^^^
280 |         security_monitor = get_security_monitor()
    |
help: Remove assignment to unused variable `data_protection`

F841 Local variable `security_monitor` is assigned to but never used
   --> core\verify_security.py:280:9
    |
278 |         authz_manager = get_authorization_manager()
279 |         data_protection = get_data_protection_manager()
280 |         security_monitor = get_security_monitor()
    |         ^^^^^^^^^^^^^^^^
281 |
282 |         print("   Ô£ô All convenience functions working")
    |
help: Remove assignment to unused variable `security_monitor`

E712 Avoid equality comparisons to `True`; use `leak_info['enabled']:` for truth checks
   --> core\verify_task_8_3.py:157:16
    |
155 |         status = manager.get_health_status()
156 |         leak_info = status['leak_detection']
157 |         assert leak_info['enabled'] == True
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
158 |         print(f"Ô£ô Leak detection status: {leak_info}")
    |
help: Replace with `leak_info['enabled']`

W293 Blank line contains whitespace
  --> core\widget_persistence.py:92:1
   |
90 |         """
91 |         Schedule debounced save for widget state
92 |         
   | ^^^^^^^^
93 |         Args:
94 |             session_id: Session ID
   |
help: Remove whitespace from blank line

B007 Loop control variable `timestamp` not used within loop body
   --> core\widget_persistence.py:198:40
    |
196 |         """Save batch of widget states to database"""
197 |         with self.db_manager.session_scope() as db_session:
198 |             for widget_key, save_data, timestamp in batch:
    |                                        ^^^^^^^^^
199 |                 # Check if widget state exists
200 |                 existing = db_session.query(WidgetStateModel).filter(
    |
help: Rename unused `timestamp` to `_timestamp`

W293 Blank line contains whitespace
   --> core\widget_persistence.py:243:1
    |
241 |         """
242 |         Immediately flush pending saves
243 |         
    | ^^^^^^^^
244 |         Args:
245 |             session_id: Optional session ID to flush (all if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:283:1
    |
281 |         """
282 |         Recover widget states from database
283 |         
    | ^^^^^^^^
284 |         Args:
285 |             session_id: Session ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:287:1
    |
285 |             session_id: Session ID
286 |             widget_keys: Optional list of widget keys to recover (all if None)
287 |         
    | ^^^^^^^^
288 |         Returns:
289 |             Dictionary of widget_key -> value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:346:1
    |
344 |         """
345 |         Resolve widget state conflict
346 |         
    | ^^^^^^^^
347 |         Args:
348 |             session_id: Session ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:353:1
    |
351 |             local_updated_at: Local update timestamp
352 |             strategy: Conflict resolution strategy
353 |         
    | ^^^^^^^^
354 |         Returns:
355 |             Tuple of (resolved_value, was_conflict)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:406:1
    |
404 |         """
405 |         Clean up old widget states
406 |         
    | ^^^^^^^^
407 |         Args:
408 |             max_age_hours: Maximum age in hours
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_persistence.py:409:1
    |
407 |         Args:
408 |             max_age_hours: Maximum age in hours
409 |         
    | ^^^^^^^^
410 |         Returns:
411 |             Number of states deleted
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\widget_validation.py:38:1
   |
36 |         """
37 |         Validate value
38 |         
   | ^^^^^^^^
39 |         Returns:
40 |             Tuple of (is_valid, error_message, warning_message)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widget_validation.py:292:1
    |
290 |         """
291 |         Validate value against all rules
292 |         
    | ^^^^^^^^
293 |         Returns:
294 |             Tuple of (is_valid, errors, warnings)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\widgets.py:62:1
   |
60 |         """
61 |         Update widget value and track changes
62 |         
   | ^^^^^^^^
63 |         Args:
64 |             new_value: New widget value
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> core\widgets.py:65:1
   |
63 |         Args:
64 |             new_value: New widget value
65 |         
   | ^^^^^^^^
66 |         Returns:
67 |             True if value changed, False otherwise
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:150:1
    |
148 |     """
149 |     Generate stable widget key from parameters
150 |     
    | ^^^^
151 |     Args:
152 |         prefix: Widget type prefix (e.g., 'text', 'select')
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:155:1
    |
153 |         label: Widget label
154 |         **kwargs: Additional parameters for key generation
155 |     
    | ^^^^
156 |     Returns:
157 |         Stable widget key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:187:1
    |
185 |     """
186 |     Handle widget value change with validation and persistence
187 |     
    | ^^^^
188 |     Args:
189 |         key: Widget key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:270:1
    |
268 |     """
269 |     Controlled text input with auto-persistence
270 |     
    | ^^^^
271 |     Args:
272 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:282:1
    |
280 |         validator: Optional validation function
281 |         **kwargs: Additional Streamlit text_input parameters
282 |     
    | ^^^^
283 |     Returns:
284 |         Current text value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:340:1
    |
338 |     """
339 |     Controlled number input with auto-persistence
340 |     
    | ^^^^
341 |     Args:
342 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:353:1
    |
351 |         validator: Optional validation function
352 |         **kwargs: Additional Streamlit number_input parameters
353 |     
    | ^^^^
354 |     Returns:
355 |         Current number value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:410:1
    |
408 |     """
409 |     Controlled selectbox with auto-persistence
410 |     
    | ^^^^
411 |     Args:
412 |         options: List of options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:421:1
    |
419 |         validator: Optional validation function
420 |         **kwargs: Additional Streamlit selectbox parameters
421 |     
    | ^^^^
422 |     Returns:
423 |         Selected option
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:481:1
    |
479 |     """
480 |     Controlled checkbox with auto-persistence
481 |     
    | ^^^^
482 |     Args:
483 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:490:1
    |
488 |         validator: Optional validation function
489 |         **kwargs: Additional Streamlit checkbox parameters
490 |     
    | ^^^^
491 |     Returns:
492 |         Current checkbox value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:544:1
    |
542 |     """
543 |     Controlled date input with auto-persistence
544 |     
    | ^^^^
545 |     Args:
546 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:555:1
    |
553 |         validator: Optional validation function
554 |         **kwargs: Additional Streamlit date_input parameters
555 |     
    | ^^^^
556 |     Returns:
557 |         Current date value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:609:1
    |
607 |     """
608 |     Controlled file uploader with auto-persistence
609 |     
    | ^^^^
610 |     Args:
611 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:619:1
    |
617 |         validator: Optional validation function
618 |         **kwargs: Additional Streamlit file_uploader parameters
619 |     
    | ^^^^
620 |     Returns:
621 |         Uploaded file(s)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:671:1
    |
669 |     """
670 |     Controlled multiselect with auto-persistence
671 |     
    | ^^^^
672 |     Args:
673 |         options: List of options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:683:1
    |
681 |         validator: Optional validation function
682 |         **kwargs: Additional Streamlit multiselect parameters
683 |     
    | ^^^^
684 |     Returns:
685 |         List of selected options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:741:1
    |
739 |     """
740 |     Controlled slider with auto-persistence
741 |     
    | ^^^^
742 |     Args:
743 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:754:1
    |
752 |         validator: Optional validation function
753 |         **kwargs: Additional Streamlit slider parameters
754 |     
    | ^^^^
755 |     Returns:
756 |         Current slider value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:813:1
    |
811 |     """
812 |     Controlled text area with auto-persistence
813 |     
    | ^^^^
814 |     Args:
815 |         label: Widget label
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:825:1
    |
823 |         validator: Optional validation function
824 |         **kwargs: Additional Streamlit text_area parameters
825 |     
    | ^^^^
826 |     Returns:
827 |         Current text value
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:882:1
    |
880 |     """
881 |     Controlled radio buttons with auto-persistence
882 |     
    | ^^^^
883 |     Args:
884 |         options: List of options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> core\widgets.py:894:1
    |
892 |         validator: Optional validation function
893 |         **kwargs: Additional Streamlit radio parameters
894 |     
    | ^^^^
895 |     Returns:
896 |         Selected option
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
  --> create_png_test_images.py:31:9
   |
29 |             # Versuche eine Standard-Schriftart zu laden
30 |             font = ImageFont.truetype("arial.ttf", 14)
31 |         except:
   |         ^^^^^^
32 |             # Fallback auf Default-Font
33 |             font = ImageFont.load_default()
   |

E701 Multiple statements on one line (colon)
  --> crm.py:15:44
   |
13 | try:
14 |     from database import get_db_connection as real_get_db_connection
15 |     if not callable(real_get_db_connection): raise ImportError("Imported get_db_connection is not callable.")
   |                                            ^
16 |     get_db_connection_safe_crm = real_get_db_connection
17 | except ImportError as e:
   |

F821 Undefined name `e`
  --> crm.py:19:56
   |
17 | except ImportError as e:
18 |     def _dummy_get_db_connection_ie(): # type: ignore
19 |         print(f"crm.py: Importfehler f├╝r database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                        ^
20 |         return
21 |     get_db_connection_safe_crm = _dummy_get_db_connection_ie
   |

F821 Undefined name `e`
  --> crm.py:25:61
   |
23 | except Exception as e:
24 |     def _dummy_get_db_connection_ex(): # type: ignore
25 |         print(f"crm.py: Fehler beim Laden von database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                             ^
26 |         return
27 |     get_db_connection_safe_crm = _dummy_get_db_connection_ex
   |

E731 Do not assign a `lambda` expression, use a `def`
  --> crm.py:51:5
   |
49 |     _list_customer_documents_db = None
50 |     _delete_customer_document_db = None
51 |     _ensure_customer_documents_table = lambda: None  # type: ignore
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
52 |     _get_customer_document_file_path = None
   |
help: Rewrite `_ensure_customer_documents_table` as a `def`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> crm.py:517:25
    |
515 |                               except Exception:
516 |                                   pass
517 | /                         if st.button(" L├Âschen", key=f"del_doc_{d.get('id')}"):
518 | |                             if callable(_delete_customer_document_db) and _delete_customer_document_db(d.get("id")):
    | |____________________________________________________________________________________________________________________^
519 |                                   st.success(get_text_crm(texts, "crm_filevault_delete_success", "Dokument gel├Âscht."))
520 |                                   st.rerun()
    |
help: Combine `if` statements using `and`

invalid-syntax: Cannot reuse outer quote character in f-strings on Python 3.11 (syntax was added in Python 3.12)
   --> crm.py:721:43
    |
719 |             st.write(f"**{get_text_crm(texts, 'storage_capacity_manual_label', 'Speicherkapazit├ñt')}:** {project_details.get('selecteÔÇª
720 |
721 |         st.write(f"**{get_text_crm(texts, "visualize_roof_in_pdf_label", "Dachvisualisierung in PDF")}:** {'Ja' if project_details.geÔÇª
    |                                           ^
722 |         st.write(f"**{get_text_crm(texts, "latitude_label", "Breitengrad")}:** {project_details.get('latitude', 'N/A')}")
723 |         st.write(f"**{get_text_crm(texts, "longitude_label", "L├ñngengrad")}:** {project_details.get('longitude', 'N/A')}")
    |

invalid-syntax: Cannot reuse outer quote character in f-strings on Python 3.11 (syntax was added in Python 3.12)
   --> crm.py:722:43
    |
721 | ÔÇª     st.write(f"**{get_text_crm(texts, "visualize_roof_in_pdf_label", "Dachvisualisierung in PDF")}:** {'Ja' if project_details.get(ÔÇª
722 | ÔÇª     st.write(f"**{get_text_crm(texts, "latitude_label", "Breitengrad")}:** {project_details.get('latitude', 'N/A')}")
    |                                         ^
723 | ÔÇª     st.write(f"**{get_text_crm(texts, "longitude_label", "L├ñngengrad")}:** {project_details.get('longitude', 'N/A')}")
    |

invalid-syntax: Cannot reuse outer quote character in f-strings on Python 3.11 (syntax was added in Python 3.12)
   --> crm.py:723:43
    |
721 | ÔÇª     st.write(f"**{get_text_crm(texts, "visualize_roof_in_pdf_label", "Dachvisualisierung in PDF")}:** {'Ja' if project_details.get(ÔÇª
722 | ÔÇª     st.write(f"**{get_text_crm(texts, "latitude_label", "Breitengrad")}:** {project_details.get('latitude', 'N/A')}")
723 | ÔÇª     st.write(f"**{get_text_crm(texts, "longitude_label", "L├ñngengrad")}:** {project_details.get('longitude', 'N/A')}")
    |                                         ^
    |

E701 Multiple statements on one line (colon)
   --> crm.py:766:43
    |
764 |     class MockAdminSettings:
765 |         def load_admin_setting(self, key, default=None):
766 |             if key == 'salutation_options': return ['Herr', 'Frau', 'Familie', 'Divers']
    |                                           ^
767 |             if key == 'title_options': return ['Dr.', 'Prof.', 'Mag.', 'Ing.', None]
768 |             return default
    |

E701 Multiple statements on one line (colon)
   --> crm.py:767:38
    |
765 |         def load_admin_setting(self, key, default=None):
766 |             if key == 'salutation_options': return ['Herr', 'Frau', 'Familie', 'Divers']
767 |             if key == 'title_options': return ['Dr.', 'Prof.', 'Mag.', 'Ing.', None]
    |                                      ^
768 |             return default
    |

F401 `database.execute_query` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_calendar_ui.py:14:26
   |
13 | try:
14 |     from database import execute_query, get_db_connection
   |                          ^^^^^^^^^^^^^
15 |     DATABASE_AVAILABLE = True
16 | except ImportError:
   |
help: Remove unused import: `database.execute_query`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> crm_calendar_ui.py:341:17
    |
339 |                       st.rerun()
340 |
341 | /                 if st.button("", key=f"delete_{appointment['id']}", help="L├Âschen"):
342 | |                     if self._delete_appointment(appointment['id']):
    | |___________________________________________________________________^
343 |                           st.success("Termin gel├Âscht")
344 |                           st.rerun()
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> crm_calendar_ui.py:504:45
    |
503 |             cursor.execute('''
504 |                 INSERT INTO crm_appointments 
    |                                             ^
505 |                 (title, type, appointment_date, duration_minutes, customer_id, location, notes, reminder_minutes, status)
506 |                 VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

F401 `database.get_customer_by_id` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_dashboard_ui.py:22:9
   |
20 |     from database import (
21 |         get_all_active_customers,
22 |         get_customer_by_id,
   |         ^^^^^^^^^^^^^^^^^^
23 |         get_db_connection,
24 |         update_customer,
   |
help: Remove unused import

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_dashboard_ui.py:23:9
   |
21 |         get_all_active_customers,
22 |         get_customer_by_id,
23 |         get_db_connection,
   |         ^^^^^^^^^^^^^^^^^
24 |         update_customer,
25 |     )
   |
help: Remove unused import

F401 `database.update_customer` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_dashboard_ui.py:24:9
   |
22 |         get_customer_by_id,
23 |         get_db_connection,
24 |         update_customer,
   |         ^^^^^^^^^^^^^^^
25 |     )
26 |     from locales import get_text
   |
help: Remove unused import

F401 `locales.get_text` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_dashboard_ui.py:26:25
   |
24 |         update_customer,
25 |     )
26 |     from locales import get_text
   |                         ^^^^^^^^
27 |     DATABASE_AVAILABLE = True
28 | except ImportError as e:
   |
help: Remove unused import: `locales.get_text`

F841 Local variable `status_filter` is assigned to but never used
   --> crm_dashboard_ui.py:171:13
    |
170 |         with col_filter:
171 |             status_filter = st.selectbox(
    |             ^^^^^^^^^^^^^
172 |                 "Status filtern",
173 |                 options=["Alle", "Aktiv", "Interessent", "Abgeschlossen"]
    |
help: Remove assignment to unused variable `status_filter`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> crm_dashboard_ui.py:306:14
    |
304 |         mode='lines+markers',
305 |         name='2024',
306 |         line=dict(color='#1f77b4', width=3)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
307 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> crm_dashboard_ui.py:314:14
    |
312 |         mode='lines+markers',
313 |         name='2023',
314 |         line=dict(color='#ff7f0e', width=2, dash='dash')
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
315 |     ))
    |
help: Rewrite as a literal

F401 `database.get_all_active_customers` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> crm_pipeline_ui.py:13:26
   |
12 | try:
13 |     from database import get_all_active_customers, get_db_connection
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^
14 |     DATABASE_AVAILABLE = True
15 | except ImportError:
   |
help: Remove unused import: `database.get_all_active_customers`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> crm_pipeline_ui.py:395:17
    |
394 |               with action_col4:
395 | /                 if st.button(" L├Âschen", key=f"delete_lead_{lead['id']}"):
396 | |                     if self._delete_lead(lead['id']):
    | |_____________________________________________________^
397 |                           st.success("Lead gel├Âscht")
398 |                           st.rerun()
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> crm_pipeline_ui.py:485:62
    |
484 |             st.markdown(f"""
485 |                 **{stage_info['icon']} {stage_info['name']}**  
    |                                                              ^^
486 |                 {bar} {count} Leads ({conversion:.1f}%)
487 |             """)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:586:40
    |
585 |             cursor.execute('''
586 |                 SELECT * FROM crm_leads 
    |                                        ^
587 |                 WHERE stage = ? 
588 |                 ORDER BY stage_changed_at DESC
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:587:32
    |
585 |             cursor.execute('''
586 |                 SELECT * FROM crm_leads 
587 |                 WHERE stage = ? 
    |                                ^
588 |                 ORDER BY stage_changed_at DESC
589 |             ''', (stage,))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:628:40
    |
627 |             cursor.execute('''
628 |                 SELECT * FROM crm_leads 
    |                                        ^
629 |                 WHERE stage = ? AND stage_changed_at >= ?
630 |                 ORDER BY stage_changed_at DESC
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:715:38
    |
714 |             cursor.execute('''
715 |                 INSERT INTO crm_leads 
    |                                      ^
716 |                 (company_name, contact_person, email, phone, address, lead_source, 
717 |                  estimated_value, probability, expected_close_date, stage, notes)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:716:83
    |
714 |             cursor.execute('''
715 |                 INSERT INTO crm_leads 
716 |                 (company_name, contact_person, email, phone, address, lead_source, 
    |                                                                                   ^
717 |                  estimated_value, probability, expected_close_date, stage, notes)
718 |                 VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> crm_pipeline_ui.py:748:33
    |
747 |             cursor.execute('''
748 |                 UPDATE crm_leads 
    |                                 ^
749 |                 SET stage = ?, stage_changed_at = CURRENT_TIMESTAMP, updated_at = CURRENT_TIMESTAMP
750 |                 WHERE id = ?
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> css_template_manager.py:75:1
   |
73 |                 const oldStyles = document.querySelectorAll('style[id^="modern-ui-styles"]');
74 |                 oldStyles.forEach(el => el.remove());
75 |                 
   | ^^^^^^^^^^^^^^^^
76 |                 // Erstelle neuen <style> Tag
77 |                 const style = document.createElement('style');
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> css_template_manager.py:80:1
   |
78 |                 style.id = 'modern-ui-styles-{timestamp}';
79 |                 style.textContent = `{css_escaped}`;
80 |                 
   | ^^^^^^^^^^^^^^^^
81 |                 // F├╝ge in <head> ein (h├Âchste Priorit├ñt)
82 |                 document.head.appendChild(style);
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> css_template_manager.py:83:1
   |
81 |                 // F├╝ge in <head> ein (h├Âchste Priorit├ñt)
82 |                 document.head.appendChild(style);
83 |                 
   | ^^^^^^^^^^^^^^^^
84 |                 console.log('Ô£à Modernes UI CSS injiziert: {timestamp}');
85 |             }})();
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> css_template_manager.py:95:1
   |
93 |         """
94 |         Injiziert Intro Overlay (wird nur einmal pro Browser angezeigt)
95 |         
   | ^^^^^^^^
96 |         Args:
97 |             app_name: Name der App f├╝r das Intro
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> css_template_manager.py:112:28
    |
110 |           const ov = document.getElementById('intro-overlay');
111 |           if(seen==='1'){{ ov.classList.add('hidden'); }}
112 |           setTimeout(()=>{{ 
    |                            ^
113 |             ov.classList.add('hidden'); 
114 |             localStorage.setItem('intro_seen','1'); 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> css_template_manager.py:113:40
    |
111 |           if(seen==='1'){{ ov.classList.add('hidden'); }}
112 |           setTimeout(()=>{{ 
113 |             ov.classList.add('hidden'); 
    |                                        ^
114 |             localStorage.setItem('intro_seen','1'); 
115 |           }}, {duration_ms});
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> css_template_manager.py:114:52
    |
112 |           setTimeout(()=>{{ 
113 |             ov.classList.add('hidden'); 
114 |             localStorage.setItem('intro_seen','1'); 
    |                                                    ^
115 |           }}, {duration_ms});
116 |         </script>
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> css_template_manager.py:123:1
    |
121 |         """
122 |         Injiziert Custom Context Menu (Rechtsklick-Men├╝)
123 |         
    | ^^^^^^^^
124 |         Args:
125 |             menu_items: Liste von Men├╝-Items (icon, label, action)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> css_template_manager.py:172:1
    |
170 |         """
171 |         Injiziert alle CSS-Templates und optionale Komponenten in Streamlit
172 |         
    | ^^^^^^^^
173 |         Args:
174 |             load_intro: Intro Overlay laden
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> css_template_manager.py:177:1
    |
175 |             load_context_menu: Context Menu laden
176 |             app_name: App-Name f├╝r Intro
177 |             
    | ^^^^^^^^^^^^
178 |         Returns:
179 |             Anzahl der geladenen Templates
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> css_template_manager.py:209:1
    |
207 |         """
208 |         Gibt Plotly-Theme-Konfiguration zur├╝ck, die zum CSS passt
209 |         
    | ^^^^^^^^
210 |         Returns:
211 |             Dict mit Plotly Layout-Optionen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> css_template_manager.py:225:1
    |
223 |         """
224 |         Wendet das moderne Theme auf ein Plotly Figure an
225 |         
    | ^^^^^^^^
226 |         Args:
227 |             fig: Plotly Figure Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> css_template_manager.py:228:1
    |
226 |         Args:
227 |             fig: Plotly Figure Objekt
228 |             
    | ^^^^^^^^^^^^
229 |         Returns:
230 |             Modifiziertes Figure Objekt
    |
help: Remove whitespace from blank line

N802 Function name `Dummy_get_db_connection_input` should be lowercase
  --> data_input.py:36:5
   |
34 | # --- Dummies und reale Imports ---
35 | # ... (Rest der Dummies und Imports bleibt unver├ñndert) ...
36 | def Dummy_get_db_connection_input(): return None
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
37 | def Dummy_list_products_input(*args, **kwargs): return []
38 | def Dummy_get_product_by_model_name_input(*args, **kwargs): return None
   |

N802 Function name `Dummy_list_products_input` should be lowercase
  --> data_input.py:37:5
   |
35 | # ... (Rest der Dummies und Imports bleibt unver├ñndert) ...
36 | def Dummy_get_db_connection_input(): return None
37 | def Dummy_list_products_input(*args, **kwargs): return []
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^
38 | def Dummy_get_product_by_model_name_input(*args, **kwargs): return None
39 | def Dummy_get_product_by_id_input(*args, **kwargs): return None
   |

N802 Function name `Dummy_get_product_by_model_name_input` should be lowercase
  --> data_input.py:38:5
   |
36 | def Dummy_get_db_connection_input(): return None
37 | def Dummy_list_products_input(*args, **kwargs): return []
38 | def Dummy_get_product_by_model_name_input(*args, **kwargs): return None
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
39 | def Dummy_get_product_by_id_input(*args, **kwargs): return None
40 | def Dummy_load_admin_setting_input(key, default=None):
   |

N802 Function name `Dummy_get_product_by_id_input` should be lowercase
  --> data_input.py:39:5
   |
37 | def Dummy_list_products_input(*args, **kwargs): return []
38 | def Dummy_get_product_by_model_name_input(*args, **kwargs): return None
39 | def Dummy_get_product_by_id_input(*args, **kwargs): return None
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
40 | def Dummy_load_admin_setting_input(key, default=None):
41 |     if key == 'salutation_options': return ['Herr (D)', 'Frau (D)', 'Familie (D)']
   |

N802 Function name `Dummy_load_admin_setting_input` should be lowercase
  --> data_input.py:40:5
   |
38 | def Dummy_get_product_by_model_name_input(*args, **kwargs): return None
39 | def Dummy_get_product_by_id_input(*args, **kwargs): return None
40 | def Dummy_load_admin_setting_input(key, default=None):
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
41 |     if key == 'salutation_options': return ['Herr (D)', 'Frau (D)', 'Familie (D)']
42 |     if key == 'title_options': return ['Dr. (D)', 'Prof. (D)', 'Mag. (D)', 'Ing. (D)', None]
   |

E701 Multiple statements on one line (colon)
  --> data_input.py:41:35
   |
39 | def Dummy_get_product_by_id_input(*args, **kwargs): return None
40 | def Dummy_load_admin_setting_input(key, default=None):
41 |     if key == 'salutation_options': return ['Herr (D)', 'Frau (D)', 'Familie (D)']
   |                                   ^
42 |     if key == 'title_options': return ['Dr. (D)', 'Prof. (D)', 'Mag. (D)', 'Ing. (D)', None]
43 |     if key == 'Maps_api_key': return "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN"
   |

E701 Multiple statements on one line (colon)
  --> data_input.py:42:30
   |
40 | def Dummy_load_admin_setting_input(key, default=None):
41 |     if key == 'salutation_options': return ['Herr (D)', 'Frau (D)', 'Familie (D)']
42 |     if key == 'title_options': return ['Dr. (D)', 'Prof. (D)', 'Mag. (D)', 'Ing. (D)', None]
   |                              ^
43 |     if key == 'Maps_api_key': return "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN"
44 |     return default
   |

E701 Multiple statements on one line (colon)
  --> data_input.py:43:29
   |
41 |     if key == 'salutation_options': return ['Herr (D)', 'Frau (D)', 'Familie (D)']
42 |     if key == 'title_options': return ['Dr. (D)', 'Prof. (D)', 'Mag. (D)', 'Ing. (D)', None]
43 |     if key == 'Maps_api_key': return "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN"
   |                             ^
44 |     return default
   |

N802 Function name `get_Maps_satellite_image_url` should be lowercase
   --> data_input.py:144:5
    |
142 |         return None
143 |
144 | def get_Maps_satellite_image_url(latitude: float, longitude: float, api_key: str | None, texts: dict[str, str], zoom: int = 20, widthÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
145 |     # ... (Funktion bleibt unver├ñndert) ...
146 |     if not api_key or api_key == "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
    |

RET504 Unnecessary assignment to `full_url` before `return` statement
   --> data_input.py:157:12
    |
155 |     url_parts = [f"{k}={v}" for k, v in params.items()]
156 |     full_url = base_url + "&".join(url_parts)
157 |     return full_url
    |            ^^^^^^^^
158 |
159 | # KORREKTUR: `render_data_input` modifiziert `st.session_state.project_data` direkt und gibt es nicht mehr zur├╝ck.
    |
help: Remove unnecessary assignment

N806 Variable `SALUTATION_OPTIONS` in function should be lowercase
   --> data_input.py:174:5
    |
172 |     # ... (Rest der Variablendefinitionen und UI-Elemente bleibt gleich) ...
173 |     please_select_text = get_text_di(texts, "please_select_option", "--- Bitte w├ñhlen ---")
174 |     SALUTATION_OPTIONS = load_admin_setting_safe('salutation_options', ['Herr', 'Frau', 'Familie', 'Firma', 'Divers', ''])
    |     ^^^^^^^^^^^^^^^^^^
175 |     TITLE_OPTIONS_RAW = load_admin_setting_safe('title_options', ['Dr.', 'Prof.', 'Mag.', 'Ing.', None])
176 |     TITLE_OPTIONS = [str(t) if t is not None else get_text_di(texts, "none_option", "(Kein)") for t in TITLE_OPTIONS_RAW]
    |

N806 Variable `TITLE_OPTIONS_RAW` in function should be lowercase
   --> data_input.py:175:5
    |
173 |     please_select_text = get_text_di(texts, "please_select_option", "--- Bitte w├ñhlen ---")
174 |     SALUTATION_OPTIONS = load_admin_setting_safe('salutation_options', ['Herr', 'Frau', 'Familie', 'Firma', 'Divers', ''])
175 |     TITLE_OPTIONS_RAW = load_admin_setting_safe('title_options', ['Dr.', 'Prof.', 'Mag.', 'Ing.', None])
    |     ^^^^^^^^^^^^^^^^^
176 |     TITLE_OPTIONS = [str(t) if t is not None else get_text_di(texts, "none_option", "(Kein)") for t in TITLE_OPTIONS_RAW]
177 |     BUNDESLAND_OPTIONS = load_admin_setting_safe('bundesland_options', ['Baden-W├╝rttemberg', 'Bayern', 'Berlin', 'Brandenburg', 'BremÔÇª
    |

N806 Variable `TITLE_OPTIONS` in function should be lowercase
   --> data_input.py:176:5
    |
174 |     SALUTATION_OPTIONS = load_admin_setting_safe('salutation_options', ['Herr', 'Frau', 'Familie', 'Firma', 'Divers', ''])
175 |     TITLE_OPTIONS_RAW = load_admin_setting_safe('title_options', ['Dr.', 'Prof.', 'Mag.', 'Ing.', None])
176 |     TITLE_OPTIONS = [str(t) if t is not None else get_text_di(texts, "none_option", "(Kein)") for t in TITLE_OPTIONS_RAW]
    |     ^^^^^^^^^^^^^
177 |     BUNDESLAND_OPTIONS = load_admin_setting_safe('bundesland_options', ['Baden-W├╝rttemberg', 'Bayern', 'Berlin', 'Brandenburg', 'BremÔÇª
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
    |

N806 Variable `BUNDESLAND_OPTIONS` in function should be lowercase
   --> data_input.py:177:5
    |
175 |     TITLE_OPTIONS_RAW = load_admin_setting_safe('title_options', ['Dr.', 'Prof.', 'Mag.', 'Ing.', None])
176 |     TITLE_OPTIONS = [str(t) if t is not None else get_text_di(texts, "none_option", "(Kein)") for t in TITLE_OPTIONS_RAW]
177 |     BUNDESLAND_OPTIONS = load_admin_setting_safe('bundesland_options', ['Baden-W├╝rttemberg', 'Bayern', 'Berlin', 'Brandenburg', 'BremÔÇª
    |     ^^^^^^^^^^^^^^^^^^
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
    |

N806 Variable `DACHART_OPTIONS` in function should be lowercase
   --> data_input.py:178:5
    |
176 |     TITLE_OPTIONS = [str(t) if t is not None else get_text_di(texts, "none_option", "(Kein)") for t in TITLE_OPTIONS_RAW]
177 |     BUNDESLAND_OPTIONS = load_admin_setting_safe('bundesland_options', ['Baden-W├╝rttemberg', 'Bayern', 'Berlin', 'Brandenburg', 'BremÔÇª
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
    |     ^^^^^^^^^^^^^^^
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
    |

N806 Variable `DACHDECKUNG_OPTIONS` in function should be lowercase
   --> data_input.py:179:5
    |
177 |     BUNDESLAND_OPTIONS = load_admin_setting_safe('bundesland_options', ['Baden-W├╝rttemberg', 'Bayern', 'Berlin', 'Brandenburg', 'BremÔÇª
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
    |

N806 Variable `MODULE_LIST_MODELS` in function should be lowercase
   --> data_input.py:180:5
    |
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
    |     ^^^^^^^^^^^^^^^^^^
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
    |

F841 Local variable `MODULE_LIST_MODELS` is assigned to but never used
   --> data_input.py:180:5
    |
178 |     DACHART_OPTIONS = load_admin_setting_safe('dachart_options', ['Satteldach', 'Satteldach mit Gaube', 'Pultdach', 'Flachdach', 'WalÔÇª
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
    |     ^^^^^^^^^^^^^^^^^^
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
    |
help: Remove assignment to unused variable `MODULE_LIST_MODELS`

N806 Variable `INVERTER_LIST_MODELS` in function should be lowercase
   --> data_input.py:181:5
    |
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
    |

F841 Local variable `INVERTER_LIST_MODELS` is assigned to but never used
   --> data_input.py:181:5
    |
179 |     DACHDECKUNG_OPTIONS = load_admin_setting_safe('dachdeckung_options', ['Frankfurter Pfannen', 'Trapezblech', 'Tonziegel', 'BiberscÔÇª
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
    |
help: Remove assignment to unused variable `INVERTER_LIST_MODELS`

N806 Variable `STORAGE_LIST_MODELS` in function should be lowercase
   --> data_input.py:182:5
    |
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
    |

F841 Local variable `STORAGE_LIST_MODELS` is assigned to but never used
   --> data_input.py:182:5
    |
180 |     MODULE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Modul')] or [get_textÔÇª
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
    |
help: Remove assignment to unused variable `STORAGE_LIST_MODELS`

N806 Variable `WALLBOX_LIST_MODELS` in function should be lowercase
   --> data_input.py:183:5
    |
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
    |

F841 Local variable `WALLBOX_LIST_MODELS` is assigned to but never used
   --> data_input.py:183:5
    |
181 |     INVERTER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wechselrichter')] oÔÇª
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
    |
help: Remove assignment to unused variable `WALLBOX_LIST_MODELS`

N806 Variable `EMS_LIST_MODELS` in function should be lowercase
   --> data_input.py:184:5
    |
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
    |     ^^^^^^^^^^^^^^^
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
    |

F841 Local variable `EMS_LIST_MODELS` is assigned to but never used
   --> data_input.py:184:5
    |
182 |     STORAGE_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Batteriespeicher')] ÔÇª
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
    |     ^^^^^^^^^^^^^^^
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
    |
help: Remove assignment to unused variable `EMS_LIST_MODELS`

N806 Variable `OPTIMIZER_LIST_MODELS` in function should be lowercase
   --> data_input.py:185:5
    |
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^^
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
    |

F841 Local variable `OPTIMIZER_LIST_MODELS` is assigned to but never used
   --> data_input.py:185:5
    |
183 |     WALLBOX_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Wallbox')] or [get_tÔÇª
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^^
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
    |
help: Remove assignment to unused variable `OPTIMIZER_LIST_MODELS`

N806 Variable `CARPORT_LIST_MODELS` in function should be lowercase
   --> data_input.py:186:5
    |
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |

F841 Local variable `CARPORT_LIST_MODELS` is assigned to but never used
   --> data_input.py:186:5
    |
184 |     EMS_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Energiemanagementsystem'ÔÇª
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
    |     ^^^^^^^^^^^^^^^^^^^
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |
help: Remove assignment to unused variable `CARPORT_LIST_MODELS`

N806 Variable `NOTSTROM_LIST_MODELS` in function should be lowercase
   --> data_input.py:187:5
    |
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |

F841 Local variable `NOTSTROM_LIST_MODELS` is assigned to but never used
   --> data_input.py:187:5
    |
185 |     OPTIMIZER_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='LeistungsoptimiereÔÇª
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |
help: Remove assignment to unused variable `NOTSTROM_LIST_MODELS`

N806 Variable `TIERABWEHR_LIST_MODELS` in function should be lowercase
   --> data_input.py:188:5
    |
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^^^
189 |
190 |     # ­ƒöî Bedarfsanalyse - Mode Selection (Moved from analysis.py)
    |

F841 Local variable `TIERABWEHR_LIST_MODELS` is assigned to but never used
   --> data_input.py:188:5
    |
186 |     CARPORT_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Carport')] or [get_tÔÇª
187 |     NOTSTROM_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Notstromversorgung'ÔÇª
188 |     TIERABWEHR_LIST_MODELS = [p.get('model_name', f"ID:{p.get('id', 'N/A')}") for p in list_products_safe(category='Tierabwehrschutz'ÔÇª
    |     ^^^^^^^^^^^^^^^^^^^^^^
189 |
190 |     # ­ƒöî Bedarfsanalyse - Mode Selection (Moved from analysis.py)
    |
help: Remove assignment to unused variable `TIERABWEHR_LIST_MODELS`

E701 Multiple statements on one line (colon)
   --> data_input.py:252:18
    |
250 | ÔÇª     # ... (Inhalt des Kunden-Expanders bleibt gleich, aber `inputs` verweist jetzt direkt auf `st.session_state.project_data`)
251 | ÔÇª     col1,col2,col3=st.columns(3)
252 | ÔÇª     with col1: inputs['project_details']['anlage_type']=st.selectbox(get_text_di(texts,"anlage_type_label","Anlagentyp"),options=['ÔÇª
    |                ^
253 | ÔÇª     with col2: inputs['project_details']['feed_in_type']=st.selectbox(get_text_di(texts,"feed_in_type_label","Einspeisetyp"),optionÔÇª
254 | ÔÇª     with col3: inputs['customer_data']['type']=st.selectbox(get_text_di(texts,"customer_type_label","Kundentyp"),options=['Privat',ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:253:18
    |
251 | ÔÇª     col1,col2,col3=st.columns(3)
252 | ÔÇª     with col1: inputs['project_details']['anlage_type']=st.selectbox(get_text_di(texts,"anlage_type_label","Anlagentyp"),options=['ÔÇª
253 | ÔÇª     with col2: inputs['project_details']['feed_in_type']=st.selectbox(get_text_di(texts,"feed_in_type_label","Einspeisetyp"),optionÔÇª
    |                ^
254 | ÔÇª     with col3: inputs['customer_data']['type']=st.selectbox(get_text_di(texts,"customer_type_label","Kundentyp"),options=['Privat',ÔÇª
255 | ÔÇª     col4,col5,col6=st.columns(3)
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:254:18
    |
252 | ÔÇª     with col1: inputs['project_details']['anlage_type']=st.selectbox(get_text_di(texts,"anlage_type_label","Anlagentyp"),options=['ÔÇª
253 | ÔÇª     with col2: inputs['project_details']['feed_in_type']=st.selectbox(get_text_di(texts,"feed_in_type_label","Einspeisetyp"),optionÔÇª
254 | ÔÇª     with col3: inputs['customer_data']['type']=st.selectbox(get_text_di(texts,"customer_type_label","Kundentyp"),options=['Privat',ÔÇª
    |                ^
255 | ÔÇª     col4,col5,col6=st.columns(3)
256 | ÔÇª     default_salutation = inputs['customer_data'].get('salutation', SALUTATION_OPTIONS[0] if SALUTATION_OPTIONS else '')
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:257:18
    |
255 | ÔÇª     col4,col5,col6=st.columns(3)
256 | ÔÇª     default_salutation = inputs['customer_data'].get('salutation', SALUTATION_OPTIONS[0] if SALUTATION_OPTIONS else '')
257 | ÔÇª     with col4: inputs['customer_data']['salutation']=st.selectbox(get_text_di(texts,"salutation_label","Anrede"),options=SALUTATIONÔÇª
    |                ^
258 | ÔÇª     default_title = inputs['customer_data'].get('title', TITLE_OPTIONS[-1] if TITLE_OPTIONS else '')
259 | ÔÇª     with col5: inputs['customer_data']['title']=st.selectbox(get_text_di(texts,"title_label","Titel"),options=TITLE_OPTIONS,index=TÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:259:18
    |
257 | ÔÇª     with col4: inputs['customer_data']['salutation']=st.selectbox(get_text_di(texts,"salutation_label","Anrede"),options=SALUTATIONÔÇª
258 | ÔÇª     default_title = inputs['customer_data'].get('title', TITLE_OPTIONS[-1] if TITLE_OPTIONS else '')
259 | ÔÇª     with col5: inputs['customer_data']['title']=st.selectbox(get_text_di(texts,"title_label","Titel"),options=TITLE_OPTIONS,index=TÔÇª
    |                ^
260 | ÔÇª     with col6: inputs['customer_data']['first_name']=st.text_input(get_text_di(texts,"first_name_label","Vorname"),value=str(inputsÔÇª
261 | ÔÇª     col7,col8=st.columns(2)
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:260:18
    |
258 | ÔÇª     default_title = inputs['customer_data'].get('title', TITLE_OPTIONS[-1] if TITLE_OPTIONS else '')
259 | ÔÇª     with col5: inputs['customer_data']['title']=st.selectbox(get_text_di(texts,"title_label","Titel"),options=TITLE_OPTIONS,index=TÔÇª
260 | ÔÇª     with col6: inputs['customer_data']['first_name']=st.text_input(get_text_di(texts,"first_name_label","Vorname"),value=str(inputsÔÇª
    |                ^
261 | ÔÇª     col7,col8=st.columns(2)
262 | ÔÇª     with col7: inputs['customer_data']['last_name']=st.text_input(get_text_di(texts,"last_name_label","Nachname"),value=str(inputs[ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:262:18
    |
260 | ÔÇª     with col6: inputs['customer_data']['first_name']=st.text_input(get_text_di(texts,"first_name_label","Vorname"),value=str(inputsÔÇª
261 | ÔÇª     col7,col8=st.columns(2)
262 | ÔÇª     with col7: inputs['customer_data']['last_name']=st.text_input(get_text_di(texts,"last_name_label","Nachname"),value=str(inputs[ÔÇª
    |                ^
263 | ÔÇª     with col8: inputs['customer_data']['num_persons']=st.number_input(get_text_di(texts,"num_persons_label","Anzahl Personen im HauÔÇª
264 | ÔÇª     full_address_input_val=st.text_input(get_text_di(texts,"full_address_label","Komplette Adresse"),value=str(inputs['customer_datÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:263:18
    |
261 | ÔÇª     col7,col8=st.columns(2)
262 | ÔÇª     with col7: inputs['customer_data']['last_name']=st.text_input(get_text_di(texts,"last_name_label","Nachname"),value=str(inputs[ÔÇª
263 | ÔÇª     with col8: inputs['customer_data']['num_persons']=st.number_input(get_text_di(texts,"num_persons_label","Anzahl Personen im HauÔÇª
    |                ^
264 | ÔÇª     full_address_input_val=st.text_input(get_text_di(texts,"full_address_label","Komplette Adresse"),value=str(inputs['customer_datÔÇª
265 | ÔÇª     inputs['customer_data']['full_address']=full_address_input_val
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:276:74
    |
274 | ÔÇª     inputs['customer_data']['zip_code']=parsed_data.get("zip_code",inputs['customer_data'].get('zip_code',''))
275 | ÔÇª     inputs['customer_data']['city']=parsed_data.get("city",inputs['customer_data'].get('city',''))
276 | ÔÇª     if parsed_data.get("zip_code")and parsed_data.get("city"):st.success(get_text_di(texts,"parse_address_success_all","Adresse erfÔÇª
    |                                                                ^
277 | ÔÇª     else:st.warning(get_text_di(texts,"parse_address_partial_success","Adresse teilweise geparst. Bitte fehlende Felder erg├ñnzen."))
278 | ÔÇª     st.session_state.satellite_image_url_di = None
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:277:21
    |
275 | ÔÇª     inputs['customer_data']['city']=parsed_data.get("city",inputs['customer_data'].get('city',''))
276 | ÔÇª     if parsed_data.get("zip_code")and parsed_data.get("city"):st.success(get_text_di(texts,"parse_address_success_all","Adresse erfÔÇª
277 | ÔÇª     else:st.warning(get_text_di(texts,"parse_address_partial_success","Adresse teilweise geparst. Bitte fehlende Felder erg├ñnzen."))
    |           ^
278 | ÔÇª     st.session_state.satellite_image_url_di = None
279 | ÔÇª     # st.rerun() # ENTFERNT - Streamlit macht das automatisch.
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:280:17
    |
278 |                 st.session_state.satellite_image_url_di = None
279 |                 # st.rerun() # ENTFERNT - Streamlit macht das automatisch.
280 |             else:st.warning(get_text_di(texts,"parse_address_no_input","Bitte geben Sie eine vollst├ñndige Adresse ein."))
    |                 ^
281 |
282 |         col_addr1,col_addr2=st.columns(2);col_addr3,col_addr4=st.columns(2)
    |

E702 Multiple statements on one line (semicolon)
   --> data_input.py:282:42
    |
280 |             else:st.warning(get_text_di(texts,"parse_address_no_input","Bitte geben Sie eine vollst├ñndige Adresse ein."))
281 |
282 |         col_addr1,col_addr2=st.columns(2);col_addr3,col_addr4=st.columns(2)
    |                                          ^
283 |         with col_addr1:inputs['customer_data']['address']=st.text_input(get_text_di(texts,"street_label","Stra├ƒe"),value=str(inputs['ÔÇª
284 |         with col_addr2:inputs['customer_data']['house_number']=st.text_input(get_text_di(texts,"house_number_label","Hausnummer"),valÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:283:23
    |
282 | ÔÇª     col_addr1,col_addr2=st.columns(2);col_addr3,col_addr4=st.columns(2)
283 | ÔÇª     with col_addr1:inputs['customer_data']['address']=st.text_input(get_text_di(texts,"street_label","Stra├ƒe"),value=str(inputs['cuÔÇª
    |                     ^
284 | ÔÇª     with col_addr2:inputs['customer_data']['house_number']=st.text_input(get_text_di(texts,"house_number_label","Hausnummer"),valueÔÇª
285 | ÔÇª     with col_addr3:inputs['customer_data']['zip_code']=st.text_input(get_text_di(texts,"zip_code_label","PLZ"),value=str(inputs['cuÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:284:23
    |
282 | ÔÇª     col_addr1,col_addr2=st.columns(2);col_addr3,col_addr4=st.columns(2)
283 | ÔÇª     with col_addr1:inputs['customer_data']['address']=st.text_input(get_text_di(texts,"street_label","Stra├ƒe"),value=str(inputs['cuÔÇª
284 | ÔÇª     with col_addr2:inputs['customer_data']['house_number']=st.text_input(get_text_di(texts,"house_number_label","Hausnummer"),valueÔÇª
    |                     ^
285 | ÔÇª     with col_addr3:inputs['customer_data']['zip_code']=st.text_input(get_text_di(texts,"zip_code_label","PLZ"),value=str(inputs['cuÔÇª
286 | ÔÇª     with col_addr4:inputs['customer_data']['city']=st.text_input(get_text_di(texts,"city_label","Ort"),value=str(inputs['customer_dÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:285:23
    |
283 | ÔÇª     with col_addr1:inputs['customer_data']['address']=st.text_input(get_text_di(texts,"street_label","Stra├ƒe"),value=str(inputs['cuÔÇª
284 | ÔÇª     with col_addr2:inputs['customer_data']['house_number']=st.text_input(get_text_di(texts,"house_number_label","Hausnummer"),valueÔÇª
285 | ÔÇª     with col_addr3:inputs['customer_data']['zip_code']=st.text_input(get_text_di(texts,"zip_code_label","PLZ"),value=str(inputs['cuÔÇª
    |                     ^
286 | ÔÇª     with col_addr4:inputs['customer_data']['city']=st.text_input(get_text_di(texts,"city_label","Ort"),value=str(inputs['customer_dÔÇª
287 | ÔÇª     default_state=inputs['customer_data'].get('state',please_select_text)
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:286:23
    |
284 | ÔÇª     with col_addr2:inputs['customer_data']['house_number']=st.text_input(get_text_di(texts,"house_number_label","Hausnummer"),valueÔÇª
285 | ÔÇª     with col_addr3:inputs['customer_data']['zip_code']=st.text_input(get_text_di(texts,"zip_code_label","PLZ"),value=str(inputs['cuÔÇª
286 | ÔÇª     with col_addr4:inputs['customer_data']['city']=st.text_input(get_text_di(texts,"city_label","Ort"),value=str(inputs['customer_dÔÇª
    |                     ^
287 | ÔÇª     default_state=inputs['customer_data'].get('state',please_select_text)
288 | ÔÇª     state_options_with_ps=[please_select_text]+BUNDESLAND_OPTIONS
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:290:64
    |
288 | ÔÇª     state_options_with_ps=[please_select_text]+BUNDESLAND_OPTIONS
289 | ÔÇª     inputs['customer_data']['state']=st.selectbox(get_text_di(texts,"state_label","Bundesland"),options=state_options_with_ps,key='ÔÇª
290 | ÔÇª     if inputs['customer_data']['state']==please_select_text:inputs['customer_data']['state']=None
    |                                                              ^
291 | ÔÇª     st.markdown("---");st.markdown(f"**{get_text_di(texts,'coordinates_header','Koordinaten')}**")
292 | ÔÇª     Maps_API_KEY_FROM_ENV = os.environ.get("Maps_API_KEY")
    |

E702 Multiple statements on one line (semicolon)
   --> data_input.py:291:27
    |
289 | ÔÇª     inputs['customer_data']['state']=st.selectbox(get_text_di(texts,"state_label","Bundesland"),options=state_options_with_ps,key='ÔÇª
290 | ÔÇª     if inputs['customer_data']['state']==please_select_text:inputs['customer_data']['state']=None
291 | ÔÇª     st.markdown("---");st.markdown(f"**{get_text_di(texts,'coordinates_header','Koordinaten')}**")
    |                         ^
292 | ÔÇª     Maps_API_KEY_FROM_ENV = os.environ.get("Maps_API_KEY")
293 | ÔÇª     EFFECTIVE_GOOGLE_API_KEY = None
    |

N806 Variable `Maps_API_KEY_FROM_ENV` in function should be lowercase
   --> data_input.py:292:9
    |
290 | ÔÇª     if inputs['customer_data']['state']==please_select_text:inputs['customer_data']['state']=None
291 | ÔÇª     st.markdown("---");st.markdown(f"**{get_text_di(texts,'coordinates_header','Koordinaten')}**")
292 | ÔÇª     Maps_API_KEY_FROM_ENV = os.environ.get("Maps_API_KEY")
    |       ^^^^^^^^^^^^^^^^^^^^^
293 | ÔÇª     EFFECTIVE_GOOGLE_API_KEY = None
294 | ÔÇª     if Maps_API_KEY_FROM_ENV and Maps_API_KEY_FROM_ENV.strip() and Maps_API_KEY_FROM_ENV != "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
    |

SIM112 Use capitalized environment variable `MAPS_API_KEY` instead of `Maps_API_KEY`
   --> data_input.py:292:48
    |
290 | ÔÇª     if inputs['customer_data']['state']==please_select_text:inputs['customer_data']['state']=None
291 | ÔÇª     st.markdown("---");st.markdown(f"**{get_text_di(texts,'coordinates_header','Koordinaten')}**")
292 | ÔÇª     Maps_API_KEY_FROM_ENV = os.environ.get("Maps_API_KEY")
    |                                              ^^^^^^^^^^^^^^
293 | ÔÇª     EFFECTIVE_GOOGLE_API_KEY = None
294 | ÔÇª     if Maps_API_KEY_FROM_ENV and Maps_API_KEY_FROM_ENV.strip() and Maps_API_KEY_FROM_ENV != "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
    |
help: Replace `Maps_API_KEY` with `MAPS_API_KEY`

N806 Variable `EFFECTIVE_GOOGLE_API_KEY` in function should be lowercase
   --> data_input.py:293:9
    |
291 | ÔÇª     st.markdown("---");st.markdown(f"**{get_text_di(texts,'coordinates_header','Koordinaten')}**")
292 | ÔÇª     Maps_API_KEY_FROM_ENV = os.environ.get("Maps_API_KEY")
293 | ÔÇª     EFFECTIVE_GOOGLE_API_KEY = None
    |       ^^^^^^^^^^^^^^^^^^^^^^^^
294 | ÔÇª     if Maps_API_KEY_FROM_ENV and Maps_API_KEY_FROM_ENV.strip() and Maps_API_KEY_FROM_ENV != "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
295 | ÔÇª         EFFECTIVE_GOOGLE_API_KEY = Maps_API_KEY_FROM_ENV
    |

N806 Variable `EFFECTIVE_GOOGLE_API_KEY` in function should be lowercase
   --> data_input.py:295:13
    |
293 | ÔÇª     EFFECTIVE_GOOGLE_API_KEY = None
294 | ÔÇª     if Maps_API_KEY_FROM_ENV and Maps_API_KEY_FROM_ENV.strip() and Maps_API_KEY_FROM_ENV != "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
295 | ÔÇª         EFFECTIVE_GOOGLE_API_KEY = Maps_API_KEY_FROM_ENV
    |           ^^^^^^^^^^^^^^^^^^^^^^^^
296 | ÔÇª     else:
297 | ÔÇª         api_key_from_db = load_admin_setting_safe("Maps_api_key", None)
    |

N806 Variable `EFFECTIVE_GOOGLE_API_KEY` in function should be lowercase
   --> data_input.py:299:17
    |
297 |             api_key_from_db = load_admin_setting_safe("Maps_api_key", None)
298 |             if api_key_from_db and api_key_from_db.strip() and api_key_from_db != "PLATZHALTER_HIER_IHREN_KEY_EINFUEGEN":
299 |                 EFFECTIVE_GOOGLE_API_KEY = api_key_from_db
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^
300 |         current_lat = float(inputs['project_details'].get('latitude', 0.0) or 0.0)
301 |         current_lon = float(inputs['project_details'].get('longitude', 0.0) or 0.0)
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:303:21
    |
301 | ÔÇª     current_lon = float(inputs['project_details'].get('longitude', 0.0) or 0.0)
302 | ÔÇª     col_lat, col_lon, col_geocode_btn = st.columns([2,2,1])
303 | ÔÇª     with col_lat: inputs['project_details']['latitude'] = st.number_input(get_text_di(texts, "latitude_label", "Breitengrad"), valuÔÇª
    |                   ^
304 | ÔÇª     with col_lon: inputs['project_details']['longitude'] = st.number_input(get_text_di(texts, "longitude_label", "L├ñngengrad"), valÔÇª
305 | ÔÇª     with col_geocode_btn:
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:304:21
    |
302 | ÔÇª     col_lat, col_lon, col_geocode_btn = st.columns([2,2,1])
303 | ÔÇª     with col_lat: inputs['project_details']['latitude'] = st.number_input(get_text_di(texts, "latitude_label", "Breitengrad"), valuÔÇª
304 | ÔÇª     with col_lon: inputs['project_details']['longitude'] = st.number_input(get_text_di(texts, "longitude_label", "L├ñngengrad"), valÔÇª
    |                   ^
305 | ÔÇª     with col_geocode_btn:
306 | ÔÇª         st.write(""); st.write("")
    |

E702 Multiple statements on one line (semicolon)
   --> data_input.py:306:25
    |
304 | ÔÇª     with col_lon: inputs['project_details']['longitude'] = st.number_input(get_text_di(texts, "longitude_label", "L├ñngengrad"), valÔÇª
305 | ÔÇª     with col_geocode_btn:
306 | ÔÇª         st.write(""); st.write("")
    |                       ^
307 | ÔÇª         # KORREKTUR: `st.rerun()` aus dem Button-Callback entfernen.
308 | ÔÇª         if st.button(get_text_di(texts, "get_coordinates_button", "Koordinaten abrufen"), key="geocode_btn_di_v6_exp_stable", disabÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:316:21
    |
314 |                         st.session_state.satellite_image_url_di = None
315 |                         # st.rerun() # ENTFERNT
316 |                 else: st.warning(get_text_di(texts, "geocode_incomplete_address", "Bitte Adresse (Stra├ƒe, PLZ, Ort) eingeben."))
    |                     ^
317 |         if not (abs(current_lat) < 1e-9 and abs(current_lon) < 1e-9):
318 |             st.map(pd.DataFrame({'lat': [current_lat], 'lon': [current_lon]}), zoom=13)
    |

E702 Multiple statements on one line (semicolon)
   --> data_input.py:320:27
    |
318 | ÔÇª         st.map(pd.DataFrame({'lat': [current_lat], 'lon': [current_lon]}), zoom=13)
319 | ÔÇª     # elif EFFECTIVE_GOOGLE_API_KEY: st.info(get_text_di(texts, "map_no_coordinates_info", "Keine Koordinaten f├╝r Kartenanzeige. BiÔÇª
320 | ÔÇª     st.markdown("---"); st.markdown(f"**{get_text_di(texts, 'satellite_image_header', 'Satellitenbild (Google Maps)')}**")
    |                         ^
321 | ÔÇª     if 'satellite_image_url_di' not in st.session_state: st.session_state.satellite_image_url_di = None
322 | ÔÇª     if not (abs(current_lat) < 1e-9 and abs(current_lon) < 1e-9) :
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:321:60
    |
319 | ÔÇª     # elif EFFECTIVE_GOOGLE_API_KEY: st.info(get_text_di(texts, "map_no_coordinates_info", "Keine Koordinaten f├╝r Kartenanzeige. BiÔÇª
320 | ÔÇª     st.markdown("---"); st.markdown(f"**{get_text_di(texts, 'satellite_image_header', 'Satellitenbild (Google Maps)')}**")
321 | ÔÇª     if 'satellite_image_url_di' not in st.session_state: st.session_state.satellite_image_url_di = None
    |                                                          ^
322 | ÔÇª     if not (abs(current_lat) < 1e-9 and abs(current_lon) < 1e-9) :
323 | ÔÇª         if EFFECTIVE_GOOGLE_API_KEY:
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> data_input.py:323:13
    |
321 |   ÔÇª if 'satellite_image_url_di' not in st.session_state: st.session_state.satellite_image_url_di = None
322 |   ÔÇª if not (abs(current_lat) < 1e-9 and abs(current_lon) < 1e-9) :
323 | / ÔÇª     if EFFECTIVE_GOOGLE_API_KEY:
324 | | ÔÇª         if st.button(get_text_di(texts, "load_satellite_image_button", "Satellitenbild laden/aktualisieren"), key="load_sat_img_btn_di_v6_final_exp_stable"):
    | |_______________________________________________________________________________________________________________________________________________________________^
325 |   ÔÇª             st.session_state.satellite_image_url_di = get_Maps_satellite_image_url(current_lat, current_lon, EFFECTIVE_GOOGLE_API_KEY, texts)
326 |   ÔÇª             if st.session_state.satellite_image_url_di:
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> data_input.py:339:21
    |
337 |   ÔÇª     default_visualize_satellite = inputs['project_details'].get('visualize_roof_in_pdf_satellite', False)
338 |   ÔÇª     inputs['project_details']['visualize_roof_in_pdf_satellite'] = st.checkbox(get_text_di(texts, "visualize_satellite_in_pdf_labelÔÇª
339 | / ÔÇª     if inputs['project_details'].get('visualize_roof_in_pdf_satellite') and st.session_state.satellite_image_url_di:
340 | | ÔÇª         if not inputs['project_details'].get('satellite_image_base64_data') or \
341 | | ÔÇª            inputs['project_details'].get('satellite_image_for_pdf_url_source') != st.session_state.satellite_image_url_di:
    | |____________________________________________________________________________________________________________________________^
342 |   ÔÇª             try:
343 |   ÔÇª                 with st.spinner("Lade Satellitenbild f├╝r PDF..."): # Spinner ist gut f├╝r UI-Feedback
    |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
   --> data_input.py:362:26
    |
360 | ÔÇª     # else: st.info(get_text_di(texts, "satellite_image_no_coords_info", "Keine (g├╝ltigen) Koordinaten f├╝r Satellitenbild...")) # OÔÇª
361 | ÔÇª     col_contact1,col_contact2,col_contact3=st.columns(3)
362 | ÔÇª     with col_contact1:inputs['customer_data']['email']=st.text_input(get_text_di(texts,"email_label","E-Mail"),value=str(inputs['cuÔÇª
    |                        ^
363 | ÔÇª     with col_contact2:inputs['customer_data']['phone_landline']=st.text_input(get_text_di(texts,"phone_landline_label","Telefon (FeÔÇª
364 | ÔÇª     with col_contact3:inputs['customer_data']['phone_mobile']=st.text_input(get_text_di(texts,"phone_mobile_label","Telefon (Mobil)ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:363:26
    |
361 | ÔÇª     col_contact1,col_contact2,col_contact3=st.columns(3)
362 | ÔÇª     with col_contact1:inputs['customer_data']['email']=st.text_input(get_text_di(texts,"email_label","E-Mail"),value=str(inputs['cuÔÇª
363 | ÔÇª     with col_contact2:inputs['customer_data']['phone_landline']=st.text_input(get_text_di(texts,"phone_landline_label","Telefon (FeÔÇª
    |                        ^
364 | ÔÇª     with col_contact3:inputs['customer_data']['phone_mobile']=st.text_input(get_text_di(texts,"phone_mobile_label","Telefon (Mobil)ÔÇª
365 | ÔÇª     inputs['customer_data']['income_tax_rate_percent']=st.number_input(label=get_text_di(texts,"income_tax_rate_label","ESt.-Satz (ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:364:26
    |
362 | ÔÇª     with col_contact1:inputs['customer_data']['email']=st.text_input(get_text_di(texts,"email_label","E-Mail"),value=str(inputs['cuÔÇª
363 | ÔÇª     with col_contact2:inputs['customer_data']['phone_landline']=st.text_input(get_text_di(texts,"phone_landline_label","Telefon (FeÔÇª
364 | ÔÇª     with col_contact3:inputs['customer_data']['phone_mobile']=st.text_input(get_text_di(texts,"phone_mobile_label","Telefon (Mobil)ÔÇª
    |                        ^
365 | ÔÇª     inputs['customer_data']['income_tax_rate_percent']=st.number_input(label=get_text_di(texts,"income_tax_rate_label","ESt.-Satz (ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:370:62
    |
368 |     #      aber verwendet `inputs` anstelle von `st.session_state.project_data` direkt und stabile Keys) ...
369 |     st.subheader(get_text_di(texts,"consumption_analysis_header","Bedarfsanalyse"))
370 |     if 'consumption_data_expanded_di' not in st.session_state: st.session_state.consumption_data_expanded_di = False
    |                                                              ^
371 |     with st.expander(get_text_di(texts,"consumption_costs_header","Verbr├ñuche und Kosten"),expanded=st.session_state.consumption_dataÔÇª
372 |         col_cons_hh,col_cons_heat=st.columns(2)
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:395:59
    |
394 |     st.subheader(get_text_di(texts,"building_data_header","Daten des Geb├ñudes"))
395 |     if 'building_data_expanded_di' not in st.session_state: st.session_state.building_data_expanded_di = False
    |                                                           ^
396 |     with st.expander(get_text_di(texts,"building_data_header","Daten des Geb├ñudes"),expanded=st.session_state.building_data_expanded_ÔÇª
397 |         col_build1,col_build2=st.columns(2)
    |

F841 Local variable `build_year_val` is assigned to but never used
   --> data_input.py:400:13
    |
398 | ÔÇª     with col_build1:
399 | ÔÇª         inputs['project_details']['build_year']=st.number_input(label=get_text_di(texts,"build_year_label","Baujahr des Hauses"),miÔÇª
400 | ÔÇª         build_year_val=inputs['project_details']['build_year']
    |           ^^^^^^^^^^^^^^
401 | ÔÇª         # if build_year_val<1960:st.warning(get_text_di(texts,"build_year_warning_old"," Z├ñhlerschrank/Hauselektrik pr├╝fen.")) # OpÔÇª
402 | ÔÇª         # elif build_year_val<2000:st.info(get_text_di(texts,"build_year_info_mid","Ôä╣ Z├ñhlerschrank/Hauselektrik pr├╝fen.")) # OptioÔÇª
    |
help: Remove assignment to unused variable `build_year_val`

E701 Multiple statements on one line (colon)
   --> data_input.py:408:74
    |
406 | ÔÇª         roof_type_options_with_ps=[please_select_text]+DACHART_OPTIONS
407 | ÔÇª         inputs['project_details']['roof_type']=st.selectbox(get_text_di(texts,"roof_type_label","Dachart"),options=roof_type_optionÔÇª
408 | ÔÇª         if inputs['project_details']['roof_type']==please_select_text:inputs['project_details']['roof_type']=None
    |                                                                        ^
409 | ÔÇª     col_build3,col_build4=st.columns(2)
410 | ÔÇª     with col_build3:
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:414:83
    |
412 | ÔÇª     roof_covering_options_with_ps=[please_select_text]+DACHDECKUNG_OPTIONS
413 | ÔÇª     inputs['project_details']['roof_covering_type']=st.selectbox(get_text_di(texts,"roof_covering_label","Dachdeckungsart"),optionsÔÇª
414 | ÔÇª     if inputs['project_details']['roof_covering_type']==please_select_text:inputs['project_details']['roof_covering_type']=None
    |                                                                             ^
415 | ÔÇª     # if inputs['project_details']['roof_covering_type']and inputs['project_details']['roof_covering_type']in['Schiefer','Bitumen',ÔÇª
416 | ÔÇª     # elif inputs['project_details']['roof_covering_type']:st.success(get_text_di(texts,"roof_covering_info"," Dachbelegung problemÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:417:24
    |
415 | ÔÇª         # if inputs['project_details']['roof_covering_type']and inputs['project_details']['roof_covering_type']in['Schiefer','BitumÔÇª
416 | ÔÇª         # elif inputs['project_details']['roof_covering_type']:st.success(get_text_di(texts,"roof_covering_info"," Dachbelegung proÔÇª
417 | ÔÇª     with col_build4:inputs['project_details']['free_roof_area_sqm']=st.number_input(label=get_text_di(texts,"free_roof_area_label",ÔÇª
    |                      ^
418 | ÔÇª     col_build5,col_build6=st.columns(2)
419 | ÔÇª     with col_build5:
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:423:81
    |
421 | ÔÇª         default_orientation=inputs['project_details'].get('roof_orientation',please_select_text)
422 | ÔÇª         inputs['project_details']['roof_orientation']=st.selectbox(get_text_di(texts,"roof_orientation_label","Dachausrichtung"),opÔÇª
423 | ÔÇª         if inputs['project_details']['roof_orientation']==please_select_text:inputs['project_details']['roof_orientation']=None
    |                                                                               ^
424 | ÔÇª     with col_build6:inputs['project_details']['roof_inclination_deg']=st.number_input(label=get_text_di(texts,"roof_inclination_labÔÇª
425 | ÔÇª     inputs['project_details']['building_height_gt_7m']=st.checkbox(get_text_di(texts,"building_height_gt_7m_label","Geb├ñudeh├Âhe > 7ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:424:24
    |
422 | ÔÇª         inputs['project_details']['roof_orientation']=st.selectbox(get_text_di(texts,"roof_orientation_label","Dachausrichtung"),opÔÇª
423 | ÔÇª         if inputs['project_details']['roof_orientation']==please_select_text:inputs['project_details']['roof_orientation']=None
424 | ÔÇª     with col_build6:inputs['project_details']['roof_inclination_deg']=st.number_input(label=get_text_di(texts,"roof_inclination_labÔÇª
    |                      ^
425 | ÔÇª     inputs['project_details']['building_height_gt_7m']=st.checkbox(get_text_di(texts,"building_height_gt_7m_label","Geb├ñudeh├Âhe > 7ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> data_input.py:824:59
    |
823 |     st.subheader(get_text_di(texts,"economic_data_header","Wirtschaftliche Parameter"))
824 |     if 'economic_data_expanded_di' not in st.session_state: st.session_state.economic_data_expanded_di = False
    |                                                           ^
825 |     with st.expander(get_text_di(texts,"economic_data_header","Wirtschaftliche Parameter"),expanded=st.session_state.economic_data_exÔÇª
826 |         inputs['economic_data']['simulation_period_years']=st.number_input(label=get_text_di(texts,"simulation_period_label_short","SÔÇª
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> database.py:39:9
   |
37 |       try:
38 |           conn = sqlite3.connect(DB_PATH)
39 | /         try:
40 | |             conn.row_factory = sqlite3.Row  # komfortabler Zugriff per Spaltenname
41 | |         except Exception:
42 | |             pass
   | |________________^
43 |           return conn
44 |       except Exception as e:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

RET504 Unnecessary assignment to `_conn` before `return` statement
  --> database.py:57:16
   |
55 |     try:
56 |         _conn = conn or get_db_connection()
57 |         return _conn
   |                ^^^^^
58 |     except Exception as e:
59 |         print(f"DB: init_db Fehler: {e}")
   |
help: Remove unnecessary assignment

F811 Redefinition of unused `get_db_connection` from line 31
   --> database.py:298:5
    |
296 | }
297 |
298 | def get_db_connection() -> sqlite3.Connection | None:
    |     ^^^^^^^^^^^^^^^^^ `get_db_connection` redefined here
299 |     try:
300 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |
   ::: database.py:31:5
    |
 30 | # --- Minimale DB-Helfer (Kompatibilit├ñt) ---
 31 | def get_db_connection() -> sqlite3.Connection | None:
    |     ----------------- previous definition of `get_db_connection` here
 32 |     """Stellt eine SQLite-Verbindung zur Hauptdatenbank her (Row-Factory aktiviert).
    |
help: Remove definition: `get_db_connection`

E701 Multiple statements on one line (colon)
   --> database.py:300:40
    |
298 | def get_db_connection() -> sqlite3.Connection | None:
299 |     try:
300 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |                                        ^
301 |         conn = sqlite3.connect(DB_PATH)
302 |         conn.row_factory = sqlite3.Row
    |

E701 Multiple statements on one line (colon)
   --> database.py:304:30
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                              ^
    |

E702 Multiple statements on one line (semicolon)
   --> database.py:304:61
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                             ^
    |

E702 Multiple statements on one line (semicolon)
   --> database.py:304:84
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                                                    ^
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> database.py:453:13
    |
451 |           # Falls nicht gefunden, versuche case-insensitive Suche ohne Datennamen zu ├ñndern
452 |           for existing_brand, logo_data in logos.items():
453 | /             if existing_brand and normalized_brand.lower() == existing_brand.lower():
454 | |                 if isinstance(logo_data, str) and logo_data.strip():
    | |____________________________________________________________________^
455 |                       return logo_data
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> database.py:572:42
    |
570 |         validation_results["checks_performed"].append("Verwaiste Company Documents")
571 |         cursor.execute("""
572 |             SELECT cd.id, cd.display_name 
    |                                          ^
573 |             FROM company_documents cd 
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database.py:573:38
    |
571 |         cursor.execute("""
572 |             SELECT cd.id, cd.display_name 
573 |             FROM company_documents cd 
    |                                      ^
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
575 |             WHERE c.id IS NULL
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database.py:574:58
    |
572 |             SELECT cd.id, cd.display_name 
573 |             FROM company_documents cd 
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |                                                          ^
575 |             WHERE c.id IS NULL
576 |         """)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database.py:585:49
    |
583 |         validation_results["checks_performed"].append("Produkt-Duplikate")
584 |         cursor.execute("""
585 |             SELECT model_name, COUNT(*) as count 
    |                                                 ^
586 |             FROM products 
587 |             GROUP BY model_name 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database.py:586:26
    |
584 |         cursor.execute("""
585 |             SELECT model_name, COUNT(*) as count 
586 |             FROM products 
    |                          ^
587 |             GROUP BY model_name 
588 |             HAVING COUNT(*) > 1
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database.py:587:32
    |
585 |             SELECT model_name, COUNT(*) as count 
586 |             FROM products 
587 |             GROUP BY model_name 
    |                                ^
588 |             HAVING COUNT(*) > 1
589 |         """)
    |
help: Remove trailing whitespace

C401 Unnecessary generator (rewrite as a set comprehension)
   --> database.py:705:20
    |
703 |         cursor = conn.cursor()
704 |         cursor.execute("SELECT absolute_file_path FROM company_documents")
705 |         db_files = set(row['absolute_file_path'] for row in cursor.fetchall())
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
706 |         conn.close()
    |
help: Rewrite as a set comprehension

B007 Loop control variable `dirs` not used within loop body
   --> database.py:709:19
    |
708 |         # Alle physischen Dateien durchgehen
709 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR):
    |                   ^^^^
710 |             for file in files:
711 |                 cleanup_results["files_checked"] += 1
    |
help: Rename unused `dirs` to `_dirs`

B007 Loop control variable `files` not used within loop body
   --> database.py:725:25
    |
724 |         # Leere Verzeichnisse entfernen
725 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR, topdown=False):
    |                         ^^^^^
726 |             for dir_name in dirs:
727 |                 dir_path = os.path.join(root, dir_name)
    |
help: Rename unused `files` to `_files`

E402 Module level import not at top of file
   --> database.py:762:1
    |
760 |         print(f"DB Fehler reset_database: {e}")
761 |     return False
762 | import os
    | ^^^^^^^^^
763 | import sqlite3
764 | from typing import Any
    |

E402 Module level import not at top of file
   --> database.py:763:1
    |
761 |     return False
762 | import os
763 | import sqlite3
    | ^^^^^^^^^^^^^^
764 | from typing import Any
    |

E402 Module level import not at top of file
   --> database.py:764:1
    |
762 | import os
763 | import sqlite3
764 | from typing import Any
    | ^^^^^^^^^^^^^^^^^^^^^^
765 |
766 | DB_SCHEMA_VERSION = 14
    |

F811 Redefinition of unused `init_db` from line 48
   --> database.py:913:5
    |
911 |             raise
912 |
913 | def init_db():
    |     ^^^^^^^ `init_db` redefined here
914 |     conn = get_db_connection()
915 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |
   ::: database.py:48:5
    |
 46 |         return None
 47 |
 48 | def init_db(conn: sqlite3.Connection | None = None) -> sqlite3.Connection | None:
    |     ------- previous definition of `init_db` here
 49 |     """Optionale Initialisierung. Gibt eine Verbindung zur├╝ck.
    |
help: Remove definition: `init_db`

E701 Multiple statements on one line (colon)
   --> database.py:915:20
    |
913 | def init_db():
914 |     conn = get_db_connection()
915 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |                    ^
916 |     try:
917 |         cursor = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> database.py:915:88
    |
913 | def init_db():
914 |     conn = get_db_connection()
915 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |                                                                                        ^
916 |     try:
917 |         cursor = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> database.py:934:35
    |
932 |             except Exception as _:
933 |                 pass
934 |             current_db_version = 1; print("DB: Schema v1 angewendet.")
    |                                   ^
935 |         elif current_db_version == 1:
936 |             # Platzhalter f├╝r zuk├╝nftige Migrationen von v1 -> v2
    |

E702 Multiple statements on one line (semicolon)
   --> database.py:948:35
    |
946 |             except Exception as _:
947 |                 pass
948 |             current_db_version = 2; print("DB: Schema v2 angewendet.")
    |                                   ^
949 |         if current_db_version < 12:
950 |             _create_companies_table_v12(conn)
    |

E702 Multiple statements on one line (semicolon)
    --> database.py:1011:36
     |
1009 |             except Exception as _:
1010 |                 pass
1011 |             current_db_version = 13; print("DB: Schema v13 angewendet.")
     |                                    ^
1012 |         if current_db_version < 14:
1013 |             _create_company_templates_tables_v14(conn)
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1021:36
     |
1019 |             except Exception as _:
1020 |                 pass
1021 |             current_db_version = 14; print("DB: Schema v14 angewendet (Firmenspezifische Angebotsvorlagen).")
     |                                    ^
1022 |
1023 |         # Stelle sicher, dass die SQLite user_version am Ende exakt dem Code-Schema entspricht
     |

E701 Multiple statements on one line (colon)
    --> database.py:1030:51
     |
1028 |             pass
1029 |
1030 |         if current_db_version == DB_SCHEMA_VERSION: print("DB: Schema ist aktuell.")
     |                                                   ^
1031 |         else: print(f"DB WARNUNG: Diskrepanz user_version ({current_db_version}) vs Code ({DB_SCHEMA_VERSION}).")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1031:13
     |
1030 |         if current_db_version == DB_SCHEMA_VERSION: print("DB: Schema ist aktuell.")
1031 |         else: print(f"DB WARNUNG: Diskrepanz user_version ({current_db_version}) vs Code ({DB_SCHEMA_VERSION}).")
     |             ^
1032 |
1033 |         for key, default_value in INITIAL_ADMIN_SETTINGS.items():
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1042:22
     |
1040 |                      cursor.execute("INSERT INTO admin_settings (key, value, last_modified) VALUES (?, ?, CURRENT_TIMESTAMP)", (key,ÔÇª
1041 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1042 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
     |                      ^
1043 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
1044 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1043:26
     |
1041 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1042 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1043 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                          ^
1044 |     finally:
1045 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1043:71
     |
1041 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1042 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1043 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                                                                       ^
1044 |     finally:
1045 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1043:94
     |
1041 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1042 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1043 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                                                                                              ^
1044 |     finally:
1045 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1045:16
     |
1043 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
1044 |     finally:
1045 |         if conn: conn.close()
     |                ^
1046 |
1047 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |

F811 Redefinition of unused `load_admin_setting` from line 407
    --> database.py:1047:5
     |
1045 |         if conn: conn.close()
1046 |
1047 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |     ^^^^^^^^^^^^^^^^^^ `load_admin_setting` redefined here
1048 |     conn = get_db_connection()
1049 |     if conn is None: return default
     |
    ::: database.py:407:5
     |
 405 |         conn.close()
 406 |
 407 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |     ------------------ previous definition of `load_admin_setting` here
 408 |     conn = get_db_connection()
 409 |     if not conn:
     |
help: Remove definition: `load_admin_setting`

E701 Multiple statements on one line (colon)
    --> database.py:1049:20
     |
1047 | def load_admin_setting(key: str, default: Any = None) -> Any:
1048 |     conn = get_db_connection()
1049 |     if conn is None: return default
     |                    ^
1050 |     try:
1051 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1057:20
     |
1055 |             value_str = row['value']
1056 |             if isinstance(value_str, str) and value_str.strip().startswith(('[', '{')) and value_str.strip().endswith((']', '}')):
1057 |                 try: return json.loads(value_str)
     |                    ^
1058 |                 except json.JSONDecodeError: pass
1059 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
     |

E701 Multiple statements on one line (colon)
    --> database.py:1058:44
     |
1056 |             if isinstance(value_str, str) and value_str.strip().startswith(('[', '{')) and value_str.strip().endswith((']', '}')):
1057 |                 try: return json.loads(value_str)
1058 |                 except json.JSONDecodeError: pass
     |                                            ^
1059 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1060 |                 try: return bool(int(value_str))
     |

E701 Multiple statements on one line (colon)
    --> database.py:1060:20
     |
1058 |                 except json.JSONDecodeError: pass
1059 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1060 |                 try: return bool(int(value_str))
     |                    ^
1061 |                 except: pass
1062 |             if key == 'active_company_id':
     |

E722 Do not use bare `except`
    --> database.py:1061:17
     |
1059 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1060 |                 try: return bool(int(value_str))
1061 |                 except: pass
     |                 ^^^^^^
1062 |             if key == 'active_company_id':
1063 |                 try: return int(value_str) if value_str is not None else None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1061:23
     |
1059 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1060 |                 try: return bool(int(value_str))
1061 |                 except: pass
     |                       ^
1062 |             if key == 'active_company_id':
1063 |                 try: return int(value_str) if value_str is not None else None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1063:20
     |
1061 |                 except: pass
1062 |             if key == 'active_company_id':
1063 |                 try: return int(value_str) if value_str is not None else None
     |                    ^
1064 |                 except: return default
1065 |             return value_str
     |

E722 Do not use bare `except`
    --> database.py:1064:17
     |
1062 |             if key == 'active_company_id':
1063 |                 try: return int(value_str) if value_str is not None else None
1064 |                 except: return default
     |                 ^^^^^^
1065 |             return value_str
1066 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1064:23
     |
1062 |             if key == 'active_company_id':
1063 |                 try: return int(value_str) if value_str is not None else None
1064 |                 except: return default
     |                       ^
1065 |             return value_str
1066 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1066:71
     |
1064 |                 except: return default
1065 |             return value_str
1066 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |                                                                       ^
1067 |         return default
1068 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |

E701 Multiple statements on one line (colon)
    --> database.py:1068:26
     |
1066 |         if key == 'active_company_id' and row and row['value'] is None: return None
1067 |         return default
1068 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |                          ^
1069 |     finally:
1070 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1068:79
     |
1066 |         if key == 'active_company_id' and row and row['value'] is None: return None
1067 |         return default
1068 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |                                                                               ^
1069 |     finally:
1070 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1070:16
     |
1068 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
1069 |     finally:
1070 |         if conn: conn.close()
     |                ^
1071 |
1072 | def save_admin_setting(key: str, value: Any) -> bool:
     |

F811 Redefinition of unused `save_admin_setting` from line 391
    --> database.py:1072:5
     |
1070 |         if conn: conn.close()
1071 |
1072 | def save_admin_setting(key: str, value: Any) -> bool:
     |     ^^^^^^^^^^^^^^^^^^ `save_admin_setting` redefined here
1073 |     conn = get_db_connection()
1074 |     if conn is None:
     |
    ::: database.py:391:5
     |
 389 |         pass
 390 |
 391 | def save_admin_setting(key: str, value: Any) -> bool:
     |     ------------------ previous definition of `save_admin_setting` here
 392 |     conn = get_db_connection()
 393 |     if not conn:
     |
help: Remove definition: `save_admin_setting`

W291 Trailing whitespace
    --> database.py:1088:63
     |
1087 |         sql_query = """
1088 |         INSERT INTO admin_settings (key, value, last_modified) 
     |                                                               ^
1089 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1090 |         ON CONFLICT(key) DO UPDATE SET 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1089:41
     |
1087 |         sql_query = """
1088 |         INSERT INTO admin_settings (key, value, last_modified) 
1089 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
     |                                         ^
1090 |         ON CONFLICT(key) DO UPDATE SET 
1091 |         value=excluded.value, 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1090:39
     |
1088 |         INSERT INTO admin_settings (key, value, last_modified) 
1089 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1090 |         ON CONFLICT(key) DO UPDATE SET 
     |                                       ^
1091 |         value=excluded.value, 
1092 |         last_modified=CURRENT_TIMESTAMP 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1091:30
     |
1089 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1090 |         ON CONFLICT(key) DO UPDATE SET 
1091 |         value=excluded.value, 
     |                              ^
1092 |         last_modified=CURRENT_TIMESTAMP 
1093 |         """
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1092:40
     |
1090 |         ON CONFLICT(key) DO UPDATE SET 
1091 |         value=excluded.value, 
1092 |         last_modified=CURRENT_TIMESTAMP 
     |                                        ^
1093 |         """
1094 |         # Standardisierung der Einr├╝ckung, um m├Âgliche Probleme zu beheben
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database.py:1107:16
     |
1105 |         return False
1106 |     finally:
1107 |         if conn: conn.close()
     |                ^
1108 |
1109 | def add_pdf_template(template_type: str, name: str, content: str | None=None, image_data: bytes | None=None) -> int | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1111:16
     |
1109 | def add_pdf_template(template_type: str, name: str, content: str | None=None, image_data: bytes | None=None) -> int | None:
1110 |     conn = get_db_connection()
1111 |     if not conn: return None
     |                ^
1112 |     now = datetime.now().isoformat()
1113 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1117:22
     |
1115 |         cursor.execute("INSERT INTO pdf_templates (template_type, name, content, image_data, created_at, updated_at) VALUES (?, ?, ?ÔÇª
1116 |                        (template_type, name, content, image_data, now, now))
1117 |         conn.commit(); return cursor.lastrowid
     |                      ^
1118 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
1119 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1118:26
     |
1116 |                        (template_type, name, content, image_data, now, now))
1117 |         conn.commit(); return cursor.lastrowid
1118 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                          ^
1119 |     finally:
1120 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1118:69
     |
1116 |                        (template_type, name, content, image_data, now, now))
1117 |         conn.commit(); return cursor.lastrowid
1118 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                                                                     ^
1119 |     finally:
1120 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1118:86
     |
1116 |                        (template_type, name, content, image_data, now, now))
1117 |         conn.commit(); return cursor.lastrowid
1118 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                                                                                      ^
1119 |     finally:
1120 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1120:16
     |
1118 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
1119 |     finally:
1120 |         if conn: conn.close()
     |                ^
1121 |
1122 | def list_pdf_templates(template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1124:16
     |
1122 | def list_pdf_templates(template_type: str | None = None) -> list[dict[str, Any]]:
1123 |     conn = get_db_connection()
1124 |     if not conn: return []
     |                ^
1125 |     try:
1126 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1132:26
     |
1130 |             cursor.execute("SELECT * FROM pdf_templates ORDER BY template_type, name COLLATE NOCASE")
1131 |         return [dict(row) for row in cursor.fetchall()]
1132 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
     |                          ^
1133 |     finally:
1134 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1132:71
     |
1130 |             cursor.execute("SELECT * FROM pdf_templates ORDER BY template_type, name COLLATE NOCASE")
1131 |         return [dict(row) for row in cursor.fetchall()]
1132 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
     |                                                                       ^
1133 |     finally:
1134 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1134:16
     |
1132 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
1133 |     finally:
1134 |         if conn: conn.close()
     |                ^
1135 |
1136 | def get_pdf_template(template_id: int) -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1138:16
     |
1136 | def get_pdf_template(template_id: int) -> dict[str, Any] | None:
1137 |     conn = get_db_connection()
1138 |     if not conn: return None
     |                ^
1139 |     try:
1140 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1142:32
     |
1140 |         cursor = conn.cursor()
1141 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1142 |         row = cursor.fetchone(); return dict(row) if row else None
     |                                ^
1143 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
1144 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1143:26
     |
1141 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1142 |         row = cursor.fetchone(); return dict(row) if row else None
1143 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
     |                          ^
1144 |     finally:
1145 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1143:69
     |
1141 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1142 |         row = cursor.fetchone(); return dict(row) if row else None
1143 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
     |                                                                     ^
1144 |     finally:
1145 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1145:16
     |
1143 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
1144 |     finally:
1145 |         if conn: conn.close()
     |                ^
1146 |
1147 | def update_pdf_template(template_id: int, name: str, content: str | None=None, image_data: bytes | None=None) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1149:16
     |
1147 | def update_pdf_template(template_id: int, name: str, content: str | None=None, image_data: bytes | None=None) -> bool:
1148 |     conn = get_db_connection()
1149 |     if not conn: return False
     |                ^
1150 |     now = datetime.now().isoformat()
1151 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1155:22
     |
1153 |         cursor.execute("UPDATE pdf_templates SET name=?, content=?, image_data=?, updated_at=? WHERE id=?",
1154 |                        (name, content, image_data, now, template_id))
1155 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1156 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
1157 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1156:26
     |
1154 |                        (name, content, image_data, now, template_id))
1155 |         conn.commit(); return cursor.rowcount > 0
1156 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                          ^
1157 |     finally:
1158 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1156:72
     |
1154 |                        (name, content, image_data, now, template_id))
1155 |         conn.commit(); return cursor.rowcount > 0
1156 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                                                                        ^
1157 |     finally:
1158 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1156:89
     |
1154 |                        (name, content, image_data, now, template_id))
1155 |         conn.commit(); return cursor.rowcount > 0
1156 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                                                                                         ^
1157 |     finally:
1158 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1158:16
     |
1156 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
1157 |     finally:
1158 |         if conn: conn.close()
     |                ^
1159 |
1160 | def delete_pdf_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1162:16
     |
1160 | def delete_pdf_template(template_id: int) -> bool:
1161 |     conn = get_db_connection()
1162 |     if not conn: return False
     |                ^
1163 |     try:
1164 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1166:22
     |
1164 |         cursor = conn.cursor()
1165 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1166 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1167 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
1168 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1167:26
     |
1165 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1166 |         conn.commit(); return cursor.rowcount > 0
1167 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                          ^
1168 |     finally:
1169 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1167:72
     |
1165 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1166 |         conn.commit(); return cursor.rowcount > 0
1167 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                                                                        ^
1168 |     finally:
1169 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1167:89
     |
1165 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1166 |         conn.commit(); return cursor.rowcount > 0
1167 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                                                                                         ^
1168 |     finally:
1169 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1169:16
     |
1167 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
1168 |     finally:
1169 |         if conn: conn.close()
     |                ^
1170 |
1171 | COMPANY_DOCS_BASE_DIR = os.path.join(DATA_DIR, "company_docs")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1173:8
     |
1171 | COMPANY_DOCS_BASE_DIR = os.path.join(DATA_DIR, "company_docs")
1172 | if not os.path.exists(COMPANY_DOCS_BASE_DIR):
1173 |     try: os.makedirs(COMPANY_DOCS_BASE_DIR)
     |        ^
1174 |     except OSError as e: print(f"DB FEHLER Erstellen Firmen-Doc-Verzeichnis: {e}")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1174:24
     |
1172 | if not os.path.exists(COMPANY_DOCS_BASE_DIR):
1173 |     try: os.makedirs(COMPANY_DOCS_BASE_DIR)
1174 |     except OSError as e: print(f"DB FEHLER Erstellen Firmen-Doc-Verzeichnis: {e}")
     |                        ^
1175 |
1176 | def add_company(company_data: dict[str, Any]) -> int | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1187:16
     |
1185 |     if not company_name_to_add or not str(company_name_to_add).strip():
1186 |         print(f"DB FEHLER: Firmenname ist Pflicht und darf nicht leer sein. Empfangen: '{company_name_to_add}'")
1187 |         if conn: conn.close()
     |                ^
1188 |         return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1202:20
     |
1200 | ÔÇª     if existing_company_by_name_nocase:
1201 | ÔÇª         print(f"DB HINWEIS (Vorab-Pr├╝fung): Firma ├ñhnlich zu '{company_name_to_add_stripped}' (case-insensitive) existiert: ID {exÔÇª
1202 | ÔÇª         if conn: conn.close() # Schlie├ƒe Verbindung hier, da Funktion beendet wird
     |                  ^
1203 | ÔÇª         return None
1204 | ÔÇª     # else: # Bereits im Log
     |

E701 Multiple statements on one line (colon)
    --> database.py:1208:16
     |
1206 |     except Exception as e_check:
1207 |         print(f"DB FEHLER bei Vorab-Pr├╝fung in add_company: {e_check}")
1208 |         if conn: conn.close()
     |                ^
1209 |         return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1267:16
     |
1265 |         return None
1266 |     finally:
1267 |         if conn: conn.close() # Sicherstellen, dass die Verbindung immer geschlossen wird
     |                ^
1268 |
1269 | def list_companies() -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1271:16
     |
1269 | def list_companies() -> list[dict[str, Any]]:
1270 |     conn = get_db_connection()
1271 |     if not conn: return []
     |                ^
1272 |     try:
1273 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1276:26
     |
1274 |         cursor.execute("SELECT * FROM companies ORDER BY name COLLATE NOCASE")
1275 |         return [dict(row) for row in cursor.fetchall()]
1276 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
     |                          ^
1277 |     finally:
1278 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1276:67
     |
1274 |         cursor.execute("SELECT * FROM companies ORDER BY name COLLATE NOCASE")
1275 |         return [dict(row) for row in cursor.fetchall()]
1276 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
     |                                                                   ^
1277 |     finally:
1278 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1278:16
     |
1276 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
1277 |     finally:
1278 |         if conn: conn.close()
     |                ^
1279 |
1280 | def get_company(company_id: int) -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1282:16
     |
1280 | def get_company(company_id: int) -> dict[str, Any] | None:
1281 |     conn = get_db_connection()
1282 |     if not conn: return None
     |                ^
1283 |     try:
1284 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1286:32
     |
1284 |         cursor = conn.cursor()
1285 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1286 |         row = cursor.fetchone(); return dict(row) if row else None
     |                                ^
1287 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
1288 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1287:26
     |
1285 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1286 |         row = cursor.fetchone(); return dict(row) if row else None
1287 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
     |                          ^
1288 |     finally:
1289 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1287:83
     |
1285 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1286 |         row = cursor.fetchone(); return dict(row) if row else None
1287 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
     |                                                                                   ^
1288 |     finally:
1289 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1289:16
     |
1287 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
1288 |     finally:
1289 |         if conn: conn.close()
     |                ^
1290 |
1291 | def update_company(company_id: int, company_data: dict[str, Any]) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1293:16
     |
1291 | def update_company(company_id: int, company_data: dict[str, Any]) -> bool:
1292 |     conn = get_db_connection()
1293 |     if not conn: return False
     |                ^
1294 |     now_iso = datetime.now().isoformat()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1308:35
     |
1306 |         if key in allowed_fields_for_update:
1307 |             fields_to_set_parts.append(f"{key} = ?")
1308 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
     |                                   ^
1309 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
1310 |             else: values_for_set.append(val)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1309:38
     |
1307 |             fields_to_set_parts.append(f"{key} = ?")
1308 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
1309 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
     |                                      ^
1310 |             else: values_for_set.append(val)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1310:17
     |
1308 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
1309 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
1310 |             else: values_for_set.append(val)
     |                 ^
1311 |
1312 |     if not fields_to_set_parts: return False
     |

E701 Multiple statements on one line (colon)
    --> database.py:1312:31
     |
1310 |             else: values_for_set.append(val)
1311 |
1312 |     if not fields_to_set_parts: return False
     |                               ^
1313 |     values_for_set.append(company_id)
1314 |     stmt = f"UPDATE companies SET {', '.join(fields_to_set_parts)} WHERE id = ?"
     |

E701 Multiple statements on one line (colon)
    --> database.py:1325:43
     |
1323 |         conn.commit()
1324 |         return cursor.rowcount > 0
1325 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
     |                                           ^
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1327 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1325:117
     |
1323 |         conn.commit()
1324 |         return cursor.rowcount > 0
1325 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
     |                                                                                                                     ^
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1327 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1325:134
     |
1323 | ÔÇª
1324 | ÔÇª
1325 | ÔÇªhler update_company (ID {company_id}): {e_int}"); conn.rollback(); return False
     |                                                                   ^
1326 | ÔÇªpany_id}): {e}"); conn.rollback(); return False
1327 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> database.py:1326:26
     |
1324 |         return cursor.rowcount > 0
1325 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1327 |     finally:
1328 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1326:85
     |
1324 |         return cursor.rowcount > 0
1325 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                                                                                     ^
1327 |     finally:
1328 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1326:102
     |
1324 |         return cursor.rowcount > 0
1325 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                      ^
1327 |     finally:
1328 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1328:16
     |
1326 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1327 |     finally:
1328 |         if conn: conn.close()
     |                ^
1329 |
1330 | def delete_company(company_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1332:16
     |
1330 | def delete_company(company_id: int) -> bool:
1331 |     conn = get_db_connection()
1332 |     if not conn: return False
     |                ^
1333 |     try:
1334 |         docs_to_delete = list_company_documents(company_id)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1335:34
     |
1333 |     try:
1334 |         docs_to_delete = list_company_documents(company_id)
1335 |         for doc in docs_to_delete: delete_company_document(doc['id'])
     |                                  ^
1336 |         cursor = conn.cursor()
1337 |         cursor.execute("DELETE FROM companies WHERE id = ?", (company_id,))
     |

SIM105 Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
    --> database.py:1344:17
     |
1342 |               active_id = None
1343 |               if active_id_str is not None:
1344 | /                 try: active_id = int(active_id_str)
1345 | |                 except ValueError: pass
     | |_______________________________________^
1346 |
1347 |               if active_id == company_id: save_admin_setting('active_company_id', None)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError): ...`

E701 Multiple statements on one line (colon)
    --> database.py:1344:20
     |
1342 |             active_id = None
1343 |             if active_id_str is not None:
1344 |                 try: active_id = int(active_id_str)
     |                    ^
1345 |                 except ValueError: pass
     |

E701 Multiple statements on one line (colon)
    --> database.py:1345:34
     |
1343 |             if active_id_str is not None:
1344 |                 try: active_id = int(active_id_str)
1345 |                 except ValueError: pass
     |                                  ^
1346 |
1347 |             if active_id == company_id: save_admin_setting('active_company_id', None)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1347:39
     |
1345 |                 except ValueError: pass
1346 |
1347 |             if active_id == company_id: save_admin_setting('active_company_id', None)
     |                                       ^
1348 |             return True
1349 |         return False
     |

E701 Multiple statements on one line (colon)
    --> database.py:1350:26
     |
1348 |             return True
1349 |         return False
1350 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1351 |     finally:
1352 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1350:86
     |
1348 |             return True
1349 |         return False
1350 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                      ^
1351 |     finally:
1352 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1350:103
     |
1348 |             return True
1349 |         return False
1350 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                       ^
1351 |     finally:
1352 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1352:16
     |
1350 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
1351 |     finally:
1352 |         if conn: conn.close()
     |                ^
1353 |
1354 | def set_default_company(company_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1356:16
     |
1354 | def set_default_company(company_id: int) -> bool:
1355 |     conn = get_db_connection()
1356 |     if not conn: return False
     |                ^
1357 |     try:
1358 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1362:31
     |
1360 |         cursor.execute("UPDATE companies SET is_default = 1 WHERE id = ?", (company_id,))
1361 |         conn.commit()
1362 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
     |                               ^
1363 |         return False
1364 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |

E701 Multiple statements on one line (colon)
    --> database.py:1364:26
     |
1362 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1363 |         return False
1364 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1365 |     finally:
1366 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1364:91
     |
1362 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1363 |         return False
1364 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                           ^
1365 |     finally:
1366 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1364:108
     |
1362 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1363 |         return False
1364 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                            ^
1365 |     finally:
1366 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1366:16
     |
1364 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
1365 |     finally:
1366 |         if conn: conn.close()
     |                ^
1367 |
1368 | def get_active_company() -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1372:12
     |
1370 |     active_id = None
1371 |     if active_id_str is not None:
1372 |         try: active_id = int(active_id_str)
     |            ^
1373 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
1374 |     if active_id is not None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1373:39
     |
1371 |     if active_id_str is not None:
1372 |         try: active_id = int(active_id_str)
1373 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
     |                                       ^
1374 |     if active_id is not None:
1375 |         company_details = get_company(active_id)
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1373:115
     |
1371 |     if active_id_str is not None:
1372 |         try: active_id = int(active_id_str)
1373 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
     |                                                                                                                   ^
1374 |     if active_id is not None:
1375 |         company_details = get_company(active_id)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1376:27
     |
1374 |     if active_id is not None:
1375 |         company_details = get_company(active_id)
1376 |         if company_details: return company_details
     |                           ^
1377 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
1378 |     conn = get_db_connection()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1377:80
     |
1375 |         company_details = get_company(active_id)
1376 |         if company_details: return company_details
1377 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
     |                                                                                ^
1378 |     conn = get_db_connection()
1379 |     if not conn: return None
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1377:127
     |
1375 |         company_details = get_company(active_id)
1376 |         if company_details: return company_details
1377 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
     |                                                                                                                               ^
1378 |     conn = get_db_connection()
1379 |     if not conn: return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1379:16
     |
1377 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
1378 |     conn = get_db_connection()
1379 |     if not conn: return None
     |                ^
1380 |     try:
1381 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1388:26
     |
1386 |             save_admin_setting('active_company_id', default_company['id'])
1387 |             return default_company
1388 |     except Exception as e: print(f"DB Fehler get_active_company (Fallback): {e}")
     |                          ^
1389 |     finally:
1390 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1390:16
     |
1388 |     except Exception as e: print(f"DB Fehler get_active_company (Fallback): {e}")
1389 |     finally:
1390 |         if conn: conn.close()
     |                ^
1391 |     return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1395:16
     |
1393 | def add_company_document(company_id: int, display_name: str, document_type: str, original_filename: str, file_content_bytes: bytes) ÔÇª
1394 |     conn = get_db_connection()
1395 |     if not conn: return None
     |                ^
1396 |     if not display_name or not display_name.strip():
1397 |         print("DB FEHLER: display_name f├╝r add_company_document darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1401:12
     |
1399 |     company_specific_docs_dir = os.path.join(COMPANY_DOCS_BASE_DIR, str(company_id))
1400 |     if not os.path.exists(company_specific_docs_dir):
1401 |         try: os.makedirs(company_specific_docs_dir)
     |            ^
1402 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
1403 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
     |

E701 Multiple statements on one line (colon)
    --> database.py:1402:34
     |
1400 |     if not os.path.exists(company_specific_docs_dir):
1401 |         try: os.makedirs(company_specific_docs_dir)
1402 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
     |                                  ^
1403 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
1404 |     file_extension = os.path.splitext(original_filename)[1]
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1402:117
     |
1400 |     if not os.path.exists(company_specific_docs_dir):
1401 |         try: os.makedirs(company_specific_docs_dir)
1402 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
     |                                                                                                                     ^
1403 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
1404 |     file_extension = os.path.splitext(original_filename)[1]
     |

E701 Multiple statements on one line (colon)
    --> database.py:1410:52
     |
1408 |     absolute_path_on_disk = os.path.join(company_specific_docs_dir, final_safe_filename)
1409 |     try:
1410 |         with open(absolute_path_on_disk, "wb") as f: f.write(file_content_bytes)
     |                                                    ^
1411 |         cursor = conn.cursor()
1412 |         cursor.execute("""
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1416:22
     |
1414 |             VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP)
1415 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1416 |         conn.commit(); return cursor.lastrowid
     |                      ^
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |

E701 Multiple statements on one line (colon)
    --> database.py:1417:27
     |
1415 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1416 |         conn.commit(); return cursor.lastrowid
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
     |                           ^
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1419 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1417:115
     |
1415 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1416 |         conn.commit(); return cursor.lastrowid
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
     |                                                                                                                   ^
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1419 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1418:34
     |
1416 |         conn.commit(); return cursor.lastrowid
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                  ^
1419 |     finally:
1420 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1418:93
     |
1416 |         conn.commit(); return cursor.lastrowid
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                                                                             ^
1419 |     finally:
1420 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1418:110
     |
1416 |         conn.commit(); return cursor.lastrowid
1417 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                                                                                              ^
1419 |     finally:
1420 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1420:16
     |
1418 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1419 |     finally:
1420 |         if conn: conn.close()
     |                ^
1421 |
1422 | # === NEUE FUNKTIONEN F├£R FIRMENSPEZIFISCHE ANGEBOTSVORLAGEN ===
     |

E701 Multiple statements on one line (colon)
    --> database.py:1427:16
     |
1425 |     """F├╝gt eine firmenspezifische Textvorlage hinzu"""
1426 |     conn = get_db_connection()
1427 |     if not conn: return None
     |                ^
1428 |     if not name or not name.strip():
1429 |         print("DB FEHLER: name f├╝r add_company_text_template darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1444:16
     |
1442 |         return None
1443 |     finally:
1444 |         if conn: conn.close()
     |                ^
1445 |
1446 | def add_company_image_template(company_id: int, name: str, image_data: bytes, template_type: str = "title_image", original_filename:ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> database.py:1449:16
     |
1447 |     """F├╝gt eine firmenspezifische Bildvorlage hinzu"""
1448 |     conn = get_db_connection()
1449 |     if not conn: return None
     |                ^
1450 |     if not name or not name.strip():
1451 |         print("DB FEHLER: name f├╝r add_company_image_template darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database.py:1497:16
     |
1495 |         return None
1496 |     finally:
1497 |         if conn: conn.close()
     |                ^
1498 |
1499 | def list_company_text_templates(company_id: int, template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1502:16
     |
1500 |     """Listet alle firmenspezifischen Textvorlagen auf"""
1501 |     conn = get_db_connection()
1502 |     if not conn: return []
     |                ^
1503 |     try:
1504 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database.py:1507:92
     |
1505 |         if template_type:
1506 |             cursor.execute("""
1507 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
     |                                                                                            ^
1508 |                 FROM company_text_templates 
1509 |                 WHERE company_id = ? AND template_type = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1508:44
     |
1506 |             cursor.execute("""
1507 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
1508 |                 FROM company_text_templates 
     |                                            ^
1509 |                 WHERE company_id = ? AND template_type = ?
1510 |                 ORDER BY name COLLATE NOCASE
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1514:92
     |
1512 |         else:
1513 |             cursor.execute("""
1514 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
     |                                                                                            ^
1515 |                 FROM company_text_templates 
1516 |                 WHERE company_id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1515:44
     |
1513 |             cursor.execute("""
1514 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
1515 |                 FROM company_text_templates 
     |                                            ^
1516 |                 WHERE company_id = ?
1517 |                 ORDER BY template_type, name COLLATE NOCASE
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database.py:1525:16
     |
1523 |         return []
1524 |     finally:
1525 |         if conn: conn.close()
     |                ^
1526 |
1527 | def list_company_image_templates(company_id: int, template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1530:16
     |
1528 |     """Listet alle firmenspezifischen Bildvorlagen auf"""
1529 |     conn = get_db_connection()
1530 |     if not conn: return []
     |                ^
1531 |     try:
1532 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database.py:1535:94
     |
1533 |         if template_type:
1534 |             cursor.execute("""
1535 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
     |                                                                                              ^
1536 |                 FROM company_image_templates 
1537 |                 WHERE company_id = ? AND template_type = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1536:45
     |
1534 |             cursor.execute("""
1535 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
1536 |                 FROM company_image_templates 
     |                                             ^
1537 |                 WHERE company_id = ? AND template_type = ?
1538 |                 ORDER BY name COLLATE NOCASE
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1542:94
     |
1540 |         else:
1541 |             cursor.execute("""
1542 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
     |                                                                                              ^
1543 |                 FROM company_image_templates 
1544 |                 WHERE company_id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1543:45
     |
1541 |             cursor.execute("""
1542 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
1543 |                 FROM company_image_templates 
     |                                             ^
1544 |                 WHERE company_id = ?
1545 |                 ORDER BY template_type, name COLLATE NOCASE
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database.py:1559:16
     |
1557 |         return []
1558 |     finally:
1559 |         if conn: conn.close()
     |                ^
1560 |
1561 | def get_company_image_template_data(template_id: int) -> bytes | None:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1564:16
     |
1562 |     """L├ñdt die Bilddaten einer firmenspezifischen Vorlage"""
1563 |     conn = get_db_connection()
1564 |     if not conn: return None
     |                ^
1565 |     try:
1566 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1583:16
     |
1581 |         return None
1582 |     finally:
1583 |         if conn: conn.close()
     |                ^
1584 |
1585 | def delete_company_text_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1588:16
     |
1586 |     """L├Âscht eine firmenspezifische Textvorlage"""
1587 |     conn = get_db_connection()
1588 |     if not conn: return False
     |                ^
1589 |     try:
1590 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1599:16
     |
1597 |         return False
1598 |     finally:
1599 |         if conn: conn.close()
     |                ^
1600 |
1601 | def delete_company_image_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1604:16
     |
1602 |     """L├Âscht eine firmenspezifische Bildvorlage (inkl. Datei)"""
1603 |     conn = get_db_connection()
1604 |     if not conn: return False
     |                ^
1605 |     try:
1606 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1628:16
     |
1626 |         return False
1627 |     finally:
1628 |         if conn: conn.close()
     |                ^
1629 |
1630 | def update_company_text_template(template_id: int, name: str, content: str) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1633:16
     |
1631 |     """Aktualisiert eine firmenspezifische Textvorlage"""
1632 |     conn = get_db_connection()
1633 |     if not conn: return False
     |                ^
1634 |     try:
1635 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database.py:1637:42
     |
1635 |         cursor = conn.cursor()
1636 |         cursor.execute("""
1637 |             UPDATE company_text_templates 
     |                                          ^
1638 |             SET name = ?, content = ?, updated_at = CURRENT_TIMESTAMP 
1639 |             WHERE id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1638:70
     |
1636 |         cursor.execute("""
1637 |             UPDATE company_text_templates 
1638 |             SET name = ?, content = ?, updated_at = CURRENT_TIMESTAMP 
     |                                                                      ^
1639 |             WHERE id = ?
1640 |         """, (name.strip() if name else "", content or "", template_id))
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database.py:1648:16
     |
1646 |         return False
1647 |     finally:
1648 |         if conn: conn.close()
     |                ^
1649 |
1650 | def update_company_image_template(template_id: int, name: str) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1653:16
     |
1651 |     """Aktualisiert den Namen einer firmenspezifischen Bildvorlage"""
1652 |     conn = get_db_connection()
1653 |     if not conn: return False
     |                ^
1654 |     try:
1655 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database.py:1657:43
     |
1655 |         cursor = conn.cursor()
1656 |         cursor.execute("""
1657 |             UPDATE company_image_templates 
     |                                           ^
1658 |             SET name = ?, updated_at = CURRENT_TIMESTAMP 
1659 |             WHERE id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1658:57
     |
1656 |         cursor.execute("""
1657 |             UPDATE company_image_templates 
1658 |             SET name = ?, updated_at = CURRENT_TIMESTAMP 
     |                                                         ^
1659 |             WHERE id = ?
1660 |         """, (name.strip() if name else "", template_id))
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database.py:1668:16
     |
1666 |         return False
1667 |     finally:
1668 |         if conn: conn.close()
     |                ^
1669 |
1670 | def list_company_documents(company_id: int, doc_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1672:16
     |
1670 | def list_company_documents(company_id: int, doc_type: str | None = None) -> list[dict[str, Any]]:
1671 |     conn = get_db_connection()
1672 |     if not conn: return []
     |                ^
1673 |     try:
1674 |         cursor = conn.cursor()
     |

F821 Undefined name `Tuple`
    --> database.py:1676:17
     |
1674 | ÔÇª     cursor = conn.cursor()
1675 | ÔÇª     sql_query = "SELECT id, company_id, document_type, display_name, file_name, absolute_file_path as relative_db_path, uploaded_aÔÇª
1676 | ÔÇª     params: Tuple = (company_id,)    # <- Typisierung ├╝ber `Tuple`, nicht `Tuple`
     |               ^^^^^
1677 | ÔÇª     if doc_type:
1678 | ÔÇª         sql_query += " AND document_type = ?"
     |

E701 Multiple statements on one line (colon)
    --> database.py:1684:26
     |
1682 |         rows = cursor.fetchall()
1683 |         return [{**dict(row), 'absolute_file_path': os.path.join(COMPANY_DOCS_BASE_DIR, row['relative_db_path'])} for row in rows]
1684 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
     |                          ^
1685 |     finally:
1686 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1684:94
     |
1682 |         rows = cursor.fetchall()
1683 |         return [{**dict(row), 'absolute_file_path': os.path.join(COMPANY_DOCS_BASE_DIR, row['relative_db_path'])} for row in rows]
1684 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
     |                                                                                              ^
1685 |     finally:
1686 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1686:16
     |
1684 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
1685 |     finally:
1686 |         if conn: conn.close()
     |                ^
1687 |
1688 | def delete_company_document(document_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1690:16
     |
1688 | def delete_company_document(document_id: int) -> bool:
1689 |     conn = get_db_connection()
1690 |     if not conn: return False
     |                ^
1691 |     cursor = conn.cursor()
1692 |     cursor.execute("SELECT absolute_file_path as relative_db_path FROM company_documents WHERE id = ?", (document_id,))
     |

E701 Multiple statements on one line (colon)
    --> database.py:1694:15
     |
1692 |     cursor.execute("SELECT absolute_file_path as relative_db_path FROM company_documents WHERE id = ?", (document_id,))
1693 |     row = cursor.fetchone()
1694 |     if not row: return False
     |               ^
1695 |     relative_path_from_db = row['relative_db_path']
1696 |     actual_absolute_path_to_delete_on_disk = os.path.join(COMPANY_DOCS_BASE_DIR, relative_path_from_db)
     |

E701 Multiple statements on one line (colon)
    --> database.py:1703:77
     |
1701 |                 os.remove(actual_absolute_path_to_delete_on_disk)
1702 |                 parent_dir = os.path.dirname(actual_absolute_path_to_delete_on_disk)
1703 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
     |                                                                             ^
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1705 |         conn.commit(); return cursor.rowcount > 0
     |

E701 Multiple statements on one line (colon)
    --> database.py:1704:35
     |
1702 |                 parent_dir = os.path.dirname(actual_absolute_path_to_delete_on_disk)
1703 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
     |                                   ^
1705 |         conn.commit(); return cursor.rowcount > 0
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1705:22
     |
1703 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1705 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
1707 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database.py:1706:26
     |
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1705 |         conn.commit(); return cursor.rowcount > 0
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                          ^
1707 |     finally:
1708 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1706:96
     |
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1705 |         conn.commit(); return cursor.rowcount > 0
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                                                                                                ^
1707 |     finally:
1708 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database.py:1706:113
     |
1704 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1705 |         conn.commit(); return cursor.rowcount > 0
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                                                                                                                 ^
1707 |     finally:
1708 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database.py:1708:16
     |
1706 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
1707 |     finally:
1708 |         if conn: conn.close()
     |                ^
1709 |
1710 | def add_default_technique_for_company(company_id: int):
     |

W293 Blank line contains whitespace
    --> database.py:1747:1
     |
1745 |     """
1746 |     L├ñdt alle Dokumente einer Firma aus der Datenbank.
1747 |     
     | ^^^^
1748 |     Args:
1749 |         company_id (int): ID der Firma
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> database.py:1751:1
     |
1749 |         company_id (int): ID der Firma
1750 |         doc_type (str, optional): Dokumenttyp Filter
1751 |     
     | ^^^^
1752 |     Returns:
1753 |         List[Dict[str, Any]]: Liste der Dokumente
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> database.py:1781:77
     |
1780 |         cursor.execute('''
1781 |             SELECT id, first_name, last_name, email, phone, address, status, 
     |                                                                             ^
1782 |                    created_at, updated_at, notes, project_data
1783 |             FROM crm_customers 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1783:31
     |
1781 |             SELECT id, first_name, last_name, email, phone, address, status, 
1782 |                    created_at, updated_at, notes, project_data
1783 |             FROM crm_customers 
     |                               ^
1784 |             WHERE status = 'active' OR status IS NULL
1785 |             ORDER BY last_name, first_name
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> database.py:1861:1
     |
1859 |     """
1860 |     Aktualisiert einen Kunden in der Datenbank.
1861 |     
     | ^^^^
1862 |     Args:
1863 |         customer_id (int): ID des Kunden
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> database.py:1865:1
     |
1863 |         customer_id (int): ID des Kunden
1864 |         customer_data (Dict[str, Any]): Neue Kundendaten
1865 |     
     | ^^^^
1866 |     Returns:
1867 |         bool: True wenn erfolgreich
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> database.py:1876:29
     |
1874 |         cursor = conn.cursor()
1875 |         cursor.execute('''
1876 |             UPDATE customers 
     |                             ^
1877 |             SET salutation = ?, title = ?, first_name = ?, last_name = ?, company_name = ?,
1878 |                 address = ?, house_number = ?, zip_code = ?, city = ?, state = ?, region = ?,
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1934:77
     |
1933 |         cursor.execute('''
1934 |             SELECT id, first_name, last_name, email, phone, address, status, 
     |                                                                             ^
1935 |                    created_at, updated_at, notes, project_data
1936 |             FROM crm_customers 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database.py:1936:31
     |
1934 |             SELECT id, first_name, last_name, email, phone, address, status, 
1935 |                    created_at, updated_at, notes, project_data
1936 |             FROM crm_customers 
     |                               ^
1937 |             WHERE id = ?
1938 |         ''', (customer_id,))
     |
help: Remove trailing whitespace

RET504 Unnecessary assignment to `customer` before `return` statement
    --> database.py:1957:20
     |
1955 |                 'project_data': json.loads(row[10]) if row[10] else {}
1956 |             }
1957 |             return customer
     |                    ^^^^^^^^
1958 |
1959 |         return None
     |
help: Remove unnecessary assignment

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> database_backup.py:39:9
   |
37 |       try:
38 |           conn = sqlite3.connect(DB_PATH)
39 | /         try:
40 | |             conn.row_factory = sqlite3.Row  # komfortabler Zugriff per Spaltenname
41 | |         except Exception:
42 | |             pass
   | |________________^
43 |           return conn
44 |       except Exception as e:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

RET504 Unnecessary assignment to `_conn` before `return` statement
  --> database_backup.py:57:16
   |
55 |     try:
56 |         _conn = conn or get_db_connection()
57 |         return _conn
   |                ^^^^^
58 |     except Exception as e:
59 |         print(f"DB: init_db Fehler: {e}")
   |
help: Remove unnecessary assignment

F811 Redefinition of unused `get_db_connection` from line 31
   --> database_backup.py:298:5
    |
296 | }
297 |
298 | def get_db_connection() -> sqlite3.Connection | None:
    |     ^^^^^^^^^^^^^^^^^ `get_db_connection` redefined here
299 |     try:
300 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |
   ::: database_backup.py:31:5
    |
 30 | # --- Minimale DB-Helfer (Kompatibilit├ñt) ---
 31 | def get_db_connection() -> sqlite3.Connection | None:
    |     ----------------- previous definition of `get_db_connection` here
 32 |     """Stellt eine SQLite-Verbindung zur Hauptdatenbank her (Row-Factory aktiviert).
    |
help: Remove definition: `get_db_connection`

E701 Multiple statements on one line (colon)
   --> database_backup.py:300:40
    |
298 | def get_db_connection() -> sqlite3.Connection | None:
299 |     try:
300 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |                                        ^
301 |         conn = sqlite3.connect(DB_PATH)
302 |         conn.row_factory = sqlite3.Row
    |

E701 Multiple statements on one line (colon)
   --> database_backup.py:304:30
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                              ^
    |

E702 Multiple statements on one line (semicolon)
   --> database_backup.py:304:61
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                             ^
    |

E702 Multiple statements on one line (semicolon)
   --> database_backup.py:304:84
    |
302 |         conn.row_factory = sqlite3.Row
303 |         return conn
304 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                                                    ^
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> database_backup.py:453:13
    |
451 |           # Falls nicht gefunden, versuche case-insensitive Suche ohne Datennamen zu ├ñndern
452 |           for existing_brand, logo_data in logos.items():
453 | /             if existing_brand and normalized_brand.lower() == existing_brand.lower():
454 | |                 if isinstance(logo_data, str) and logo_data.strip():
    | |____________________________________________________________________^
455 |                       return logo_data
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> database_backup.py:572:42
    |
570 |         validation_results["checks_performed"].append("Verwaiste Company Documents")
571 |         cursor.execute("""
572 |             SELECT cd.id, cd.display_name 
    |                                          ^
573 |             FROM company_documents cd 
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_backup.py:573:38
    |
571 |         cursor.execute("""
572 |             SELECT cd.id, cd.display_name 
573 |             FROM company_documents cd 
    |                                      ^
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
575 |             WHERE c.id IS NULL
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_backup.py:574:58
    |
572 |             SELECT cd.id, cd.display_name 
573 |             FROM company_documents cd 
574 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |                                                          ^
575 |             WHERE c.id IS NULL
576 |         """)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_backup.py:585:49
    |
583 |         validation_results["checks_performed"].append("Produkt-Duplikate")
584 |         cursor.execute("""
585 |             SELECT model_name, COUNT(*) as count 
    |                                                 ^
586 |             FROM products 
587 |             GROUP BY model_name 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_backup.py:586:26
    |
584 |         cursor.execute("""
585 |             SELECT model_name, COUNT(*) as count 
586 |             FROM products 
    |                          ^
587 |             GROUP BY model_name 
588 |             HAVING COUNT(*) > 1
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_backup.py:587:32
    |
585 |             SELECT model_name, COUNT(*) as count 
586 |             FROM products 
587 |             GROUP BY model_name 
    |                                ^
588 |             HAVING COUNT(*) > 1
589 |         """)
    |
help: Remove trailing whitespace

C401 Unnecessary generator (rewrite as a set comprehension)
   --> database_backup.py:705:20
    |
703 |         cursor = conn.cursor()
704 |         cursor.execute("SELECT absolute_file_path FROM company_documents")
705 |         db_files = set(row['absolute_file_path'] for row in cursor.fetchall())
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
706 |         conn.close()
    |
help: Rewrite as a set comprehension

B007 Loop control variable `dirs` not used within loop body
   --> database_backup.py:709:19
    |
708 |         # Alle physischen Dateien durchgehen
709 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR):
    |                   ^^^^
710 |             for file in files:
711 |                 cleanup_results["files_checked"] += 1
    |
help: Rename unused `dirs` to `_dirs`

B007 Loop control variable `files` not used within loop body
   --> database_backup.py:725:25
    |
724 |         # Leere Verzeichnisse entfernen
725 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR, topdown=False):
    |                         ^^^^^
726 |             for dir_name in dirs:
727 |                 dir_path = os.path.join(root, dir_name)
    |
help: Rename unused `files` to `_files`

E402 Module level import not at top of file
   --> database_backup.py:762:1
    |
760 |         print(f"DB Fehler reset_database: {e}")
761 |     return False
762 | import os
    | ^^^^^^^^^
763 | import sqlite3
764 | from typing import Any
    |

E402 Module level import not at top of file
   --> database_backup.py:763:1
    |
761 |     return False
762 | import os
763 | import sqlite3
    | ^^^^^^^^^^^^^^
764 | from typing import Any
    |

E402 Module level import not at top of file
   --> database_backup.py:764:1
    |
762 | import os
763 | import sqlite3
764 | from typing import Any
    | ^^^^^^^^^^^^^^^^^^^^^^
765 |
766 | DB_SCHEMA_VERSION = 14
    |

F811 Redefinition of unused `init_db` from line 48
   --> database_backup.py:986:5
    |
984 |             raise
985 |
986 | def init_db():
    |     ^^^^^^^ `init_db` redefined here
987 |     conn = get_db_connection()
988 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |
   ::: database_backup.py:48:5
    |
 46 |         return None
 47 |
 48 | def init_db(conn: sqlite3.Connection | None = None) -> sqlite3.Connection | None:
    |     ------- previous definition of `init_db` here
 49 |     """Optionale Initialisierung. Gibt eine Verbindung zur├╝ck.
    |
help: Remove definition: `init_db`

E701 Multiple statements on one line (colon)
   --> database_backup.py:988:20
    |
986 | def init_db():
987 |     conn = get_db_connection()
988 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |                    ^
989 |     try:
990 |         cursor = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> database_backup.py:988:88
    |
986 | def init_db():
987 |     conn = get_db_connection()
988 |     if conn is None: print("DB FEHLER: init_db() kann DB-Verbindung nicht herstellen."); return
    |                                                                                        ^
989 |     try:
990 |         cursor = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1007:35
     |
1005 |             except Exception as _:
1006 |                 pass
1007 |             current_db_version = 1; print("DB: Schema v1 angewendet.")
     |                                   ^
1008 |         elif current_db_version == 1:
1009 |             # Platzhalter f├╝r zuk├╝nftige Migrationen von v1 -> v2
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1021:35
     |
1019 |             except Exception as _:
1020 |                 pass
1021 |             current_db_version = 2; print("DB: Schema v2 angewendet.")
     |                                   ^
1022 |         if current_db_version < 12:
1023 |             _create_companies_table_v12(conn)
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1084:36
     |
1082 |             except Exception as _:
1083 |                 pass
1084 |             current_db_version = 13; print("DB: Schema v13 angewendet.")
     |                                    ^
1085 |         if current_db_version < 14:
1086 |             _create_company_templates_tables_v14(conn)
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1094:36
     |
1092 |             except Exception as _:
1093 |                 pass
1094 |             current_db_version = 14; print("DB: Schema v14 angewendet (Firmenspezifische Angebotsvorlagen).")
     |                                    ^
1095 |
1096 |         # Stelle sicher, dass die SQLite user_version am Ende exakt dem Code-Schema entspricht
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1103:51
     |
1101 |             pass
1102 |
1103 |         if current_db_version == DB_SCHEMA_VERSION: print("DB: Schema ist aktuell.")
     |                                                   ^
1104 |         else: print(f"DB WARNUNG: Diskrepanz user_version ({current_db_version}) vs Code ({DB_SCHEMA_VERSION}).")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1104:13
     |
1103 |         if current_db_version == DB_SCHEMA_VERSION: print("DB: Schema ist aktuell.")
1104 |         else: print(f"DB WARNUNG: Diskrepanz user_version ({current_db_version}) vs Code ({DB_SCHEMA_VERSION}).")
     |             ^
1105 |
1106 |         for key, default_value in INITIAL_ADMIN_SETTINGS.items():
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1115:22
     |
1113 |                      cursor.execute("INSERT INTO admin_settings (key, value, last_modified) VALUES (?, ?, CURRENT_TIMESTAMP)", (key,ÔÇª
1114 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1115 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
     |                      ^
1116 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
1117 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1116:26
     |
1114 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1115 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1116 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                          ^
1117 |     finally:
1118 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1116:71
     |
1114 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1115 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1116 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                                                                       ^
1117 |     finally:
1118 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1116:94
     |
1114 |                 print(f"DB: Initiale Admin-Einstellung '{key}' hinzugef├╝gt.")
1115 |         conn.commit(); print("DB: Initialisierung abgeschlossen.")
1116 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
     |                                                                                              ^
1117 |     finally:
1118 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1118:16
     |
1116 |     except Exception as e: print(f"DB KRITISCHER FEHLER init_db: {e}"); traceback.print_exc(); conn.rollback()
1117 |     finally:
1118 |         if conn: conn.close()
     |                ^
1119 |
1120 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |

F811 Redefinition of unused `load_admin_setting` from line 407
    --> database_backup.py:1120:5
     |
1118 |         if conn: conn.close()
1119 |
1120 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |     ^^^^^^^^^^^^^^^^^^ `load_admin_setting` redefined here
1121 |     conn = get_db_connection()
1122 |     if conn is None: return default
     |
    ::: database_backup.py:407:5
     |
 405 |         conn.close()
 406 |
 407 | def load_admin_setting(key: str, default: Any = None) -> Any:
     |     ------------------ previous definition of `load_admin_setting` here
 408 |     conn = get_db_connection()
 409 |     if not conn:
     |
help: Remove definition: `load_admin_setting`

E701 Multiple statements on one line (colon)
    --> database_backup.py:1122:20
     |
1120 | def load_admin_setting(key: str, default: Any = None) -> Any:
1121 |     conn = get_db_connection()
1122 |     if conn is None: return default
     |                    ^
1123 |     try:
1124 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1130:20
     |
1128 |             value_str = row['value']
1129 |             if isinstance(value_str, str) and value_str.strip().startswith(('[', '{')) and value_str.strip().endswith((']', '}')):
1130 |                 try: return json.loads(value_str)
     |                    ^
1131 |                 except json.JSONDecodeError: pass
1132 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1131:44
     |
1129 |             if isinstance(value_str, str) and value_str.strip().startswith(('[', '{')) and value_str.strip().endswith((']', '}')):
1130 |                 try: return json.loads(value_str)
1131 |                 except json.JSONDecodeError: pass
     |                                            ^
1132 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1133 |                 try: return bool(int(value_str))
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1133:20
     |
1131 |                 except json.JSONDecodeError: pass
1132 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1133 |                 try: return bool(int(value_str))
     |                    ^
1134 |                 except: pass
1135 |             if key == 'active_company_id':
     |

E722 Do not use bare `except`
    --> database_backup.py:1134:17
     |
1132 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1133 |                 try: return bool(int(value_str))
1134 |                 except: pass
     |                 ^^^^^^
1135 |             if key == 'active_company_id':
1136 |                 try: return int(value_str) if value_str is not None else None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1134:23
     |
1132 |             if key in INITIAL_ADMIN_SETTINGS and isinstance(INITIAL_ADMIN_SETTINGS.get(key), bool):
1133 |                 try: return bool(int(value_str))
1134 |                 except: pass
     |                       ^
1135 |             if key == 'active_company_id':
1136 |                 try: return int(value_str) if value_str is not None else None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1136:20
     |
1134 |                 except: pass
1135 |             if key == 'active_company_id':
1136 |                 try: return int(value_str) if value_str is not None else None
     |                    ^
1137 |                 except: return default
1138 |             return value_str
     |

E722 Do not use bare `except`
    --> database_backup.py:1137:17
     |
1135 |             if key == 'active_company_id':
1136 |                 try: return int(value_str) if value_str is not None else None
1137 |                 except: return default
     |                 ^^^^^^
1138 |             return value_str
1139 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1137:23
     |
1135 |             if key == 'active_company_id':
1136 |                 try: return int(value_str) if value_str is not None else None
1137 |                 except: return default
     |                       ^
1138 |             return value_str
1139 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1139:71
     |
1137 |                 except: return default
1138 |             return value_str
1139 |         if key == 'active_company_id' and row and row['value'] is None: return None
     |                                                                       ^
1140 |         return default
1141 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1141:26
     |
1139 |         if key == 'active_company_id' and row and row['value'] is None: return None
1140 |         return default
1141 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |                          ^
1142 |     finally:
1143 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1141:79
     |
1139 |         if key == 'active_company_id' and row and row['value'] is None: return None
1140 |         return default
1141 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
     |                                                                               ^
1142 |     finally:
1143 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1143:16
     |
1141 |     except Exception as e: print(f"DB Fehler load_admin_setting '{key}': {e}"); return default
1142 |     finally:
1143 |         if conn: conn.close()
     |                ^
1144 |
1145 | def save_admin_setting(key: str, value: Any) -> bool:
     |

F811 Redefinition of unused `save_admin_setting` from line 391
    --> database_backup.py:1145:5
     |
1143 |         if conn: conn.close()
1144 |
1145 | def save_admin_setting(key: str, value: Any) -> bool:
     |     ^^^^^^^^^^^^^^^^^^ `save_admin_setting` redefined here
1146 |     conn = get_db_connection()
1147 |     if conn is None:
     |
    ::: database_backup.py:391:5
     |
 389 |         pass
 390 |
 391 | def save_admin_setting(key: str, value: Any) -> bool:
     |     ------------------ previous definition of `save_admin_setting` here
 392 |     conn = get_db_connection()
 393 |     if not conn:
     |
help: Remove definition: `save_admin_setting`

W291 Trailing whitespace
    --> database_backup.py:1161:63
     |
1160 |         sql_query = """
1161 |         INSERT INTO admin_settings (key, value, last_modified) 
     |                                                               ^
1162 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1163 |         ON CONFLICT(key) DO UPDATE SET 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1162:41
     |
1160 |         sql_query = """
1161 |         INSERT INTO admin_settings (key, value, last_modified) 
1162 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
     |                                         ^
1163 |         ON CONFLICT(key) DO UPDATE SET 
1164 |         value=excluded.value, 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1163:39
     |
1161 |         INSERT INTO admin_settings (key, value, last_modified) 
1162 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1163 |         ON CONFLICT(key) DO UPDATE SET 
     |                                       ^
1164 |         value=excluded.value, 
1165 |         last_modified=CURRENT_TIMESTAMP 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1164:30
     |
1162 |         VALUES (?, ?, CURRENT_TIMESTAMP) 
1163 |         ON CONFLICT(key) DO UPDATE SET 
1164 |         value=excluded.value, 
     |                              ^
1165 |         last_modified=CURRENT_TIMESTAMP 
1166 |         """
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1165:40
     |
1163 |         ON CONFLICT(key) DO UPDATE SET 
1164 |         value=excluded.value, 
1165 |         last_modified=CURRENT_TIMESTAMP 
     |                                        ^
1166 |         """
1167 |         # Standardisierung der Einr├╝ckung, um m├Âgliche Probleme zu beheben
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database_backup.py:1180:16
     |
1178 |         return False
1179 |     finally:
1180 |         if conn: conn.close()
     |                ^
1181 |
1182 | def add_pdf_template(template_type: str, name: str, content: str | None=None, image_data: bytes | None=None) -> int | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1184:16
     |
1182 | def add_pdf_template(template_type: str, name: str, content: str | None=None, image_data: bytes | None=None) -> int | None:
1183 |     conn = get_db_connection()
1184 |     if not conn: return None
     |                ^
1185 |     now = datetime.now().isoformat()
1186 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1190:22
     |
1188 |         cursor.execute("INSERT INTO pdf_templates (template_type, name, content, image_data, created_at, updated_at) VALUES (?, ?, ?ÔÇª
1189 |                        (template_type, name, content, image_data, now, now))
1190 |         conn.commit(); return cursor.lastrowid
     |                      ^
1191 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
1192 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1191:26
     |
1189 |                        (template_type, name, content, image_data, now, now))
1190 |         conn.commit(); return cursor.lastrowid
1191 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                          ^
1192 |     finally:
1193 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1191:69
     |
1189 |                        (template_type, name, content, image_data, now, now))
1190 |         conn.commit(); return cursor.lastrowid
1191 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                                                                     ^
1192 |     finally:
1193 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1191:86
     |
1189 |                        (template_type, name, content, image_data, now, now))
1190 |         conn.commit(); return cursor.lastrowid
1191 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
     |                                                                                      ^
1192 |     finally:
1193 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1193:16
     |
1191 |     except Exception as e: print(f"DB Fehler add_pdf_template: {e}"); conn.rollback(); return None
1192 |     finally:
1193 |         if conn: conn.close()
     |                ^
1194 |
1195 | def list_pdf_templates(template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1197:16
     |
1195 | def list_pdf_templates(template_type: str | None = None) -> list[dict[str, Any]]:
1196 |     conn = get_db_connection()
1197 |     if not conn: return []
     |                ^
1198 |     try:
1199 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1205:26
     |
1203 |             cursor.execute("SELECT * FROM pdf_templates ORDER BY template_type, name COLLATE NOCASE")
1204 |         return [dict(row) for row in cursor.fetchall()]
1205 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
     |                          ^
1206 |     finally:
1207 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1205:71
     |
1203 |             cursor.execute("SELECT * FROM pdf_templates ORDER BY template_type, name COLLATE NOCASE")
1204 |         return [dict(row) for row in cursor.fetchall()]
1205 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
     |                                                                       ^
1206 |     finally:
1207 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1207:16
     |
1205 |     except Exception as e: print(f"DB Fehler list_pdf_templates: {e}"); return []
1206 |     finally:
1207 |         if conn: conn.close()
     |                ^
1208 |
1209 | def get_pdf_template(template_id: int) -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1211:16
     |
1209 | def get_pdf_template(template_id: int) -> dict[str, Any] | None:
1210 |     conn = get_db_connection()
1211 |     if not conn: return None
     |                ^
1212 |     try:
1213 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1215:32
     |
1213 |         cursor = conn.cursor()
1214 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1215 |         row = cursor.fetchone(); return dict(row) if row else None
     |                                ^
1216 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
1217 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1216:26
     |
1214 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1215 |         row = cursor.fetchone(); return dict(row) if row else None
1216 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
     |                          ^
1217 |     finally:
1218 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1216:69
     |
1214 |         cursor.execute("SELECT * FROM pdf_templates WHERE id = ?", (template_id,))
1215 |         row = cursor.fetchone(); return dict(row) if row else None
1216 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
     |                                                                     ^
1217 |     finally:
1218 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1218:16
     |
1216 |     except Exception as e: print(f"DB Fehler get_pdf_template: {e}"); return None
1217 |     finally:
1218 |         if conn: conn.close()
     |                ^
1219 |
1220 | def update_pdf_template(template_id: int, name: str, content: str | None=None, image_data: bytes | None=None) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1222:16
     |
1220 | def update_pdf_template(template_id: int, name: str, content: str | None=None, image_data: bytes | None=None) -> bool:
1221 |     conn = get_db_connection()
1222 |     if not conn: return False
     |                ^
1223 |     now = datetime.now().isoformat()
1224 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1228:22
     |
1226 |         cursor.execute("UPDATE pdf_templates SET name=?, content=?, image_data=?, updated_at=? WHERE id=?",
1227 |                        (name, content, image_data, now, template_id))
1228 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1229 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
1230 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1229:26
     |
1227 |                        (name, content, image_data, now, template_id))
1228 |         conn.commit(); return cursor.rowcount > 0
1229 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                          ^
1230 |     finally:
1231 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1229:72
     |
1227 |                        (name, content, image_data, now, template_id))
1228 |         conn.commit(); return cursor.rowcount > 0
1229 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                                                                        ^
1230 |     finally:
1231 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1229:89
     |
1227 |                        (name, content, image_data, now, template_id))
1228 |         conn.commit(); return cursor.rowcount > 0
1229 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
     |                                                                                         ^
1230 |     finally:
1231 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1231:16
     |
1229 |     except Exception as e: print(f"DB Fehler update_pdf_template: {e}"); conn.rollback(); return False
1230 |     finally:
1231 |         if conn: conn.close()
     |                ^
1232 |
1233 | def delete_pdf_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1235:16
     |
1233 | def delete_pdf_template(template_id: int) -> bool:
1234 |     conn = get_db_connection()
1235 |     if not conn: return False
     |                ^
1236 |     try:
1237 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1239:22
     |
1237 |         cursor = conn.cursor()
1238 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1239 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1240 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
1241 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1240:26
     |
1238 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1239 |         conn.commit(); return cursor.rowcount > 0
1240 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                          ^
1241 |     finally:
1242 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1240:72
     |
1238 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1239 |         conn.commit(); return cursor.rowcount > 0
1240 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                                                                        ^
1241 |     finally:
1242 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1240:89
     |
1238 |         cursor.execute("DELETE FROM pdf_templates WHERE id = ?", (template_id,))
1239 |         conn.commit(); return cursor.rowcount > 0
1240 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
     |                                                                                         ^
1241 |     finally:
1242 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1242:16
     |
1240 |     except Exception as e: print(f"DB Fehler delete_pdf_template: {e}"); conn.rollback(); return False
1241 |     finally:
1242 |         if conn: conn.close()
     |                ^
1243 |
1244 | COMPANY_DOCS_BASE_DIR = os.path.join(DATA_DIR, "company_docs")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1246:8
     |
1244 | COMPANY_DOCS_BASE_DIR = os.path.join(DATA_DIR, "company_docs")
1245 | if not os.path.exists(COMPANY_DOCS_BASE_DIR):
1246 |     try: os.makedirs(COMPANY_DOCS_BASE_DIR)
     |        ^
1247 |     except OSError as e: print(f"DB FEHLER Erstellen Firmen-Doc-Verzeichnis: {e}")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1247:24
     |
1245 | if not os.path.exists(COMPANY_DOCS_BASE_DIR):
1246 |     try: os.makedirs(COMPANY_DOCS_BASE_DIR)
1247 |     except OSError as e: print(f"DB FEHLER Erstellen Firmen-Doc-Verzeichnis: {e}")
     |                        ^
1248 |
1249 | def add_company(company_data: dict[str, Any]) -> int | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1260:16
     |
1258 |     if not company_name_to_add or not str(company_name_to_add).strip():
1259 |         print(f"DB FEHLER: Firmenname ist Pflicht und darf nicht leer sein. Empfangen: '{company_name_to_add}'")
1260 |         if conn: conn.close()
     |                ^
1261 |         return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1275:20
     |
1273 | ÔÇª     if existing_company_by_name_nocase:
1274 | ÔÇª         print(f"DB HINWEIS (Vorab-Pr├╝fung): Firma ├ñhnlich zu '{company_name_to_add_stripped}' (case-insensitive) existiert: ID {exÔÇª
1275 | ÔÇª         if conn: conn.close() # Schlie├ƒe Verbindung hier, da Funktion beendet wird
     |                  ^
1276 | ÔÇª         return None
1277 | ÔÇª     # else: # Bereits im Log
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1281:16
     |
1279 |     except Exception as e_check:
1280 |         print(f"DB FEHLER bei Vorab-Pr├╝fung in add_company: {e_check}")
1281 |         if conn: conn.close()
     |                ^
1282 |         return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1340:16
     |
1338 |         return None
1339 |     finally:
1340 |         if conn: conn.close() # Sicherstellen, dass die Verbindung immer geschlossen wird
     |                ^
1341 |
1342 | def list_companies() -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1344:16
     |
1342 | def list_companies() -> list[dict[str, Any]]:
1343 |     conn = get_db_connection()
1344 |     if not conn: return []
     |                ^
1345 |     try:
1346 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1349:26
     |
1347 |         cursor.execute("SELECT * FROM companies ORDER BY name COLLATE NOCASE")
1348 |         return [dict(row) for row in cursor.fetchall()]
1349 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
     |                          ^
1350 |     finally:
1351 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1349:67
     |
1347 |         cursor.execute("SELECT * FROM companies ORDER BY name COLLATE NOCASE")
1348 |         return [dict(row) for row in cursor.fetchall()]
1349 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
     |                                                                   ^
1350 |     finally:
1351 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1351:16
     |
1349 |     except Exception as e: print(f"DB Fehler list_companies: {e}"); return []
1350 |     finally:
1351 |         if conn: conn.close()
     |                ^
1352 |
1353 | def get_company(company_id: int) -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1355:16
     |
1353 | def get_company(company_id: int) -> dict[str, Any] | None:
1354 |     conn = get_db_connection()
1355 |     if not conn: return None
     |                ^
1356 |     try:
1357 |         cursor = conn.cursor()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1359:32
     |
1357 |         cursor = conn.cursor()
1358 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1359 |         row = cursor.fetchone(); return dict(row) if row else None
     |                                ^
1360 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
1361 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1360:26
     |
1358 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1359 |         row = cursor.fetchone(); return dict(row) if row else None
1360 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
     |                          ^
1361 |     finally:
1362 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1360:83
     |
1358 |         cursor.execute("SELECT * FROM companies WHERE id = ?", (company_id,))
1359 |         row = cursor.fetchone(); return dict(row) if row else None
1360 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
     |                                                                                   ^
1361 |     finally:
1362 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1362:16
     |
1360 |     except Exception as e: print(f"DB Fehler get_company (ID: {company_id}): {e}"); return None
1361 |     finally:
1362 |         if conn: conn.close()
     |                ^
1363 |
1364 | def update_company(company_id: int, company_data: dict[str, Any]) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1366:16
     |
1364 | def update_company(company_id: int, company_data: dict[str, Any]) -> bool:
1365 |     conn = get_db_connection()
1366 |     if not conn: return False
     |                ^
1367 |     now_iso = datetime.now().isoformat()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1381:35
     |
1379 |         if key in allowed_fields_for_update:
1380 |             fields_to_set_parts.append(f"{key} = ?")
1381 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
     |                                   ^
1382 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
1383 |             else: values_for_set.append(val)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1382:38
     |
1380 |             fields_to_set_parts.append(f"{key} = ?")
1381 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
1382 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
     |                                      ^
1383 |             else: values_for_set.append(val)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1383:17
     |
1381 |             if key == "is_default": values_for_set.append(int(val) if val is not None else 0)
1382 |             elif isinstance(val, str): values_for_set.append(val.strip() if val else None)
1383 |             else: values_for_set.append(val)
     |                 ^
1384 |
1385 |     if not fields_to_set_parts: return False
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1385:31
     |
1383 |             else: values_for_set.append(val)
1384 |
1385 |     if not fields_to_set_parts: return False
     |                               ^
1386 |     values_for_set.append(company_id)
1387 |     stmt = f"UPDATE companies SET {', '.join(fields_to_set_parts)} WHERE id = ?"
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1398:43
     |
1396 |         conn.commit()
1397 |         return cursor.rowcount > 0
1398 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
     |                                           ^
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1400 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1398:117
     |
1396 |         conn.commit()
1397 |         return cursor.rowcount > 0
1398 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
     |                                                                                                                     ^
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1400 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1398:134
     |
1396 | ÔÇª
1397 | ÔÇª
1398 | ÔÇªhler update_company (ID {company_id}): {e_int}"); conn.rollback(); return False
     |                                                                   ^
1399 | ÔÇªpany_id}): {e}"); conn.rollback(); return False
1400 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1399:26
     |
1397 |         return cursor.rowcount > 0
1398 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1400 |     finally:
1401 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1399:85
     |
1397 |         return cursor.rowcount > 0
1398 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                                                                                     ^
1400 |     finally:
1401 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1399:102
     |
1397 |         return cursor.rowcount > 0
1398 |     except sqlite3.IntegrityError as e_int: print(f"DB Integrit├ñtsfehler update_company (ID {company_id}): {e_int}"); conn.rollback(ÔÇª
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                      ^
1400 |     finally:
1401 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1401:16
     |
1399 |     except Exception as e: print(f"DB Fehler update_company (ID {company_id}): {e}"); conn.rollback(); return False
1400 |     finally:
1401 |         if conn: conn.close()
     |                ^
1402 |
1403 | def delete_company(company_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1405:16
     |
1403 | def delete_company(company_id: int) -> bool:
1404 |     conn = get_db_connection()
1405 |     if not conn: return False
     |                ^
1406 |     try:
1407 |         docs_to_delete = list_company_documents(company_id)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1408:34
     |
1406 |     try:
1407 |         docs_to_delete = list_company_documents(company_id)
1408 |         for doc in docs_to_delete: delete_company_document(doc['id'])
     |                                  ^
1409 |         cursor = conn.cursor()
1410 |         cursor.execute("DELETE FROM companies WHERE id = ?", (company_id,))
     |

SIM105 Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
    --> database_backup.py:1417:17
     |
1415 |               active_id = None
1416 |               if active_id_str is not None:
1417 | /                 try: active_id = int(active_id_str)
1418 | |                 except ValueError: pass
     | |_______________________________________^
1419 |
1420 |               if active_id == company_id: save_admin_setting('active_company_id', None)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError): ...`

E701 Multiple statements on one line (colon)
    --> database_backup.py:1417:20
     |
1415 |             active_id = None
1416 |             if active_id_str is not None:
1417 |                 try: active_id = int(active_id_str)
     |                    ^
1418 |                 except ValueError: pass
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1418:34
     |
1416 |             if active_id_str is not None:
1417 |                 try: active_id = int(active_id_str)
1418 |                 except ValueError: pass
     |                                  ^
1419 |
1420 |             if active_id == company_id: save_admin_setting('active_company_id', None)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1420:39
     |
1418 |                 except ValueError: pass
1419 |
1420 |             if active_id == company_id: save_admin_setting('active_company_id', None)
     |                                       ^
1421 |             return True
1422 |         return False
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1423:26
     |
1421 |             return True
1422 |         return False
1423 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1424 |     finally:
1425 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1423:86
     |
1421 |             return True
1422 |         return False
1423 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                      ^
1424 |     finally:
1425 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1423:103
     |
1421 |             return True
1422 |         return False
1423 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                       ^
1424 |     finally:
1425 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1425:16
     |
1423 |     except Exception as e: print(f"DB Fehler delete_company (ID: {company_id}): {e}"); conn.rollback(); return False
1424 |     finally:
1425 |         if conn: conn.close()
     |                ^
1426 |
1427 | def set_default_company(company_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1429:16
     |
1427 | def set_default_company(company_id: int) -> bool:
1428 |     conn = get_db_connection()
1429 |     if not conn: return False
     |                ^
1430 |     try:
1431 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1435:31
     |
1433 |         cursor.execute("UPDATE companies SET is_default = 1 WHERE id = ?", (company_id,))
1434 |         conn.commit()
1435 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
     |                               ^
1436 |         return False
1437 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1437:26
     |
1435 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1436 |         return False
1437 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                          ^
1438 |     finally:
1439 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1437:91
     |
1435 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1436 |         return False
1437 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                           ^
1438 |     finally:
1439 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1437:108
     |
1435 |         if cursor.rowcount > 0: return save_admin_setting('active_company_id', company_id)
1436 |         return False
1437 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
     |                                                                                                            ^
1438 |     finally:
1439 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1439:16
     |
1437 |     except Exception as e: print(f"DB Fehler set_default_company (ID: {company_id}): {e}"); conn.rollback(); return False
1438 |     finally:
1439 |         if conn: conn.close()
     |                ^
1440 |
1441 | def get_active_company() -> dict[str, Any] | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1445:12
     |
1443 |     active_id = None
1444 |     if active_id_str is not None:
1445 |         try: active_id = int(active_id_str)
     |            ^
1446 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
1447 |     if active_id is not None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1446:39
     |
1444 |     if active_id_str is not None:
1445 |         try: active_id = int(active_id_str)
1446 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
     |                                       ^
1447 |     if active_id is not None:
1448 |         company_details = get_company(active_id)
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1446:115
     |
1444 |     if active_id_str is not None:
1445 |         try: active_id = int(active_id_str)
1446 |         except (ValueError, TypeError): print(f"DB Warnung: Ung├╝ltiger active_company_id Wert '{active_id_str}'."); active_id = None
     |                                                                                                                   ^
1447 |     if active_id is not None:
1448 |         company_details = get_company(active_id)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1449:27
     |
1447 |     if active_id is not None:
1448 |         company_details = get_company(active_id)
1449 |         if company_details: return company_details
     |                           ^
1450 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
1451 |     conn = get_db_connection()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1450:80
     |
1448 |         company_details = get_company(active_id)
1449 |         if company_details: return company_details
1450 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
     |                                                                                ^
1451 |     conn = get_db_connection()
1452 |     if not conn: return None
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1450:127
     |
1448 |         company_details = get_company(active_id)
1449 |         if company_details: return company_details
1450 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
     |                                                                                                                               ^
1451 |     conn = get_db_connection()
1452 |     if not conn: return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1452:16
     |
1450 |         print(f"DB Warnung: Aktive Firma ID {active_id} nicht in DB gefunden."); save_admin_setting('active_company_id', None); retuÔÇª
1451 |     conn = get_db_connection()
1452 |     if not conn: return None
     |                ^
1453 |     try:
1454 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1461:26
     |
1459 |             save_admin_setting('active_company_id', default_company['id'])
1460 |             return default_company
1461 |     except Exception as e: print(f"DB Fehler get_active_company (Fallback): {e}")
     |                          ^
1462 |     finally:
1463 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1463:16
     |
1461 |     except Exception as e: print(f"DB Fehler get_active_company (Fallback): {e}")
1462 |     finally:
1463 |         if conn: conn.close()
     |                ^
1464 |     return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1468:16
     |
1466 | def add_company_document(company_id: int, display_name: str, document_type: str, original_filename: str, file_content_bytes: bytes) ÔÇª
1467 |     conn = get_db_connection()
1468 |     if not conn: return None
     |                ^
1469 |     if not display_name or not display_name.strip():
1470 |         print("DB FEHLER: display_name f├╝r add_company_document darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1474:12
     |
1472 |     company_specific_docs_dir = os.path.join(COMPANY_DOCS_BASE_DIR, str(company_id))
1473 |     if not os.path.exists(company_specific_docs_dir):
1474 |         try: os.makedirs(company_specific_docs_dir)
     |            ^
1475 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
1476 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1475:34
     |
1473 |     if not os.path.exists(company_specific_docs_dir):
1474 |         try: os.makedirs(company_specific_docs_dir)
1475 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
     |                                  ^
1476 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
1477 |     file_extension = os.path.splitext(original_filename)[1]
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1475:117
     |
1473 |     if not os.path.exists(company_specific_docs_dir):
1474 |         try: os.makedirs(company_specific_docs_dir)
1475 |         except OSError as e_mkdir: print(f"DB: FEHLER Erstellen Verzeichnis {company_specific_docs_dir}: {e_mkdir}"); return None
     |                                                                                                                     ^
1476 |     safe_filename_base = "".join(c if c.isalnum() else "_" for c in os.path.splitext(original_filename)[0])
1477 |     file_extension = os.path.splitext(original_filename)[1]
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1483:52
     |
1481 |     absolute_path_on_disk = os.path.join(company_specific_docs_dir, final_safe_filename)
1482 |     try:
1483 |         with open(absolute_path_on_disk, "wb") as f: f.write(file_content_bytes)
     |                                                    ^
1484 |         cursor = conn.cursor()
1485 |         cursor.execute("""
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1489:22
     |
1487 |             VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP)
1488 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1489 |         conn.commit(); return cursor.lastrowid
     |                      ^
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1490:27
     |
1488 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1489 |         conn.commit(); return cursor.lastrowid
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
     |                           ^
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1492 |     finally:
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1490:115
     |
1488 |         """, (company_id, document_type, display_name.strip(), final_safe_filename, relative_path_for_db))
1489 |         conn.commit(); return cursor.lastrowid
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
     |                                                                                                                   ^
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1492 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1491:34
     |
1489 |         conn.commit(); return cursor.lastrowid
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                  ^
1492 |     finally:
1493 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1491:93
     |
1489 |         conn.commit(); return cursor.lastrowid
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                                                                             ^
1492 |     finally:
1493 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1491:110
     |
1489 |         conn.commit(); return cursor.lastrowid
1490 |     except OSError as e_io: print(f"DB: IOError beim Schreiben der Dokumentdatei {absolute_path_on_disk}: {e_io}"); return None
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
     |                                                                                                              ^
1492 |     finally:
1493 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1493:16
     |
1491 |     except sqlite3.Error as e_sql: print(f"DB: SQLite Fehler add_company_document: {e_sql}"); conn.rollback(); return None
1492 |     finally:
1493 |         if conn: conn.close()
     |                ^
1494 |
1495 | # === NEUE FUNKTIONEN F├£R FIRMENSPEZIFISCHE ANGEBOTSVORLAGEN ===
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1500:16
     |
1498 |     """F├╝gt eine firmenspezifische Textvorlage hinzu"""
1499 |     conn = get_db_connection()
1500 |     if not conn: return None
     |                ^
1501 |     if not name or not name.strip():
1502 |         print("DB FEHLER: name f├╝r add_company_text_template darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1517:16
     |
1515 |         return None
1516 |     finally:
1517 |         if conn: conn.close()
     |                ^
1518 |
1519 | def add_company_image_template(company_id: int, name: str, image_data: bytes, template_type: str = "title_image", original_filename:ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1522:16
     |
1520 |     """F├╝gt eine firmenspezifische Bildvorlage hinzu"""
1521 |     conn = get_db_connection()
1522 |     if not conn: return None
     |                ^
1523 |     if not name or not name.strip():
1524 |         print("DB FEHLER: name f├╝r add_company_image_template darf nicht leer sein.")
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1570:16
     |
1568 |         return None
1569 |     finally:
1570 |         if conn: conn.close()
     |                ^
1571 |
1572 | def list_company_text_templates(company_id: int, template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1575:16
     |
1573 |     """Listet alle firmenspezifischen Textvorlagen auf"""
1574 |     conn = get_db_connection()
1575 |     if not conn: return []
     |                ^
1576 |     try:
1577 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database_backup.py:1580:92
     |
1578 |         if template_type:
1579 |             cursor.execute("""
1580 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
     |                                                                                            ^
1581 |                 FROM company_text_templates 
1582 |                 WHERE company_id = ? AND template_type = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1581:44
     |
1579 |             cursor.execute("""
1580 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
1581 |                 FROM company_text_templates 
     |                                            ^
1582 |                 WHERE company_id = ? AND template_type = ?
1583 |                 ORDER BY name COLLATE NOCASE
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1587:92
     |
1585 |         else:
1586 |             cursor.execute("""
1587 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
     |                                                                                            ^
1588 |                 FROM company_text_templates 
1589 |                 WHERE company_id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1588:44
     |
1586 |             cursor.execute("""
1587 |                 SELECT id, company_id, name, content, template_type, created_at, updated_at 
1588 |                 FROM company_text_templates 
     |                                            ^
1589 |                 WHERE company_id = ?
1590 |                 ORDER BY template_type, name COLLATE NOCASE
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database_backup.py:1598:16
     |
1596 |         return []
1597 |     finally:
1598 |         if conn: conn.close()
     |                ^
1599 |
1600 | def list_company_image_templates(company_id: int, template_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1603:16
     |
1601 |     """Listet alle firmenspezifischen Bildvorlagen auf"""
1602 |     conn = get_db_connection()
1603 |     if not conn: return []
     |                ^
1604 |     try:
1605 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database_backup.py:1608:94
     |
1606 |         if template_type:
1607 |             cursor.execute("""
1608 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
     |                                                                                              ^
1609 |                 FROM company_image_templates 
1610 |                 WHERE company_id = ? AND template_type = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1609:45
     |
1607 |             cursor.execute("""
1608 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
1609 |                 FROM company_image_templates 
     |                                             ^
1610 |                 WHERE company_id = ? AND template_type = ?
1611 |                 ORDER BY name COLLATE NOCASE
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1615:94
     |
1613 |         else:
1614 |             cursor.execute("""
1615 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
     |                                                                                              ^
1616 |                 FROM company_image_templates 
1617 |                 WHERE company_id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1616:45
     |
1614 |             cursor.execute("""
1615 |                 SELECT id, company_id, name, template_type, file_path, created_at, updated_at 
1616 |                 FROM company_image_templates 
     |                                             ^
1617 |                 WHERE company_id = ?
1618 |                 ORDER BY template_type, name COLLATE NOCASE
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database_backup.py:1632:16
     |
1630 |         return []
1631 |     finally:
1632 |         if conn: conn.close()
     |                ^
1633 |
1634 | def get_company_image_template_data(template_id: int) -> bytes | None:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1637:16
     |
1635 |     """L├ñdt die Bilddaten einer firmenspezifischen Vorlage"""
1636 |     conn = get_db_connection()
1637 |     if not conn: return None
     |                ^
1638 |     try:
1639 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1656:16
     |
1654 |         return None
1655 |     finally:
1656 |         if conn: conn.close()
     |                ^
1657 |
1658 | def delete_company_text_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1661:16
     |
1659 |     """L├Âscht eine firmenspezifische Textvorlage"""
1660 |     conn = get_db_connection()
1661 |     if not conn: return False
     |                ^
1662 |     try:
1663 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1672:16
     |
1670 |         return False
1671 |     finally:
1672 |         if conn: conn.close()
     |                ^
1673 |
1674 | def delete_company_image_template(template_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1677:16
     |
1675 |     """L├Âscht eine firmenspezifische Bildvorlage (inkl. Datei)"""
1676 |     conn = get_db_connection()
1677 |     if not conn: return False
     |                ^
1678 |     try:
1679 |         cursor = conn.cursor()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1701:16
     |
1699 |         return False
1700 |     finally:
1701 |         if conn: conn.close()
     |                ^
1702 |
1703 | def update_company_text_template(template_id: int, name: str, content: str) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1706:16
     |
1704 |     """Aktualisiert eine firmenspezifische Textvorlage"""
1705 |     conn = get_db_connection()
1706 |     if not conn: return False
     |                ^
1707 |     try:
1708 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database_backup.py:1710:42
     |
1708 |         cursor = conn.cursor()
1709 |         cursor.execute("""
1710 |             UPDATE company_text_templates 
     |                                          ^
1711 |             SET name = ?, content = ?, updated_at = CURRENT_TIMESTAMP 
1712 |             WHERE id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1711:70
     |
1709 |         cursor.execute("""
1710 |             UPDATE company_text_templates 
1711 |             SET name = ?, content = ?, updated_at = CURRENT_TIMESTAMP 
     |                                                                      ^
1712 |             WHERE id = ?
1713 |         """, (name.strip() if name else "", content or "", template_id))
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database_backup.py:1721:16
     |
1719 |         return False
1720 |     finally:
1721 |         if conn: conn.close()
     |                ^
1722 |
1723 | def update_company_image_template(template_id: int, name: str) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1726:16
     |
1724 |     """Aktualisiert den Namen einer firmenspezifischen Bildvorlage"""
1725 |     conn = get_db_connection()
1726 |     if not conn: return False
     |                ^
1727 |     try:
1728 |         cursor = conn.cursor()
     |

W291 Trailing whitespace
    --> database_backup.py:1730:43
     |
1728 |         cursor = conn.cursor()
1729 |         cursor.execute("""
1730 |             UPDATE company_image_templates 
     |                                           ^
1731 |             SET name = ?, updated_at = CURRENT_TIMESTAMP 
1732 |             WHERE id = ?
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1731:57
     |
1729 |         cursor.execute("""
1730 |             UPDATE company_image_templates 
1731 |             SET name = ?, updated_at = CURRENT_TIMESTAMP 
     |                                                         ^
1732 |             WHERE id = ?
1733 |         """, (name.strip() if name else "", template_id))
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> database_backup.py:1741:16
     |
1739 |         return False
1740 |     finally:
1741 |         if conn: conn.close()
     |                ^
1742 |
1743 | def list_company_documents(company_id: int, doc_type: str | None = None) -> list[dict[str, Any]]:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1745:16
     |
1743 | def list_company_documents(company_id: int, doc_type: str | None = None) -> list[dict[str, Any]]:
1744 |     conn = get_db_connection()
1745 |     if not conn: return []
     |                ^
1746 |     try:
1747 |         cursor = conn.cursor()
     |

F821 Undefined name `Tuple`
    --> database_backup.py:1749:17
     |
1747 | ÔÇª     cursor = conn.cursor()
1748 | ÔÇª     sql_query = "SELECT id, company_id, document_type, display_name, file_name, absolute_file_path as relative_db_path, uploaded_aÔÇª
1749 | ÔÇª     params: Tuple = (company_id,)    # <- Typisierung ├╝ber `Tuple`, nicht `Tuple`
     |               ^^^^^
1750 | ÔÇª     if doc_type:
1751 | ÔÇª         sql_query += " AND document_type = ?"
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1757:26
     |
1755 |         rows = cursor.fetchall()
1756 |         return [{**dict(row), 'absolute_file_path': os.path.join(COMPANY_DOCS_BASE_DIR, row['relative_db_path'])} for row in rows]
1757 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
     |                          ^
1758 |     finally:
1759 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1757:94
     |
1755 |         rows = cursor.fetchall()
1756 |         return [{**dict(row), 'absolute_file_path': os.path.join(COMPANY_DOCS_BASE_DIR, row['relative_db_path'])} for row in rows]
1757 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
     |                                                                                              ^
1758 |     finally:
1759 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1759:16
     |
1757 |     except Exception as e: print(f"DB Fehler list_company_documents (ID: {company_id}): {e}"); return []
1758 |     finally:
1759 |         if conn: conn.close()
     |                ^
1760 |
1761 | def delete_company_document(document_id: int) -> bool:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1763:16
     |
1761 | def delete_company_document(document_id: int) -> bool:
1762 |     conn = get_db_connection()
1763 |     if not conn: return False
     |                ^
1764 |     cursor = conn.cursor()
1765 |     cursor.execute("SELECT absolute_file_path as relative_db_path FROM company_documents WHERE id = ?", (document_id,))
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1767:15
     |
1765 |     cursor.execute("SELECT absolute_file_path as relative_db_path FROM company_documents WHERE id = ?", (document_id,))
1766 |     row = cursor.fetchone()
1767 |     if not row: return False
     |               ^
1768 |     relative_path_from_db = row['relative_db_path']
1769 |     actual_absolute_path_to_delete_on_disk = os.path.join(COMPANY_DOCS_BASE_DIR, relative_path_from_db)
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1776:77
     |
1774 |                 os.remove(actual_absolute_path_to_delete_on_disk)
1775 |                 parent_dir = os.path.dirname(actual_absolute_path_to_delete_on_disk)
1776 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
     |                                                                             ^
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1778 |         conn.commit(); return cursor.rowcount > 0
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1777:35
     |
1775 |                 parent_dir = os.path.dirname(actual_absolute_path_to_delete_on_disk)
1776 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
     |                                   ^
1778 |         conn.commit(); return cursor.rowcount > 0
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1778:22
     |
1776 |                 if os.path.exists(parent_dir) and not os.listdir(parent_dir): os.rmdir(parent_dir)
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1778 |         conn.commit(); return cursor.rowcount > 0
     |                      ^
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
1780 |     finally:
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1779:26
     |
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1778 |         conn.commit(); return cursor.rowcount > 0
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                          ^
1780 |     finally:
1781 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1779:96
     |
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1778 |         conn.commit(); return cursor.rowcount > 0
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                                                                                                ^
1780 |     finally:
1781 |         if conn: conn.close()
     |

E702 Multiple statements on one line (semicolon)
    --> database_backup.py:1779:113
     |
1777 |             except OSError as e_os: print(f"DB Fehler L├Âschen Datei {actual_absolute_path_to_delete_on_disk}: {e_os}")
1778 |         conn.commit(); return cursor.rowcount > 0
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
     |                                                                                                                 ^
1780 |     finally:
1781 |         if conn: conn.close()
     |

E701 Multiple statements on one line (colon)
    --> database_backup.py:1781:16
     |
1779 |     except Exception as e: print(f"DB Fehler delete_company_document (ID: {document_id}): {e}"); conn.rollback(); return False
1780 |     finally:
1781 |         if conn: conn.close()
     |                ^
1782 |
1783 | def add_default_technique_for_company(company_id: int):
     |

W293 Blank line contains whitespace
    --> database_backup.py:1820:1
     |
1818 |     """
1819 |     L├ñdt alle Dokumente einer Firma aus der Datenbank.
1820 |     
     | ^^^^
1821 |     Args:
1822 |         company_id (int): ID der Firma
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> database_backup.py:1824:1
     |
1822 |         company_id (int): ID der Firma
1823 |         doc_type (str, optional): Dokumenttyp Filter
1824 |     
     | ^^^^
1825 |     Returns:
1826 |         List[Dict[str, Any]]: Liste der Dokumente
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> database_backup.py:1854:77
     |
1853 |         cursor.execute('''
1854 |             SELECT id, first_name, last_name, email, phone, address, status, 
     |                                                                             ^
1855 |                    created_at, updated_at, notes, project_data
1856 |             FROM crm_customers 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:1856:31
     |
1854 |             SELECT id, first_name, last_name, email, phone, address, status, 
1855 |                    created_at, updated_at, notes, project_data
1856 |             FROM crm_customers 
     |                               ^
1857 |             WHERE status = 'active' OR status IS NULL
1858 |             ORDER BY last_name, first_name
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> database_backup.py:1934:1
     |
1932 |     """
1933 |     Aktualisiert einen Kunden in der Datenbank.
1934 |     
     | ^^^^
1935 |     Args:
1936 |         customer_id (int): ID des Kunden
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> database_backup.py:1938:1
     |
1936 |         customer_id (int): ID des Kunden
1937 |         customer_data (Dict[str, Any]): Neue Kundendaten
1938 |     
     | ^^^^
1939 |     Returns:
1940 |         bool: True wenn erfolgreich
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> database_backup.py:1949:29
     |
1947 |         cursor = conn.cursor()
1948 |         cursor.execute('''
1949 |             UPDATE customers 
     |                             ^
1950 |             SET salutation = ?, title = ?, first_name = ?, last_name = ?, company_name = ?,
1951 |                 address = ?, house_number = ?, zip_code = ?, city = ?, state = ?, region = ?,
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:2007:77
     |
2006 |         cursor.execute('''
2007 |             SELECT id, first_name, last_name, email, phone, address, status, 
     |                                                                             ^
2008 |                    created_at, updated_at, notes, project_data
2009 |             FROM crm_customers 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> database_backup.py:2009:31
     |
2007 |             SELECT id, first_name, last_name, email, phone, address, status, 
2008 |                    created_at, updated_at, notes, project_data
2009 |             FROM crm_customers 
     |                               ^
2010 |             WHERE id = ?
2011 |         ''', (customer_id,))
     |
help: Remove trailing whitespace

RET504 Unnecessary assignment to `customer` before `return` statement
    --> database_backup.py:2030:20
     |
2028 |                 'project_data': json.loads(row[10]) if row[10] else {}
2029 |             }
2030 |             return customer
     |                    ^^^^^^^^
2031 |
2032 |         return None
     |
help: Remove unnecessary assignment

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
   --> database_bridge.py:139:13
    |
138 |           for column_name, column_type in new_columns:
139 | /             try:
140 | |                 cursor.execute(f"ALTER TABLE products ADD COLUMN {column_name} {column_type}")
141 | |             except sqlite3.OperationalError:
142 | |                 # Column already exists
143 | |                 pass
    | |____________________^
144 |
145 |           # Create index for performance
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

W291 Trailing whitespace
   --> database_bridge.py:449:39
    |
447 |                 # Update existing logo
448 |                 cursor.execute("""
449 |                     UPDATE brand_logos 
    |                                       ^
450 |                     SET logo_base64 = ?, logo_format = ?, file_size_bytes = ?,
451 |                         logo_position_x = ?, logo_position_y = ?, logo_width = ?, logo_height = ?,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_bridge.py:487:33
    |
485 |                        logo_position_x, logo_position_y, logo_width, logo_height,
486 |                        is_active, created_at, updated_at
487 |                 FROM brand_logos 
    |                                 ^
488 |                 WHERE brand_name = ?
489 |             """, (brand_name,))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_bridge.py:529:33
    |
527 |                        logo_position_x, logo_position_y, logo_width, logo_height,
528 |                        is_active, created_at, updated_at
529 |                 FROM brand_logos 
    |                                 ^
530 |                 WHERE is_active = 1
531 |                 ORDER BY brand_name
    |
help: Remove trailing whitespace

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> database_clean.py:40:9
   |
38 |       try:
39 |           conn = sqlite3.connect(DB_PATH)
40 | /         try:
41 | |             conn.row_factory = sqlite3.Row  # komfortabler Zugriff per Spaltenname
42 | |         except Exception:
43 | |             pass
   | |________________^
44 |           return conn
45 |       except Exception as e:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

RET504 Unnecessary assignment to `_conn` before `return` statement
  --> database_clean.py:58:16
   |
56 |     try:
57 |         _conn = conn or get_db_connection()
58 |         return _conn
   |                ^^^^^
59 |     except Exception as e:
60 |         print(f"DB: init_db Fehler: {e}")
   |
help: Remove unnecessary assignment

F811 Redefinition of unused `get_db_connection` from line 32
   --> database_clean.py:299:5
    |
297 | }
298 |
299 | def get_db_connection() -> sqlite3.Connection | None:
    |     ^^^^^^^^^^^^^^^^^ `get_db_connection` redefined here
300 |     try:
301 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |
   ::: database_clean.py:32:5
    |
 31 | # --- Minimale DB-Helfer (Kompatibilit├ñt) ---
 32 | def get_db_connection() -> sqlite3.Connection | None:
    |     ----------------- previous definition of `get_db_connection` here
 33 |     """Stellt eine SQLite-Verbindung zur Hauptdatenbank her (Row-Factory aktiviert).
    |
help: Remove definition: `get_db_connection`

E701 Multiple statements on one line (colon)
   --> database_clean.py:301:40
    |
299 | def get_db_connection() -> sqlite3.Connection | None:
300 |     try:
301 |         if not os.path.exists(DATA_DIR): os.makedirs(DATA_DIR)
    |                                        ^
302 |         conn = sqlite3.connect(DB_PATH)
303 |         conn.row_factory = sqlite3.Row
    |

E701 Multiple statements on one line (colon)
   --> database_clean.py:305:30
    |
303 |         conn.row_factory = sqlite3.Row
304 |         return conn
305 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                              ^
    |

E702 Multiple statements on one line (semicolon)
   --> database_clean.py:305:61
    |
303 |         conn.row_factory = sqlite3.Row
304 |         return conn
305 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                             ^
    |

E702 Multiple statements on one line (semicolon)
   --> database_clean.py:305:84
    |
303 |         conn.row_factory = sqlite3.Row
304 |         return conn
305 |     except sqlite3.Error as e: print(f"FATAL DB Error: {e}"); traceback.print_exc(); return None
    |                                                                                    ^
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> database_clean.py:454:13
    |
452 |           # Falls nicht gefunden, versuche case-insensitive Suche ohne Datennamen zu ├ñndern
453 |           for existing_brand, logo_data in logos.items():
454 | /             if existing_brand and normalized_brand.lower() == existing_brand.lower():
455 | |                 if isinstance(logo_data, str) and logo_data.strip():
    | |____________________________________________________________________^
456 |                       return logo_data
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
   --> database_clean.py:573:42
    |
571 |         validation_results["checks_performed"].append("Verwaiste Company Documents")
572 |         cursor.execute("""
573 |             SELECT cd.id, cd.display_name 
    |                                          ^
574 |             FROM company_documents cd 
575 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_clean.py:574:38
    |
572 |         cursor.execute("""
573 |             SELECT cd.id, cd.display_name 
574 |             FROM company_documents cd 
    |                                      ^
575 |             LEFT JOIN companies c ON cd.company_id = c.id 
576 |             WHERE c.id IS NULL
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_clean.py:575:58
    |
573 |             SELECT cd.id, cd.display_name 
574 |             FROM company_documents cd 
575 |             LEFT JOIN companies c ON cd.company_id = c.id 
    |                                                          ^
576 |             WHERE c.id IS NULL
577 |         """)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_clean.py:586:49
    |
584 |         validation_results["checks_performed"].append("Produkt-Duplikate")
585 |         cursor.execute("""
586 |             SELECT model_name, COUNT(*) as count 
    |                                                 ^
587 |             FROM products 
588 |             GROUP BY model_name 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_clean.py:587:26
    |
585 |         cursor.execute("""
586 |             SELECT model_name, COUNT(*) as count 
587 |             FROM products 
    |                          ^
588 |             GROUP BY model_name 
589 |             HAVING COUNT(*) > 1
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_clean.py:588:32
    |
586 |             SELECT model_name, COUNT(*) as count 
587 |             FROM products 
588 |             GROUP BY model_name 
    |                                ^
589 |             HAVING COUNT(*) > 1
590 |         """)
    |
help: Remove trailing whitespace

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:695:31
    |
693 |     try:
694 |         # Company Documents Verzeichnis pr├╝fen
695 |         if not os.path.exists(COMPANY_DOCS_BASE_DIR):
    |                               ^^^^^^^^^^^^^^^^^^^^^
696 |             return cleanup_results
    |

C401 Unnecessary generator (rewrite as a set comprehension)
   --> database_clean.py:706:20
    |
704 |         cursor = conn.cursor()
705 |         cursor.execute("SELECT absolute_file_path FROM company_documents")
706 |         db_files = set(row['absolute_file_path'] for row in cursor.fetchall())
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
707 |         conn.close()
    |
help: Rewrite as a set comprehension

B007 Loop control variable `dirs` not used within loop body
   --> database_clean.py:710:19
    |
709 |         # Alle physischen Dateien durchgehen
710 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR):
    |                   ^^^^
711 |             for file in files:
712 |                 cleanup_results["files_checked"] += 1
    |
help: Rename unused `dirs` to `_dirs`

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:710:42
    |
709 |         # Alle physischen Dateien durchgehen
710 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR):
    |                                          ^^^^^^^^^^^^^^^^^^^^^
711 |             for file in files:
712 |                 cleanup_results["files_checked"] += 1
    |

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:714:60
    |
712 |                 cleanup_results["files_checked"] += 1
713 |                 full_path = os.path.join(root, file)
714 |                 relative_path = os.path.relpath(full_path, COMPANY_DOCS_BASE_DIR)
    |                                                            ^^^^^^^^^^^^^^^^^^^^^
715 |
716 |                 if relative_path not in db_files:
    |

B007 Loop control variable `files` not used within loop body
   --> database_clean.py:726:25
    |
725 |         # Leere Verzeichnisse entfernen
726 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR, topdown=False):
    |                         ^^^^^
727 |             for dir_name in dirs:
728 |                 dir_path = os.path.join(root, dir_name)
    |
help: Rename unused `files` to `_files`

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:726:42
    |
725 |         # Leere Verzeichnisse entfernen
726 |         for root, dirs, files in os.walk(COMPANY_DOCS_BASE_DIR, topdown=False):
    |                                          ^^^^^^^^^^^^^^^^^^^^^
727 |             for dir_name in dirs:
728 |                 dir_path = os.path.join(root, dir_name)
    |

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:750:27
    |
749 |         # Company Documents Verzeichnis l├Âschen
750 |         if os.path.exists(COMPANY_DOCS_BASE_DIR):
    |                           ^^^^^^^^^^^^^^^^^^^^^
751 |             import shutil
752 |             shutil.rmtree(COMPANY_DOCS_BASE_DIR)
    |

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:752:27
    |
750 |         if os.path.exists(COMPANY_DOCS_BASE_DIR):
751 |             import shutil
752 |             shutil.rmtree(COMPANY_DOCS_BASE_DIR)
    |                           ^^^^^^^^^^^^^^^^^^^^^
753 |             print(f"DB: Company Documents Verzeichnis {COMPANY_DOCS_BASE_DIR} gel├Âscht")
    |

F821 Undefined name `COMPANY_DOCS_BASE_DIR`
   --> database_clean.py:753:56
    |
751 |             import shutil
752 |             shutil.rmtree(COMPANY_DOCS_BASE_DIR)
753 |             print(f"DB: Company Documents Verzeichnis {COMPANY_DOCS_BASE_DIR} gel├Âscht")
    |                                                        ^^^^^^^^^^^^^^^^^^^^^
754 |
755 |         # Datenbank neu initialisieren
    |

W291 Trailing whitespace
   --> database_pricing_migration.py:173:28
    |
171 |         # Set default margin values for existing products
172 |         cursor.execute("""
173 |             UPDATE products 
    |                            ^
174 |             SET margin_type = 'percentage', 
175 |                 margin_value = 25.0,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> database_pricing_migration.py:174:44
    |
172 |         cursor.execute("""
173 |             UPDATE products 
174 |             SET margin_type = 'percentage', 
    |                                            ^
175 |                 margin_value = 25.0,
176 |                 pricing_category = category
    |
help: Remove trailing whitespace

SIM102 Use a single `if` statement instead of nested `if` statements
  --> debug_extended_pdf_data.py:79:5
   |
77 |               source = "analysis_results['total_investment_brutto']"
78 |
79 | /     if not final_price and isinstance(project_data, dict):
80 | |         if project_data.get('grand_total'):
   | |___________________________________________^
81 |               final_price = project_data.get('grand_total')
82 |               source = "project_data['grand_total']"
   |
help: Combine `if` statements using `and`

E402 Module level import not at top of file
  --> debug_extended_pdf_options.py:46:1
   |
45 | # Create fake chart bytes (valid PNG)
46 | import base64
   | ^^^^^^^^^^^^^
47 |
48 | # 1x1 transparent PNG
   |

E402 Module level import not at top of file
  --> debug_multi_offer_prices.py:10:1
   |
 8 | logging.basicConfig(level=logging.INFO, format='%(levelname)s: %(message)s')
 9 |
10 | from copy import deepcopy
   | ^^^^^^^^^^^^^^^^^^^^^^^^^
11 |
12 | from calculations import perform_calculations
   |

E402 Module level import not at top of file
  --> debug_multi_offer_prices.py:12:1
   |
10 | from copy import deepcopy
11 |
12 | from calculations import perform_calculations
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 | from product_db import get_product_by_id, list_products
   |

E402 Module level import not at top of file
  --> debug_multi_offer_prices.py:13:1
   |
12 | from calculations import perform_calculations
13 | from product_db import get_product_by_id, list_products
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

E722 Do not use bare `except`
   --> debug_pdf_charts_complete.py:190:13
    |
188 |                 text = page6_overlay.extract_text()
189 |                 print(f"­ƒôØ Overlay Seite 6 Text: '{text}'")
190 |             except:
    |             ^^^^^^
191 |                 print("ÔÜá´©Å Kein Text im Overlay extrahierbar")
    |

N806 Variable `_PYPDF_AVAILABLE` in function should be lowercase
   --> debug_pdf_missing_content.py:136:5
    |
135 |     # Bedingung in pdf_generator.py Zeile 5043
136 |     _PYPDF_AVAILABLE = True  # Annahme
    |     ^^^^^^^^^^^^^^^^
137 |
138 |     print(f"   include_all_documents_opt: {include_all_docs}")
    |

E402 Module level import not at top of file
  --> debug_product_ids_in_offer_data.py:13:1
   |
12 | # Import der Funktionen
13 | from database import init_db
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 | from multi_offer_generator import MultiCompanyOfferGenerator
15 | from product_db import list_products
   |

E402 Module level import not at top of file
  --> debug_product_ids_in_offer_data.py:14:1
   |
12 | # Import der Funktionen
13 | from database import init_db
14 | from multi_offer_generator import MultiCompanyOfferGenerator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 | from product_db import list_products
   |

E402 Module level import not at top of file
  --> debug_product_ids_in_offer_data.py:15:1
   |
13 | from database import init_db
14 | from multi_offer_generator import MultiCompanyOfferGenerator
15 | from product_db import list_products
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 |
17 | # DB initialisieren
   |

RET504 Unnecessary assignment to `registry` before `return` statement
   --> debug_tools.py:300:16
    |
298 |     if st is not None:
299 |         registry = st.session_state.setdefault(INSTRUMENTED_TARGETS_KEY, set())
300 |         return registry
    |                ^^^^^^^^
301 |     if not hasattr(_get_instrumented_registry, "_memory_registry"):
302 |         _get_instrumented_registry._memory_registry = set()  # type: ignore[attr-defined]
    |
help: Remove unnecessary assignment

B023 Function definition does not bind loop variable `category`
   --> debug_tools.py:359:30
    |
357 |                     __target,
358 |                     "Aufruf gestartet",
359 |                     category=category,
    |                              ^^^^^^^^
360 |                     call=call_summary,
361 |                 )
    |

B023 Function definition does not bind loop variable `category`
   --> debug_tools.py:382:30
    |
380 |                     __target,
381 |                     "Aufruf erfolgreich",
382 |                     category=category,
    |                              ^^^^^^^^
383 |                     duration_ms=duration_ms,
384 |                     result=result_summary,
    |

E402 Module level import not at top of file
  --> deep_debug_multi_pdf_prices.py:78:1
   |
77 | # Jetzt teste mit echtem Multi-Offer-Generator
78 | import streamlit as st
   | ^^^^^^^^^^^^^^^^^^^^^^
79 |
80 | from multi_offer_generator import MultiCompanyOfferGenerator
   |

E402 Module level import not at top of file
  --> deep_debug_multi_pdf_prices.py:80:1
   |
78 | import streamlit as st
79 |
80 | from multi_offer_generator import MultiCompanyOfferGenerator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
81 |
82 | # Initialisiere Session State
   |

RET504 Unnecessary assignment to `components` before `return` statement
  --> demo_economic_analysis_integration.py:80:12
   |
78 |     ]
79 |
80 |     return components
   |            ^^^^^^^^^^
81 |
82 | def create_sample_final_pricing_result(components: list[PriceComponent]) -> FinalPricingResult:
   |
help: Remove unnecessary assignment

F841 Local variable `economic_result` is assigned to but never used
   --> demo_economic_analysis_integration.py:358:9
    |
356 |     try:
357 |         # Run individual demos
358 |         economic_result = demo_economic_analysis()
    |         ^^^^^^^^^^^^^^^
359 |         profitability_report = demo_profitability_reporting()
    |
help: Remove assignment to unused variable `economic_result`

F401 `pricing.dynamic_key_manager.DynamicKeyManager` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_enhanced_pdf_generator.py:17:45
   |
15 | try:
16 |     from pdf_generator import PDFGenerator
17 |     from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
   |                                             ^^^^^^^^^^^^^^^^^
18 |     print("Ô£ô Successfully imported PDF generator and pricing system")
19 | except ImportError as e:
   |
help: Remove unused import

F401 `pricing.dynamic_key_manager.KeyCategory` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_enhanced_pdf_generator.py:17:64
   |
15 | try:
16 |     from pdf_generator import PDFGenerator
17 |     from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
   |                                                                ^^^^^^^^^^^
18 |     print("Ô£ô Successfully imported PDF generator and pricing system")
19 | except ImportError as e:
   |
help: Remove unused import

B007 Loop control variable `i` not used within loop body
   --> demo_enhanced_pdf_generator.py:149:13
    |
147 |     if generator.pricing_keys:
148 |         print("  - Sample keys:")
149 |         for i, (key, value) in enumerate(list(generator.pricing_keys.items())[:5]):
    |             ^
150 |             print(f"    {key}: {value}")
151 |         if len(generator.pricing_keys) > 5:
    |
help: Rename unused `i` to `_i`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:183:28
    |
181 |     # Group keys by category
182 |     categories = {
183 |         'Customer': [k for k in all_keys.keys() if 'CUSTOMER' in k],
    |                            ^^^^^^^^^^^^^^^^^^^^
184 |         'Offer': [k for k in all_keys.keys() if 'OFFER' in k],
185 |         'Components': [k for k in all_keys.keys() if 'COMPONENT' in k],
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:184:25
    |
182 |     categories = {
183 |         'Customer': [k for k in all_keys.keys() if 'CUSTOMER' in k],
184 |         'Offer': [k for k in all_keys.keys() if 'OFFER' in k],
    |                         ^^^^^^^^^^^^^^^^^^^^
185 |         'Components': [k for k in all_keys.keys() if 'COMPONENT' in k],
186 |         'Discounts': [k for k in all_keys.keys() if 'DISCOUNT' in k],
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:185:30
    |
183 |         'Customer': [k for k in all_keys.keys() if 'CUSTOMER' in k],
184 |         'Offer': [k for k in all_keys.keys() if 'OFFER' in k],
185 |         'Components': [k for k in all_keys.keys() if 'COMPONENT' in k],
    |                              ^^^^^^^^^^^^^^^^^^^^
186 |         'Discounts': [k for k in all_keys.keys() if 'DISCOUNT' in k],
187 |         'Totals': [k for k in all_keys.keys() if 'TOTAL' in k],
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:186:29
    |
184 |         'Offer': [k for k in all_keys.keys() if 'OFFER' in k],
185 |         'Components': [k for k in all_keys.keys() if 'COMPONENT' in k],
186 |         'Discounts': [k for k in all_keys.keys() if 'DISCOUNT' in k],
    |                             ^^^^^^^^^^^^^^^^^^^^
187 |         'Totals': [k for k in all_keys.keys() if 'TOTAL' in k],
188 |         'VAT': [k for k in all_keys.keys() if 'VAT' in k]
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:187:26
    |
185 |         'Components': [k for k in all_keys.keys() if 'COMPONENT' in k],
186 |         'Discounts': [k for k in all_keys.keys() if 'DISCOUNT' in k],
187 |         'Totals': [k for k in all_keys.keys() if 'TOTAL' in k],
    |                          ^^^^^^^^^^^^^^^^^^^^
188 |         'VAT': [k for k in all_keys.keys() if 'VAT' in k]
189 |     }
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_enhanced_pdf_generator.py:188:23
    |
186 |         'Discounts': [k for k in all_keys.keys() if 'DISCOUNT' in k],
187 |         'Totals': [k for k in all_keys.keys() if 'TOTAL' in k],
188 |         'VAT': [k for k in all_keys.keys() if 'VAT' in k]
    |                       ^^^^^^^^^^^^^^^^^^^^
189 |     }
    |
help: Remove `.keys()`

W293 Blank line contains whitespace
   --> demo_enhanced_pdf_generator.py:224:1
    |
222 |     template_content = """
223 |     ANGEBOT F├£R PHOTOVOLTAIKANLAGE
224 |     
    | ^^^^
225 |     Kunde: {{CUSTOMER_NAME}}
226 |     E-Mail: {{CUSTOMER_EMAIL}}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_pdf_generator.py:228:1
    |
226 |     E-Mail: {{CUSTOMER_EMAIL}}
227 |     Telefon: {{CUSTOMER_PHONE}}
228 |     
    | ^^^^
229 |     Angebotsnummer: {{OFFER_ID}}
230 |     Datum: {{OFFER_DATE}}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_pdf_generator.py:231:1
    |
229 |     Angebotsnummer: {{OFFER_ID}}
230 |     Datum: {{OFFER_DATE}}
231 |     
    | ^^^^
232 |     PREIS├£BERSICHT:
233 |     Nettosumme: {{NET_TOTAL}}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_pdf_generator.py:236:1
    |
234 |     Mehrwertsteuer: {{VAT_AMOUNT}}
235 |     Gesamtsumme: {{GROSS_TOTAL}}
236 |     
    | ^^^^
237 |     Mit freundlichen Gr├╝├ƒen
238 |     Ihr Solar-Team
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:32:1
   |
30 |     st.markdown("""
31 |     ## ­ƒÄ» Neue Funktionen der erweiterten Produktverwaltung
32 |     
   | ^^^^
33 |     Diese Demo zeigt die vollst├ñndig implementierten Erweiterungen der Produktdatenbank:
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:34:1
   |
33 |     Diese Demo zeigt die vollst├ñndig implementierten Erweiterungen der Produktdatenbank:
34 |     
   | ^^^^
35 |     ### ­ƒôè **1. Erweiterte Produktfelder**
36 |     - **technology** - Technologie-Spezifikation
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> demo_enhanced_product_management.py:38:40
   |
36 |     - **technology** - Technologie-Spezifikation
37 |     - **feature** - Besondere Features
38 |     - **design** - Design-Eigenschaften  
   |                                        ^^
39 |     - **upgrade** - Upgrade-Optionen
40 |     - **max_kwh_capacity** - Maximale kWh-Kapazit├ñt
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:45:1
   |
43 |     - **shadow_fading** - Schatten-Fading (Boolean)
44 |     - **smart_home** - Smart Home Integration (Boolean)
45 |     
   | ^^^^
46 |     ### ­ƒöæ **2. Dynamische Keys f├╝r PDF-Integration**
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:47:1
   |
46 |     ### ­ƒöæ **2. Dynamische Keys f├╝r PDF-Integration**
47 |     
   | ^^^^
48 |     **a) PV-Module Keys:**
49 |     - id, category, model_name, brand, price_euro, calculate_per
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:53:1
   |
51 |     - shadow_fading, length_m, width_m, weight_kg, efficiency_percent
52 |     - origin_country, description
53 |     
   | ^^^^
54 |     **b) Wechselrichter Keys:**
55 |     - id, category, model_name, brand, price_euro, calculate_per
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:59:1
   |
57 |     - outdoor_opt, self_supply_feature, shadow_fading, smart_home
58 |     - weight_kg, efficiency_percent, origin_country, description
59 |     
   | ^^^^
60 |     **c) Batteriespeicher Keys:**
61 |     - id, category, model_name, brand, price_euro, calculate_per
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> demo_enhanced_product_management.py:65:1
   |
63 |     - feature, upgrade, max_kwh_capacity, weight_kg
64 |     - origin_country, description
65 |     
   | ^^^^
66 |     ### ­ƒùæ´©Å **3. Produktdatenbank-Reset**
67 |     - Komplette L├Âschung aller Produkte
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:113:1
    |
111 |         st.markdown("""
112 |         ### Datenbankschema-Erweiterungen
113 |         
    | ^^^^^^^^
114 |         Die Produktdatenbank wurde um folgende Spalten erweitert:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:115:1
    |
114 |         Die Produktdatenbank wurde um folgende Spalten erweitert:
115 |         
    | ^^^^^^^^
116 |         ```sql
117 |         ALTER TABLE products ADD COLUMN technology TEXT DEFAULT '';
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:127:1
    |
125 |         ALTER TABLE products ADD COLUMN smart_home INTEGER DEFAULT 0;
126 |         ```
127 |         
    | ^^^^^^^^
128 |         ### Neue Funktionen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:129:1
    |
128 |         ### Neue Funktionen
129 |         
    | ^^^^^^^^
130 |         **1. `generate_product_dynamic_keys(product, category_specific=True)`**
131 |         - Generiert dynamische Keys f├╝r alle Produktfelder
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:134:1
    |
132 |         - Kategorie-spezifische Key-Generierung
133 |         - Automatische Formatierung f├╝r Boolean-Werte
134 |         
    | ^^^^^^^^
135 |         **2. `get_product_with_dynamic_keys(product_id, category_specific=True)`**
136 |         - L├ñdt Produkt mit generierten dynamischen Keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:138:1
    |
136 |         - L├ñdt Produkt mit generierten dynamischen Keys
137 |         - Direkt verwendbar f├╝r PDF-Integration
138 |         
    | ^^^^^^^^
139 |         **3. `clear_all_products()`**
140 |         - L├Âscht alle Produkte aus der Datenbank
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:149:1
    |
147 |         st.markdown("""
148 |         ### Produkt mit neuen Feldern hinzuf├╝gen
149 |         
    | ^^^^^^^^
150 |         ```python
151 |         from product_db import add_product
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:152:1
    |
150 |         ```python
151 |         from product_db import add_product
152 |         
    | ^^^^^^^^
153 |         pv_module_data = {
154 |             'category': 'PV Module',
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:166:1
    |
164 |             'warranty_years': 25
165 |         }
166 |         
    | ^^^^^^^^
167 |         product_id = add_product(pv_module_data)
168 |         ```
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:169:1
    |
167 |         product_id = add_product(pv_module_data)
168 |         ```
169 |         
    | ^^^^^^^^
170 |         ### Dynamische Keys generieren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:171:1
    |
170 |         ### Dynamische Keys generieren
171 |         
    | ^^^^^^^^
172 |         ```python
173 |         from product_db import get_product_with_dynamic_keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:174:1
    |
172 |         ```python
173 |         from product_db import get_product_with_dynamic_keys
174 |         
    | ^^^^^^^^
175 |         # Produkt mit Keys laden
176 |         product = get_product_with_dynamic_keys(product_id)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:177:1
    |
175 |         # Produkt mit Keys laden
176 |         product = get_product_with_dynamic_keys(product_id)
177 |         
    | ^^^^^^^^
178 |         # Keys f├╝r PDF verwenden
179 |         pdf_data = product['dynamic_keys']
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:182:1
    |
180 |         # Beispiel: pdf_data['SOLARMAX_PRO_450W_CAPACITY_W'] = 450.0
181 |         ```
182 |         
    | ^^^^^^^^
183 |         ### PDF-Template Integration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:184:1
    |
183 |         ### PDF-Template Integration
184 |         
    | ^^^^^^^^
185 |         ```html
186 |         <!-- PDF Template Beispiel -->
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:199:1
    |
197 |         st.markdown("""
198 |         ### Neue Funktionen
199 |         
    | ^^^^^^^^
200 |         #### `generate_product_dynamic_keys(product, category_specific=True)`
201 |         **Parameter:**
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:204:1
    |
202 |         - `product` (Dict): Produktdaten-Dictionary
203 |         - `category_specific` (bool): Nur kategorie-spezifische Keys generieren
204 |         
    | ^^^^^^^^
205 |         **R├╝ckgabe:** Dictionary mit dynamischen Keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:206:1
    |
205 |         **R├╝ckgabe:** Dictionary mit dynamischen Keys
206 |         
    | ^^^^^^^^
207 |         #### `get_product_with_dynamic_keys(product_id, category_specific=True)`
208 |         **Parameter:**
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:211:1
    |
209 |         - `product_id` (int): Produkt-ID
210 |         - `category_specific` (bool): Nur kategorie-spezifische Keys generieren
211 |         
    | ^^^^^^^^
212 |         **R├╝ckgabe:** Produkt-Dictionary mit 'dynamic_keys' Feld
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:213:1
    |
212 |         **R├╝ckgabe:** Produkt-Dictionary mit 'dynamic_keys' Feld
213 |         
    | ^^^^^^^^
214 |         #### `get_products_with_dynamic_keys(category=None, company_id=None, category_specific=True)`
215 |         **Parameter:**
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:219:1
    |
217 |         - `company_id` (int, optional): Firmen-ID-Filter
218 |         - `category_specific` (bool): Nur kategorie-spezifische Keys generieren
219 |         
    | ^^^^^^^^
220 |         **R├╝ckgabe:** Liste von Produkten mit dynamischen Keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:221:1
    |
220 |         **R├╝ckgabe:** Liste von Produkten mit dynamischen Keys
221 |         
    | ^^^^^^^^
222 |         #### `clear_all_products()`
223 |         **Parameter:** Keine
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:224:1
    |
222 |         #### `clear_all_products()`
223 |         **Parameter:** Keine
224 |         
    | ^^^^^^^^
225 |         **R├╝ckgabe:** bool - True bei Erfolg, False bei Fehler
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:226:1
    |
225 |         **R├╝ckgabe:** bool - True bei Erfolg, False bei Fehler
226 |         
    | ^^^^^^^^
227 |         **ÔÜá´©Å WARNUNG:** L├Âscht ALLE Produkte unwiderruflich!
228 |         """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:244:1
    |
242 |             - `width_m` - Breite in Metern
243 |             - `shadow_fading` - Schatten-Fading (Boolean)
244 |             
    | ^^^^^^^^^^^^
245 |             **Dynamische Keys:**
246 |             - `{NAME}_CAPACITY_W`
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:262:1
    |
260 |             - `smart_home` - Smart Home (Boolean)
261 |             - `efficiency_percent` - Wirkungsgrad
262 |             
    | ^^^^^^^^^^^^
263 |             **Dynamische Keys:**
264 |             - `{NAME}_POWER_KW`
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:279:1
    |
277 |             - `max_cycles` - Maximale Zyklen
278 |             - `upgrade` - Upgrade-Optionen
279 |             
    | ^^^^^^^^^^^^
280 |             **Dynamische Keys:**
281 |             - `{NAME}_STORAGE_POWER_KW`
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:291:1
    |
289 |         st.markdown("""
290 |         ### Produktdatenbank-Reset
291 |         
    | ^^^^^^^^
292 |         ÔÜá´©Å **WICHTIGE SICHERHEITSHINWEISE:**
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:293:1
    |
292 |         ÔÜá´©Å **WICHTIGE SICHERHEITSHINWEISE:**
293 |         
    | ^^^^^^^^
294 |         1. **Backup erstellen:** Erstellen Sie immer ein Backup vor dem Reset
295 |         2. **Doppelte Best├ñtigung:** Der Reset erfordert explizite Textbest├ñtigung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:298:1
    |
296 |         3. **Unwiderruflich:** Gel├Âschte Daten k├Ânnen nicht wiederhergestellt werden
297 |         4. **Produktionsumgebung:** Besondere Vorsicht in Produktionsumgebungen
298 |         
    | ^^^^^^^^
299 |         ### Empfohlenes Vorgehen:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:300:1
    |
299 |         ### Empfohlenes Vorgehen:
300 |         
    | ^^^^^^^^
301 |         ```python
302 |         # 1. Backup erstellen (manuell)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:304:1
    |
302 |         # 1. Backup erstellen (manuell)
303 |         # Exportieren Sie die Datenbank vor dem Reset
304 |         
    | ^^^^^^^^
305 |         # 2. Reset nur nach Best├ñtigung
306 |         if user_confirms_reset():
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_enhanced_product_management.py:308:1
    |
306 |         if user_confirms_reset():
307 |             clear_all_products()
308 |         
    | ^^^^^^^^
309 |         # 3. Neue Daten importieren
310 |         # Importieren Sie neue Produktdaten nach dem Reset
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_pdf_generator_enhanced.py:179:1
    |
177 |     Angebot f├╝r {{CUSTOMER_NAME}}
178 |     Angebotsnummer: {{OFFER_ID}}
179 |     
    | ^^^^
180 |     PV-Anlage Gesamtpreis: {{PV_GROSS_TOTAL}}
181 |     Nettosumme: {{PV_NET_TOTAL}}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> demo_pdf_generator_enhanced.py:183:1
    |
181 |     Nettosumme: {{PV_NET_TOTAL}}
182 |     MwSt.: {{PV_VAT_AMOUNT}}
183 |     
    | ^^^^
184 |     Komponenten:
185 |     - Module: {{COMPONENTS_MODULES_TOTAL}}
    |
help: Remove whitespace from blank line

F401 `pdf_pricing_templates.PricingTemplateConfig` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_generator_pricing.py:19:39
   |
17 |         generate_enhanced_pdf_with_pricing,
18 |     )
19 |     from pdf_pricing_templates import PricingTemplateConfig, PricingTemplateManager
   |                                       ^^^^^^^^^^^^^^^^^^^^^
20 |     from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
21 | except ImportError as e:
   |
help: Remove unused import: `pdf_pricing_templates.PricingTemplateConfig`

B007 Loop control variable `i` not used within loop body
   --> demo_pdf_generator_pricing.py:215:13
    |
213 |     if generator.pricing_keys:
214 |         print("\nSample generated pricing keys:")
215 |         for i, (key, value) in enumerate(list(generator.pricing_keys.items())[:5]):
    |             ^
216 |             print(f"  {key}: {value}")
217 |         if len(generator.pricing_keys) > 5:
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `i` not used within loop body
   --> demo_pdf_generator_pricing.py:372:9
    |
370 |     # Show some formatted keys
371 |     print("\nSample PDF-formatted keys:")
372 |     for i, (key, value) in enumerate(list(pdf_keys.items())[:3]):
    |         ^
373 |         print(f"  {key}: {value}")
    |
help: Rename unused `i` to `_i`

F401 `pdf_pricing_integration.generate_enhanced_pdf_with_pricing` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:13:9
   |
11 |         EnhancedPDFGenerator,
12 |         create_pricing_breakdown_section,
13 |         generate_enhanced_pdf_with_pricing,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
14 |         update_pdf_placeholders_with_pricing,
15 |     )
   |
help: Remove unused import

F401 `pdf_pricing_integration.update_pdf_placeholders_with_pricing` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:14:9
   |
12 |         create_pricing_breakdown_section,
13 |         generate_enhanced_pdf_with_pricing,
14 |         update_pdf_placeholders_with_pricing,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     )
16 |     from pdf_pricing_templates import (
   |
help: Remove unused import

F401 `pdf_pricing_templates.PricingTemplateConfig` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:17:9
   |
15 |     )
16 |     from pdf_pricing_templates import (
17 |         PricingTemplateConfig,
   |         ^^^^^^^^^^^^^^^^^^^^^
18 |         PricingTemplateManager,
19 |         create_combined_pricing_template,
   |
help: Remove unused import

F401 `pdf_pricing_templates.create_combined_pricing_template` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:19:9
   |
17 |         PricingTemplateConfig,
18 |         PricingTemplateManager,
19 |         create_combined_pricing_template,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
20 |         create_heatpump_pricing_template,
21 |         create_pv_pricing_template,
   |
help: Remove unused import

F401 `pdf_pricing_templates.create_heatpump_pricing_template` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:20:9
   |
18 |         PricingTemplateManager,
19 |         create_combined_pricing_template,
20 |         create_heatpump_pricing_template,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
21 |         create_pv_pricing_template,
22 |     )
   |
help: Remove unused import

F401 `pdf_pricing_templates.create_pv_pricing_template` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_pdf_pricing_integration.py:21:9
   |
19 |         create_combined_pricing_template,
20 |         create_heatpump_pricing_template,
21 |         create_pv_pricing_template,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |     )
23 |     from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
   |
help: Remove unused import

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> demo_pdf_pricing_integration.py:286:31
    |
285 |         # Show pricing keys
286 |         pricing_keys = [k for k in enhanced_data.keys() if any(
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^
287 |             prefix in k for prefix in ['PRICING', 'COMPONENT', 'TOTAL']
288 |         )]
    |
help: Remove `.keys()`

E402 Module level import not at top of file
  --> demo_session_state_pricing_integration.py:45:1
   |
44 |   # Now import our enhanced pricing functions
45 | / from calculations import (
46 | |     EnhancedPricingSessionManager,
47 | |     _collect_pricing_modifications_from_session,
48 | |     calculate_enhanced_pricing,
49 | |     get_enhanced_pricing_from_session,
50 | |     get_pricing_cache_info,
51 | |     invalidate_pricing_cache,
52 | |     update_pricing_on_component_change,
53 | | )
   | |_^
   |

F401 `solar_calculator_pricing_integration.SolarCalculatorPricingIntegration` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> demo_solar_calculator_pricing.py:12:9
   |
10 | try:
11 |     from solar_calculator_pricing_integration import (
12 |         SolarCalculatorPricingIntegration,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 |         get_pricing_display_for_ui,
14 |         integrate_pricing_with_solar_calculator,
   |
help: Remove unused import: `solar_calculator_pricing_integration.SolarCalculatorPricingIntegration`

SIM113 Use `enumerate()` for index variable `count` in `for` loop
  --> diagnose_pdf_problem.py:69:17
   |
67 |             for line_num, line_content in matches[:5]:  # Nur erste 5
68 |                 print(f"   Zeile {line_num:4d}: {line_content}")
69 |                 count += 1
   |                 ^^^^^^^^^^
70 |             if len(matches) > 5:
71 |                 print(f"   ... und {len(matches) - 5} weitere")
   |

E722 Do not use bare `except`
   --> direct_chart_test.py:153:13
    |
151 |                 text = page.extract_text()
152 |                 print(f"­ƒôØ Template-Text: '{text[:100]}...' ({len(text)} Zeichen)")
153 |             except:
    |             ^^^^^^
154 |                 print("ÔÜá´©Å Kein Text im Template extrahierbar")
    |

E701 Multiple statements on one line (colon)
  --> doc_output.py:44:42
   |
42 | # (Diese bleiben unver├ñndert)
43 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
44 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
   |                                          ^
45 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
46 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:45:42
   |
43 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
44 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
45 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
   |                                          ^
46 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
47 |     if key == 'active_company_id': return None
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:46:43
   |
44 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
45 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
46 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |                                           ^
47 |     if key == 'active_company_id': return None
48 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:47:34
   |
45 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
46 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
47 |     if key == 'active_company_id': return None
   |                                  ^
48 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
49 |     if key == 'company_logo_base64': return None
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:48:36
   |
46 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
47 |     if key == 'active_company_id': return None
48 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
   |                                    ^
49 |     if key == 'company_logo_base64': return None
50 |     return default
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:49:36
   |
47 |     if key == 'active_company_id': return None
48 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
49 |     if key == 'company_logo_base64': return None
   |                                    ^
50 |     return default
51 | def _dummy_save_admin_setting_pdf_ui(key, value): return False
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:55:20
   |
53 |     st.error("PDF-Generierungsfunktion (pdf_generator.py) nicht verf├╝gbar oder fehlerhaft (Dummy in pdf_ui.py aktiv).")
54 |     missing_args = [k for k in ['load_admin_setting_func', 'save_admin_setting_func', 'list_products_func', 'get_product_by_id_func'] ÔÇª
55 |     if missing_args: st.error(f"Dummy PDF Generator: Fehlende Kernfunktionen: {', '.join(missing_args)}")
   |                    ^
56 |     return
57 | def _dummy_get_active_company_details() -> dict[str, Any] | None:
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:73:42
   |
71 |     from pdf_generator import generate_offer_pdf
72 |     _generate_offer_pdf_safe = generate_offer_pdf
73 | except (ImportError, ModuleNotFoundError): pass
   |                                          ^
74 | except Exception: pass
   |

E701 Multiple statements on one line (colon)
  --> doc_output.py:74:17
   |
72 |     _generate_offer_pdf_safe = generate_offer_pdf
73 | except (ImportError, ModuleNotFoundError): pass
74 | except Exception: pass
   |                 ^
75 |
76 | # --- Hilfsfunktionen ---
   |

W291 Trailing whitespace
   --> doc_output.py:175:79
    |
173 |     #  PREMIUM PDF UI HEADER
174 |     st.markdown("""
175 |     <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                               ^
176 |                 border-radius: 20px; padding: 30px; margin: 20px 0; 
177 |                 box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:176:68
    |
174 |     st.markdown("""
175 |     <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
176 |                 border-radius: 20px; padding: 30px; margin: 20px 0; 
    |                                                                    ^
177 |                 box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center;">
178 |         <h1 style="color: white; margin: 0; font-weight: 700; font-size: 32px;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:217:79
    |
215 |     st.markdown("---")
216 |     st.markdown("""
217 |     <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
    |                                                                               ^
218 |                 border-radius: 15px; padding: 20px; margin: 15px 0; 
219 |                 box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:218:68
    |
216 |     st.markdown("""
217 |     <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
218 |                 border-radius: 15px; padding: 20px; margin: 15px 0; 
    |                                                                    ^
219 |                 box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
220 |         <h3 style="color: white; margin: 0; font-weight: 600; text-align: center;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:315:83
    |
313 |     with st.expander(" DIAGRAMM-KONFIGURATION", expanded=False):
314 |         st.markdown("""
315 |         <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                                   ^
316 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
317 |             <h4 style="margin: 0; color: white;"> ERWEITERTE DIAGRAMM-FEATURES</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:434:87
    |
432 |         if include_financing:
433 |             st.markdown("""
434 |             <div style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); 
    |                                                                                       ^
435 |                         border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
436 |                 <h4 style="margin: 0; color: white;"> FINANZIERUNGSOPTIONEN</h4>
    |
help: Remove trailing whitespace

F841 Local variable `show_irradiance_map` is assigned to but never used
   --> doc_output.py:579:21
    |
577 |                 with pvgis_col1:
578 |                     st.markdown("** Standort-Daten:**")
579 |                     show_irradiance_map = st.checkbox(" Einstrahlungskarte", value=True, key="pdf_irradiance_map")
    |                     ^^^^^^^^^^^^^^^^^^^
580 |                     show_weather_data = st.checkbox(" Wetterdaten", value=True, key="pdf_weather_data")
    |
help: Remove assignment to unused variable `show_irradiance_map`

F841 Local variable `show_weather_data` is assigned to but never used
   --> doc_output.py:580:21
    |
578 |                     st.markdown("** Standort-Daten:**")
579 |                     show_irradiance_map = st.checkbox(" Einstrahlungskarte", value=True, key="pdf_irradiance_map")
580 |                     show_weather_data = st.checkbox(" Wetterdaten", value=True, key="pdf_weather_data")
    |                     ^^^^^^^^^^^^^^^^^
581 |
582 |                 with pvgis_col2:
    |
help: Remove assignment to unused variable `show_weather_data`

F841 Local variable `show_monthly_data` is assigned to but never used
   --> doc_output.py:584:21
    |
582 |                 with pvgis_col2:
583 |                     st.markdown("** PV GIS Analysen:**")
584 |                     show_monthly_data = st.checkbox(" Monatliche Daten", value=True, key="pdf_monthly_data")
    |                     ^^^^^^^^^^^^^^^^^
585 |                     show_optimal_tilt = st.checkbox(" Optimaler Neigungswinkel", value=False, key="pdf_optimal_tilt")
    |
help: Remove assignment to unused variable `show_monthly_data`

F841 Local variable `show_optimal_tilt` is assigned to but never used
   --> doc_output.py:585:21
    |
583 |                     st.markdown("** PV GIS Analysen:**")
584 |                     show_monthly_data = st.checkbox(" Monatliche Daten", value=True, key="pdf_monthly_data")
585 |                     show_optimal_tilt = st.checkbox(" Optimaler Neigungswinkel", value=False, key="pdf_optimal_tilt")
    |                     ^^^^^^^^^^^^^^^^^
586 |
587 |     #  UNLIMITED CUSTOM TEXTS & IMAGES
    |
help: Remove assignment to unused variable `show_optimal_tilt`

W291 Trailing whitespace
   --> doc_output.py:590:83
    |
588 |     with st.expander(" UNLIMITED CUSTOM TEXTS & IMAGES", expanded=False):
589 |         st.markdown("""
590 |         <div style="background: linear-gradient(135deg, #ff7b7b 0%, #667eea 100%); 
    |                                                                                   ^
591 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
592 |             <h4 style="margin: 0; color: white;"> UNBEGRENZTE ANPASSUNGSM├ûGLICHKEITEN</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:831:83
    |
829 |     with st.expander(" PDF DRAG & DROP EDITOR (REAL-TIME)", expanded=False):
830 |         st.markdown("""
831 |         <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                                   ^
832 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
833 |             <h4 style="margin: 0; color: white;"> INTERAKTIVER PDF EDITOR</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> doc_output.py:952:34
    |
950 |                 ** Standard Charts:**
951 |                 -  Balkendiagramm
952 |                 -  Liniendiagramm  
    |                                  ^^
953 |                 - ­ƒÑº Kreisdiagramm
954 |                 -  Fl├ñchendiagramm
    |
help: Remove trailing whitespace

SIM102 Use a single `if` statement instead of nested `if` statements
   --> doc_output.py:987:13
    |
985 |                   """)
986 |
987 | /             if uploaded_image:
988 | |                 if st.button(" Bild zur Drag & Drop Zone", use_container_width=True):
    | |_____________________________________________________________________________________^
989 |                       st.success(f" Bild '{uploaded_image.name}' hinzugef├╝gt")
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
    --> doc_output.py:1057:36
     |
1055 |                 st.markdown("""
1056 |                 ** Templates:**
1057 |                 -  Angebot-Template  
     |                                    ^^
1058 |                 -  Report-Template
1059 |                 -  Pr├ñsentation
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:1072:81
     |
1070 |         # Simulated Canvas
1071 |         st.markdown("""
1072 |         <div style="border: 2px dashed #ccc; border-radius: 10px; padding: 30px; 
     |                                                                                 ^
1073 |                     min-height: 300px; background: #f8f9fa; text-align: center;">
1074 |             <h3 style="color: #666; margin-top: 50px;"> DRAG & DROP CANVAS</h3>
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> doc_output.py:1077:1
     |
1075 | ÔÇª     <p style="color: #888;">Ziehen Sie Elemente aus der Bibliothek hierher</p>
1076 | ÔÇª     <p style="color: #888;"> Real-Time Vorschau |  Auto-Save |  Grid-Snap</p>
1077 | ÔÇª     
 ^^^^^^^^^^^^
1078 | ÔÇª     <div style="margin: 20px 0; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
1079 | ÔÇª         <h4> BEISPIEL PDF-SEITE</h4>
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> doc_output.py:1144:83
     |
1142 |     with st.expander(" PDF UI VERSCH├ûNERUNG (ADVANCED STYLING)", expanded=False):
1143 |         st.markdown("""
1144 |         <div style="background: linear-gradient(135deg, #ff9a56 0%, #ff6b95 100%); 
     |                                                                                   ^
1145 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
1146 |             <h4 style="margin: 0; color: white;"> ERWEITERTE PDF-GESTALTUNG</h4>
     |
help: Remove trailing whitespace

F841 Local variable `accent_style` is assigned to but never used
    --> doc_output.py:1269:17
     |
1267 |             with accent_col1:
1268 |                 st.markdown("** AKZENT-STILE:**")
1269 |                 accent_style = st.selectbox(
     |                 ^^^^^^^^^^^^
1270 |                     "Stil w├ñhlen:",
1271 |                     ["minimal", "bold", "elegant", "playful", "corporate"]
     |
help: Remove assignment to unused variable `accent_style`

F841 Local variable `accent_intensity` is assigned to but never used
    --> doc_output.py:1274:17
     |
1272 |                 )
1273 |
1274 |                 accent_intensity = st.slider(
     |                 ^^^^^^^^^^^^^^^^
1275 |                     "Intensit├ñt:",
1276 |                     min_value=10, max_value=100, value=70, step=10
     |
help: Remove assignment to unused variable `accent_intensity`

F841 Local variable `accent_areas` is assigned to but never used
    --> doc_output.py:1281:17
     |
1279 |             with accent_col2:
1280 |                 st.markdown("** AKZENT-BEREICHE:**")
1281 |                 accent_areas = st.multiselect(
     |                 ^^^^^^^^^^^^
1282 |                     "Bereiche hervorheben:",
1283 |                     ["Headers", "Charts", "Tables", "Callouts", "Buttons", "Borders"],
     |
help: Remove assignment to unused variable `accent_areas`

F841 Local variable `chart_palette` is assigned to but never used
    --> doc_output.py:1294:17
     |
1292 |             with palette_col1:
1293 |                 st.markdown("** Vordefiniert:**")
1294 |                 chart_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^
1295 |                     "Palette:",
1296 |                     ["viridis", "plasma", "inferno", "magma", "coolwarm", "seismic"]
     |
help: Remove assignment to unused variable `chart_palette`

F841 Local variable `categorical_palette` is assigned to but never used
    --> doc_output.py:1301:17
     |
1299 |             with palette_col2:
1300 |                 st.markdown("** Kategorisch:**")
1301 |                 categorical_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^^^^^^^
1302 |                     "Kategorien:",
1303 |                     ["tab10", "tab20", "set1", "set2", "set3", "paired"]
     |
help: Remove assignment to unused variable `categorical_palette`

F841 Local variable `diverging_palette` is assigned to but never used
    --> doc_output.py:1308:17
     |
1306 |             with palette_col3:
1307 |                 st.markdown("** Divergierend:**")
1308 |                 diverging_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^^^^^
1309 |                     "Divergenz:",
1310 |                     ["RdYlBu", "RdBu", "BrBG", "PiYG", "PRGn", "RdYlGn"]
     |
help: Remove assignment to unused variable `diverging_palette`

F841 Local variable `heading_style` is assigned to but never used
    --> doc_output.py:1331:13
     |
1330 |         with typo_col2:
1331 |             heading_style = st.selectbox(
     |             ^^^^^^^^^^^^^
1332 |                 " ├£berschriften-Stil:",
1333 |                 ["bold", "light", "medium", "black", "condensed"]
     |
help: Remove assignment to unused variable `heading_style`

F841 Local variable `line_height` is assigned to but never used
    --> doc_output.py:1336:13
     |
1334 |             )
1335 |
1336 |             line_height = st.slider(
     |             ^^^^^^^^^^^
1337 |                 " Zeilenh├Âhe:",
1338 |                 min_value=1.0, max_value=2.0, value=1.4, step=0.1
     |
help: Remove assignment to unused variable `line_height`

F841 Local variable `letter_spacing` is assigned to but never used
    --> doc_output.py:1347:13
     |
1345 |             )
1346 |
1347 |             letter_spacing = st.slider(
     |             ^^^^^^^^^^^^^^
1348 |                 " Buchstabenabstand:",
1349 |                 min_value=0.0, max_value=2.0, value=0.0, step=0.1
     |
help: Remove assignment to unused variable `letter_spacing`

F841 Local variable `margin_top` is assigned to but never used
    --> doc_output.py:1360:13
     |
1358 |         with layout_col1:
1359 |             st.markdown("** SEITENR├äNDER:**")
1360 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
     |             ^^^^^^^^^^
1361 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1362 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_top`

F841 Local variable `margin_bottom` is assigned to but never used
    --> doc_output.py:1361:13
     |
1359 |             st.markdown("** SEITENR├äNDER:**")
1360 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
1361 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
     |             ^^^^^^^^^^^^^
1362 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
1363 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_bottom`

F841 Local variable `margin_left` is assigned to but never used
    --> doc_output.py:1362:13
     |
1360 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
1361 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1362 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
     |             ^^^^^^^^^^^
1363 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_left`

F841 Local variable `margin_right` is assigned to but never used
    --> doc_output.py:1363:13
     |
1361 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1362 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
1363 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |             ^^^^^^^^^^^^
1364 |
1365 |         with layout_col2:
     |
help: Remove assignment to unused variable `margin_right`

F841 Local variable `section_spacing` is assigned to but never used
    --> doc_output.py:1367:13
     |
1365 |         with layout_col2:
1366 |             st.markdown("** ELEMENT-ABST├äNDE:**")
1367 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
     |             ^^^^^^^^^^^^^^^
1368 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
1369 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |
help: Remove assignment to unused variable `section_spacing`

F841 Local variable `paragraph_spacing` is assigned to but never used
    --> doc_output.py:1368:13
     |
1366 |             st.markdown("** ELEMENT-ABST├äNDE:**")
1367 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
1368 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
     |             ^^^^^^^^^^^^^^^^^
1369 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |
help: Remove assignment to unused variable `paragraph_spacing`

F841 Local variable `chart_spacing` is assigned to but never used
    --> doc_output.py:1369:13
     |
1367 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
1368 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
1369 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |             ^^^^^^^^^^^^^
1370 |
1371 |         with layout_col3:
     |
help: Remove assignment to unused variable `chart_spacing`

F841 Local variable `column_count` is assigned to but never used
    --> doc_output.py:1375:17
     |
1373 |             multi_column = st.checkbox(" Mehrspaltig")
1374 |             if multi_column:
1375 |                 column_count = st.slider("Spalten:", 2, 4, 2)
     |                 ^^^^^^^^^^^^
1376 |                 column_gap = st.slider("Spalten-Abstand:", 5, 20, 10)
     |
help: Remove assignment to unused variable `column_count`

F841 Local variable `column_gap` is assigned to but never used
    --> doc_output.py:1376:17
     |
1374 |             if multi_column:
1375 |                 column_count = st.slider("Spalten:", 2, 4, 2)
1376 |                 column_gap = st.slider("Spalten-Abstand:", 5, 20, 10)
     |                 ^^^^^^^^^^
1377 |
1378 |             watermark = st.checkbox(" Wasserzeichen")
     |
help: Remove assignment to unused variable `column_gap`

F841 Local variable `watermark_text` is assigned to but never used
    --> doc_output.py:1380:17
     |
1378 |             watermark = st.checkbox(" Wasserzeichen")
1379 |             if watermark:
1380 |                 watermark_text = st.text_input("Text:", "SOLAR ANALYSE")
     |                 ^^^^^^^^^^^^^^
1381 |                 watermark_opacity = st.slider("Transparenz:", 0.1, 0.5, 0.1)
     |
help: Remove assignment to unused variable `watermark_text`

F841 Local variable `watermark_opacity` is assigned to but never used
    --> doc_output.py:1381:17
     |
1379 |             if watermark:
1380 |                 watermark_text = st.text_input("Text:", "SOLAR ANALYSE")
1381 |                 watermark_opacity = st.slider("Transparenz:", 0.1, 0.5, 0.1)
     |                 ^^^^^^^^^^^^^^^^^
1382 |
1383 |         # Advanced Design Features
     |
help: Remove assignment to unused variable `watermark_opacity`

F841 Local variable `bg_gradient` is assigned to but never used
    --> doc_output.py:1401:21
     |
1399 |                     bg_color = st.color_picker("Farbe:", "#ffffff")
1400 |                 elif background_type == "gradient":
1401 |                     bg_gradient = st.selectbox("Gradient:", ["linear", "radial", "diagonal"])
     |                     ^^^^^^^^^^^
1402 |                 elif background_type == "pattern":
1403 |                     bg_pattern = st.selectbox("Muster:", ["dots", "lines", "grid", "waves"])
     |
help: Remove assignment to unused variable `bg_gradient`

F841 Local variable `bg_pattern` is assigned to but never used
    --> doc_output.py:1403:21
     |
1401 |                     bg_gradient = st.selectbox("Gradient:", ["linear", "radial", "diagonal"])
1402 |                 elif background_type == "pattern":
1403 |                     bg_pattern = st.selectbox("Muster:", ["dots", "lines", "grid", "waves"])
     |                     ^^^^^^^^^^
1404 |
1405 |             with bg_col2:
     |
help: Remove assignment to unused variable `bg_pattern`

W291 Trailing whitespace
    --> doc_output.py:1431:53
     |
1429 |                 # Border-Vorschau
1430 |                 st.markdown(f"""
1431 |                 <div style="width:100%; height:80px; 
     |                                                     ^
1432 |                            border: {border_width}px {border_style} {border_color}; 
1433 |                            border-radius: {border_radius}px; 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:1432:83
     |
1430 |                 st.markdown(f"""
1431 |                 <div style="width:100%; height:80px; 
1432 |                            border: {border_width}px {border_style} {border_color}; 
     |                                                                                   ^
1433 |                            border-radius: {border_radius}px; 
1434 |                            background: #f9f9f9; 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:1433:61
     |
1431 |                 <div style="width:100%; height:80px; 
1432 |                            border: {border_width}px {border_style} {border_color}; 
1433 |                            border-radius: {border_radius}px; 
     |                                                             ^
1434 |                            background: #f9f9f9; 
1435 |                            display: flex; align-items: center; justify-content: center;
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:1434:48
     |
1432 | ÔÇª                     border: {border_width}px {border_style} {border_color}; 
1433 | ÔÇª                     border-radius: {border_radius}px; 
1434 | ÔÇª                     background: #f9f9f9; 
     |                                           ^
1435 | ÔÇª                     display: flex; align-items: center; justify-content: center;
1436 | ÔÇª                     color: #666;">
     |
help: Remove trailing whitespace

F841 Local variable `shadow_blur` is assigned to but never used
    --> doc_output.py:1448:21
     |
1446 |                 shadow_enabled = st.checkbox("Schatten aktivieren")
1447 |                 if shadow_enabled:
1448 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
     |                     ^^^^^^^^^^^
1449 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1450 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
     |
help: Remove assignment to unused variable `shadow_blur`

F841 Local variable `shadow_offset_x` is assigned to but never used
    --> doc_output.py:1449:21
     |
1447 |                 if shadow_enabled:
1448 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
1449 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
     |                     ^^^^^^^^^^^^^^^
1450 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
1451 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |
help: Remove assignment to unused variable `shadow_offset_x`

F841 Local variable `shadow_offset_y` is assigned to but never used
    --> doc_output.py:1450:21
     |
1448 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
1449 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1450 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
     |                     ^^^^^^^^^^^^^^^
1451 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |
help: Remove assignment to unused variable `shadow_offset_y`

F841 Local variable `shadow_color` is assigned to but never used
    --> doc_output.py:1451:21
     |
1449 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1450 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
1451 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |                     ^^^^^^^^^^^^
1452 |
1453 |             with effects_col2:
     |
help: Remove assignment to unused variable `shadow_color`

F841 Local variable `glow_effect` is assigned to but never used
    --> doc_output.py:1455:17
     |
1453 |             with effects_col2:
1454 |                 st.markdown("** SPEZIAL-EFFEKTE:**")
1455 |                 glow_effect = st.checkbox(" Glow-Effekt")
     |                 ^^^^^^^^^^^
1456 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1457 |                 glass_effect = st.checkbox(" Glas-Effekt")
     |
help: Remove assignment to unused variable `glow_effect`

F841 Local variable `emboss_effect` is assigned to but never used
    --> doc_output.py:1456:17
     |
1454 |                 st.markdown("** SPEZIAL-EFFEKTE:**")
1455 |                 glow_effect = st.checkbox(" Glow-Effekt")
1456 |                 emboss_effect = st.checkbox(" Pr├ñgung")
     |                 ^^^^^^^^^^^^^
1457 |                 glass_effect = st.checkbox(" Glas-Effekt")
1458 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |
help: Remove assignment to unused variable `emboss_effect`

F841 Local variable `glass_effect` is assigned to but never used
    --> doc_output.py:1457:17
     |
1455 |                 glow_effect = st.checkbox(" Glow-Effekt")
1456 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1457 |                 glass_effect = st.checkbox(" Glas-Effekt")
     |                 ^^^^^^^^^^^^
1458 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |
help: Remove assignment to unused variable `glass_effect`

F841 Local variable `neon_effect` is assigned to but never used
    --> doc_output.py:1458:17
     |
1456 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1457 |                 glass_effect = st.checkbox(" Glas-Effekt")
1458 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |                 ^^^^^^^^^^^
1459 |
1460 |         with advanced_design_tabs[3]:  # Responsive
     |
help: Remove assignment to unused variable `neon_effect`

F841 Local variable `auto_scaling` is assigned to but never used
    --> doc_output.py:1466:17
     |
1465 |             with responsive_col1:
1466 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
     |                 ^^^^^^^^^^^^
1467 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
1468 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |
help: Remove assignment to unused variable `auto_scaling`

F841 Local variable `mobile_optimized` is assigned to but never used
    --> doc_output.py:1467:17
     |
1465 |             with responsive_col1:
1466 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
1467 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
     |                 ^^^^^^^^^^^^^^^^
1468 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |
help: Remove assignment to unused variable `mobile_optimized`

F841 Local variable `print_optimized` is assigned to but never used
    --> doc_output.py:1468:17
     |
1466 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
1467 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
1468 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |                 ^^^^^^^^^^^^^^^
1469 |
1470 |             with responsive_col2:
     |
help: Remove assignment to unused variable `print_optimized`

F841 Local variable `custom_width` is assigned to but never used
    --> doc_output.py:1477:21
     |
1476 |                 if page_format == "Custom":
1477 |                     custom_width = st.number_input("Breite (mm):", value=210)
     |                     ^^^^^^^^^^^^
1478 |                     custom_height = st.number_input("H├Âhe (mm):", value=297)
     |
help: Remove assignment to unused variable `custom_width`

F841 Local variable `custom_height` is assigned to but never used
    --> doc_output.py:1478:21
     |
1476 |                 if page_format == "Custom":
1477 |                     custom_width = st.number_input("Breite (mm):", value=210)
1478 |                     custom_height = st.number_input("H├Âhe (mm):", value=297)
     |                     ^^^^^^^^^^^^^
1479 |
1480 |         # Design Preview
     |
help: Remove assignment to unused variable `custom_height`

W293 Blank line contains whitespace
    --> doc_output.py:1492:1
     |
1490 |                 <p style="margin: 5px 0 0 0; opacity: 0.9;">Live-Vorschau Ihres PDF-Designs</p>
1491 |             </div>
1492 |             
     | ^^^^^^^^^^^^
1493 |             <div style="margin: 15px 0;">
1494 |                 <h4 style="color: #333; margin-bottom: 10px;"> Beispiel-Chart</h4>
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> doc_output.py:1499:1
     |
1497 |                 </div>
1498 |             </div>
1499 |             
     | ^^^^^^^^^^^^
1500 |             <div style="margin: 15px 0;">
1501 |                 <h4 style="color: #333;"> Beispiel-Text</h4>
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> doc_output.py:1503:124
     |
1501 |                 <h4 style="color: #333;"> Beispiel-Text</h4>
1502 |                 <p style="color: #666; line-height: 1.6;">
1503 |                     Dies ist ein Beispieltext, der zeigt, wie Ihr PDF mit den aktuellen Design-Einstellungen aussehen wird. 
     |                                                                                                                            ^
1504 |                     Schriftart: {font_family}, Gr├Â├ƒe: {font_size_base}pt, Ausrichtung: {text_alignment}
1505 |                 </p>
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> doc_output.py:1507:1
     |
1505 |                 </p>
1506 |             </div>
1507 |             
     | ^^^^^^^^^^^^
1508 |             <div style="background: #f8f9fa; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea;">
1509 |                 <strong> Design-Status:</strong> {current_theme.title()} Theme aktiv mit erweiterten Styling-Optionen
     |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
    --> doc_output.py:1552:13
     |
1550 |           with text_col2:
1551 |               st.markdown("<br>", unsafe_allow_html=True)
1552 | /             if st.button(" Text hinzuf├╝gen", key="add_custom_text"):
1553 | |                 if new_text_title and new_text_content:
     | |_______________________________________________________^
1554 |                       st.session_state.pdf_custom_texts.append({
1555 |                           'title': new_text_title,
     |
help: Combine `if` statements using `and`

F841 Local variable `image_position` is assigned to but never used
    --> doc_output.py:1588:13
     |
1587 |             # Bild-Positionierung
1588 |             image_position = st.selectbox(
     |             ^^^^^^^^^^^^^^
1589 |                 "Bild-Position im PDF",
1590 |                 options=["TOP", "MIDDLE", "BOTTOM", "SIDEBAR"],
     |
help: Remove assignment to unused variable `image_position`

F841 Local variable `page_orientation` is assigned to but never used
    --> doc_output.py:1606:13
     |
1604 |         with layout_col1:
1605 |             st.markdown("** Seitenlayout:**")
1606 |             page_orientation = st.selectbox(
     |             ^^^^^^^^^^^^^^^^
1607 |                 "Seitenausrichtung",
1608 |                 options=["PORTRAIT", "LANDSCAPE"],
     |
help: Remove assignment to unused variable `page_orientation`

F841 Local variable `margins` is assigned to but never used
    --> doc_output.py:1613:13
     |
1611 |             )
1612 |
1613 |             margins = st.selectbox(
     |             ^^^^^^^
1614 |                 "Seitenr├ñnder",
1615 |                 options=["NORMAL", "NARROW", "WIDE", "CUSTOM"],
     |
help: Remove assignment to unused variable `margins`

F841 Local variable `header_style` is assigned to but never used
    --> doc_output.py:1627:13
     |
1625 |         with layout_col2:
1626 |             st.markdown("** Styling:**")
1627 |             header_style = st.selectbox(
     |             ^^^^^^^^^^^^
1628 |                 "Kopfzeilen-Stil",
1629 |                 options=["MODERN", "CLASSIC", "MINIMAL", "BOLD"],
     |
help: Remove assignment to unused variable `header_style`

F841 Local variable `add_watermark` is assigned to but never used
    --> doc_output.py:1647:13
     |
1645 |         with layout_col3:
1646 |             st.markdown("** Effekte:**")
1647 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
     |             ^^^^^^^^^^^^^
1648 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
1649 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |
help: Remove assignment to unused variable `add_watermark`

F841 Local variable `add_page_numbers` is assigned to but never used
    --> doc_output.py:1648:13
     |
1646 |             st.markdown("** Effekte:**")
1647 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
1648 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
     |             ^^^^^^^^^^^^^^^^
1649 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |
help: Remove assignment to unused variable `add_page_numbers`

F841 Local variable `add_footer` is assigned to but never used
    --> doc_output.py:1649:13
     |
1647 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
1648 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
1649 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |             ^^^^^^^^^^
1650 |
1651 |     #  DRAG & DROP BEARBEITUNG
     |
help: Remove assignment to unused variable `add_footer`

W291 Trailing whitespace
    --> doc_output.py:1664:29
     |
1662 |                 st.markdown("""
1663 |                 -  Text-Bl├Âcke
1664 |                 -  Diagramme  
     |                             ^^
1665 |                 -  Bilder
1666 |                 -  Tabellen
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:1673:74
     |
1671 |                 st.markdown("** Drag & Drop Zone:**")
1672 |                 st.markdown("""
1673 |                 <div style="border: 2px dashed #ccc; border-radius: 10px; 
     |                                                                          ^
1674 |                            padding: 40px; text-align: center; margin: 10px 0;">
1675 |                     <p> Ziehen Sie Elemente hierher</p>
     |
help: Remove trailing whitespace

F841 Local variable `show_data_labels` is assigned to but never used
    --> doc_output.py:1703:13
     |
1701 |         with col2:
1702 |             st.markdown("**Erweiterte Chart-Optionen:**")
1703 |             show_data_labels = st.checkbox(" Datenbeschriftungen anzeigen", value=True)
     |             ^^^^^^^^^^^^^^^^
1704 |             show_legend = st.checkbox(" Legende anzeigen", value=True)
1705 |             animated_charts = st.checkbox(" Animierte Diagramme", value=False)
     |
help: Remove assignment to unused variable `show_data_labels`

F841 Local variable `animated_charts` is assigned to but never used
    --> doc_output.py:1705:13
     |
1703 |             show_data_labels = st.checkbox(" Datenbeschriftungen anzeigen", value=True)
1704 |             show_legend = st.checkbox(" Legende anzeigen", value=True)
1705 |             animated_charts = st.checkbox(" Animierte Diagramme", value=False)
     |             ^^^^^^^^^^^^^^^
1706 |
1707 |             if color_scheme == "Benutzerdefiniert":
     |
help: Remove assignment to unused variable `animated_charts`

F841 Local variable `pvgis_detail_level` is assigned to but never used
    --> doc_output.py:1799:17
     |
1797 |             include_pvgis = st.checkbox(" PV GIS Daten einbinden", value=True, key="pdf_include_pvgis")
1798 |             if include_pvgis:
1799 |                 pvgis_detail_level = st.select_slider(
     |                 ^^^^^^^^^^^^^^^^^^
1800 |                     "PV GIS Detailgrad",
1801 |                     options=["Basis", "Standard", "Erweitert", "Vollst├ñndig"],
     |
help: Remove assignment to unused variable `pvgis_detail_level`

F841 Local variable `show_dragdrop_later` is assigned to but never used
    --> doc_output.py:1821:25
     |
1819 |                     with st.container():
1820 |                         st.info(" Drag & Drop Manager aktiviert - Scrollen Sie nach unten f├╝r die Bearbeitungsoberfl├ñche")
1821 |                         show_dragdrop_later = True
     |                         ^^^^^^^^^^^^^^^^^^^
1822 |                 except ImportError:
1823 |                     st.warning(" Drag & Drop System nicht verf├╝gbar")
     |
help: Remove assignment to unused variable `show_dragdrop_later`

F841 Local variable `pdf_quality` is assigned to but never used
    --> doc_output.py:1827:13
     |
1825 |         with col2:
1826 |             st.markdown("**PDF-Format Optionen:**")
1827 |             pdf_quality = st.select_slider(
     |             ^^^^^^^^^^^
1828 |                 "PDF-Qualit├ñt",
1829 |                 options=["Standard", "Hoch", "Premium", "Ultra"],
     |
help: Remove assignment to unused variable `pdf_quality`

F841 Local variable `page_layout` is assigned to but never used
    --> doc_output.py:1833:13
     |
1831 |             )
1832 |
1833 |             page_layout = st.selectbox(
     |             ^^^^^^^^^^^
1834 |                 "Seitenlayout",
1835 |                 options=["A4 Hochformat", "A4 Querformat", "A3 Hochformat"],
     |
help: Remove assignment to unused variable `page_layout`

E702 Multiple statements on one line (semicolon)
    --> doc_output.py:1868:107
     |
1866 |         st.caption(f"Angebot f├╝r Firma: **{active_company.get('name', 'Unbekannt')}** (ID: {active_company_id_for_docs})")
1867 |     else:
1868 |         st.warning("Keine aktive Firma ausgew├ñhlt. PDF verwendet Fallback-Daten f├╝r Firmeninformationen."); company_info_for_pdf = {ÔÇª
     |                                                                                                           ^
1869 |
1870 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> doc_output.py:1868:165
     |
1866 | ÔÇªcompany_id_for_docs})")
1867 | ÔÇª
1868 | ÔÇªonen."); company_info_for_pdf = {"name": "Ihre Firma (Fallback)"}; active_company_id_for_docs = 0
     |                                                                   ^
1869 | ÔÇª
1870 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1874:55
     |
1872 |         offer_title_templates = load_admin_setting_func('pdf_offer_title_templates', [])
1873 |         cover_letter_templates = load_admin_setting_func('pdf_cover_letter_templates', [])
1874 |         if not isinstance(title_image_templates, list): title_image_templates = []
     |                                                       ^
1875 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
1876 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1875:55
     |
1873 |         cover_letter_templates = load_admin_setting_func('pdf_cover_letter_templates', [])
1874 |         if not isinstance(title_image_templates, list): title_image_templates = []
1875 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
     |                                                       ^
1876 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
1877 |     except Exception as e_load_tpl:
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1876:56
     |
1874 |         if not isinstance(title_image_templates, list): title_image_templates = []
1875 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
1876 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
     |                                                        ^
1877 |     except Exception as e_load_tpl:
1878 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> doc_output.py:1878:61
     |
1876 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
1877 |     except Exception as e_load_tpl:
1878 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
     |                                                             ^
1879 |
1880 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1880:70
     |
1878 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
1879 |
1880 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
     |                                                                      ^
1881 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1882 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1881:74
     |
1880 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
1881 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
     |                                                                          ^
1882 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1883 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1882:70
     |
1880 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
1881 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1882 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
     |                                                                      ^
1883 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1884 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1883:78
     |
1881 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1882 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1883 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
     |                                                                              ^
1884 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
1885 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1884:71
     |
1882 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1883 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1884 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
     |                                                                       ^
1885 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:1885:79
     |
1883 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1884 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
1885 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |                                                                               ^
1886 |
1887 |     if 'pdf_inclusion_options' not in st.session_state:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> doc_output.py:2032:29
     |
2030 |   ÔÇª                 doc_label_item = f"{doc_item.get('display_name', doc_item.get('file_name', 'Unbenannt'))} ({doc_item.get('documentÔÇª
2031 |   ÔÇª                 is_doc_checked_by_default_col1 = doc_id_item in st.session_state.pdf_inclusion_options.get("company_document_ids_tÔÇª
2032 | / ÔÇª                 if st.checkbox(doc_label_item, value=is_doc_checked_by_default_col1, key=f"pdf_cb_company_doc_{doc_id_item}_v12_foÔÇª
2033 | | ÔÇª                     if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(doc_ÔÇª
     | |__________________________________________________________________________________^
2034 |   ÔÇª         st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2035 |   ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese Firma hiÔÇª
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> doc_output.py:2033:92
     |
2031 | ÔÇª                 is_doc_checked_by_default_col1 = doc_id_item in st.session_state.pdf_inclusion_options.get("company_document_ids_tÔÇª
2032 | ÔÇª                 if st.checkbox(doc_label_item, value=is_doc_checked_by_default_col1, key=f"pdf_cb_company_doc_{doc_id_item}_v12_foÔÇª
2033 | ÔÇª                     if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(doc_ÔÇª
     |                                                                                  ^
2034 | ÔÇª         st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2035 | ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese Firma hiÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:2035:21
     |
2033 | ÔÇª                         if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(ÔÇª
2034 | ÔÇª             st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2035 | ÔÇª         else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese FirmÔÇª
     |               ^
2036 | ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_select_active_company_for_docs", "Aktive Firma nicht korrekt f├╝r DokumentenauswahÔÇª
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:2036:17
     |
2034 |                     st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2035 |                 else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diesÔÇª
2036 |             else: st.caption(get_text_pdf_ui(texts, "pdf_select_active_company_for_docs", "Aktive Firma nicht korrekt f├╝r DokumentenÔÇª
     |                 ^
2037 |
2038 |         with col_pdf_content2:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> doc_output.py:2054:17
     |
2052 |   ÔÇª     for section_key, section_label_from_map in default_pdf_sections_map.items():
2053 |   ÔÇª         is_section_checked_by_default_col2 = section_key in current_selected_in_state_col2
2054 | / ÔÇª         if st.checkbox(section_label_from_map, value=is_section_checked_by_default_col2, key=f"pdf_section_cb_{section_key}_v12_foÔÇª
2055 | | ÔÇª             if section_key not in temp_selected_main_sections_ui_col2: temp_selected_main_sections_ui_col2.append(section_key)
     | |________________________________________________________________________^
2056 |   ÔÇª     st.session_state.pdf_selected_main_sections = temp_selected_main_sections_ui_col2
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> doc_output.py:2055:78
     |
2053 | ÔÇª         is_section_checked_by_default_col2 = section_key in current_selected_in_state_col2
2054 | ÔÇª         if st.checkbox(section_label_from_map, value=is_section_checked_by_default_col2, key=f"pdf_section_cb_{section_key}_v12_foÔÇª
2055 | ÔÇª             if section_key not in temp_selected_main_sections_ui_col2: temp_selected_main_sections_ui_col2.append(section_key)
     |                                                                        ^
2056 | ÔÇª     st.session_state.pdf_selected_main_sections = temp_selected_main_sections_ui_col2
     |

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> doc_output.py:2110:47
     |
2108 | ÔÇª         'amortisation_chart_bytes': get_text_pdf_ui(texts, "pdf_chart_label_pvvis_amort", "PV Visuals: Amortisation"),
2109 | ÔÇª     }
2110 | ÔÇª     available_chart_keys = [k for k in analysis_results.keys() if k.endswith('_chart_bytes') and analysis_results[k] is not None]
     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2111 | ÔÇª     ordered_display_keys = [k_map for k_map in chart_key_to_friendly_name_map if k_map in available_chart_keys]
2112 | ÔÇª     for k_avail in available_chart_keys:
     |
help: Remove `.keys()`

E701 Multiple statements on one line (colon)
    --> doc_output.py:2113:59
     |
2111 |                 ordered_display_keys = [k_map for k_map in chart_key_to_friendly_name_map if k_map in available_chart_keys]
2112 |                 for k_avail in available_chart_keys:
2113 |                     if k_avail not in ordered_display_keys: ordered_display_keys.append(k_avail)
     |                                                           ^
2114 |
2115 |                 current_selected_charts_in_state = st.session_state.pdf_inclusion_options.get("selected_charts_for_pdf", [])
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> doc_output.py:2119:21
     |
2117 |   ÔÇª             friendly_name = chart_key_to_friendly_name_map.get(chart_key, chart_key.replace('_chart_bytes', '').replace('_', ' ').ÔÇª
2118 |   ÔÇª             is_selected_by_default = chart_key in current_selected_charts_in_state
2119 | / ÔÇª             if st.checkbox(friendly_name, value=is_selected_by_default, key=f"pdf_include_chart_{chart_key}_v12_form"):
2120 | | ÔÇª                 if chart_key not in selected_chart_keys_for_pdf_ui_col3: selected_chart_keys_for_pdf_ui_col3.append(chart_key)
     | |__________________________________________________________________________^
2121 |   ÔÇª     else:
2122 |   ÔÇª         st.caption(get_text_pdf_ui(texts, "pdf_no_charts_to_select", "Keine Diagrammdaten f├╝r PDF-Auswahl."))
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> doc_output.py:2120:80
     |
2118 | ÔÇª             is_selected_by_default = chart_key in current_selected_charts_in_state
2119 | ÔÇª             if st.checkbox(friendly_name, value=is_selected_by_default, key=f"pdf_include_chart_{chart_key}_v12_form"):
2120 | ÔÇª                 if chart_key not in selected_chart_keys_for_pdf_ui_col3: selected_chart_keys_for_pdf_ui_col3.append(chart_key)
     |                                                                          ^
2121 | ÔÇª     else:
2122 | ÔÇª         st.caption(get_text_pdf_ui(texts, "pdf_no_charts_to_select", "Keine Diagrammdaten f├╝r PDF-Auswahl."))
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2170:38
     |
2168 |         with wow_col1:
2169 |             # Defensive Initialisierung, falls Key fehlt
2170 |             if 'wow_features' not in extended_features or not isinstance(extended_features.get('wow_features'), dict):
     |                                      ^^^^^^^^^^^^^^^^^
2171 |                 extended_features['wow_features'] = {}
2172 |             extended_features['wow_features']['shadows'] = st.checkbox(
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2170:74
     |
2168 |         with wow_col1:
2169 |             # Defensive Initialisierung, falls Key fehlt
2170 |             if 'wow_features' not in extended_features or not isinstance(extended_features.get('wow_features'), dict):
     |                                                                          ^^^^^^^^^^^^^^^^^
2171 |                 extended_features['wow_features'] = {}
2172 |             extended_features['wow_features']['shadows'] = st.checkbox(
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2171:17
     |
2169 |             # Defensive Initialisierung, falls Key fehlt
2170 |             if 'wow_features' not in extended_features or not isinstance(extended_features.get('wow_features'), dict):
2171 |                 extended_features['wow_features'] = {}
     |                 ^^^^^^^^^^^^^^^^^
2172 |             extended_features['wow_features']['shadows'] = st.checkbox(
2173 |                 " Schatten-Effekte",
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2172:13
     |
2170 |             if 'wow_features' not in extended_features or not isinstance(extended_features.get('wow_features'), dict):
2171 |                 extended_features['wow_features'] = {}
2172 |             extended_features['wow_features']['shadows'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2173 |                 " Schatten-Effekte",
2174 |                 value=extended_features['wow_features'].get('shadows', False),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2174:23
     |
2172 |             extended_features['wow_features']['shadows'] = st.checkbox(
2173 |                 " Schatten-Effekte",
2174 |                 value=extended_features['wow_features'].get('shadows', False),
     |                       ^^^^^^^^^^^^^^^^^
2175 |                 help="F├╝gt professionelle Schatten-Effekte hinzu"
2176 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2177:13
     |
2175 |                 help="F├╝gt professionelle Schatten-Effekte hinzu"
2176 |             )
2177 |             extended_features['wow_features']['gradients'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2178 |                 " Gradient-Effekte",
2179 |                 value=extended_features['wow_features'].get('gradients', True),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2179:23
     |
2177 |             extended_features['wow_features']['gradients'] = st.checkbox(
2178 |                 " Gradient-Effekte",
2179 |                 value=extended_features['wow_features'].get('gradients', True),
     |                       ^^^^^^^^^^^^^^^^^
2180 |                 help="Moderne Farbverl├ñufe f├╝r bessere Visualisierung"
2181 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2182:13
     |
2180 |                 help="Moderne Farbverl├ñufe f├╝r bessere Visualisierung"
2181 |             )
2182 |             extended_features['wow_features']['rounded_corners'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2183 |                 " Abgerundete Ecken",
2184 |                 value=extended_features['wow_features'].get('rounded_corners', True),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2184:23
     |
2182 |             extended_features['wow_features']['rounded_corners'] = st.checkbox(
2183 |                 " Abgerundete Ecken",
2184 |                 value=extended_features['wow_features'].get('rounded_corners', True),
     |                       ^^^^^^^^^^^^^^^^^
2185 |                 help="Moderne abgerundete Ecken f├╝r bessere Optik"
2186 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2189:13
     |
2188 |         with wow_col2:
2189 |             extended_features['wow_features']['cinematic_transitions'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2190 |                 " Kinematische ├£berg├ñnge",
2191 |                 value=extended_features['wow_features'].get('cinematic_transitions', False),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2191:23
     |
2189 |             extended_features['wow_features']['cinematic_transitions'] = st.checkbox(
2190 |                 " Kinematische ├£berg├ñnge",
2191 |                 value=extended_features['wow_features'].get('cinematic_transitions', False),
     |                       ^^^^^^^^^^^^^^^^^
2192 |                 help="Professionelle Seiten├╝berg├ñnge (experimentell)"
2193 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2194:13
     |
2192 |                 help="Professionelle Seiten├╝berg├ñnge (experimentell)"
2193 |             )
2194 |             extended_features['wow_features']['interactive_widgets'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2195 |                 " Interaktive Widgets",
2196 |                 value=extended_features['wow_features'].get('interactive_widgets', False),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2196:23
     |
2194 |             extended_features['wow_features']['interactive_widgets'] = st.checkbox(
2195 |                 " Interaktive Widgets",
2196 |                 value=extended_features['wow_features'].get('interactive_widgets', False),
     |                       ^^^^^^^^^^^^^^^^^
2197 |                 help="Interaktive PDF-Elemente (experimentell)"
2198 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2199:13
     |
2197 |                 help="Interaktive PDF-Elemente (experimentell)"
2198 |             )
2199 |             extended_features['wow_features']['ai_layout_optimization'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2200 |                 "­ƒñû AI Layout-Optimierung",
2201 |                 value=extended_features['wow_features'].get('ai_layout_optimization', False),
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2201:23
     |
2199 |             extended_features['wow_features']['ai_layout_optimization'] = st.checkbox(
2200 |                 "­ƒñû AI Layout-Optimierung",
2201 |                 value=extended_features['wow_features'].get('ai_layout_optimization', False),
     |                       ^^^^^^^^^^^^^^^^^
2202 |                 help="Automatische Layout-Optimierung (experimentell)"
2203 |             )
     |

F821 Undefined name `extended_features`
    --> doc_output.py:2206:57
     |
2205 |         # Aktivierte Features Anzeige
2206 |         active_wow_features = [name for name, active in extended_features['wow_features'].items() if active]
     |                                                         ^^^^^^^^^^^^^^^^^
2207 |         if active_wow_features:
2208 |             st.success(f" **{len(active_wow_features)} experimentelle Features aktiv:** {', '.join(active_wow_features)}")
     |

E701 Multiple statements on one line (colon)
    --> doc_output.py:2352:85
     |
2350 |         if pdf_bytes_to_download and isinstance(pdf_bytes_to_download, bytes):
2351 |             customer_name_for_file = customer_data_pdf.get('last_name', 'Angebot')
2352 |             if not customer_name_for_file or not str(customer_name_for_file).strip(): customer_name_for_file = "Photovoltaik_Angebot"
     |                                                                                     ^
2353 |             timestamp_file = base64.b32encode(os.urandom(5)).decode('utf-8').lower()
2354 |             file_name = f"Angebot_{str(customer_name_for_file).replace(' ', '_')}_{timestamp_file}.pdf"
     |

W291 Trailing whitespace
    --> doc_output.py:2370:83
     |
2368 |         st.markdown("---")
2369 |         st.markdown("""
2370 |         <div style="background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%); 
     |                                                                                   ^
2371 |                     border-radius: 15px; padding: 25px; margin: 20px 0; 
2372 |                     box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> doc_output.py:2371:72
     |
2369 |         st.markdown("""
2370 |         <div style="background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%); 
2371 |                     border-radius: 15px; padding: 25px; margin: 20px 0; 
     |                                                                        ^
2372 |                     box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
2373 |             <h3 style="color: white; margin: 0; font-weight: 600;">
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> dynamic_pricing_engine.py:74:1
   |
72 |     """
73 |     Berechnet den dynamischen Gesamtpreis aus allen Komponenten
74 |     
   | ^^^^
75 |     Returns:
76 |         Dict mit allen Preiskomponenten und Gesamtsumme
   |
help: Remove whitespace from blank line

F401 `product_db.generate_product_dynamic_keys` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> enhanced_product_management_ui.py:18:9
   |
16 |         clear_all_products,
17 |         delete_product,
18 |         generate_product_dynamic_keys,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
19 |         get_product_by_id,
20 |         get_product_with_dynamic_keys,
   |
help: Remove unused import: `product_db.generate_product_dynamic_keys`

W293 Blank line contains whitespace
   --> enhanced_product_management_ui.py:671:1
    |
669 |         st.info("""
670 |         **Beispiel f├╝r die Verwendung in PDF-Vorlagen:**
671 |         
    | ^^^^^^^^
672 |         Die generierten Keys k├Ânnen in PDF-Vorlagen wie folgt verwendet werden:
673 |         - `{{PRODUKTNAME_ID}}` - Produkt-ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> enhanced_product_management_ui.py:678:1
    |
676 |         - `{{PRODUKTNAME_CAPACITY_W}}` - Leistung in Watt (f├╝r PV-Module)
677 |         - `{{PRODUKTNAME_POWER_KW}}` - Leistung in kW (f├╝r Wechselrichter)
678 |         
    | ^^^^^^^^
679 |         Ersetzen Sie `PRODUKTNAME` durch den tats├ñchlichen Key-Pr├ñfix des Produkts.
680 |         """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> enhanced_product_management_ui.py:729:1
    |
727 |     st.error("""
728 |     **WARNUNG: Produktdatenbank komplett l├Âschen**
729 |     
    | ^^^^
730 |     Diese Aktion wird ALLE Produkte aus der Datenbank entfernen!
731 |     - Alle Produktdaten gehen verloren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> enhanced_product_management_ui.py:734:1
    |
732 |     - Alle Preishistorien werden gel├Âscht
733 |     - Die Aktion kann NICHT r├╝ckg├ñngig gemacht werden
734 |     
    | ^^^^
735 |     Stellen Sie sicher, dass Sie ein Backup haben, bevor Sie fortfahren!
736 |     """)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> enhanced_product_management_ui.py:793:1
    |
791 |     - Import von Produkten aus Excel-Dateien
792 |     - Backup und Wiederherstellung
793 |     
    | ^^^^
794 |     Diese Funktionen werden in einer zuk├╝nftigen Version implementiert.
795 |     """)
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `df` before `return` statement
  --> excel\excel_range_reader.py:43:12
   |
41 |         raise FileNotFoundError(f"cells CSV not found for sheet: {sheet_name}")
42 |     df = pd.read_csv(path, dtype=str).fillna("")
43 |     return df
   |            ^^
44 |
45 | def range_values(sheet_name: str, a1_range: str):
   |
help: Remove unnecessary assignment

E722 Do not use bare `except`
  --> excel\excel_range_reader.py:67:9
   |
65 |             float(str(x).replace(",", "."))
66 |             return True
67 |         except:
   |         ^^^^^^
68 |             return False
69 |     if any([not is_number(x) for x in first_row]):
   |

C419 Unnecessary list comprehension
  --> excel\excel_range_reader.py:69:12
   |
67 |         except:
68 |             return False
69 |     if any([not is_number(x) for x in first_row]):
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
70 |         data = vals[1:]
71 |         cols = [str(x) for x in first_row]
   |
help: Remove unnecessary comprehension

RET504 Unnecessary assignment to `df` before `return` statement
  --> excel\excel_range_reader.py:76:12
   |
74 |         df = pd.DataFrame(vals)
75 |     df = df.apply(pd.to_numeric, errors="ignore")
76 |     return df
   |            ^^
   |
help: Remove unnecessary assignment

N802 Function name `xl_AND` should be lowercase
 --> excel\python_function_recipes.py:3:5
  |
1 | # ExcelÔåÆPython Funktionsrezepte (auto-generiert aus excel_functions_used.csv)
2 |
3 | def xl_AND(*args):
  |     ^^^^^^
4 |     return all(bool(a) for a in args)
  |

N802 Function name `xl_AVERAGE` should be lowercase
 --> excel\python_function_recipes.py:6:5
  |
4 |     return all(bool(a) for a in args)
5 |
6 | def xl_AVERAGE(*args):
  |     ^^^^^^^^^^
7 |     import numpy as np
8 |     import pandas as pd
  |

E402 Module level import not at top of file
  --> excel\python_function_recipes.py:18:1
   |
16 |     return float(np.nanmean(s.values))
17 |
18 | import datetime as dt
   | ^^^^^^^^^^^^^^^^^^^^^
   |

N802 Function name `xl_DATE` should be lowercase
  --> excel\python_function_recipes.py:21:5
   |
21 | def xl_DATE(year, month, day):
   |     ^^^^^^^
22 |     return dt.date(int(year), int(month), int(day))
   |

E402 Module level import not at top of file
  --> excel\python_function_recipes.py:24:1
   |
22 |     return dt.date(int(year), int(month), int(day))
23 |
24 | from datetime import date, datetime
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

N802 Function name `xl_DAY` should be lowercase
  --> excel\python_function_recipes.py:27:5
   |
27 | def xl_DAY(d):
   |     ^^^^^^
28 |     if isinstance(d, (datetime, date)):
29 |         return d.day
   |

E402 Module level import not at top of file
  --> excel\python_function_recipes.py:32:1
   |
30 |     return None
31 |
32 | import pandas as pd
   | ^^^^^^^^^^^^^^^^^^^
   |

N802 Function name `xl_HLOOKUP` should be lowercase
  --> excel\python_function_recipes.py:35:5
   |
35 | def xl_HLOOKUP(lookup_value, table, row_index, approximate=False):
   |     ^^^^^^^^^^
36 |     if not isinstance(table, pd.DataFrame):
37 |         table = pd.DataFrame(table)
   |

N802 Function name `xl_HOUR` should be lowercase
  --> excel\python_function_recipes.py:51:5
   |
49 |     return table.iloc[row_index-1, col_idx]
50 |
51 | def xl_HOUR(d):
   |     ^^^^^^^
52 |     if hasattr(d, 'hour'):
53 |         return int(d.hour)
   |

N802 Function name `xl_IF` should be lowercase
  --> excel\python_function_recipes.py:56:5
   |
54 |     return None
55 |
56 | def xl_IF(cond, val_true, val_false):
   |     ^^^^^
57 |     return val_true if bool(cond) else val_false
   |

N802 Function name `xl_IFERROR` should be lowercase
  --> excel\python_function_recipes.py:59:5
   |
57 |     return val_true if bool(cond) else val_false
58 |
59 | def xl_IFERROR(value, fallback):
   |     ^^^^^^^^^^
60 |     try:
61 |         return value() if callable(value) else value
   |

E402 Module level import not at top of file
  --> excel\python_function_recipes.py:65:1
   |
63 |         return fallback
64 |
65 | import numpy as np
   | ^^^^^^^^^^^^^^^^^^
   |

N802 Function name `xl_INDEX` should be lowercase
  --> excel\python_function_recipes.py:68:5
   |
68 | def xl_INDEX(array, row_num, column_num=None):
   |     ^^^^^^^^
69 |     a = np.array(array, dtype=object)
70 |     return a[row_num-1] if column_num is None else a[row_num-1, column_num-1]
   |

N802 Function name `xl_LOOKUP` should be lowercase
  --> excel\python_function_recipes.py:72:5
   |
70 |     return a[row_num-1] if column_num is None else a[row_num-1, column_num-1]
71 |
72 | def xl_LOOKUP(lookup_value, lookup_vector, result_vector=None):
   |     ^^^^^^^^^
73 |     lv = pd.Series(list(lookup_vector)).sort_values(kind='mergesort')
74 |     pos = lv.searchsorted(lookup_value, side='right') - 1
   |

N802 Function name `xl_MATCH` should be lowercase
  --> excel\python_function_recipes.py:83:5
   |
81 |     return rv.loc[idx]
82 |
83 | def xl_MATCH(lookup_value, lookup_array, match_type=1):
   |     ^^^^^^^^
84 |     s = pd.Series(list(lookup_array))
85 |     if match_type == 0:
   |

E701 Multiple statements on one line (colon)
  --> excel\python_function_recipes.py:87:22
   |
85 |     if match_type == 0:
86 |         hits = s[s == lookup_value]
87 |         if hits.empty: raise KeyError('not found')
   |                      ^
88 |         return int(hits.index[0] + 1)
89 |     srt = s.sort_values(kind='mergesort')
   |

E701 Multiple statements on one line (colon)
  --> excel\python_function_recipes.py:91:34
   |
89 |     srt = s.sort_values(kind='mergesort')
90 |     pos = srt.searchsorted(lookup_value, side='left' if match_type==-1 else 'right') - (0 if match_type==-1 else 1)
91 |     if pos < 0 or pos >= len(srt): raise KeyError('no match')
   |                                  ^
92 |     return int(srt.index[pos] + 1)
   |

N802 Function name `xl_MAX` should be lowercase
  --> excel\python_function_recipes.py:94:5
   |
92 |     return int(srt.index[pos] + 1)
93 |
94 | def xl_MAX(*args):
   |     ^^^^^^
95 |     vals = []
96 |     for a in args:
   |

N802 Function name `xl_MIN` should be lowercase
   --> excel\python_function_recipes.py:104:5
    |
102 |     return float(np.nanmax(arr)) if arr.size else float('nan')
103 |
104 | def xl_MIN(*args):
    |     ^^^^^^
105 |     vals = []
106 |     for a in args:
    |

N802 Function name `xl_MOD` should be lowercase
   --> excel\python_function_recipes.py:114:5
    |
112 |     return float(np.nanmin(arr)) if arr.size else float('nan')
113 |
114 | def xl_MOD(a, b):
    |     ^^^^^^
115 |     return float(a) % float(b)
    |

N802 Function name `xl_MONTH` should be lowercase
   --> excel\python_function_recipes.py:117:5
    |
115 |     return float(a) % float(b)
116 |
117 | def xl_MONTH(d):
    |     ^^^^^^^^
118 |     if isinstance(d, (datetime, date)):
119 |         return d.month
    |

N802 Function name `xl_OFFSET` should be lowercase
   --> excel\python_function_recipes.py:122:5
    |
120 |     return None
121 |
122 | def xl_OFFSET(reference, rows, cols, height=None, width=None):
    |     ^^^^^^^^^
123 |     import pandas as pd
124 |     if hasattr(reference, 'iloc'):
    |

SIM108 Use ternary operator `ref = reference if hasattr(reference, 'iloc') else pd.DataFrame(reference)` instead of `if`-`else`-block
   --> excel\python_function_recipes.py:124:5
    |
122 |   def xl_OFFSET(reference, rows, cols, height=None, width=None):
123 |       import pandas as pd
124 | /     if hasattr(reference, 'iloc'):
125 | |         ref = reference
126 | |     else:
127 | |         ref = pd.DataFrame(reference)
    | |_____________________________________^
128 |       r0, c0 = int(rows), int(cols)
129 |       r1 = r0 + (int(height) if height is not None else ref.shape[0]-r0)
    |
help: Replace `if`-`else`-block with `ref = reference if hasattr(reference, 'iloc') else pd.DataFrame(reference)`

N802 Function name `xl_OR` should be lowercase
   --> excel\python_function_recipes.py:133:5
    |
131 |     return ref.iloc[r0:r1, c0:c1]
132 |
133 | def xl_OR(*args):
    |     ^^^^^
134 |     return any(bool(a) for a in args)
    |

N802 Function name `xl_ROUND` should be lowercase
   --> excel\python_function_recipes.py:136:5
    |
134 |     return any(bool(a) for a in args)
135 |
136 | def xl_ROUND(number, num_digits=0):
    |     ^^^^^^^^
137 |     return round(float(number), int(num_digits))
    |

E402 Module level import not at top of file
   --> excel\python_function_recipes.py:139:1
    |
137 |     return round(float(number), int(num_digits))
138 |
139 | import math
    | ^^^^^^^^^^^
    |

N802 Function name `xl_ROUNDDOWN` should be lowercase
   --> excel\python_function_recipes.py:142:5
    |
142 | def xl_ROUNDDOWN(number, num_digits=0):
    |     ^^^^^^^^^^^^
143 |     scale = 10 ** int(num_digits)
144 |     return math.floor(float(number) * scale) / scale
    |

N802 Function name `xl_ROUNDUP` should be lowercase
   --> excel\python_function_recipes.py:146:5
    |
144 |     return math.floor(float(number) * scale) / scale
145 |
146 | def xl_ROUNDUP(number, num_digits=0):
    |     ^^^^^^^^^^
147 |     scale = 10 ** int(num_digits)
148 |     return math.ceil(float(number) * scale) / scale
    |

N802 Function name `xl_SUM` should be lowercase
   --> excel\python_function_recipes.py:150:5
    |
148 |     return math.ceil(float(number) * scale) / scale
149 |
150 | def xl_SUM(*args):
    |     ^^^^^^
151 |     import numpy as np
152 |     import pandas as pd
    |

N802 Function name `xl_SUMIF` should be lowercase
   --> excel\python_function_recipes.py:162:5
    |
160 |     return float(np.nansum(s.values))
161 |
162 | def xl_SUMIF(range_vals, criteria, sum_range=None):
    |     ^^^^^^^^
163 |     rv = pd.Series(list(range_vals))
164 |     sr = pd.Series(list(sum_range)) if sum_range is not None else rv
    |

N802 Function name `xl_SUMIFS` should be lowercase
   --> excel\python_function_recipes.py:184:5
    |
182 |     return float(pd.to_numeric(sr[mask], errors='coerce').sum())
183 |
184 | def xl_SUMIFS(sum_range, *criteria_pairs):
    |     ^^^^^^^^^
185 |     sr = pd.Series(list(sum_range))
186 |     mask = pd.Series([True]*len(sr))
    |

N802 Function name `xl_SUMPRODUCT` should be lowercase
   --> excel\python_function_recipes.py:209:5
    |
207 |     return float(pd.to_numeric(sr[mask], errors='coerce').sum())
208 |
209 | def xl_SUMPRODUCT(*arrays):
    |     ^^^^^^^^^^^^^
210 |     mats = [np.array(a, dtype=float) for a in arrays]
211 |     if not mats:
    |

N802 Function name `xl_TEXT` should be lowercase
   --> excel\python_function_recipes.py:218:5
    |
216 |     return float(np.nansum(res))
217 |
218 | def xl_TEXT(value, format_text):
    |     ^^^^^^^
219 |     import datetime as dt
220 |     if isinstance(value, (int, float)):
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> excel\python_function_recipes.py:220:5
    |
218 |   def xl_TEXT(value, format_text):
219 |       import datetime as dt
220 | /     if isinstance(value, (int, float)):
221 | |         if format_text in ('0', '0.00'):
    | |________________________________________^
222 |               decimals = 0 if format_text == '0' else 2
223 |               return f"{value:.{decimals}f}"
    |
help: Combine `if` statements using `and`

E402 Module level import not at top of file
   --> excel\python_function_recipes.py:228:1
    |
226 |     return str(value)
227 |
228 | from datetime import time
    | ^^^^^^^^^^^^^^^^^^^^^^^^^
    |

N802 Function name `xl_TIME` should be lowercase
   --> excel\python_function_recipes.py:231:5
    |
231 | def xl_TIME(hour, minute, second):
    |     ^^^^^^^
232 |     return time(int(hour), int(minute), int(second))
    |

N802 Function name `xl_TODAY` should be lowercase
   --> excel\python_function_recipes.py:234:5
    |
232 |     return time(int(hour), int(minute), int(second))
233 |
234 | def xl_TODAY():
    |     ^^^^^^^^
235 |     return dt.date.today()
    |

N802 Function name `xl_VLOOKUP` should be lowercase
   --> excel\python_function_recipes.py:237:5
    |
235 |     return dt.date.today()
236 |
237 | def xl_VLOOKUP(lookup_value, table, col_index, approximate=False):
    |     ^^^^^^^^^^
238 |     if not isinstance(table, pd.DataFrame):
239 |         table = pd.DataFrame(table)
    |

N802 Function name `xl_WEEKDAY` should be lowercase
   --> excel\python_function_recipes.py:249:5
    |
247 |     return None if hits.empty else hits.iloc[0, col_index-1]
248 |
249 | def xl_WEEKDAY(d, return_type=1):
    |     ^^^^^^^^^^
250 |     if not isinstance(d, (datetime, date)):
251 |         return None
    |

N802 Function name `xl_YEAR` should be lowercase
   --> excel\python_function_recipes.py:261:5
    |
259 |     return wd + 1
260 |
261 | def xl_YEAR(d):
    |     ^^^^^^^
262 |     if isinstance(d, (datetime, date)):
263 |         return d.year
    |

F841 Local variable `dim` is assigned to but never used
  --> excel_eval.py:75:9
   |
73 |     out: list[tuple[str, str, str]] = []
74 |     for ws in wb.worksheets:
75 |         dim = ws.calculate_dimension()  # begrenzt iter_rows auf "Used Range"
   |         ^^^
76 |         # iter_rows mit values_only=False liefert Cell-Objekte
77 |         for row in ws.iter_rows():
   |
help: Remove assignment to unused variable `dim`

F841 Local variable `note` is assigned to but never used
   --> excel_eval.py:312:9
    |
310 |         hv = hr.value
311 |
312 |         note = ""
    |         ^^^^
313 |         abs_d = None
314 |         rel_d = None
    |
help: Remove assignment to unused variable `note`

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:27:1
   |
25 | class ChartCache:
26 |     """Cache for rendered charts to improve performance.
27 |     
   | ^^^^
28 |     This cache stores rendered chart images in memory to avoid re-rendering
29 |     the same charts multiple times. Charts are cached by a hash of their
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:31:1
   |
29 |     the same charts multiple times. Charts are cached by a hash of their
30 |     data and configuration, and the cache can be invalidated when data changes.
31 |     
   | ^^^^
32 |     The cache is designed to be used within a single PDF generation session
33 |     and is not persisted between sessions.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:38:1
   |
36 |     def __init__(self, max_size: int = 100):
37 |         """Initialize the chart cache.
38 |         
   | ^^^^^^^^
39 |         Args:
40 |             max_size: Maximum number of charts to cache (default: 100)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:50:1
   |
48 |     def _generate_cache_key(self, chart_key: str, chart_data: Any) -> str:
49 |         """Generate a unique cache key for a chart.
50 |         
   | ^^^^^^^^
51 |         Creates a hash based on the chart key and a representation of the chart data.
52 |         This ensures that the same chart with the same data will have the same cache key.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:53:1
   |
51 |         Creates a hash based on the chart key and a representation of the chart data.
52 |         This ensures that the same chart with the same data will have the same cache key.
53 |         
   | ^^^^^^^^
54 |         Args:
55 |             chart_key: The chart identifier (e.g., 'monthly_prod_cons_chart_bytes')
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:57:1
   |
55 |             chart_key: The chart identifier (e.g., 'monthly_prod_cons_chart_bytes')
56 |             chart_data: The chart data (typically bytes)
57 |         
   | ^^^^^^^^
58 |         Returns:
59 |             A unique cache key string
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:75:1
   |
73 |     def get(self, chart_key: str, chart_data: Any) -> bytes | None:
74 |         """Retrieve a chart from the cache.
75 |         
   | ^^^^^^^^
76 |         Args:
77 |             chart_key: The chart identifier
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:79:1
   |
77 |             chart_key: The chart identifier
78 |             chart_data: The chart data for cache key generation
79 |         
   | ^^^^^^^^
80 |         Returns:
81 |             Cached chart bytes if found, None otherwise
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:95:1
   |
93 |     def put(self, chart_key: str, chart_data: Any, chart_bytes: bytes) -> None:
94 |         """Store a chart in the cache.
95 |         
   | ^^^^^^^^
96 |         If the cache is full, removes the least recently used chart before adding.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> extended_pdf_generator.py:97:1
   |
96 |         If the cache is full, removes the least recently used chart before adding.
97 |         
   | ^^^^^^^^
98 |         Args:
99 |             chart_key: The chart identifier
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:126:1
    |
124 |     def invalidate(self, chart_key: str | None = None, chart_data: Any = None) -> None:
125 |         """Invalidate cache entries.
126 |         
    | ^^^^^^^^
127 |         Args:
128 |             chart_key: Specific chart key to invalidate, or None to clear all
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:150:1
    |
148 |     def get_stats(self) -> dict[str, Any]:
149 |         """Get cache statistics.
150 |         
    | ^^^^^^^^
151 |         Returns:
152 |             Dictionary with cache statistics including hit rate, size, etc.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:177:1
    |
175 | class ExtendedPDFLogger:
176 |     """Logger for Extended PDF generation with error tracking and summary reporting.
177 |     
    | ^^^^
178 |     This logger tracks errors, warnings, and info messages during extended PDF generation,
179 |     providing a summary of all issues encountered. It helps with debugging and provides
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:191:1
    |
189 |     def log_error(self, component: str, message: str, exception: Exception | None = None) -> None:
190 |         """Log an error message.
191 |         
    | ^^^^^^^^
192 |         Args:
193 |             component: Name of the component where error occurred (e.g., 'FinancingPageGenerator')
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:213:1
    |
211 |     def log_warning(self, component: str, message: str) -> None:
212 |         """Log a warning message.
213 |         
    | ^^^^^^^^
214 |         Args:
215 |             component: Name of the component where warning occurred
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:230:1
    |
228 |     def log_info(self, component: str, message: str) -> None:
229 |         """Log an informational message.
230 |         
    | ^^^^^^^^
231 |         Args:
232 |             component: Name of the component logging the info
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:247:1
    |
245 |     def get_summary(self) -> dict[str, Any]:
246 |         """Get a summary of all logged messages.
247 |         
    | ^^^^^^^^
248 |         Returns:
249 |             Dictionary containing counts and lists of all errors, warnings, and info messages
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:264:1
    |
262 |     def get_user_friendly_summary(self) -> str:
263 |         """Get a user-friendly text summary of logged messages.
264 |         
    | ^^^^^^^^
265 |         Returns:
266 |             Formatted string summarizing the generation process
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:307:1
    |
305 |     ):
306 |         """Initialize the extended PDF generator.
307 |         
    | ^^^^^^^^
308 |         Args:
309 |             offer_data: Offer data dictionary
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:339:1
    |
337 |     def generate_extended_pages(self) -> bytes:
338 |         """Generates all extended pages based on options using efficient single-pass merging.
339 |         
    | ^^^^^^^^
340 |         This method uses an optimized approach that merges all pages in a single pass,
341 |         avoiding multiple intermediate PDF creations and reducing memory usage.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:342:1
    |
340 |         This method uses an optimized approach that merges all pages in a single pass,
341 |         avoiding multiple intermediate PDF creations and reducing memory usage.
342 |         
    | ^^^^^^^^
343 |         Returns:
344 |             PDF bytes containing all extended pages
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:458:1
    |
456 |     ) -> None:
457 |         """Adds pages from PDF bytes to writer (legacy method).
458 |         
    | ^^^^^^^^
459 |         This method is kept for backward compatibility but _add_pages_to_writer_efficient
460 |         should be preferred for better performance.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:481:1
    |
479 |     ) -> int:
480 |         """Efficiently adds pages from PDF bytes to writer in a single pass.
481 |         
    | ^^^^^^^^
482 |         This optimized version avoids multiple intermediate reads and writes,
483 |         reducing memory usage and improving performance.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:484:1
    |
482 |         This optimized version avoids multiple intermediate reads and writes,
483 |         reducing memory usage and improving performance.
484 |         
    | ^^^^^^^^
485 |         Args:
486 |             writer: PdfWriter to add pages to
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:488:1
    |
486 |             writer: PdfWriter to add pages to
487 |             pdf_bytes: PDF bytes to read pages from
488 |         
    | ^^^^^^^^
489 |         Returns:
490 |             Number of pages added
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:515:1
    |
513 |     def __init__(self, offer_data: dict, analysis_results: dict, theme: dict, logger: ExtendedPDFLogger | None = None):
514 |         """Initialize financing page generator.
515 |         
    | ^^^^^^^^
516 |         Args:
517 |             offer_data: Offer data dictionary (project_data)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:530:1
    |
528 |     def generate(self) -> bytes:
529 |         """Generates comprehensive financing pages with all required sections.
530 |         
    | ^^^^^^^^
531 |         Implements Task 9: Finanzierungsinformationen priorisieren
532 |         - Subtask 9.1: Finanzierungsabschnitt ab Seite 9 einf├╝gen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:538:1
    |
536 |         - Subtask 9.5: Finanzierungsvergleich erstellen
537 |         - Subtask 9.6: Finanzierungsdiagramme einf├╝gen
538 |         
    | ^^^^^^^^
539 |         Returns:
540 |             PDF bytes with comprehensive financing details
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:604:1
    |
602 |     def _get_final_price(self) -> float:
603 |         """Extracts final_end_preis from offer_data and analysis_results.
604 |         
    | ^^^^^^^^
605 |         Implements Requirement 9.3, 9.4: Use final_end_preis from project_data['pv_details']
606 |         If not available, log error and return 0.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:607:1
    |
605 |         Implements Requirement 9.3, 9.4: Use final_end_preis from project_data['pv_details']
606 |         If not available, log error and return 0.
607 |         
    | ^^^^^^^^
608 |         Returns:
609 |             Final price as float, or 0 if not available
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:662:1
    |
660 |     def _get_financing_options(self) -> list[dict]:
661 |         """Extracts financing options from offer data.
662 |         
    | ^^^^^^^^
663 |         Uses real keys from payment_terms configuration.
664 |         Returns list of financing options with their details.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:701:1
    |
699 |     def _draw_financing_section_header(self, c: canvas.Canvas) -> None:
700 |         """Draws the main financing section header.
701 |         
    | ^^^^^^^^
702 |         Implements Subtask 9.1: ├£berschrift "Finanzierungsinformationen" als erstes auf Seite 9
703 |         """
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:714:1
    |
712 |     def _draw_credit_financing_section(self, c: canvas.Canvas, final_end_preis: float, y_pos: float) -> float:
713 |         """Draws credit financing section with table.
714 |         
    | ^^^^^^^^
715 |         Implements Subtask 9.2: Kreditfinanzierung berechnen und darstellen
716 |         Requirements: 9.5, 9.6, 9.7, 9.8, 9.9, 9.10, 9.11, 9.12, 9.29
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:717:1
    |
715 |         Implements Subtask 9.2: Kreditfinanzierung berechnen und darstellen
716 |         Requirements: 9.5, 9.6, 9.7, 9.8, 9.9, 9.10, 9.11, 9.12, 9.29
717 |         
    | ^^^^^^^^
718 |         Args:
719 |             c: Canvas object
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:722:1
    |
720 |             final_end_preis: Final price for financing
721 |             y_pos: Current Y position
722 |             
    | ^^^^^^^^^^^^
723 |         Returns:
724 |             New Y position after drawing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:771:1
    |
769 |     def _draw_leasing_financing_section(self, c: canvas.Canvas, final_end_preis: float, y_pos: float) -> float:
770 |         """Draws leasing financing section with table.
771 |         
    | ^^^^^^^^
772 |         Implements Subtask 9.3: Leasingfinanzierung berechnen und darstellen
773 |         Requirements: 9.13, 9.14, 9.15, 9.16, 9.17
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:774:1
    |
772 |         Implements Subtask 9.3: Leasingfinanzierung berechnen und darstellen
773 |         Requirements: 9.13, 9.14, 9.15, 9.16, 9.17
774 |         
    | ^^^^^^^^
775 |         Args:
776 |             c: Canvas object
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:779:1
    |
777 |             final_end_preis: Final price for financing
778 |             y_pos: Current Y position
779 |             
    | ^^^^^^^^^^^^
780 |         Returns:
781 |             New Y position after drawing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:835:1
    |
833 |     def _draw_amortization_plan(self, c: canvas.Canvas, final_end_preis: float, y_pos: float) -> float:
834 |         """Draws amortization plan table.
835 |         
    | ^^^^^^^^
836 |         Implements Subtask 9.4: Amortisationsplan erstellen
837 |         Requirements: 9.18, 9.19, 9.20, 9.21
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:838:1
    |
836 |         Implements Subtask 9.4: Amortisationsplan erstellen
837 |         Requirements: 9.18, 9.19, 9.20, 9.21
838 |         
    | ^^^^^^^^
839 |         Args:
840 |             c: Canvas object
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:843:1
    |
841 |             final_end_preis: Final price for financing
842 |             y_pos: Current Y position
843 |             
    | ^^^^^^^^^^^^
844 |         Returns:
845 |             New Y position after drawing
    |
help: Remove whitespace from blank line

F841 Local variable `col_widths` is assigned to but never used
   --> extended_pdf_generator.py:868:13
    |
867 |             # Columns: Jahr, Einsparungen, Kosten, Netto-Cashflow, kumulierter Cashflow (Requirement 9.19)
868 |             col_widths = [2*cm, 3*cm, 3*cm, 3.5*cm, 3.5*cm]
    |             ^^^^^^^^^^
869 |             col_x = [2*cm, 4*cm, 7*cm, 10*cm, 13.5*cm]
870 |             headers = ['Jahr', 'Einsparungen', 'Kosten', 'Netto-Cashflow', 'Kumuliert']
    |
help: Remove assignment to unused variable `col_widths`

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:937:1
    |
935 |     def _draw_financing_comparison(self, c: canvas.Canvas, final_end_preis: float, y_pos: float) -> float:
936 |         """Draws financing comparison section.
937 |         
    | ^^^^^^^^
938 |         Implements Subtask 9.5: Finanzierungsvergleich erstellen
939 |         Requirements: 9.22, 9.23, 9.24
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:940:1
    |
938 |         Implements Subtask 9.5: Finanzierungsvergleich erstellen
939 |         Requirements: 9.22, 9.23, 9.24
940 |         
    | ^^^^^^^^
941 |         Args:
942 |             c: Canvas object
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> extended_pdf_generator.py:945:1
    |
943 |             final_end_preis: Final price for financing
944 |             y_pos: Current Y position
945 |             
    | ^^^^^^^^^^^^
946 |         Returns:
947 |             New Y position after drawing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1029:1
     |
1027 |     def _draw_financing_table(self, c: canvas.Canvas, data: list, y_pos: float) -> float:
1028 |         """Draws a financing table with blue header and grey gridlines.
1029 |         
     | ^^^^^^^^
1030 |         Implements Requirements 9.10, 9.11, 9.12: Table styling
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1031:1
     |
1030 |         Implements Requirements 9.10, 9.11, 9.12: Table styling
1031 |         
     | ^^^^^^^^
1032 |         Args:
1033 |             c: Canvas object
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1036:1
     |
1034 |             data: Table data as list of [label, value] pairs
1035 |             y_pos: Current Y position
1036 |             
     | ^^^^^^^^^^^^
1037 |         Returns:
1038 |             New Y position after drawing
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1074:1
     |
1072 |     def _format_currency(self, value: float) -> str:
1073 |         """Formats currency with 2 decimal places and thousand separators.
1074 |         
     | ^^^^^^^^
1075 |         Implements Requirement 9.29: Format all values with 2 decimals and thousand separators
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1076:1
     |
1075 |         Implements Requirement 9.29: Format all values with 2 decimals and thousand separators
1076 |         
     | ^^^^^^^^
1077 |         Args:
1078 |             value: Numeric value to format
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1079:1
     |
1077 |         Args:
1078 |             value: Numeric value to format
1079 |             
     | ^^^^^^^^^^^^
1080 |         Returns:
1081 |             Formatted string like "1.234,56 Ôé¼"
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> extended_pdf_generator.py:1087:9
     |
1085 |             formatted = f"{value:,.2f}".replace(',', 'X').replace('.', ',').replace('X', '.')
1086 |             return f"{formatted} Ôé¼"
1087 |         except:
     |         ^^^^^^
1088 |             return "0,00 Ôé¼"
     |

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1092:1
     |
1090 |     def _get_global_constant(self, key: str, default: float) -> float:
1091 |         """Gets a global constant value from database or returns default.
1092 |         
     | ^^^^^^^^
1093 |         Args:
1094 |             key: Constant key name
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1096:1
     |
1094 |             key: Constant key name
1095 |             default: Default value if not found
1096 |             
     | ^^^^^^^^^^^^
1097 |         Returns:
1098 |             Constant value as float
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> extended_pdf_generator.py:1105:9
     |
1103 |             value = global_constants.get(key, default)
1104 |             return float(value) if value is not None else default
1105 |         except:
     |         ^^^^^^
1106 |             return default
     |

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1110:1
     |
1108 |     def _get_annual_savings(self) -> float:
1109 |         """Gets annual savings from analysis_results.
1110 |         
     | ^^^^^^^^
1111 |         Returns:
1112 |             Annual savings as float
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> extended_pdf_generator.py:1128:9
     |
1127 |             return 1000.0  # Default fallback
1128 |         except:
     |         ^^^^^^
1129 |             return 1000.0
     |

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1133:1
     |
1131 |     def _get_annual_costs(self) -> float:
1132 |         """Gets annual costs from analysis_results.
1133 |         
     | ^^^^^^^^
1134 |         Returns:
1135 |             Annual costs as float
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> extended_pdf_generator.py:1149:9
     |
1148 |             return float(anlage_kwp) * float(maintenance_per_kwp) + float(maintenance_fixed)
1149 |         except:
     |         ^^^^^^
1150 |             return 200.0  # Default fallback
     |

B007 Loop control variable `idx` not used within loop body
    --> extended_pdf_generator.py:1186:13
     |
1184 |         y_pos = self.height - 6*cm
1185 |
1186 |         for idx, option in enumerate(options):
     |             ^^^
1187 |             # Check if we need a new page
1188 |             if y_pos < 3*cm:
     |
help: Rename unused `idx` to `_idx`

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1277:1
     |
1275 |     ) -> float:
1276 |         """Calculates monthly payment using annuity formula.
1277 |         
     | ^^^^^^^^
1278 |         Formula: A = P * (r * (1 + r)^n) / ((1 + r)^n - 1)
1279 |         Where:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1284:1
     |
1282 |         - r = monthly interest rate (annual rate / 12 / 100)
1283 |         - n = number of months
1284 |         
     | ^^^^^^^^
1285 |         Args:
1286 |             amount: Principal loan amount
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1289:1
     |
1287 |             annual_rate: Annual interest rate in percent
1288 |             months: Number of months for the loan
1289 |             
     | ^^^^^^^^^^^^
1290 |         Returns:
1291 |             Monthly payment amount
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1449:1
     |
1447 | class ProductDatasheetMerger:
1448 |     """Merges product datasheets from database.
1449 |     
     | ^^^^
1450 |     This class handles loading product datasheets from the database and merging them
1451 |     into a single PDF. It supports both PDF and image formats, converting images to
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1457:1
     |
1455 |     def __init__(self, logger: ExtendedPDFLogger | None = None):
1456 |         """Initialize product datasheet merger.
1457 |         
     | ^^^^^^^^
1458 |         Args:
1459 |             logger: Logger instance for tracking errors and warnings (optional)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1465:1
     |
1463 |     def merge(self, datasheet_ids: list[int]) -> bytes:
1464 |         """Merges selected product datasheets into a single PDF using efficient single-pass merging.
1465 |         
     | ^^^^^^^^
1466 |         Loads datasheets for each product ID, handles both PDF and image formats,
1467 |         and merges all pages into a single output PDF in one pass. Includes robust error handling
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1469:1
     |
1467 |         and merges all pages into a single output PDF in one pass. Includes robust error handling
1468 |         to continue processing even if individual datasheets fail to load.
1469 |         
     | ^^^^^^^^
1470 |         This optimized version loads all datasheets first, then merges them in a single
1471 |         operation to avoid multiple intermediate PDF creations.
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1472:1
     |
1470 |         This optimized version loads all datasheets first, then merges them in a single
1471 |         operation to avoid multiple intermediate PDF creations.
1472 |         
     | ^^^^^^^^
1473 |         Args:
1474 |             datasheet_ids: List of product IDs with datasheets to merge
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1475:1
     |
1473 |         Args:
1474 |             datasheet_ids: List of product IDs with datasheets to merge
1475 |         
     | ^^^^^^^^
1476 |         Returns:
1477 |             PDF bytes with merged datasheets, or empty bytes if no valid datasheets
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1535:1
     |
1533 |     def _load_datasheet(self, product_id: int) -> bytes | None:
1534 |         """Loads product datasheet from database using real DB queries.
1535 |         
     | ^^^^^^^^
1536 |         Uses product_db.get_product_by_id() to fetch product data, then loads
1537 |         the datasheet file from the filesystem. Handles both PDF and image formats,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1539:1
     |
1537 |         the datasheet file from the filesystem. Handles both PDF and image formats,
1538 |         converting images to PDF as needed.
1539 |         
     | ^^^^^^^^
1540 |         Args:
1541 |             product_id: ID of the product whose datasheet to load
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1542:1
     |
1540 |         Args:
1541 |             product_id: ID of the product whose datasheet to load
1542 |         
     | ^^^^^^^^
1543 |         Returns:
1544 |             PDF bytes of the datasheet, or None if not found or error occurred
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1600:1
     |
1598 |     def _convert_image_to_pdf(self, image_bytes: bytes) -> bytes:
1599 |         """Converts image bytes to a PDF page with optimized scaling and resolution.
1600 |         
     | ^^^^^^^^
1601 |         Creates a new PDF page with A4 dimensions and centers the image on it,
1602 |         scaling to fit while maintaining aspect ratio. The image is optimized
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1604:1
     |
1602 |         scaling to fit while maintaining aspect ratio. The image is optimized
1603 |         to 300 DPI for print quality while reducing file size for large images.
1604 |         
     | ^^^^^^^^
1605 |         Args:
1606 |             image_bytes: Raw image file bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1607:1
     |
1605 |         Args:
1606 |             image_bytes: Raw image file bytes
1607 |         
     | ^^^^^^^^
1608 |         Returns:
1609 |             PDF bytes containing the image, or empty bytes if conversion fails
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1704:1
     |
1702 | class CompanyDocumentMerger:
1703 |     """Merges company documents from database.
1704 |     
     | ^^^^
1705 |     This class handles loading company documents from the database and merging them
1706 |     into a single PDF. It supports PDF documents and includes robust error handling
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1712:1
     |
1710 |     def __init__(self, logger: ExtendedPDFLogger | None = None):
1711 |         """Initialize company document merger.
1712 |         
     | ^^^^^^^^
1713 |         Args:
1714 |             logger: Logger instance for tracking errors and warnings (optional)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1720:1
     |
1718 |     def merge(self, document_ids: list[int]) -> bytes:
1719 |         """Merges selected company documents into a single PDF using efficient single-pass merging.
1720 |         
     | ^^^^^^^^
1721 |         Loads documents for each document ID from the database, handles PDF format,
1722 |         and merges all pages into a single output PDF in one pass. Includes robust error handling
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1724:1
     |
1722 |         and merges all pages into a single output PDF in one pass. Includes robust error handling
1723 |         to continue processing even if individual documents fail to load.
1724 |         
     | ^^^^^^^^
1725 |         This optimized version loads all documents first, then merges them in a single
1726 |         operation to avoid multiple intermediate PDF creations.
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1727:1
     |
1725 |         This optimized version loads all documents first, then merges them in a single
1726 |         operation to avoid multiple intermediate PDF creations.
1727 |         
     | ^^^^^^^^
1728 |         Args:
1729 |             document_ids: List of company document IDs to merge
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1730:1
     |
1728 |         Args:
1729 |             document_ids: List of company document IDs to merge
1730 |         
     | ^^^^^^^^
1731 |         Returns:
1732 |             PDF bytes with merged documents, or empty bytes if no valid documents
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1790:1
     |
1788 |     def _load_document(self, doc_id: int) -> bytes | None:
1789 |         """Loads company document from database using real DB queries.
1790 |         
     | ^^^^^^^^
1791 |         Uses database.list_company_documents() to fetch document data by querying
1792 |         all documents and filtering by ID, then loads the document file from the
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1794:1
     |
1792 |         all documents and filtering by ID, then loads the document file from the
1793 |         filesystem using the absolute_file_path field.
1794 |         
     | ^^^^^^^^
1795 |         Args:
1796 |             doc_id: ID of the company document to load
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1797:1
     |
1795 |         Args:
1796 |             doc_id: ID of the company document to load
1797 |         
     | ^^^^^^^^
1798 |         Returns:
1799 |             PDF bytes of the document, or None if not found or error occurred
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1883:1
     |
1881 |     ):
1882 |         """Initialize chart page generator.
1883 |         
     | ^^^^^^^^
1884 |         Args:
1885 |             analysis_results: Analysis results dictionary with chart bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1900:1
     |
1898 |     def generate(self, chart_keys: list[str]) -> bytes:
1899 |         """Generates pages with selected charts.
1900 |         
     | ^^^^^^^^
1901 |         Args:
1902 |             chart_keys: List of chart keys from analysis_results
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1903:1
     |
1901 |         Args:
1902 |             chart_keys: List of chart keys from analysis_results
1903 |         
     | ^^^^^^^^
1904 |         Returns:
1905 |             PDF bytes with chart pages
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1983:1
     |
1981 |     def _get_chart_bytes(self, chart_key: str) -> bytes | None:
1982 |         """Get chart bytes with caching support.
1983 |         
     | ^^^^^^^^
1984 |         Args:
1985 |             chart_key: The chart identifier
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:1986:1
     |
1984 |         Args:
1985 |             chart_key: The chart identifier
1986 |         
     | ^^^^^^^^
1987 |         Returns:
1988 |             Chart bytes from cache or analysis results
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2013:1
     |
2011 |     def invalidate_cache(cls, chart_key: str | None = None) -> None:
2012 |         """Invalidate the chart cache.
2013 |         
     | ^^^^^^^^
2014 |         Args:
2015 |             chart_key: Specific chart to invalidate, or None to clear all
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2022:1
     |
2020 |     def get_cache_stats(cls) -> dict[str, Any]:
2021 |         """Get cache statistics.
2022 |         
     | ^^^^^^^^
2023 |         Returns:
2024 |             Dictionary with cache statistics
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2126:1
     |
2124 |     ) -> None:
2125 |         """Draws a chart in a specific area of the page with optimized scaling.
2126 |         
     | ^^^^^^^^
2127 |         Args:
2128 |             c: Canvas object
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2171:1
     |
2169 |     def _optimize_chart_image(self, image_bytes: bytes, target_width: float, target_height: float) -> bytes:
2170 |         """Optimizes chart image for target dimensions at 300 DPI.
2171 |         
     | ^^^^^^^^
2172 |         Scales down large images to reduce file size while maintaining print quality.
2173 |         Images smaller than target are left unchanged.
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2174:1
     |
2172 |         Scales down large images to reduce file size while maintaining print quality.
2173 |         Images smaller than target are left unchanged.
2174 |         
     | ^^^^^^^^
2175 |         Args:
2176 |             image_bytes: Original image bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2179:1
     |
2177 |             target_width: Target width in points
2178 |             target_height: Target height in points
2179 |         
     | ^^^^^^^^
2180 |         Returns:
2181 |             Optimized image bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2229:1
     |
2227 |     def _get_chart_name(self, chart_key: str) -> str:
2228 |         """Gets friendly name for a chart key.
2229 |         
     | ^^^^^^^^
2230 |         Maps chart keys to human-readable names. Uses only real chart keys
2231 |         from the system (no invented keys).
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2232:1
     |
2230 |         Maps chart keys to human-readable names. Uses only real chart keys
2231 |         from the system (no invented keys).
2232 |         
     | ^^^^^^^^
2233 |         Args:
2234 |             chart_key: Chart key from analysis_results
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> extended_pdf_generator.py:2235:1
     |
2233 |         Args:
2234 |             chart_key: Chart key from analysis_results
2235 |         
     | ^^^^^^^^
2236 |         Returns:
2237 |             Friendly name for the chart
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
 --> final_pricing_calculation_with_keys.py:6:26
  |
5 | Berechnung:
6 | SIMPLE_ENDERGEBNIS_BRUTTO 
  |                          ^
7 | + CALC__TOTAL_DISCOUNTS_FORMATTED
8 | + CALC__TOTAL_SURCHARGES_FORMATTED  
  |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> final_pricing_calculation_with_keys.py:8:35
   |
 6 | SIMPLE_ENDERGEBNIS_BRUTTO 
 7 | + CALC__TOTAL_DISCOUNTS_FORMATTED
 8 | + CALC__TOTAL_SURCHARGES_FORMATTED  
   |                                   ^^
 9 | + Key_f├╝r_zubeh├Âr_im_solarcalcutor
10 | + key_f├╝r_extra_dienstleistungen
   |
help: Remove trailing whitespace

E402 Module level import not at top of file
  --> final_test_main_files.py:11:1
   |
10 | # Import aus HAUPT-Dateien (nicht repair_pdf!)
11 | from calculations import perform_calculations
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
12 | from product_db import list_products
   |

E402 Module level import not at top of file
  --> final_test_main_files.py:12:1
   |
10 | # Import aus HAUPT-Dateien (nicht repair_pdf!)
11 | from calculations import perform_calculations
12 | from product_db import list_products
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 |
14 | print("\nÔ£ô Imports erfolgreich aus Haupt-Dateien\n")
   |

W291 Trailing whitespace
 --> financial_tools.py:3:71
  |
1 | # financial_tools.py - Vollst├ñndige Finanzberechnungen f├╝r PV-Anlagen
2 | """
3 | Finanzberechnungsmodul f├╝r PV-Anlagen mit Leasing, Annuit├ñtenkrediten, 
  |                                                                       ^
4 | Abschreibungen und Wirtschaftlichkeitsanalysen.
5 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> financial_tools.py:13:1
   |
11 |     """
12 |     Echte Berechnung einer Annuit├ñt (Kredit mit gleichbleibenden Raten).
13 |     
   | ^^^^
14 |     Args:
15 |         principal: Darlehenssumme in Euro
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> financial_tools.py:18:1
   |
16 |         annual_interest_rate: J├ñhrlicher Zinssatz in Prozent
17 |         duration_years: Laufzeit in Jahren
18 |     
   | ^^^^
19 |     Returns:
20 |         Dict mit monatlicher Rate, Gesamtzinsen, Tilgungsplan etc.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> financial_tools.py:71:1
   |
69 |     """
70 |     Echte Leasingkostenberechnung mit verschiedenen Modellen.
71 |     
   | ^^^^
72 |     Args:
73 |         total_investment: Investitionssumme
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> financial_tools.py:77:1
   |
75 |         duration_months: Laufzeit in Monaten
76 |         residual_value_percent: Restwert in Prozent (f├╝r Kilometerleasing)
77 |     
   | ^^^^
78 |     Returns:
79 |         Dict mit Leasingraten, Gesamtkosten, Kostenvergleich
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:110:1
    |
108 |     """
109 |     Echte Abschreibungsberechnung mit verschiedenen Methoden.
110 |     
    | ^^^^
111 |     Args:
112 |         initial_value: Anschaffungswert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:115:1
    |
113 |         useful_life_years: Nutzungsdauer
114 |         method: "linear" oder "degressive"
115 |     
    | ^^^^
116 |     Returns:
117 |         Dict mit Abschreibungstabelle und Steuerersparnis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:148:1
    |
146 |     """
147 |     Vergleich verschiedener Finanzierungsoptionen.
148 |     
    | ^^^^
149 |     Returns:
150 |         Comprehensive comparison of financing options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:197:1
    |
195 |     """
196 |     Echte KESt-Berechnung f├╝r PV-Anlagen.
197 |     
    | ^^^^
198 |     Args:
199 |         profit: Gewinn aus PV-Anlage
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:201:1
    |
199 |         profit: Gewinn aus PV-Anlage
200 |         tax_rate: Steuersatz in Prozent (Standard: 26.375% in AT)
201 |     
    | ^^^^
202 |     Returns:
203 |         Dict mit Steuerberechnung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> financial_tools.py:227:1
    |
225 |     """
226 |     Echte Contracting-Kostenberechnung.
227 |     
    | ^^^^
228 |     Returns:
229 |         Detailed contracting cost analysis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> financial_tools_ui.py:21:1
   |
19 |     """
20 |     Zeigt ALLE Financial Tools Berechnungen in der UI
21 |     
   | ^^^^
22 |     Args:
23 |         project_data: Projektdaten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> financial_tools_ui.py:26:1
   |
24 |         analysis_results: Analyse-Ergebnisse
25 |         session_key_prefix: Prefix f├╝r Session State Keys
26 |         
   | ^^^^^^^^
27 |     Returns:
28 |         Dict mit allen Financial Tools Ergebnissen + Auswahl
   |
help: Remove whitespace from blank line

F841 Local variable `annual_savings` is assigned to but never used
  --> financial_tools_ui.py:48:9
   |
47 |         total_investment = analysis_results.get('total_investment', 0)
48 |         annual_savings = analysis_results.get('annual_savings_after_pv', 0)
   |         ^^^^^^^^^^^^^^
49 |         annual_feed_in = analysis_results.get('annual_feed_in_revenue', 0)
50 |         annual_consumption = project_data.get('annual_consumption', 0)
   |
help: Remove assignment to unused variable `annual_savings`

W291 Trailing whitespace
 --> fix_pdf_placeholders.py:6:45
  |
5 | 1. Seite 1: Ersparte Mehrwertsteuer - falscher Key
6 | 2. Seite 1: Amortisationszeit - falscher Key  
  |                                             ^^
7 | 3. Seite 7: Alle Betr├ñge zeigen 0,00 Ôé¼ - Keys nicht verkn├╝pft
8 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> fix_pdf_placeholders.py:167:1
    |
165 |     "ersparte Mehrwertsteuer": "vat_amount_eur_formatted",
166 |     "29.150,00 EUR*": "amortization_time_formatted",
167 |     
    | ^^^^
168 |     # Seite 7 Fixes - Solar Calculator Integration
169 |     "preis_mit_mwst": "endergebnis_brutto_formatted",
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> fix_pdf_placeholders.py:170:48
    |
168 |     # Seite 7 Fixes - Solar Calculator Integration
169 |     "preis_mit_mwst": "endergebnis_brutto_formatted",
170 |     "zubehor_preis": "zubehor_preis_formatted", 
    |                                                ^
171 |     "minus_rabatt": "total_discounts_formatted",
172 |     "plus_aufpreis": "total_surcharges_formatted", 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> fix_pdf_placeholders.py:172:51
    |
170 |     "zubehor_preis": "zubehor_preis_formatted", 
171 |     "minus_rabatt": "total_discounts_formatted",
172 |     "plus_aufpreis": "total_surcharges_formatted", 
    |                                                   ^
173 |     "zwischensumme_preis": "zwischensumme_formatted",
174 |     "minus_mwst": "mwst_betrag_formatted",
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> fix_pdf_placeholders.py:182:1
    |
180 |     dynamic_code = '''
181 |     # FIX: Seite 1 und Seite 7 Werte aus Solar Calculator Session State
182 |     
    | ^^^^
183 |     # Seite 1 Fixes
184 |     result["vat_amount_eur_formatted"] = fmt_number(
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> fix_pdf_placeholders.py:185:75
    |
183 |     # Seite 1 Fixes
184 |     result["vat_amount_eur_formatted"] = fmt_number(
185 |         project_data.get("simple_pricing_data", {}).get("mwst_betrag", 0), 
    |                                                                           ^
186 |         2, "Ôé¼"
187 |     )
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> fix_pdf_placeholders.py:188:1
    |
186 |         2, "Ôé¼"
187 |     )
188 |     
    | ^^^^
189 |     amortization_years = parse_float(analysis_results.get("amortization_time_years", 0))
190 |     result["amortization_time_formatted"] = f"{amortization_years:.1f} Jahre" if amortization_years else "0 Jahre"
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> fix_pdf_placeholders.py:191:1
    |
189 |     amortization_years = parse_float(analysis_results.get("amortization_time_years", 0))
190 |     result["amortization_time_formatted"] = f"{amortization_years:.1f} Jahre" if amortization_years else "0 Jahre"
191 |     
    | ^^^^
192 |     # Seite 7 Fixes - Solar Calculator Integration
193 |     simple_pricing = project_data.get("simple_pricing_data", {})
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> fix_pdf_placeholders.py:195:1
    |
193 |     simple_pricing = project_data.get("simple_pricing_data", {})
194 |     formatted_pricing = simple_pricing.get("formatted", {})
195 |     
    | ^^^^
196 |     result["endergebnis_brutto_formatted"] = formatted_pricing.get("endergebnis_brutto", "0,00 Ôé¼")
197 |     result["zubehor_preis_formatted"] = formatted_pricing.get("zubehor_preis", "0,00 Ôé¼")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> generate_universal_hover_template.py:8:1
   |
 6 |     """
 7 |     Generiert universelle Hover-CSS f├╝r Expander, Dropdowns, Number Inputs, Checkboxes
 8 |     
   | ^^^^
 9 |     Args:
10 |         effect_name: Name des Effekts (z.B. "GRADIENT + SLIDE")
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> generate_universal_hover_template.py:23:1
   |
21 |             {effect_properties.get('expander', 'transform: scale(1.01); box-shadow: 0 4px 12px rgba(0,0,0,0.15);')}
22 |         }}
23 |         
   | ^^^^^^^^
24 |         /* ========== DROPDOWN HOVER ({effect_name}) ========== */
25 |         div[data-baseweb="select"]:hover,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> generate_universal_hover_template.py:32:1
   |
30 |             {effect_properties.get('dropdown', 'transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15);')}
31 |         }}
32 |         
   | ^^^^^^^^
33 |         /* ========== NUMBER INPUT HOVER ({effect_name}) ========== */
34 |         button[data-testid="stNumberInputStepUp"]:hover,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> generate_universal_hover_template.py:40:1
   |
38 |             {effect_properties.get('number_input', 'transform: scale(1.08); box-shadow: 0 4px 12px rgba(0,0,0,0.2);')}
39 |         }}
40 |         
   | ^^^^^^^^
41 |         /* ========== CHECKBOX HOVER ({effect_name}) ========== */
42 |         div[data-baseweb="checkbox"]:hover,
   |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `template` before `return` statement
  --> generate_universal_hover_template.py:48:12
   |
46 |         }}
47 | """
48 |     return template
   |            ^^^^^^^^
49 |
50 | # Beispiele f├╝r verschiedene Effekte
   |
help: Remove unnecessary assignment

B007 Loop control variable `effect_key` not used within loop body
  --> generate_universal_hover_template.py:69:5
   |
68 | print("Universal Hover Template Generator\n" + "="*50)
69 | for effect_key, config in effects_config.items():
   |     ^^^^^^^^^^
70 |     print(f"\n{'='*50}")
71 |     print(f"Effekt: {config['name']}")
   |
help: Rename unused `effect_key` to `_effect_key`

W293 Blank line contains whitespace
   --> gui.py:184:1
    |
182 |     last_applied = st.session_state.get("_last_applied_theme_key")
183 |     theme_changed = last_applied != active_key
184 |     
    | ^^^^
185 |     # Verwende einen stabilen Placeholder - erstelle ihn nur EINMAL
186 |     placeholder = st.session_state.get("_theme_css_placeholder")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> gui.py:864:1
    |
863 |         st.set_page_config(page_title=get_text_gui("app_title"), layout="wide")
864 |     
    | ^^^^
865 |     modern_theme_active = False
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> gui.py:936:1
    |
934 |         from admin_ui_effects_settings import load_ui_effects_settings
935 |         from ui_effects_library import get_effect_css
936 |         
    | ^^^^^^^^
937 |         ui_effects_settings = load_ui_effects_settings()
938 |         effects_enabled = ui_effects_settings.get("enabled", True)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> gui.py:940:1
    |
938 |         effects_enabled = ui_effects_settings.get("enabled", True)
939 |         active_effect = ui_effects_settings.get("active_effect", "shimmer_pulse")
940 |         
    | ^^^^^^^^
941 |         if effects_enabled:
942 |             effect_css = get_effect_css(active_effect)
    |
help: Remove whitespace from blank line

invalid-syntax: Expected an expression
   --> gui.py:945:13
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |             ^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Starred expression cannot be used here
   --> gui.py:945:14
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |              ^^^^^^^^^^^^^^^^^^^^^^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:16
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:18
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                  ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:20
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                    ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:22
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                      ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:24
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                        ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected ',', found name
   --> gui.py:945:38
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                      ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected ',', found ':'
   --> gui.py:945:48
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                ^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:76
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                                            ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:78
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                                              ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:80
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                                                ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:945:82
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                                                  ^^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Starred expression cannot be used here
   --> gui.py:945:85
    |
943 |               st.markdown(f
944 |               <style>
945 |               /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |  _____________________________________________________________________________________^
946 | |             {effect_css}
947 | |             </style>
    | |____________________^
948 |               , unsafe_allow_html=True)
949 |           else:
    |

invalid-syntax: Expected an expression
   --> gui.py:945:86
    |
943 |             st.markdown(f
944 |             <style>
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
    |                                                                                      ^
946 |             {effect_css}
947 |             </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:947:14
    |
945 |             /* ========== DYNAMISCHE UI-EFFEKTE: {active_effect.upper()} ========== */
946 |             {effect_css}
947 |             </style>
    |              ^
948 |             , unsafe_allow_html=True)
949 |         else:
    |

invalid-syntax: Expected an expression
   --> gui.py:948:13
    |
946 |             {effect_css}
947 |             </style>
948 |             , unsafe_allow_html=True)
    |             ^
949 |         else:
950 |             # Effekte deaktiviert - kein CSS laden
    |

invalid-syntax: Expected an expression
   --> gui.py:958:5
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |     ^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Starred expression cannot be used here
   --> gui.py:958:6
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |      ^^^^^^^^^^^^^^^^^^^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:8
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |        ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:10
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |          ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:12
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |            ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:14
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |              ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:16
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected ',', found name
   --> gui.py:958:27
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                           ^^^^^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:55
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                                                       ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:57
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                                                         ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:59
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                                                           ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:958:61
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                                                             ^^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Starred expression cannot be used here
   --> gui.py:958:64
    |
956 |       st.markdown(f
957 |       <style>
958 |       /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |  ________________________________________________________________^
959 | |     {fallback_css}
960 | |     </style>
    | |____________^
961 |       , unsafe_allow_html=True)
    |

invalid-syntax: Expected an expression
   --> gui.py:958:65
    |
956 |     st.markdown(f
957 |     <style>
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
    |                                                                 ^
959 |     {fallback_css}
960 |     </style>
    |

invalid-syntax: Expected an expression
   --> gui.py:960:6
    |
958 |     /* ========== GLOBALE BUTTON-EFFEKTE (FALLBACK) ========== */
959 |     {fallback_css}
960 |     </style>
    |      ^
961 |     , unsafe_allow_html=True)
    |

invalid-syntax: Expected an expression
   --> gui.py:961:5
    |
959 |     {fallback_css}
960 |     </style>
961 |     , unsafe_allow_html=True)
    |     ^
962 |
963 |     # ============================================================================
    |

W293 Blank line contains whitespace
    --> gui.py:1065:1
     |
1063 |         transform: translateX(3px) !important;
1064 |     }
1065 |     
     | ^^^^
1066 |    /* Checkbox Input Box */
1067 |     div[data-testid="stCheckbox"] input[type="checkbox"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1074:1
     |
1072 |         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
1073 |     }
1074 |     
     | ^^^^
1075 |     /* Checkbox Hover-Effekt - Shimmer */
1076 |     div[data-testid="stCheckbox"]:hover input[type="checkbox"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1082:1
     |
1080 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
1081 |     }
1082 |     
     | ^^^^
1083 |     @keyframes checkboxPulse {
1084 |         0%, 100% {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1093:1
     |
1091 |         }
1092 |     }
1093 |     
     | ^^^^
1094 |     /* Checked Checkbox - Pulse-Effekt */
1095 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1102:1
     |
1100 |         animation: checkboxCheckedPulse 2s ease-in-out infinite !important;
1101 |     }
1102 |     
     | ^^^^
1103 |     @keyframes checkboxCheckedPulse {
1104 |         0%, 100% {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1111:1
     |
1109 |         }
1110 |     }
1111 |     
     | ^^^^
1112 |     /* Checkbox Checkmark - Shimmer-Effekt */
1113 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked::after,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1117:1
     |
1115 |         animation: checkmarkShimmer 2s ease-in-out infinite !important;
1116 |     }
1117 |     
     | ^^^^
1118 |     @keyframes checkmarkShimmer {
1119 |         0%, 100% {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1127:1
     |
1125 |         }
1126 |     }
1127 |     
     | ^^^^
1128 |     /* Radio Buttons - ├ähnliche Effekte */
1129 |     div[data-testid="stRadio"] label:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1137:1
     |
1135 |         transition: all 0.3s ease !important;
1136 |     }
1137 |     
     | ^^^^
1138 |     div[data-testid="stRadio"] input[type="radio"]:hover,
1139 |     .stRadio input[type="radio"]:hover {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1143:1
     |
1141 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
1142 |     }
1143 |     
     | ^^^^
1144 |    /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1145:1
     |
1144 |    /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
1145 |     
     | ^^^^
1146 |     </style>
1147 |     """, unsafe_allow_html=True)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1175:1
     |
1173 |     # Verwende eine Guard-Variable um sicherzustellen, dass kritische Initialisierungen
1174 |     # nur EINMAL pro Session passieren und nicht bei jedem Rerun ├╝berschrieben werden
1175 |     
     | ^^^^
1176 |     if '_session_initialized' not in st.session_state:
1177 |         st.session_state._session_initialized = True
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1178:1
     |
1176 |     if '_session_initialized' not in st.session_state:
1177 |         st.session_state._session_initialized = True
1178 |         
     | ^^^^^^^^
1179 |         # Projekt-Daten initialisieren
1180 |         if 'project_data' not in st.session_state:
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> gui.py:1182:37
     |
1180 |         if 'project_data' not in st.session_state:
1181 |             st.session_state.project_data = {
1182 |                 'customer_data': {}, 
     |                                     ^
1183 |                 'project_details': {}, 
1184 |                 'economic_data': {}
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> gui.py:1183:39
     |
1181 |             st.session_state.project_data = {
1182 |                 'customer_data': {}, 
1183 |                 'project_details': {}, 
     |                                       ^
1184 |                 'economic_data': {}
1185 |             }
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> gui.py:1186:1
     |
1184 |                 'economic_data': {}
1185 |             }
1186 |         
     | ^^^^^^^^
1187 |         # Berechnungs-Ergebnisse initialisieren
1188 |         if 'calculation_results' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1190:1
     |
1188 |         if 'calculation_results' not in st.session_state:
1189 |             st.session_state.calculation_results = {}
1190 |         
     | ^^^^^^^^
1191 |         if 'calculation_results_timestamp' not in st.session_state:
1192 |             st.session_state.calculation_results_timestamp = None
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1193:1
     |
1191 |         if 'calculation_results_timestamp' not in st.session_state:
1192 |             st.session_state.calculation_results_timestamp = None
1193 |         
     | ^^^^^^^^
1194 |         if 'calculation_results_backup' not in st.session_state:
1195 |             st.session_state.calculation_results_backup = {}
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1196:1
     |
1194 |         if 'calculation_results_backup' not in st.session_state:
1195 |             st.session_state.calculation_results_backup = {}
1196 |         
     | ^^^^^^^^
1197 |         # Navigation-Stabilit├ñt: Lock aktiviert standardm├ñ├ƒig
1198 |         if 'nav_lock_enabled' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1200:1
     |
1198 |         if 'nav_lock_enabled' not in st.session_state:
1199 |             st.session_state.nav_lock_enabled = True
1200 |         
     | ^^^^^^^^
1201 |         if 'nav_event' not in st.session_state:
1202 |             st.session_state.nav_event = False
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1203:1
     |
1201 |         if 'nav_event' not in st.session_state:
1202 |             st.session_state.nav_event = False
1203 |         
     | ^^^^^^^^
1204 |         # Context Menu States
1205 |         if 'context_menu_company_switch_open' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1207:1
     |
1205 |         if 'context_menu_company_switch_open' not in st.session_state:
1206 |             st.session_state.context_menu_company_switch_open = False
1207 |         
     | ^^^^^^^^
1208 |         if 'context_menu_company_selection' not in st.session_state:
1209 |             st.session_state.context_menu_company_selection = None
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1210:1
     |
1208 |         if 'context_menu_company_selection' not in st.session_state:
1209 |             st.session_state.context_menu_company_selection = None
1210 |         
     | ^^^^^^^^
1211 |         if 'context_menu_note_modal_open' not in st.session_state:
1212 |             st.session_state.context_menu_note_modal_open = False
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1213:1
     |
1211 |         if 'context_menu_note_modal_open' not in st.session_state:
1212 |             st.session_state.context_menu_note_modal_open = False
1213 |         
     | ^^^^^^^^
1214 |         if 'context_menu_note_input' not in st.session_state:
1215 |             st.session_state.context_menu_note_input = ""
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1216:1
     |
1214 |         if 'context_menu_note_input' not in st.session_state:
1215 |             st.session_state.context_menu_note_input = ""
1216 |         
     | ^^^^^^^^
1217 |         if 'context_notes' not in st.session_state:
1218 |             st.session_state.context_notes = []
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1219:1
     |
1217 |         if 'context_notes' not in st.session_state:
1218 |             st.session_state.context_notes = []
1219 |         
     | ^^^^^^^^
1220 |         if 'context_menu_debug_enabled' not in st.session_state:
1221 |             st.session_state.context_menu_debug_enabled = False
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1222:1
     |
1220 |         if 'context_menu_debug_enabled' not in st.session_state:
1221 |             st.session_state.context_menu_debug_enabled = False
1222 |         
     | ^^^^^^^^
1223 |         # Navigation History
1224 |         if 'nav_history' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1226:1
     |
1224 |         if 'nav_history' not in st.session_state:
1225 |             st.session_state.nav_history = []
1226 |         
     | ^^^^^^^^
1227 |         if 'nav_history_skip_append' not in st.session_state:
1228 |             st.session_state.nav_history_skip_append = False
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1229:1
     |
1227 |         if 'nav_history_skip_append' not in st.session_state:
1228 |             st.session_state.nav_history_skip_append = False
1229 |     
     | ^^^^
1230 |     # Pr├╝fe ob kritische States noch existieren (k├Ânnen durch Cleanup gel├Âscht werden)
1231 |     if 'project_data' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1235:1
     |
1233 |     if 'calculation_results' not in st.session_state:
1234 |         st.session_state.calculation_results = {}
1235 |     
     | ^^^^
1236 |     # Stelle sicher dass Lists auch wirklich Lists sind (nicht None oder andere Typen)
1237 |     if not isinstance(st.session_state.get('context_notes'), list):
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1257:1
     |
1255 |             if isinstance(action, str) and action:
1256 |                 handle_context_menu_action(action)
1257 |     
     | ^^^^
1258 |     # Ausfahrbarer Drawer - unten rechts
1259 |     drawer_script = 
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> gui.py:1259:20
     |
1258 |     # Ausfahrbarer Drawer - unten rechts
1259 |     drawer_script = 
     |                    ^
1260 |     <script>
1261 |     (function() {
     |
help: Remove trailing whitespace

invalid-syntax: Expected an expression
    --> gui.py:1259:21
     |
1258 |     # Ausfahrbarer Drawer - unten rechts
1259 |     drawer_script = 
     |                     ^
1260 |     <script>
1261 |     (function() {
     |

invalid-syntax: Expected a statement
    --> gui.py:1260:5
     |
1258 |     # Ausfahrbarer Drawer - unten rechts
1259 |     drawer_script = 
1260 |     <script>
     |     ^
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |

invalid-syntax: Expected an expression
    --> gui.py:1260:13
     |
1258 |     # Ausfahrbarer Drawer - unten rechts
1259 |     drawer_script = 
1260 |     <script>
     |             ^
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |

invalid-syntax: Expected ')', found '{'
    --> gui.py:1261:17
     |
1259 |     drawer_script = 
1260 |     <script>
1261 |     (function() {
     |                 ^
1262 |         const parentDoc = window.parent?.document;
1263 |         if (!parentDoc) {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1262:15
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |               ^^^^^^^^^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1262:25
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |                         ^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Got unexpected token ?
    --> gui.py:1262:40
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |                                        ^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Expected ',', found '.'
    --> gui.py:1262:41
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |                                         ^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1262:50
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |                                                  ^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Expected '}', found NonLogicalNewline
    --> gui.py:1262:51
     |
1260 |     <script>
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
     |                                                   ^
1263 |         if (!parentDoc) {
1264 |             return;
     |

invalid-syntax: Expected an expression
    --> gui.py:1263:13
     |
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
1263 |         if (!parentDoc) {
     |             ^
1264 |             return;
1265 |         }
     |

invalid-syntax: Expected a statement
    --> gui.py:1263:23
     |
1261 |     (function() {
1262 |         const parentDoc = window.parent?.document;
1263 |         if (!parentDoc) {
     |                       ^
1264 |             return;
1265 |         }
     |

invalid-syntax: Expected an identifier, but found a keyword 'return' that cannot be used here
    --> gui.py:1264:13
     |
1262 |         const parentDoc = window.parent?.document;
1263 |         if (!parentDoc) {
1264 |             return;
     |             ^^^^^^
1265 |         }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1264:19
     |
1262 |         const parentDoc = window.parent?.document;
1263 |         if (!parentDoc) {
1264 |             return;
     |                   ^
1265 |         }
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1267:21
     |
1265 |         }
1266 |
1267 |         // Entferne alte Elemente
     |                     ^^^^
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1267:26
     |
1265 |         }
1266 |
1267 |         // Entferne alte Elemente
     |                          ^^^^^^^^
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1268:9
     |
1267 |         // Entferne alte Elemente
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
     |         ^^^^^
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
1270 |         if (oldBtn) {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1268:15
     |
1267 |         // Entferne alte Elemente
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
     |               ^^^^^^
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
1270 |         if (oldBtn) {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1269:15
     |
1267 |         // Entferne alte Elemente
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
     |               ^^^^^^^^^
1270 |         if (oldBtn) {
1271 |             oldBtn.remove();
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1270:9
     |
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
1270 |         if (oldBtn) {
     |         ^^
1271 |             oldBtn.remove();
1272 |         }
     |

invalid-syntax: Expected ':', found '{'
    --> gui.py:1270:21
     |
1268 |         const oldBtn = parentDoc.getElementById('drawer-btn');
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
1270 |         if (oldBtn) {
     |                     ^
1271 |             oldBtn.remove();
1272 |         }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1271:28
     |
1269 |         const oldDrawer = parentDoc.getElementById('drawer-panel');
1270 |         if (oldBtn) {
1271 |             oldBtn.remove();
     |                            ^
1272 |         }
1273 |         if (oldDrawer) {
     |

invalid-syntax: Expected 'else', found '{'
    --> gui.py:1273:24
     |
1271 |             oldBtn.remove();
1272 |         }
1273 |         if (oldDrawer) {
     |                        ^
1274 |             oldDrawer.remove();
1275 |         }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1274:31
     |
1272 |         }
1273 |         if (oldDrawer) {
1274 |             oldDrawer.remove();
     |                               ^
1275 |         }
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1277:18
     |
1275 |         }
1276 |
1277 |         // Style hinzuf├╝gen
     |                  ^^^^^^^^^^
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
     |

invalid-syntax: Expected an expression
    --> gui.py:1278:13
     |
1277 |         // Style hinzuf├╝gen
1278 |         if (!parentDoc.getElementById('drawer-style')) {
     |             ^
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
     |

invalid-syntax: Expected a statement
    --> gui.py:1278:54
     |
1277 |         // Style hinzuf├╝gen
1278 |         if (!parentDoc.getElementById('drawer-style')) {
     |                                                      ^
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1279:19
     |
1277 |         // Style hinzuf├╝gen
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
     |                   ^^^^^
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1279:25
     |
1277 |         // Style hinzuf├╝gen
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
     |                         ^
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1279:59
     |
1277 |         // Style hinzuf├╝gen
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
     |                                                           ^
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1280:22
     |
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
     |                      ^
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1280:38
     |
1278 |         if (!parentDoc.getElementById('drawer-style')) {
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
     |                                      ^
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1281:29
     |
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
     |                             ^
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1281:31
     |
1279 |             const style = parentDoc.createElement('style');
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
     |                               ^
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
     |

invalid-syntax: Expected ',', found '.'
    --> gui.py:1282:17
     |
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
     |                 ^
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1282:32
     |
1280 |             style.id = 'drawer-style';
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
     |                                ^
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1283:37
     |
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
     |                                     ^
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1283:47
     |
1281 |             style.innerHTML = `
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
     |                                               ^
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1284:31
     |
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
     |                               ^^
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1284:34
     |
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
     |                                  ^
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1284:44
     |
1282 |                 .drawer-button {
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
     |                                            ^
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1285:30
     |
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
     |                              ^^
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1285:33
     |
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
     |                                 ^
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1285:43
     |
1283 |                     position: fixed !important;
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
     |                                           ^
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1286:37
     |
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
     |                                     ^
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1286:47
     |
1284 |                     bottom: 25px !important;
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
     |                                               ^
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1287:52
     |
1285 |                     right: 25px !important;
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
     |                                                    ^^^
1288 |                     color: white !important;
1289 |                     border: none !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1288:26
     |
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
     |                          ^
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1288:34
     |
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
     |                                  ^
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1288:44
     |
1286 |                     z-index: 999998 !important;
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
     |                                            ^
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1289:27
     |
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
1289 |                     border: none !important;
     |                           ^
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1289:34
     |
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
1289 |                     border: none !important;
     |                                  ^
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1289:44
     |
1287 |                     background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
1288 |                     color: white !important;
1289 |                     border: none !important;
     |                                            ^
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1290:34
     |
1288 |                     color: white !important;
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |                                  ^
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |

invalid-syntax: Expected an expression
    --> gui.py:1290:40
     |
1288 |                     color: white !important;
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |                                        ^
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1290:50
     |
1288 |                     color: white !important;
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
     |                                                  ^
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1291:26
     |
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |                          ^
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1291:30
     |
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |                              ^^
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1291:33
     |
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |                                 ^
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1291:43
     |
1289 |                     border: none !important;
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
     |                                           ^
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1292:27
     |
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |                           ^
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1292:31
     |
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |                               ^^
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1292:34
     |
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |                                  ^
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1292:44
     |
1290 |                     border-radius: 50% !important;
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
     |                                            ^
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1293:30
     |
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |                              ^
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1293:34
     |
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |                                  ^^
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1293:37
     |
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |                                     ^
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1293:47
     |
1291 |                     width: 65px !important;
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
     |                                               ^
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1294:27
     |
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |                           ^
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1294:37
     |
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |                                     ^
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1294:47
     |
1292 |                     height: 65px !important;
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
     |                                               ^
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1295:31
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                               ^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1295:35
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                   ^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1295:36
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                    ^^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1295:39
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                       ^^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1295:41
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                         ^^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1295:44
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                            ^^^^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1295:69
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                                                     ^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1295:79
     |
1293 |                     font-size: 28px !important;
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
     |                                                                               ^
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1296:31
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                               ^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1296:37
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                     ^^^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1296:40
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                        ^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1296:42
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                          ^^^^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1296:47
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                               ^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1296:57
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                                         ^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ')', found NonLogicalNewline
    --> gui.py:1296:58
     |
1294 |                     cursor: pointer !important;
1295 |                     box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5) !important;
1296 |                     transition: all 0.3s ease !important;
     |                                                          ^
1297 |                 }
1298 |                 .drawer-button:hover {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1298:31
     |
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
1298 |                 .drawer-button:hover {
     |                               ^
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1298:38
     |
1296 |                     transition: all 0.3s ease !important;
1297 |                 }
1298 |                 .drawer-button:hover {
     |                                      ^
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1299:43
     |
1297 |                 }
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
     |                                           ^
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
1301 |                 }
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1299:53
     |
1297 |                 }
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
     |                                                     ^
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
1301 |                 }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1300:35
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                   ^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ':', found name
    --> gui.py:1300:36
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                    ^^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1300:39
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                       ^^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ':', found name
    --> gui.py:1300:41
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                         ^^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1300:44
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                            ^^^^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1300:69
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                                                     ^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1300:79
     |
1298 |                 .drawer-button:hover {
1299 |                     transform: scale(1.1) !important;
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
     |                                                                               ^
1301 |                 }
1302 |                 .drawer-panel {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1302:31
     |
1300 |                     box-shadow: 0 8px 35px rgba(102, 126, 234, 0.7) !important;
1301 |                 }
1302 |                 .drawer-panel {
     |                               ^
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1303:37
     |
1301 |                 }
1302 |                 .drawer-panel {
1303 |                     position: fixed !important;
     |                                     ^
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1303:47
     |
1301 |                 }
1302 |                 .drawer-panel {
1303 |                     position: fixed !important;
     |                                               ^
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1304:31
     |
1302 |                 .drawer-panel {
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
     |                               ^
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1304:41
     |
1302 |                 .drawer-panel {
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
     |                                         ^
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1305:32
     |
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
     |                                ^^
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1305:35
     |
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
     |                                   ^
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1305:45
     |
1303 |                     position: fixed !important;
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
     |                                             ^
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1306:31
     |
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
     |                               ^^
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1306:34
     |
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
     |                                  ^
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1306:44
     |
1304 |                     bottom: 0 !important;
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
     |                                            ^
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1307:32
     |
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |                                ^^
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |

invalid-syntax: Expected ':', found '!'
    --> gui.py:1307:35
     |
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |                                   ^
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1307:45
     |
1305 |                     right: -350px !important;
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
     |                                             ^
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1308:52
     |
1306 |                     width: 350px !important;
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
     |                                                    ^^^
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1309:31
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                               ^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1309:35
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                   ^^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1309:38
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                      ^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1309:40
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                        ^^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1309:42
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                          ^^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1309:45
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                             ^^^^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1309:61
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                                             ^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1309:71
     |
1307 |                     height: 500px !important;
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
     |                                                                       ^
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1310:28
     |
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
     |                            ^
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1310:37
     |
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
     |                                     ^
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1310:47
     |
1308 |                     background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%) !important;
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
     |                                               ^
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1311:31
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                               ^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1311:39
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                                       ^^^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1311:42
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                                          ^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1311:44
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                                            ^^^^^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1311:73
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                                                                         ^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1311:83
     |
1309 |                     box-shadow: -5px 0 30px rgba(0,0,0,0.5) !important;
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
     |                                                                                   ^
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1312:34
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                  ^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1312:38
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                      ^^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1312:41
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                         ^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1312:43
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                           ^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1312:45
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                             ^^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1312:47
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                               ^^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1312:50
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                                  ^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1312:60
     |
1310 |                     z-index: 999999 !important;
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
     |                                                            ^
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1313:28
     |
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |                            ^
1314 |                     overflow-y: auto !important;
1315 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1313:32
     |
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |                                ^^
1314 |                     overflow-y: auto !important;
1315 |                 }
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1313:35
     |
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |                                   ^
1314 |                     overflow-y: auto !important;
1315 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1313:45
     |
1311 |                     transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
     |                                             ^
1314 |                     overflow-y: auto !important;
1315 |                 }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1314:31
     |
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |                               ^
1315 |                 }
1316 |                 .drawer-panel.open {
     |

invalid-syntax: Expected ',', found '!'
    --> gui.py:1314:38
     |
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |                                      ^
1315 |                 }
1316 |                 .drawer-panel.open {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1314:48
     |
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |                                                ^
1315 |                 }
1316 |                 .drawer-panel.open {
     |

invalid-syntax: Expected ')', found NonLogicalNewline
    --> gui.py:1314:49
     |
1312 |                     border-radius: 20px 0 0 20px !important;
1313 |                     padding: 25px !important;
1314 |                     overflow-y: auto !important;
     |                                                 ^
1315 |                 }
1316 |                 .drawer-panel.open {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1316:36
     |
1314 |                     overflow-y: auto !important;
1315 |                 }
1316 |                 .drawer-panel.open {
     |                                    ^
1317 |                     right: 0 !important;
1318 |                 }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1317:30
     |
1315 |                 }
1316 |                 .drawer-panel.open {
1317 |                     right: 0 !important;
     |                              ^
1318 |                 }
1319 |                 .drawer-close {
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1317:40
     |
1315 |                 }
1316 |                 .drawer-panel.open {
1317 |                     right: 0 !important;
     |                                        ^
1318 |                 }
1319 |                 .drawer-close {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1319:31
     |
1317 |                     right: 0 !important;
1318 |                 }
1319 |                 .drawer-close {
     |                               ^
1320 |                     position: absolute;
1321 |                     top: 15px;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1320:39
     |
1318 |                 }
1319 |                 .drawer-close {
1320 |                     position: absolute;
     |                                       ^
1321 |                     top: 15px;
1322 |                     right: 15px;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1321:28
     |
1319 |                 .drawer-close {
1320 |                     position: absolute;
1321 |                     top: 15px;
     |                            ^^
1322 |                     right: 15px;
1323 |                     background: rgba(255,255,255,0.1);
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1321:30
     |
1319 |                 .drawer-close {
1320 |                     position: absolute;
1321 |                     top: 15px;
     |                              ^
1322 |                     right: 15px;
1323 |                     background: rgba(255,255,255,0.1);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1322:30
     |
1320 |                     position: absolute;
1321 |                     top: 15px;
1322 |                     right: 15px;
     |                              ^^
1323 |                     background: rgba(255,255,255,0.1);
1324 |                     border: none;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1322:32
     |
1320 |                     position: absolute;
1321 |                     top: 15px;
1322 |                     right: 15px;
     |                                ^
1323 |                     background: rgba(255,255,255,0.1);
1324 |                     border: none;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1323:54
     |
1321 |                     top: 15px;
1322 |                     right: 15px;
1323 |                     background: rgba(255,255,255,0.1);
     |                                                      ^
1324 |                     border: none;
1325 |                     color: white;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1324:33
     |
1322 |                     right: 15px;
1323 |                     background: rgba(255,255,255,0.1);
1324 |                     border: none;
     |                                 ^
1325 |                     color: white;
1326 |                     font-size: 24px;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1325:33
     |
1323 |                     background: rgba(255,255,255,0.1);
1324 |                     border: none;
1325 |                     color: white;
     |                                 ^
1326 |                     font-size: 24px;
1327 |                     width: 35px;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1326:34
     |
1324 |                     border: none;
1325 |                     color: white;
1326 |                     font-size: 24px;
     |                                  ^^
1327 |                     width: 35px;
1328 |                     height: 35px;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1326:36
     |
1324 |                     border: none;
1325 |                     color: white;
1326 |                     font-size: 24px;
     |                                    ^
1327 |                     width: 35px;
1328 |                     height: 35px;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1327:30
     |
1325 |                     color: white;
1326 |                     font-size: 24px;
1327 |                     width: 35px;
     |                              ^^
1328 |                     height: 35px;
1329 |                     border-radius: 50%;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1327:32
     |
1325 |                     color: white;
1326 |                     font-size: 24px;
1327 |                     width: 35px;
     |                                ^
1328 |                     height: 35px;
1329 |                     border-radius: 50%;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1328:31
     |
1326 |                     font-size: 24px;
1327 |                     width: 35px;
1328 |                     height: 35px;
     |                               ^^
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1328:33
     |
1326 |                     font-size: 24px;
1327 |                     width: 35px;
1328 |                     height: 35px;
     |                                 ^
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
     |

invalid-syntax: Expected an expression
    --> gui.py:1329:39
     |
1327 |                     width: 35px;
1328 |                     height: 35px;
1329 |                     border-radius: 50%;
     |                                       ^
1330 |                     cursor: pointer;
1331 |                     transition: all 0.2s;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1330:36
     |
1328 |                     height: 35px;
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
     |                                    ^
1331 |                     transition: all 0.2s;
1332 |                 }
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1331:37
     |
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
1331 |                     transition: all 0.2s;
     |                                     ^^^
1332 |                 }
1333 |                 .drawer-close:hover {
     |

invalid-syntax: Expected ':', found name
    --> gui.py:1331:40
     |
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
1331 |                     transition: all 0.2s;
     |                                        ^
1332 |                 }
1333 |                 .drawer-close:hover {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1331:41
     |
1329 |                     border-radius: 50%;
1330 |                     cursor: pointer;
1331 |                     transition: all 0.2s;
     |                                         ^
1332 |                 }
1333 |                 .drawer-close:hover {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1333:30
     |
1331 |                     transition: all 0.2s;
1332 |                 }
1333 |                 .drawer-close:hover {
     |                              ^
1334 |                     background: rgba(255,255,255,0.2);
1335 |                     transform: rotate(90deg);
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1333:37
     |
1331 |                     transition: all 0.2s;
1332 |                 }
1333 |                 .drawer-close:hover {
     |                                     ^
1334 |                     background: rgba(255,255,255,0.2);
1335 |                     transform: rotate(90deg);
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1334:54
     |
1332 |                 }
1333 |                 .drawer-close:hover {
1334 |                     background: rgba(255,255,255,0.2);
     |                                                      ^
1335 |                     transform: rotate(90deg);
1336 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1335:41
     |
1333 |                 .drawer-close:hover {
1334 |                     background: rgba(255,255,255,0.2);
1335 |                     transform: rotate(90deg);
     |                                         ^^^
1336 |                 }
1337 |                 .drawer-title {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1335:45
     |
1333 |                 .drawer-close:hover {
1334 |                     background: rgba(255,255,255,0.2);
1335 |                     transform: rotate(90deg);
     |                                             ^
1336 |                 }
1337 |                 .drawer-title {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1337:31
     |
1335 |                     transform: rotate(90deg);
1336 |                 }
1337 |                 .drawer-title {
     |                               ^
1338 |                     color: white;
1339 |                     font-size: 24px;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1338:33
     |
1336 |                 }
1337 |                 .drawer-title {
1338 |                     color: white;
     |                                 ^
1339 |                     font-size: 24px;
1340 |                     font-weight: bold;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1339:34
     |
1337 |                 .drawer-title {
1338 |                     color: white;
1339 |                     font-size: 24px;
     |                                  ^^
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1339:36
     |
1337 |                 .drawer-title {
1338 |                     color: white;
1339 |                     font-size: 24px;
     |                                    ^
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1340:38
     |
1338 |                     color: white;
1339 |                     font-size: 24px;
1340 |                     font-weight: bold;
     |                                      ^
1341 |                     margin-bottom: 20px;
1342 |                     padding-top: 10px;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1341:38
     |
1339 |                     font-size: 24px;
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
     |                                      ^^
1342 |                     padding-top: 10px;
1343 |                 }
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1341:40
     |
1339 |                     font-size: 24px;
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
     |                                        ^
1342 |                     padding-top: 10px;
1343 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1342:36
     |
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
1342 |                     padding-top: 10px;
     |                                    ^^
1343 |                 }
1344 |                 .drawer-btn {
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1342:38
     |
1340 |                     font-weight: bold;
1341 |                     margin-bottom: 20px;
1342 |                     padding-top: 10px;
     |                                      ^
1343 |                 }
1344 |                 .drawer-btn {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1344:29
     |
1342 |                     padding-top: 10px;
1343 |                 }
1344 |                 .drawer-btn {
     |                             ^
1345 |                     width: 100%;
1346 |                     padding: 15px;
     |

invalid-syntax: Expected an expression
    --> gui.py:1345:32
     |
1343 |                 }
1344 |                 .drawer-btn {
1345 |                     width: 100%;
     |                                ^
1346 |                     padding: 15px;
1347 |                     margin: 10px 0;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1346:32
     |
1344 |                 .drawer-btn {
1345 |                     width: 100%;
1346 |                     padding: 15px;
     |                                ^^
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1346:34
     |
1344 |                 .drawer-btn {
1345 |                     width: 100%;
1346 |                     padding: 15px;
     |                                  ^
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1347:31
     |
1345 |                     width: 100%;
1346 |                     padding: 15px;
1347 |                     margin: 10px 0;
     |                               ^^
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |

invalid-syntax: Expected ':', found int
    --> gui.py:1347:34
     |
1345 |                     width: 100%;
1346 |                     padding: 15px;
1347 |                     margin: 10px 0;
     |                                  ^
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1347:35
     |
1345 |                     width: 100%;
1346 |                     padding: 15px;
1347 |                     margin: 10px 0;
     |                                   ^
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1348:57
     |
1346 |                     padding: 15px;
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
     |                                                         ^
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
1350 |                     border-radius: 10px;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1349:30
     |
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |                              ^^
1350 |                     border-radius: 10px;
1351 |                     color: white;
     |

invalid-syntax: Expected ':', found name
    --> gui.py:1349:33
     |
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |                                 ^^^^^
1350 |                     border-radius: 10px;
1351 |                     color: white;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1349:39
     |
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |                                       ^^^^
1350 |                     border-radius: 10px;
1351 |                     color: white;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1349:63
     |
1347 |                     margin: 10px 0;
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
     |                                                               ^
1350 |                     border-radius: 10px;
1351 |                     color: white;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1350:38
     |
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
1350 |                     border-radius: 10px;
     |                                      ^^
1351 |                     color: white;
1352 |                     font-size: 16px;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1350:40
     |
1348 |                     background: rgba(102, 126, 234, 0.2);
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
1350 |                     border-radius: 10px;
     |                                        ^
1351 |                     color: white;
1352 |                     font-size: 16px;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1351:33
     |
1349 |                     border: 1px solid rgba(102, 126, 234, 0.4);
1350 |                     border-radius: 10px;
1351 |                     color: white;
     |                                 ^
1352 |                     font-size: 16px;
1353 |                     cursor: pointer;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1352:34
     |
1350 |                     border-radius: 10px;
1351 |                     color: white;
1352 |                     font-size: 16px;
     |                                  ^^
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
     |

invalid-syntax: Expected ':', found ';'
    --> gui.py:1352:36
     |
1350 |                     border-radius: 10px;
1351 |                     color: white;
1352 |                     font-size: 16px;
     |                                    ^
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1353:36
     |
1351 |                     color: white;
1352 |                     font-size: 16px;
1353 |                     cursor: pointer;
     |                                    ^
1354 |                     transition: all 0.3s;
1355 |                     text-align: left;
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1354:37
     |
1352 |                     font-size: 16px;
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
     |                                     ^^^
1355 |                     text-align: left;
1356 |                 }
     |

invalid-syntax: Expected ':', found name
    --> gui.py:1354:40
     |
1352 |                     font-size: 16px;
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
     |                                        ^
1355 |                     text-align: left;
1356 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1354:41
     |
1352 |                     font-size: 16px;
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
     |                                         ^
1355 |                     text-align: left;
1356 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1355:37
     |
1353 |                     cursor: pointer;
1354 |                     transition: all 0.3s;
1355 |                     text-align: left;
     |                                     ^
1356 |                 }
1357 |                 .drawer-btn:hover {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1357:28
     |
1355 |                     text-align: left;
1356 |                 }
1357 |                 .drawer-btn:hover {
     |                            ^
1358 |                     background: rgba(102, 126, 234, 0.4);
1359 |                     transform: translateX(-5px);
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1357:35
     |
1355 |                     text-align: left;
1356 |                 }
1357 |                 .drawer-btn:hover {
     |                                   ^
1358 |                     background: rgba(102, 126, 234, 0.4);
1359 |                     transform: translateX(-5px);
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1358:57
     |
1356 |                 }
1357 |                 .drawer-btn:hover {
1358 |                     background: rgba(102, 126, 234, 0.4);
     |                                                         ^
1359 |                     transform: translateX(-5px);
1360 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1359:45
     |
1357 |                 .drawer-btn:hover {
1358 |                     background: rgba(102, 126, 234, 0.4);
1359 |                     transform: translateX(-5px);
     |                                             ^^
1360 |                 }
1361 |             `;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1359:48
     |
1357 |                 .drawer-btn:hover {
1358 |                     background: rgba(102, 126, 234, 0.4);
1359 |                     transform: translateX(-5px);
     |                                                ^
1360 |                 }
1361 |             `;
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1361:13
     |
1359 |                     transform: translateX(-5px);
1360 |                 }
1361 |             `;
     |             ^
1362 |             parentDoc.head.appendChild(style);
1363 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1361:14
     |
1359 |                     transform: translateX(-5px);
1360 |                 }
1361 |             `;
     |              ^
1362 |             parentDoc.head.appendChild(style);
1363 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1362:46
     |
1360 |                 }
1361 |             `;
1362 |             parentDoc.head.appendChild(style);
     |                                              ^
1363 |         }
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1365:19
     |
1363 |         }
1364 |
1365 |         // Drawer Panel erstellen
     |                   ^^^^^
1366 |         const drawer = parentDoc.createElement('div');
1367 |         drawer.id = 'drawer-panel';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1365:25
     |
1363 |         }
1364 |
1365 |         // Drawer Panel erstellen
     |                         ^^^^^^^^^
1366 |         const drawer = parentDoc.createElement('div');
1367 |         drawer.id = 'drawer-panel';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1366:9
     |
1365 |         // Drawer Panel erstellen
1366 |         const drawer = parentDoc.createElement('div');
     |         ^^^^^
1367 |         drawer.id = 'drawer-panel';
1368 |         drawer.className = 'drawer-panel';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1366:15
     |
1365 |         // Drawer Panel erstellen
1366 |         const drawer = parentDoc.createElement('div');
     |               ^^^^^^
1367 |         drawer.id = 'drawer-panel';
1368 |         drawer.className = 'drawer-panel';
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1369:28
     |
1367 |         drawer.id = 'drawer-panel';
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
     |                            ^
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |

invalid-syntax: Expected a statement
    --> gui.py:1370:13
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |             ^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1370:21
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |                     ^^^^^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1370:26
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |                          ^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Got unexpected token ├ù
    --> gui.py:1370:42
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |                                          ^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1370:43
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |                                           ^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1370:44
     |
1368 |         drawer.className = 'drawer-panel';
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
     |                                            ^
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1371:13
     |
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |             ^
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1371:18
     |
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |                  ^^^^^
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1371:23
     |
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |                       ^
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1371:45
     |
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |                                             ^^^^^^^
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1371:53
     |
1369 |         drawer.innerHTML = `
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
     |                                                     ^
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1372:13
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |             ^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1372:21
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                     ^^^^^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1372:26
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                          ^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1372:40
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                        ^^^^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1372:40
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                        ^^^^^^^^^^^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Got unexpected token ­ƒôè
    --> gui.py:1372:62
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                                              ^^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1372:62
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                                              ^^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1372:71
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                                                        ^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1372:73
     |
1370 |             <button class="drawer-close">├ù</button>
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
     |                                                                          ^
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1373:13
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |             ^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1373:21
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                     ^^^^^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1373:26
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                          ^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1373:40
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                        ^^^^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1373:40
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                        ^^^^^^^^^^^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Got unexpected token ­ƒöº
    --> gui.py:1373:62
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                                              ^^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1373:62
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                                              ^^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1373:71
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                                                        ^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1373:73
     |
1371 |             <div class="drawer-title">Quick Actions</div>
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
     |                                                                          ^
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1374:13
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |             ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1374:21
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                     ^^^^^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1374:26
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                          ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1374:40
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                        ^^^^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1374:40
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                        ^^^^^^^^^^^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Got unexpected token ÔÜÖ
    --> gui.py:1374:62
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                                              ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1374:62
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                                              ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Got unexpected token ´©Å
    --> gui.py:1374:63
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                                               ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1374:72
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                                                       ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1374:74
     |
1372 |             <button class="drawer-btn" data-action="action1">­ƒôè Button 1</button>
1373 |             <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 |             <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
     |                                                                         ^
1375 |             <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 |             <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1375:13
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |       ^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1375:21
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |               ^^^^^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Expected an identifier
    --> gui.py:1375:26
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                    ^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1375:40
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                  ^^^^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1375:40
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                  ^^^^^^^^^^^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Got unexpected token ­ƒôê
    --> gui.py:1375:62
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                                        ^^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Expected a statement
    --> gui.py:1375:62
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                                        ^^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1375:71
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                                                  ^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Expected an expression
    --> gui.py:1375:73
     |
1373 | ÔÇª     <button class="drawer-btn" data-action="action2">­ƒöº Button 2</button>
1374 | ÔÇª     <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª     <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
     |                                                                    ^
1376 | ÔÇª     <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª     <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4ÔÇª
     |

invalid-syntax: Expected an expression
    --> gui.py:1376:13
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |           ^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1376:21
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                   ^^^^^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Expected an identifier
    --> gui.py:1376:26
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                        ^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1376:40
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                      ^^^^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1376:40
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                      ^^^^^^^^^^^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Got unexpected token ­ƒÄ»
    --> gui.py:1376:62
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                                            ^^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Expected a statement
    --> gui.py:1376:62
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                                            ^^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1376:71
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                                                      ^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Expected an expression
    --> gui.py:1376:73
     |
1374 | ÔÇª         <button class="drawer-btn" data-action="action3">ÔÜÖ´©Å Button 3</button>
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
     |                                                                        ^
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |

invalid-syntax: Expected an expression
    --> gui.py:1377:13
     |
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
     |           ^
1378 | ÔÇª     `;
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1377:21
     |
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
     |                   ^^^^^
1378 | ÔÇª     `;
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Expected an identifier
    --> gui.py:1377:26
     |
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
     |                        ^
1378 | ÔÇª     `;
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1377:40
     |
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
     |                                      ^^^^
1378 | ÔÇª     `;
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1377:61
     |
1375 | ÔÇª         <button class="drawer-btn" data-action="action4">­ƒôê Button 4</button>
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
     |                                                           ^^^^^
1378 | ÔÇª     `;
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Got unexpected token ­ƒÜ¬
    --> gui.py:1377:143
     |
1375 | ÔÇªn>
1376 | ÔÇªn>
1377 | ÔÇª rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4);">­ƒÜ¬ Abmelden</button>
     |                                                                  ^^
1378 | ÔÇª
1379 | ÔÇª
     |

invalid-syntax: Expected an expression
    --> gui.py:1377:154
     |
1375 | ÔÇª
1376 | ÔÇª
1377 | ÔÇª68, 68, 0.2); border-color: rgba(239, 68, 68, 0.4);">­ƒÜ¬ Abmelden</button>
     |                                                                   ^
1378 | ÔÇª
1379 | ÔÇª
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1378:9
     |
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |       ^
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Expected a statement
    --> gui.py:1378:10
     |
1376 | ÔÇª         <button class="drawer-btn" data-action="action5">­ƒÄ» Button 5</button>
1377 | ÔÇª         <button class="drawer-btn" data-action="logout" style="background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68,ÔÇª
1378 | ÔÇª     `;
     |        ^
1379 | ÔÇª     parentDoc.body.appendChild(drawer);
     |

invalid-syntax: Expected a statement
    --> gui.py:1381:9
     |
1379 |         parentDoc.body.appendChild(drawer);
1380 |
1381 |         // Event Listeners f├╝r Drawer Buttons
     |         ^^
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1381:18
     |
1379 |         parentDoc.body.appendChild(drawer);
1380 |
1381 |         // Event Listeners f├╝r Drawer Buttons
     |                  ^^^^^^^^^
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1381:28
     |
1379 |         parentDoc.body.appendChild(drawer);
1380 |
1381 |         // Event Listeners f├╝r Drawer Buttons
     |                            ^^^
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1381:32
     |
1379 |         parentDoc.body.appendChild(drawer);
1380 |
1381 |         // Event Listeners f├╝r Drawer Buttons
     |                                ^^^^^^
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1381:39
     |
1379 |         parentDoc.body.appendChild(drawer);
1380 |
1381 |         // Event Listeners f├╝r Drawer Buttons
     |                                       ^^^^^^^
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1382:9
     |
1381 |         // Event Listeners f├╝r Drawer Buttons
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
     |         ^^^^^^
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |

invalid-syntax: Cannot use parenthesized keyword argument name on Python 3.11 (syntax was removed in Python 3.8)
    --> gui.py:1382:56
     |
1381 |         // Event Listeners f├╝r Drawer Buttons
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
     |                                                        ^^^^^
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |

invalid-syntax: Expected an expression
    --> gui.py:1382:63
     |
1381 |         // Event Listeners f├╝r Drawer Buttons
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
     |                                                               ^
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1383:55
     |
1381 |         // Event Listeners f├╝r Drawer Buttons
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
     |                                                       ^
1384 |                 const action = this.getAttribute('data-action');
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1384:23
     |
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |                       ^^^^^^
1385 |
1386 |                 if (action === 'logout') {
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1384:30
     |
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |                              ^
1385 |
1386 |                 if (action === 'logout') {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1384:64
     |
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |                                                                ^
1385 |
1386 |                 if (action === 'logout') {
     |

invalid-syntax: Expected '}', found NonLogicalNewline
    --> gui.py:1384:65
     |
1382 |         drawer.querySelectorAll('.drawer-btn').forEach((btn) => {
1383 |             btn.addEventListener('click', function () {
1384 |                 const action = this.getAttribute('data-action');
     |                                                                 ^
1385 |
1386 |                 if (action === 'logout') {
     |

invalid-syntax: Expected an expression
    --> gui.py:1386:30
     |
1384 |                 const action = this.getAttribute('data-action');
1385 |
1386 |                 if (action === 'logout') {
     |                              ^
1387 |                     if (window.Streamlit) {
1388 |                         window.Streamlit.setComponentValue('logout');
     |

invalid-syntax: Expected a statement
    --> gui.py:1386:40
     |
1384 |                 const action = this.getAttribute('data-action');
1385 |
1386 |                 if (action === 'logout') {
     |                                        ^
1387 |                     if (window.Streamlit) {
1388 |                         window.Streamlit.setComponentValue('logout');
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1387:21
     |
1386 |                 if (action === 'logout') {
1387 |                     if (window.Streamlit) {
     |                     ^^
1388 |                         window.Streamlit.setComponentValue('logout');
1389 |                     }
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1387:43
     |
1386 |                 if (action === 'logout') {
1387 |                     if (window.Streamlit) {
     |                                           ^
1388 |                         window.Streamlit.setComponentValue('logout');
1389 |                     }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1388:69
     |
1386 |                 if (action === 'logout') {
1387 |                     if (window.Streamlit) {
1388 |                         window.Streamlit.setComponentValue('logout');
     |                                                                     ^
1389 |                     }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1391:21
     |
1389 |                     }
1390 |
1391 |                     drawer.classList.remove('open');
     |                     ^^^^^^
1392 |                 }
1393 |             });
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1391:52
     |
1389 |                     }
1390 |
1391 |                     drawer.classList.remove('open');
     |                                                    ^
1392 |                 }
1393 |             });
     |

invalid-syntax: Expected a statement
    --> gui.py:1393:13
     |
1391 |                     drawer.classList.remove('open');
1392 |                 }
1393 |             });
     |             ^
1394 |         });
     |

invalid-syntax: Expected a statement
    --> gui.py:1393:14
     |
1391 |                     drawer.classList.remove('open');
1392 |                 }
1393 |             });
     |              ^
1394 |         });
     |

invalid-syntax: Expected a statement
    --> gui.py:1393:15
     |
1391 |                     drawer.classList.remove('open');
1392 |                 }
1393 |             });
     |               ^
1394 |         });
     |

invalid-syntax: Expected a statement
    --> gui.py:1393:16
     |
1391 |                     drawer.classList.remove('open');
1392 |                 }
1393 |             });
     |                ^
1394 |         });
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1394:1
     |
1392 |                 }
1393 |             });
1394 |         });
     | ^^^^^^^^
1395 |
1396 |         // Toggle Button erstellen
     |

invalid-syntax: Expected a statement
    --> gui.py:1394:9
     |
1392 |                 }
1393 |             });
1394 |         });
     |         ^
1395 |
1396 |         // Toggle Button erstellen
     |

invalid-syntax: Expected a statement
    --> gui.py:1394:10
     |
1392 |                 }
1393 |             });
1394 |         });
     |          ^
1395 |
1396 |         // Toggle Button erstellen
     |

invalid-syntax: Expected a statement
    --> gui.py:1394:11
     |
1392 |                 }
1393 |             });
1394 |         });
     |           ^
1395 |
1396 |         // Toggle Button erstellen
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1394:11
     |
1392 |                 }
1393 |             });
1394 |         });
     |           ^
1395 |
1396 |         // Toggle Button erstellen
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1394:12
     |
1392 |                 }
1393 |             });
1394 |         });
     |            ^
1395 |
1396 |         // Toggle Button erstellen
     |

invalid-syntax: Expected a statement
    --> gui.py:1396:9
     |
1394 |         });
1395 |
1396 |         // Toggle Button erstellen
     |         ^^
1397 |         const btn = parentDoc.createElement('button');
1398 |         btn.id = 'drawer-btn';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1396:19
     |
1394 |         });
1395 |
1396 |         // Toggle Button erstellen
     |                   ^^^^^^
1397 |         const btn = parentDoc.createElement('button');
1398 |         btn.id = 'drawer-btn';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1396:26
     |
1394 |         });
1395 |
1396 |         // Toggle Button erstellen
     |                          ^^^^^^^^^
1397 |         const btn = parentDoc.createElement('button');
1398 |         btn.id = 'drawer-btn';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1397:15
     |
1396 |         // Toggle Button erstellen
1397 |         const btn = parentDoc.createElement('button');
     |               ^^^
1398 |         btn.id = 'drawer-btn';
1399 |         btn.className = 'drawer-button';
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1397:54
     |
1396 |         // Toggle Button erstellen
1397 |         const btn = parentDoc.createElement('button');
     |                                                      ^
1398 |         btn.id = 'drawer-btn';
1399 |         btn.className = 'drawer-button';
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1398:30
     |
1396 |         // Toggle Button erstellen
1397 |         const btn = parentDoc.createElement('button');
1398 |         btn.id = 'drawer-btn';
     |                              ^
1399 |         btn.className = 'drawer-button';
1400 |         btn.innerHTML = 'Ôÿ░';
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1399:40
     |
1397 |         const btn = parentDoc.createElement('button');
1398 |         btn.id = 'drawer-btn';
1399 |         btn.className = 'drawer-button';
     |                                        ^
1400 |         btn.innerHTML = 'Ôÿ░';
1401 |         btn.title = 'Quick Actions';
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1400:28
     |
1398 |         btn.id = 'drawer-btn';
1399 |         btn.className = 'drawer-button';
1400 |         btn.innerHTML = 'Ôÿ░';
     |                             ^
1401 |         btn.title = 'Quick Actions';
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1401:36
     |
1399 |         btn.className = 'drawer-button';
1400 |         btn.innerHTML = 'Ôÿ░';
1401 |         btn.title = 'Quick Actions';
     |                                    ^
1402 |
1403 |         btn.onclick = function () {
     |
help: Remove unnecessary semicolon

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1403:35
     |
1401 |         btn.title = 'Quick Actions';
1402 |
1403 |         btn.onclick = function () {
     |                                   ^
1404 |             drawer.classList.toggle('open');
1405 |         };
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1404:44
     |
1403 |         btn.onclick = function () {
1404 |             drawer.classList.toggle('open');
     |                                            ^
1405 |         };
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1405:10
     |
1403 |         btn.onclick = function () {
1404 |             drawer.classList.toggle('open');
1405 |         };
     |          ^
1406 |
1407 |         // Close button
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1407:9
     |
1405 |         };
1406 |
1407 |         // Close button
     |         ^^
1408 |         drawer.querySelector('.drawer-close').onclick = function () {
1409 |             drawer.classList.remove('open');
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1407:18
     |
1405 |         };
1406 |
1407 |         // Close button
     |                  ^^^^^^
1408 |         drawer.querySelector('.drawer-close').onclick = function () {
1409 |             drawer.classList.remove('open');
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1408:69
     |
1407 |         // Close button
1408 |         drawer.querySelector('.drawer-close').onclick = function () {
     |                                                                     ^
1409 |             drawer.classList.remove('open');
1410 |         };
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1409:44
     |
1407 |         // Close button
1408 |         drawer.querySelector('.drawer-close').onclick = function () {
1409 |             drawer.classList.remove('open');
     |                                            ^
1410 |         };
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1410:10
     |
1408 |         drawer.querySelector('.drawer-close').onclick = function () {
1409 |             drawer.classList.remove('open');
1410 |         };
     |          ^
1411 |
1412 |         parentDoc.body.appendChild(btn);
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1412:40
     |
1410 |         };
1411 |
1412 |         parentDoc.body.appendChild(btn);
     |                                        ^
1413 |     })();
1414 |     </script>
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1413:5
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
     |     ^
1414 |     </script>
     |

invalid-syntax: Expected a statement
    --> gui.py:1413:6
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
     |      ^
1414 |     </script>
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1413:9
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
     |         ^
1414 |     </script>
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1414:5
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
1414 |     </script>
     |     ^
     |

invalid-syntax: Expected a statement
    --> gui.py:1414:6
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
1414 |     </script>
     |      ^
     |

invalid-syntax: Expected an expression
    --> gui.py:1414:14
     |
1412 |         parentDoc.body.appendChild(btn);
1413 |     })();
1414 |     </script>
     |              ^
     |

W293 Blank line contains whitespace
    --> gui.py:1415:1
     |
1413 |     })();
1414 |     </script>
1415 |     
     | ^^^^
1416 |
1417 |     drawer_action = components.html(drawer_script, height=0, width=0)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1418:1
     |
1417 |     drawer_action = components.html(drawer_script, height=0, width=0)
1418 |     
     | ^^^^
1419 |     # Logout-Handler: Wenn Drawer "logout" zur├╝ckgibt
1420 |     if drawer_action == 'logout':
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1437:1
     |
1435 |             except:
1436 |                 pass
1437 |         
     | ^^^^^^^^
1438 |         st.markdown("---")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1439:1
     |
1438 |         st.markdown("---")
1439 |         
     | ^^^^^^^^
1440 |         # === MODERNE SIDEBAR NAVIGATION (BEHANCE-STIL) ===
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1441:1
     |
1440 |         # === MODERNE SIDEBAR NAVIGATION (BEHANCE-STIL) ===
1441 |         
     | ^^^^^^^^
1442 |         # Initialisierung
1443 |         if 'active_page' not in st.session_state:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1445:1
     |
1443 | ÔÇª     if 'active_page' not in st.session_state:
1444 | ÔÇª         st.session_state.active_page = 'input'
1445 | ÔÇª     
     ^^^^^^^^
1446 | ÔÇª     # Hauptmen├╝ Sektion
1447 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1448:1
     |
1446 | ÔÇª     # Hauptmen├╝ Sektion
1447 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
1448 | ÔÇª     
     ^^^^^^^^
1449 | ÔÇª     main_menu = [
1450 | ÔÇª         {"icon": "­ƒôè", "label": get_text_gui("menu_item_input"), "key": "input"},
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1455:1
     |
1453 |             {"icon": "­ƒÆ░", "label": get_text_gui("menu_item_analysis"), "key": "analysis"},
1454 |         ]
1455 |         
     | ^^^^^^^^
1456 |         for item in main_menu:
1457 |             is_active = st.session_state.active_page == item['key']
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1459:1
     |
1457 | ÔÇª     is_active = st.session_state.active_page == item['key']
1458 | ÔÇª     button_type = "primary" if is_active else "secondary"
1459 | ÔÇª     
 ^^^^^^^^^^^^
1460 | ÔÇª     # Button direkt - kein HTML
1461 | ÔÇª     if st.button(f"{item['icon']}  {item['label']}", key=f"nav_btn_{item['key']}", use_container_width=True, type=button_type):
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1466:1
     |
1464 |                 st.session_state.nav_event = True
1465 |                 st.rerun()
1466 |         
     | ^^^^^^^^
1467 |         st.markdown("---")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1468:1
     |
1467 | ÔÇª     st.markdown("---")
1468 | ÔÇª     
     ^^^^^^^^
1469 | ÔÇª     # Business Sektion
1470 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1471:1
     |
1469 | ÔÇª     # Business Sektion
1470 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
1471 | ÔÇª     
     ^^^^^^^^
1472 | ÔÇª     business_menu = [
1473 | ÔÇª         {"icon": "­ƒæÑ", "label": get_text_gui("menu_item_crm"), "key": "crm"},
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1477:1
     |
1475 |             {"icon": "ÔÜÖ´©Å", "label": get_text_gui("menu_item_admin"), "key": "admin"},
1476 |         ]
1477 |         
     | ^^^^^^^^
1478 |         for item in business_menu:
1479 |             is_active = st.session_state.active_page == item['key']
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1481:1
     |
1479 | ÔÇª     is_active = st.session_state.active_page == item['key']
1480 | ÔÇª     button_type = "primary" if is_active else "secondary"
1481 | ÔÇª     
 ^^^^^^^^^^^^
1482 | ÔÇª     if st.button(f"{item['icon']}  {item['label']}", key=f"nav_btn_{item['key']}", use_container_width=True, type=button_type):
1483 | ÔÇª         st.session_state.active_page = item['key']
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1487:1
     |
1485 |                 st.session_state.nav_event = True
1486 |                 st.rerun()
1487 |         
     | ^^^^^^^^
1488 |         st.markdown("---")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1489:1
     |
1488 | ÔÇª     st.markdown("---")
1489 | ÔÇª     
     ^^^^^^^^
1490 | ÔÇª     # Tools Sektion
1491 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1492:1
     |
1490 | ÔÇª     # Tools Sektion
1491 | ÔÇª     st.markdown('<div style="color: rgba(255,255,255,0.4); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spÔÇª
1492 | ÔÇª     
     ^^^^^^^^
1493 | ÔÇª     tools_menu = [
1494 | ÔÇª         {"icon": "ÔÜí", "label": get_text_gui("menu_item_quick_calc"), "key": "quick_calc"},
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1498:1
     |
1496 |             {"icon": "Ôä╣´©Å", "label": get_text_gui("menu_item_info_platform"), "key": "info_platform"},
1497 |         ]
1498 |         
     | ^^^^^^^^
1499 |         for item in tools_menu:
1500 |             is_active = st.session_state.active_page == item['key']
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1502:1
     |
1500 | ÔÇª     is_active = st.session_state.active_page == item['key']
1501 | ÔÇª     button_type = "primary" if is_active else "secondary"
1502 | ÔÇª     
 ^^^^^^^^^^^^
1503 | ÔÇª     if st.button(f"{item['icon']}  {item['label']}", key=f"nav_btn_{item['key']}", use_container_width=True, type=button_type):
1504 | ÔÇª         st.session_state.active_page = item['key']
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1508:1
     |
1506 |                 st.session_state.nav_event = True
1507 |                 st.rerun()
1508 |         
     | ^^^^^^^^
1509 |         # Setze selected_page_key f├╝r Kompatibilit├ñt
1510 |         selected_page_key = st.session_state.active_page
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1511:1
     |
1509 |         # Setze selected_page_key f├╝r Kompatibilit├ñt
1510 |         selected_page_key = st.session_state.active_page
1511 |         
     | ^^^^^^^^
1512 |         # === ENDE MODERNE NAVIGATION ===
1513 |         if st.session_state.get('nav_lock_enabled', True):
     |
help: Remove whitespace from blank line

invalid-syntax: Expected an expression or a ')'
    --> gui.py:1682:9
     |
1681 |     st.markdown(
1682 |         <style>
     |         ^
1683 |         #app-main-drawer {
1684 |             position: fixed;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1684:21
     |
1682 |         <style>
1683 |         #app-main-drawer {
1684 |             position: fixed;
     |                     ^
1685 |             bottom: 1.5rem;
1686 |             left: 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1684:28
     |
1682 |         <style>
1683 |         #app-main-drawer {
1684 |             position: fixed;
     |                            ^
1685 |             bottom: 1.5rem;
1686 |             left: 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1685:19
     |
1683 |         #app-main-drawer {
1684 |             position: fixed;
1685 |             bottom: 1.5rem;
     |                   ^
1686 |             left: 0;
1687 |             display: flex;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1685:24
     |
1683 |         #app-main-drawer {
1684 |             position: fixed;
1685 |             bottom: 1.5rem;
     |                        ^^^
1686 |             left: 0;
1687 |             display: flex;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1685:27
     |
1683 |         #app-main-drawer {
1684 |             position: fixed;
1685 |             bottom: 1.5rem;
     |                           ^
1686 |             left: 0;
1687 |             display: flex;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1686:17
     |
1684 |             position: fixed;
1685 |             bottom: 1.5rem;
1686 |             left: 0;
     |                 ^
1687 |             display: flex;
1688 |             gap: 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1686:20
     |
1684 |             position: fixed;
1685 |             bottom: 1.5rem;
1686 |             left: 0;
     |                    ^
1687 |             display: flex;
1688 |             gap: 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1687:20
     |
1685 |             bottom: 1.5rem;
1686 |             left: 0;
1687 |             display: flex;
     |                    ^
1688 |             gap: 0;
1689 |             align-items: stretch;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1687:26
     |
1685 |             bottom: 1.5rem;
1686 |             left: 0;
1687 |             display: flex;
     |                          ^
1688 |             gap: 0;
1689 |             align-items: stretch;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1688:16
     |
1686 |             left: 0;
1687 |             display: flex;
1688 |             gap: 0;
     |                ^
1689 |             align-items: stretch;
1690 |             z-index: 9999;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1688:19
     |
1686 |             left: 0;
1687 |             display: flex;
1688 |             gap: 0;
     |                   ^
1689 |             align-items: stretch;
1690 |             z-index: 9999;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1689:24
     |
1687 |             display: flex;
1688 |             gap: 0;
1689 |             align-items: stretch;
     |                        ^
1690 |             z-index: 9999;
1691 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1689:33
     |
1687 |             display: flex;
1688 |             gap: 0;
1689 |             align-items: stretch;
     |                                 ^
1690 |             z-index: 9999;
1691 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1690:20
     |
1688 |             gap: 0;
1689 |             align-items: stretch;
1690 |             z-index: 9999;
     |                    ^
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1690:26
     |
1688 |             gap: 0;
1689 |             align-items: stretch;
1690 |             z-index: 9999;
     |                          ^
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1691:9
     |
1689 |             align-items: stretch;
1690 |             z-index: 9999;
1691 |         }
     |         ^
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1691:10
     |
1689 |             align-items: stretch;
1690 |             z-index: 9999;
1691 |         }
     |          ^
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1693:1
     |
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     | ^^^^^^^^^^^^
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1693:27
     |
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |                           ^
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1693:32
     |
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |                                ^
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1693:32
     |
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |                                ^
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1693:33
     |
1691 |         }
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
     |                                 ^
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1694:1
     |
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
1694 |         }
     | ^^^^^^^^
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1694:9
     |
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
1694 |         }
     |         ^
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1694:10
     |
1692 |         #app-main-drawer.app-drawer--align-left {
1693 |             flex-direction: row;
1694 |         }
     |          ^
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1696:1
     |
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     | ^^^^^^^^^^^^
1697 |             left: auto;
1698 |             right: 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1696:27
     |
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |                           ^
1697 |             left: auto;
1698 |             right: 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1696:40
     |
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |                                        ^
1697 |             left: auto;
1698 |             right: 0;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1696:40
     |
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |                                        ^
1697 |             left: auto;
1698 |             right: 0;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1696:41
     |
1694 |         }
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
     |                                         ^
1697 |             left: auto;
1698 |             right: 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1697:17
     |
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
     |                 ^
1698 |             right: 0;
1699 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1697:23
     |
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
     |                       ^
1698 |             right: 0;
1699 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1697:23
     |
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
     |                       ^
1698 |             right: 0;
1699 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1697:24
     |
1695 |         #app-main-drawer.app-drawer--align-right {
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
     |                        ^
1698 |             right: 0;
1699 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1698:18
     |
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
1698 |             right: 0;
     |                  ^
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1698:21
     |
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
1698 |             right: 0;
     |                     ^
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1698:21
     |
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
1698 |             right: 0;
     |                     ^
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1698:22
     |
1696 |             flex-direction: row-reverse;
1697 |             left: auto;
1698 |             right: 0;
     |                      ^
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1699:1
     |
1697 |             left: auto;
1698 |             right: 0;
1699 |         }
     | ^^^^^^^^
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1699:9
     |
1697 |             left: auto;
1698 |             right: 0;
1699 |         }
     |         ^
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1699:10
     |
1697 |             left: auto;
1698 |             right: 0;
1699 |         }
     |          ^
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1701:1
     |
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     | ^^^^^^^^^^^^
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1701:21
     |
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |                     ^
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1701:28
     |
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |                            ^
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1701:28
     |
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |                            ^
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1701:29
     |
1699 |         }
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
     |                             ^
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1702:1
     |
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
1702 |         }
     | ^^^^^^^^
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1702:9
     |
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
1702 |         }
     |         ^
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1702:10
     |
1700 |         #app-main-drawer.app-drawer--anchored {
1701 |             position: fixed;
1702 |         }
     |          ^
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1704:1
     |
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     | ^^^^^^^^^^^^
1705 |             display: flex;
1706 |             align-items: center;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1704:27
     |
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |                           ^
1705 |             display: flex;
1706 |             align-items: center;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1704:33
     |
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |                                 ^
1705 |             display: flex;
1706 |             align-items: center;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1704:33
     |
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |                                 ^
1705 |             display: flex;
1706 |             align-items: center;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1704:34
     |
1702 |         }
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
     |                                  ^
1705 |             display: flex;
1706 |             align-items: center;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1705:20
     |
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
1705 |             display: flex;
     |                    ^
1706 |             align-items: center;
1707 |             justify-content: center;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1705:26
     |
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
1705 |             display: flex;
     |                          ^
1706 |             align-items: center;
1707 |             justify-content: center;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1705:26
     |
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
1705 |             display: flex;
     |                          ^
1706 |             align-items: center;
1707 |             justify-content: center;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1705:27
     |
1703 |         #app-main-drawer .app-drawer__handle {
1704 |             pointer-events: auto;
1705 |             display: flex;
     |                           ^
1706 |             align-items: center;
1707 |             justify-content: center;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1706:24
     |
1704 |             pointer-events: auto;
1705 |             display: flex;
1706 |             align-items: center;
     |                        ^
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1706:32
     |
1704 |             pointer-events: auto;
1705 |             display: flex;
1706 |             align-items: center;
     |                                ^
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1706:32
     |
1704 |             pointer-events: auto;
1705 |             display: flex;
1706 |             align-items: center;
     |                                ^
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1706:33
     |
1704 |             pointer-events: auto;
1705 |             display: flex;
1706 |             align-items: center;
     |                                 ^
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1707:28
     |
1705 |             display: flex;
1706 |             align-items: center;
1707 |             justify-content: center;
     |                            ^
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1707:36
     |
1705 |             display: flex;
1706 |             align-items: center;
1707 |             justify-content: center;
     |                                    ^
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1707:36
     |
1705 |             display: flex;
1706 |             align-items: center;
1707 |             justify-content: center;
     |                                    ^
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1707:37
     |
1705 |             display: flex;
1706 |             align-items: center;
1707 |             justify-content: center;
     |                                     ^
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1708:16
     |
1706 |             align-items: center;
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |                ^
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1708:22
     |
1706 |             align-items: center;
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |                      ^^^
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1708:25
     |
1706 |             align-items: center;
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |                         ^
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1708:25
     |
1706 |             align-items: center;
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |                         ^
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1708:26
     |
1706 |             align-items: center;
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
     |                          ^
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1709:20
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                    ^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1709:26
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                          ^^^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1709:30
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                              ^^^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1709:33
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                                 ^^^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1709:36
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                                    ^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1709:36
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                                    ^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1709:37
     |
1707 |             justify-content: center;
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
     |                                     ^
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1710:26
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                          ^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1710:30
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                              ^^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1710:32
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                ^^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1710:35
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                   ^^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1710:37
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                     ^^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1710:40
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                        ^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1710:41
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                         ^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1710:41
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                         ^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1710:42
     |
1708 |             gap: 0.45rem;
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
     |                                          ^
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1711:19
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                   ^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1711:22
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                      ^^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1711:25
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                         ^^^^^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1711:31
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                               ^^^^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1711:56
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                        ^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1711:56
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                        ^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1711:57
     |
1709 |             padding: 0.85rem 0.9rem;
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                         ^
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1712:25
     |
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |                         ^
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1712:31
     |
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |                               ^
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1712:31
     |
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |                               ^
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1712:32
     |
1710 |             border-radius: 0 18px 18px 0;
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
     |                                ^
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1713:23
     |
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |                       ^
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1713:47
     |
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |                                               ^
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1713:47
     |
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |                                               ^
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1713:48
     |
1711 |             border: 1px solid rgba(148, 163, 184, 0.35);
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
     |                                                ^
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1714:28
     |
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |                            ^
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1714:37
     |
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |                                     ^^
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1714:40
     |
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |                                        ^
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1714:40
     |
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |                                        ^
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1714:41
     |
1712 |             border-right: none;
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
     |                                         ^
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1715:18
     |
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |                  ^
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1715:28
     |
1713 |             background: rgba(15, 23, 42, 0.82);
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
     |                            ^
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1716:19
     |
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |                   ^
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1716:28
     |
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |                            ^
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1716:28
     |
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |                            ^
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1716:29
     |
1714 |             backdrop-filter: blur(16px);
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
     |                             ^
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1717:27
     |
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |                           ^
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1717:38
     |
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |                                      ^
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1717:38
     |
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |                                      ^
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1717:39
     |
1715 |             color: #f8fafc;
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
     |                                       ^
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1718:27
     |
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |                           ^
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1718:33
     |
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |                                 ^^
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1718:35
     |
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |                                   ^
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1718:35
     |
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |                                   ^
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1718:36
     |
1716 |             cursor: pointer;
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
     |                                    ^
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1719:22
     |
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |                      ^
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1719:28
     |
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |                            ^^^
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1719:31
     |
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |                               ^
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1719:31
     |
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |                               ^
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1719:32
     |
1717 |             text-transform: uppercase;
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
     |                                ^
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1720:24
     |
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |                        ^
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1720:29
     |
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |                             ^
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1720:29
     |
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |                             ^
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1720:30
     |
1718 |             letter-spacing: 0.14em;
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
     |                              ^
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1721:23
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                       ^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1721:27
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                           ^^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1721:29
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                             ^^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1721:32
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                ^^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1721:34
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                  ^^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1721:37
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                     ^^^^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1721:59
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                           ^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1721:59
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                           ^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1721:60
     |
1719 |             font-size: 0.68rem;
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                            ^
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1722:1
     |
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     | ^^^^^^^^
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1722:9
     |
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |         ^
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1722:10
     |
1720 |             font-weight: 600;
1721 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1722 |         }
     |          ^
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1724:1
     |
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     | ^^^^^^^^^^^^
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1724:24
     |
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |                        ^
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1724:30
     |
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |                              ^
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1724:30
     |
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |                              ^
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1724:31
     |
1722 |         }
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
     |                               ^
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1725:25
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                         ^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1725:28
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                            ^^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1725:31
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                               ^^^^^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1725:37
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                                     ^^^^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1725:62
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                                                              ^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1725:62
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                                                              ^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1725:63
     |
1723 |         #app-main-drawer.app-drawer--align-right .app-drawer__handle {
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
     |                                                               ^
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1726:26
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                          ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1726:30
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                              ^^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1726:33
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                 ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1726:35
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                   ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1726:37
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                     ^^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1726:39
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                       ^^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1726:41
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                         ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1726:41
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                         ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1726:42
     |
1724 |             border-left: none;
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
     |                                          ^
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1727:1
     |
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     | ^^^^^^^^
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1727:9
     |
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |         ^
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1727:10
     |
1725 |             border-right: 1px solid rgba(148, 163, 184, 0.35);
1726 |             border-radius: 18px 0 0 18px;
1727 |         }
     |          ^
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1729:1
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     | ^^^^^^^^^^^^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1729:18
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                  ^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1729:27
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                           ^^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1729:33
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                                 ^^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1729:36
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                                    ^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1729:36
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                                    ^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1729:37
     |
1727 |         }
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
     |                                     ^
1730 |             max-height: 90vh;
1731 |             display: flex;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1730:23
     |
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
     |                       ^
1731 |             display: flex;
1732 |             flex-direction: column;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1730:27
     |
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
     |                           ^^
1731 |             display: flex;
1732 |             flex-direction: column;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1730:29
     |
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
     |                             ^
1731 |             display: flex;
1732 |             flex-direction: column;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1730:29
     |
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
     |                             ^
1731 |             display: flex;
1732 |             flex-direction: column;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1730:30
     |
1728 |         #app-main-drawer .app-drawer__panel {
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
     |                              ^
1731 |             display: flex;
1732 |             flex-direction: column;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1731:20
     |
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
1731 |             display: flex;
     |                    ^
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1731:26
     |
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
1731 |             display: flex;
     |                          ^
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1731:26
     |
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
1731 |             display: flex;
     |                          ^
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1731:27
     |
1729 |             width: min(420px, 86vw);
1730 |             max-height: 90vh;
1731 |             display: flex;
     |                           ^
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1732:27
     |
1730 |             max-height: 90vh;
1731 |             display: flex;
1732 |             flex-direction: column;
     |                           ^
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1732:35
     |
1730 |             max-height: 90vh;
1731 |             display: flex;
1732 |             flex-direction: column;
     |                                   ^
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1732:35
     |
1730 |             max-height: 90vh;
1731 |             display: flex;
1732 |             flex-direction: column;
     |                                   ^
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1732:36
     |
1730 |             max-height: 90vh;
1731 |             display: flex;
1732 |             flex-direction: column;
     |                                    ^
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1733:23
     |
1731 |             display: flex;
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |                       ^
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1733:47
     |
1731 |             display: flex;
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |                                               ^
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1733:47
     |
1731 |             display: flex;
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |                                               ^
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1733:48
     |
1731 |             display: flex;
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
     |                                                ^
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1734:28
     |
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |                            ^
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1734:37
     |
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |                                     ^^
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1734:40
     |
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |                                        ^
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1734:40
     |
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |                                        ^
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1734:41
     |
1732 |             flex-direction: column;
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
     |                                         ^
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1735:26
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                          ^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1735:30
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                              ^^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1735:32
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                ^^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1735:35
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                   ^^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1735:37
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                     ^^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1735:40
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                        ^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1735:41
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                         ^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1735:41
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                         ^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1735:42
     |
1733 |             background: rgba(15, 23, 42, 0.92);
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
     |                                          ^
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1736:19
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                   ^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1736:22
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                      ^^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1736:25
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                         ^^^^^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1736:31
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                               ^^^^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1736:56
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                        ^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1736:56
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                        ^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1736:57
     |
1734 |             backdrop-filter: blur(28px);
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
     |                                                         ^
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1737:24
     |
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |                        ^
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1737:30
     |
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |                              ^
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1737:30
     |
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |                              ^
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1737:31
     |
1735 |             border-radius: 0 24px 24px 0;
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
     |                               ^
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1738:23
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                       ^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1738:27
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                           ^^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1738:29
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                             ^^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1738:32
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                ^^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1738:34
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                  ^^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1738:37
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                     ^^^^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1738:59
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                           ^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1738:59
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                           ^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1738:60
     |
1736 |             border: 1px solid rgba(148, 163, 184, 0.35);
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
     |                                                            ^
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1739:22
     |
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |                      ^
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |

invalid-syntax: Expected an expression
    --> gui.py:1739:39
     |
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |                                       ^
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1739:40
     |
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |                                        ^
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1739:40
     |
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |                                        ^
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1739:41
     |
1737 |             border-left: none;
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
     |                                         ^
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1740:20
     |
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |                    ^
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1740:23
     |
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |                       ^
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1740:23
     |
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |                       ^
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1740:24
     |
1738 |             box-shadow: 0 18px 32px rgba(15, 23, 42, 0.28);
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
     |                        ^
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1741:27
     |
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |                           ^
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1741:33
     |
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |                                 ^
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1741:33
     |
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |                                 ^
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1741:34
     |
1739 |             transform: translateX(100%);
1740 |             opacity: 0;
1741 |             pointer-events: none;
     |                                  ^
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1742:23
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                       ^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1742:35
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                   ^^^^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1742:39
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                       ^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1742:41
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                         ^^^^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found float
    --> gui.py:1742:55
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                       ^^^^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1742:59
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                           ^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1742:61
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                             ^^^^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1742:65
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                                 ^
1743 |             overflow: hidden;
1744 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1742:65
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                                 ^
1743 |             overflow: hidden;
1744 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1742:66
     |
1740 |             opacity: 0;
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
     |                                                                  ^
1743 |             overflow: hidden;
1744 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1743:21
     |
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |                     ^
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1743:29
     |
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |                             ^
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1743:29
     |
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |                             ^
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1743:30
     |
1741 |             pointer-events: none;
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
     |                              ^
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1744:1
     |
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
1744 |         }
     | ^^^^^^^^
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1744:9
     |
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
1744 |         }
     |         ^
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1744:10
     |
1742 |             transition: transform 0.32s ease, opacity 0.26s ease;
1743 |             overflow: hidden;
1744 |         }
     |          ^
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1746:1
     |
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     | ^^^^^^^^^^^^
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1746:25
     |
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |                         ^
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1746:31
     |
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |                               ^
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1746:31
     |
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |                               ^
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1746:32
     |
1744 |         }
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
     |                                ^
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1747:24
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                        ^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1747:27
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                           ^^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1747:30
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                              ^^^^^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1747:36
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                                    ^^^^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1747:61
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                                                             ^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1747:61
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                                                             ^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1747:62
     |
1745 |         #app-main-drawer.app-drawer--align-right .app-drawer__panel {
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
     |                                                              ^
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1748:26
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                          ^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1748:30
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                              ^^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1748:33
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                 ^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1748:35
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                   ^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found int
    --> gui.py:1748:37
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                     ^^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1748:39
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                       ^^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1748:41
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                         ^
1749 |             transform: translateX(-100%);
1750 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1748:41
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                         ^
1749 |             transform: translateX(-100%);
1750 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1748:42
     |
1746 |             border-right: none;
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
     |                                          ^
1749 |             transform: translateX(-100%);
1750 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1749:22
     |
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |                      ^
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
     |

invalid-syntax: Expected an expression
    --> gui.py:1749:40
     |
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |                                        ^
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1749:41
     |
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |                                         ^
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1749:41
     |
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |                                         ^
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1749:42
     |
1747 |             border-left: 1px solid rgba(148, 163, 184, 0.35);
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
     |                                          ^
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1750:1
     |
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
1750 |         }
     | ^^^^^^^^
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1750:9
     |
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
1750 |         }
     |         ^
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1750:10
     |
1748 |             border-radius: 24px 0 0 24px;
1749 |             transform: translateX(-100%);
1750 |         }
     |          ^
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1752:1
     |
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     | ^^^^^^^^^^^^
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1752:22
     |
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |                      ^
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1752:37
     |
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |                                     ^
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1752:37
     |
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |                                     ^
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1752:38
     |
1750 |         }
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
     |                                      ^
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1753:20
     |
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
1753 |             opacity: 1;
     |                    ^
1754 |             pointer-events: auto;
1755 |         }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1753:23
     |
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
1753 |             opacity: 1;
     |                       ^
1754 |             pointer-events: auto;
1755 |         }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1753:23
     |
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
1753 |             opacity: 1;
     |                       ^
1754 |             pointer-events: auto;
1755 |         }
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1753:24
     |
1751 |         #app-main-drawer.app-drawer--expanded .app-drawer__panel {
1752 |             transform: translateX(0);
1753 |             opacity: 1;
     |                        ^
1754 |             pointer-events: auto;
1755 |         }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1754:27
     |
1752 |             transform: translateX(0);
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |                           ^
1755 |         }
1756 |         </style>
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1754:33
     |
1752 |             transform: translateX(0);
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |                                 ^
1755 |         }
1756 |         </style>
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1754:33
     |
1752 |             transform: translateX(0);
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |                                 ^
1755 |         }
1756 |         </style>
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found newline
    --> gui.py:1754:34
     |
1752 |             transform: translateX(0);
1753 |             opacity: 1;
1754 |             pointer-events: auto;
     |                                  ^
1755 |         }
1756 |         </style>
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1755:1
     |
1753 |             opacity: 1;
1754 |             pointer-events: auto;
1755 |         }
     | ^^^^^^^^
1756 |         </style>
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected ',', found '}'
    --> gui.py:1755:9
     |
1753 |             opacity: 1;
1754 |             pointer-events: auto;
1755 |         }
     |         ^
1756 |         </style>
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected ',', found newline
    --> gui.py:1755:10
     |
1753 |             opacity: 1;
1754 |             pointer-events: auto;
1755 |         }
     |          ^
1756 |         </style>
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected ',', found indent
    --> gui.py:1756:1
     |
1754 |             pointer-events: auto;
1755 |         }
1756 |         </style>
     | ^^^^^^^^
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected ',', found '<'
    --> gui.py:1756:9
     |
1754 |             pointer-events: auto;
1755 |         }
1756 |         </style>
     |         ^
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected ',', found '/'
    --> gui.py:1756:10
     |
1754 |             pointer-events: auto;
1755 |         }
1756 |         </style>
     |          ^
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected an expression
    --> gui.py:1756:17
     |
1754 |             pointer-events: auto;
1755 |         }
1756 |         </style>
     |                 ^
1757 |         , unsafe_allow_html=True)
     |

invalid-syntax: Expected an expression or a ')'
    --> gui.py:1757:9
     |
1755 |         }
1756 |         </style>
1757 |         , unsafe_allow_html=True)
     |         ^
1758 |
1759 |     st.markdown(f
     |

invalid-syntax: Expected a statement
    --> gui.py:1759:5
     |
1757 |         , unsafe_allow_html=True)
1758 |
1759 |     st.markdown(f
     |     ^
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |

invalid-syntax: Expected ')', found 'class'
    --> gui.py:1760:14
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |              ^^^^^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1760:19
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |                   ^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1760:39
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |                                       ^^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1760:60
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |                                                            ^^^^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1760:60
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |                                                            ^^^^^^^^^^^^^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Expected an expression
    --> gui.py:1760:94
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
     |                                                                                              ^
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1761:1
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     | ^^^^^^^^^^^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Expected a statement
    --> gui.py:1761:13
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |             ^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1761:21
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                     ^^^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1761:35
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                                   ^^^^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1761:40
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                                        ^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1761:62
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                                                              ^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1761:90
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                                                                                          ^^^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1761:112
     |
1759 |     st.markdown(f
1760 |         <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 |             <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-maÔÇª
     |                                                                                                                ^^^^
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1761:150
     |
1759 | ÔÇª
1760 | ÔÇªtion}">
1761 | ÔÇªe" aria-expanded="false" aria-controls="app-main-drawer-panel" title="Drawer ├Âffnen">
     |                                                                 ^^^^^
1762 | ÔÇª}</span>
1763 | ÔÇª
     |

invalid-syntax: Expected an expression
    --> gui.py:1761:172
     |
1759 | ÔÇª
1760 | ÔÇª
1761 | ÔÇªlse" aria-controls="app-main-drawer-panel" title="Drawer ├Âffnen">
     |                                                                   ^
1762 | ÔÇª
1763 | ÔÇª
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1762:1
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     ^^^^^^^^^^^^^^^^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1762:17
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |               ^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1762:23
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                     ^^^^^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1762:28
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                          ^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1762:55
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                                                     ^^^^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1762:55
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                                                     ^^^^^^^^^^^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1762:89
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                                                                                       ^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Expected an expression
    --> gui.py:1762:95
     |
1760 | ÔÇª     <div class="{drawer_classes}" id="app-main-drawer" data-position="{drawer_position}">
1761 | ÔÇª         <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-mainÔÇª
1762 | ÔÇª             <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
     |                                                                                             ^
1763 | ÔÇª             <span class="app-drawer__handle-text">Drawer</span>
1764 | ÔÇª         </button>
     |

invalid-syntax: Expected a statement
    --> gui.py:1763:17
     |
1761 | ÔÇª     <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-main-draÔÇª
1762 | ÔÇª         <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 | ÔÇª         <span class="app-drawer__handle-text">Drawer</span>
     |           ^
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1763:23
     |
1761 | ÔÇª     <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-main-draÔÇª
1762 | ÔÇª         <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 | ÔÇª         <span class="app-drawer__handle-text">Drawer</span>
     |                 ^^^^^
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |

invalid-syntax: Expected an identifier
    --> gui.py:1763:28
     |
1761 | ÔÇª     <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-main-draÔÇª
1762 | ÔÇª         <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 | ÔÇª         <span class="app-drawer__handle-text">Drawer</span>
     |                      ^
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |

invalid-syntax: Expected an expression
    --> gui.py:1763:62
     |
1761 | ÔÇª     <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-main-draÔÇª
1762 | ÔÇª         <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 | ÔÇª         <span class="app-drawer__handle-text">Drawer</span>
     |                                                        ^
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |

invalid-syntax: Expected an expression
    --> gui.py:1763:68
     |
1761 | ÔÇª     <button type="button" class="app-drawer__handle" id="app-main-drawer-handle" aria-expanded="false" aria-controls="app-main-draÔÇª
1762 | ÔÇª         <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 | ÔÇª         <span class="app-drawer__handle-text">Drawer</span>
     |                                                              ^
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |

invalid-syntax: Expected a statement
    --> gui.py:1764:13
     |
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
     |             ^
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 |                 <header class="app-drawer__panel-header">
     |

invalid-syntax: Expected a statement
    --> gui.py:1764:14
     |
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
     |              ^
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 |                 <header class="app-drawer__panel-header">
     |

invalid-syntax: Expected an expression
    --> gui.py:1764:22
     |
1762 |                 <span class="app-drawer__handle-icon" aria-hidden="true">{initial_icon}</span>
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
     |                      ^
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 |                 <header class="app-drawer__panel-header">
     |

invalid-syntax: Expected a statement
    --> gui.py:1765:13
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |             ^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1765:20
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                    ^^^^^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1765:25
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                         ^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1765:46
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                                              ^^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1765:73
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                                                                         ^^^^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1765:73
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                                                                         ^^^^^^^^^^^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Expected an expression
    --> gui.py:1765:92
     |
1763 |                 <span class="app-drawer__handle-text">Drawer</span>
1764 |             </button>
1765 |             <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
     |                                                                                            ^
1766 |                 <header class="app-drawer__panel-header">
1767 |                     <span class="app-drawer__panel-title">Drawer</span>
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1766:1
     |
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
 ^^^^^^^^^^^^^^^^
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
     |

invalid-syntax: Expected a statement
    --> gui.py:1766:17
     |
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
     |           ^
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1766:25
     |
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
     |                   ^^^^^
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
     |

invalid-syntax: Expected an identifier
    --> gui.py:1766:30
     |
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
     |                        ^
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
     |

invalid-syntax: Expected an expression
    --> gui.py:1766:58
     |
1764 | ÔÇª     </button>
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
     |                                                    ^
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1767:1
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
 ^^^^^^^^^^^^^^^^^^^^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Expected a statement
    --> gui.py:1767:21
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
     |               ^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1767:27
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
     |                     ^^^^^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1767:32
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
     |                          ^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Expected an expression
    --> gui.py:1767:66
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
     |                                                            ^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Expected an expression
    --> gui.py:1767:72
     |
1765 | ÔÇª     <aside class="app-drawer__panel" id="app-main-drawer-panel" aria-hidden="true">
1766 | ÔÇª         <header class="app-drawer__panel-header">
1767 | ÔÇª             <span class="app-drawer__panel-title">Drawer</span>
     |                                                                  ^
1768 | ÔÇª             <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</buttÔÇª
1769 | ÔÇª         </header>
     |

invalid-syntax: Expected a statement
    --> gui.py:1768:21
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |           ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1768:29
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                   ^^^^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1768:43
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                 ^^^^^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Expected an identifier
    --> gui.py:1768:48
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                      ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1768:69
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                           ^^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1768:96
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                      ^^^^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1768:96
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                      ^^^^^^^^^^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Expected an expression
    --> gui.py:1768:126
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                                                    ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

E702 Multiple statements on one line (semicolon)
    --> gui.py:1768:132
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                                                          ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Expected a statement
    --> gui.py:1768:133
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                                                           ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Expected a statement
    --> gui.py:1768:134
     |
1766 | ÔÇª     <header class="app-drawer__panel-header">
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                                                                            ^
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |

invalid-syntax: Expected an expression
    --> gui.py:1768:142
     |
1766 | ÔÇª
1767 | ÔÇª
1768 | ÔÇªmain-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
     |                                                                   ^
1769 | ÔÇª
1770 | ÔÇª
     |

invalid-syntax: Expected a statement
    --> gui.py:1769:17
     |
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
     |       ^
1770 | ÔÇª     <div class="app-drawer__panel-content">
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |

invalid-syntax: Expected a statement
    --> gui.py:1769:18
     |
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
     |        ^
1770 | ÔÇª     <div class="app-drawer__panel-content">
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |

invalid-syntax: Expected an expression
    --> gui.py:1769:26
     |
1767 | ÔÇª         <span class="app-drawer__panel-title">Drawer</span>
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
     |                ^
1770 | ÔÇª     <div class="app-drawer__panel-content">
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |

invalid-syntax: Expected a statement
    --> gui.py:1770:17
     |
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |       ^
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 | ÔÇª     </div>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1770:22
     |
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |            ^^^^^
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 | ÔÇª     </div>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1770:27
     |
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |                 ^
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 | ÔÇª     </div>
     |

invalid-syntax: Expected an expression
    --> gui.py:1770:56
     |
1768 | ÔÇª         <button type="button" class="app-drawer__close" id="app-main-drawer-close" aria-label="Drawer schlie├ƒen">&times;</button>
1769 | ÔÇª     </header>
1770 | ÔÇª     <div class="app-drawer__panel-content">
     |                                              ^
1771 | ÔÇª         <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 | ÔÇª     </div>
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1771:1
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     | ^^^^^^^^^^^^^^^^^^^^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Expected a statement
    --> gui.py:1771:21
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                     ^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1771:26
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                          ^^^^^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Expected an identifier
    --> gui.py:1771:31
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                               ^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1771:63
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                                                               ^^^^^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1771:69
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                                                                     ^^^^^^^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Expected an expression
    --> gui.py:1771:77
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                                                                             ^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Expected an expression
    --> gui.py:1771:82
     |
1769 |                 </header>
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
     |                                                                                  ^
1772 |                 </div>
1773 |             </aside>
     |

invalid-syntax: Expected a statement
    --> gui.py:1772:17
     |
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
     |                 ^
1773 |             </aside>
1774 |         </div>
     |

invalid-syntax: Expected a statement
    --> gui.py:1772:18
     |
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
     |                  ^
1773 |             </aside>
1774 |         </div>
     |

invalid-syntax: Expected an expression
    --> gui.py:1772:23
     |
1770 |                 <div class="app-drawer__panel-content">
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
     |                       ^
1773 |             </aside>
1774 |         </div>
     |

invalid-syntax: Expected a statement
    --> gui.py:1773:13
     |
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
1773 |             </aside>
     |             ^
1774 |         </div>
1775 |         ,
     |

invalid-syntax: Expected a statement
    --> gui.py:1773:14
     |
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
1773 |             </aside>
     |              ^
1774 |         </div>
1775 |         ,
     |

invalid-syntax: Expected an expression
    --> gui.py:1773:21
     |
1771 |                     <div class="app-drawer__placeholder">Noch keine Inhalte</div>
1772 |                 </div>
1773 |             </aside>
     |                     ^
1774 |         </div>
1775 |         ,
     |

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1774:1
     |
1772 |                 </div>
1773 |             </aside>
1774 |         </div>
     | ^^^^^^^^
1775 |         ,
1776 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected a statement
    --> gui.py:1774:9
     |
1772 |                 </div>
1773 |             </aside>
1774 |         </div>
     |         ^
1775 |         ,
1776 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected a statement
    --> gui.py:1774:10
     |
1772 |                 </div>
1773 |             </aside>
1774 |         </div>
     |          ^
1775 |         ,
1776 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected an expression
    --> gui.py:1774:15
     |
1772 |                 </div>
1773 |             </aside>
1774 |         </div>
     |               ^
1775 |         ,
1776 |         unsafe_allow_html=True,
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1775:1
     |
1773 |             </aside>
1774 |         </div>
1775 |         ,
     | ^^^^^^^^
1776 |         unsafe_allow_html=True,
1777 |     )
     |

invalid-syntax: Expected a statement
    --> gui.py:1775:9
     |
1773 |             </aside>
1774 |         </div>
1775 |         ,
     |         ^
1776 |         unsafe_allow_html=True,
1777 |     )
     |

invalid-syntax: Expected a statement
    --> gui.py:1775:10
     |
1773 |             </aside>
1774 |         </div>
1775 |         ,
     |          ^
1776 |         unsafe_allow_html=True,
1777 |     )
     |

invalid-syntax: Expected a statement
    --> gui.py:1777:5
     |
1775 |         ,
1776 |         unsafe_allow_html=True,
1777 |     )
     |     ^
1778 |
1779 |     st.markdown(
     |

invalid-syntax: Expected a statement
    --> gui.py:1777:6
     |
1775 |         ,
1776 |         unsafe_allow_html=True,
1777 |     )
     |      ^
1778 |
1779 |     st.markdown(
     |

W293 Blank line contains whitespace
    --> gui.py:1780:1
     |
1779 |     st.markdown(
1780 |         
     | ^^^^^^^^
1781 |         <script>
1782 |         (function() {
     |
help: Remove whitespace from blank line

invalid-syntax: Expected an expression or a ')'
    --> gui.py:1781:9
     |
1779 |     st.markdown(
1780 |         
1781 |         <script>
     |         ^
1782 |         (function() {
1783 |             const doc = document;
     |

invalid-syntax: Expected ')', found '{'
    --> gui.py:1782:21
     |
1781 |         <script>
1782 |         (function() {
     |                     ^
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1783:19
     |
1781 |         <script>
1782 |         (function() {
1783 |             const doc = document;
     |                   ^^^
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1783:23
     |
1781 |         <script>
1782 |         (function() {
1783 |             const doc = document;
     |                       ^
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1783:33
     |
1781 |         <script>
1782 |         (function() {
1783 |             const doc = document;
     |                                 ^
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1784:19
     |
1782 |         (function() {
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
     |                   ^^^^^^
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1784:26
     |
1782 |         (function() {
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
     |                          ^
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1784:65
     |
1782 |         (function() {
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
     |                                                                 ^
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1785:19
     |
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |                   ^^^^^^
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1785:26
     |
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |                          ^
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1785:72
     |
1783 |             const doc = document;
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
     |                                                                        ^
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1786:19
     |
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |                   ^^^^^^^^^^^
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1786:31
     |
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |                               ^
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1786:76
     |
1784 |             const drawer = doc.getElementById('app-main-drawer');
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
     |                                                                            ^
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1787:19
     |
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |                   ^^^^^
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1787:25
     |
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |                         ^
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1787:70
     |
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |                                                                      ^
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected '}', found NonLogicalNewline
    --> gui.py:1787:71
     |
1785 |             const handle = doc.getElementById('app-main-drawer-handle');
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
     |                                                                       ^
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1788:17
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                 ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1788:26
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                          ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1788:28
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                            ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1788:37
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                                     ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1788:39
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                                       ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected a statement
    --> gui.py:1788:45
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                                             ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1788:47
     |
1786 |               const closeButton = doc.getElementById('app-main-drawer-close');
1787 |               const panel = doc.getElementById('app-main-drawer-panel');
1788 |               if (!drawer || !handle || !panel) { return; }
     |  _______________________________________________^
1789 | |             if (drawer.dataset.bound === 'true') { return; }
     | |_______________________________________^
1790 |
1791 |               const position = drawer.dataset.position || 'right';
     |

invalid-syntax: Expected an identifier, but found a keyword 'return' that cannot be used here
    --> gui.py:1788:49
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                                                 ^^^^^^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1788:55
     |
1786 |             const closeButton = doc.getElementById('app-main-drawer-close');
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
     |                                                       ^
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |

invalid-syntax: Expected an expression
    --> gui.py:1789:40
     |
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |                                        ^
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |

invalid-syntax: Expected a statement
    --> gui.py:1789:48
     |
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |                                                ^
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |

invalid-syntax: Expected an identifier, but found a keyword 'return' that cannot be used here
    --> gui.py:1789:52
     |
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |                                                    ^^^^^^
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1789:58
     |
1787 |             const panel = doc.getElementById('app-main-drawer-panel');
1788 |             if (!drawer || !handle || !panel) { return; }
1789 |             if (drawer.dataset.bound === 'true') { return; }
     |                                                          ^
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1791:13
     |
1789 |             if (drawer.dataset.bound === 'true') { return; }
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |             ^^^^^
1792 |
1793 |             const alignToSidebar = () => {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1791:19
     |
1789 |             if (drawer.dataset.bound === 'true') { return; }
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |                   ^^^^^^^^
1792 |
1793 |             const alignToSidebar = () => {
     |

invalid-syntax: Expected an expression
    --> gui.py:1791:55
     |
1789 |             if (drawer.dataset.bound === 'true') { return; }
1790 |
1791 |             const position = drawer.dataset.position || 'right';
     |                                                       ^
1792 |
1793 |             const alignToSidebar = () => {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1793:19
     |
1791 |             const position = drawer.dataset.position || 'right';
1792 |
1793 |             const alignToSidebar = () => {
     |                   ^^^^^^^^^^^^^^
1794 |                 const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="ÔÇª
1795 |                 if (!sidebarSection) {
     |

invalid-syntax: Expected an expression
    --> gui.py:1793:40
     |
1791 |             const position = drawer.dataset.position || 'right';
1792 |
1793 |             const alignToSidebar = () => {
     |                                        ^
1794 |                 const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="ÔÇª
1795 |                 if (!sidebarSection) {
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1793:40
     |
1791 |               const position = drawer.dataset.position || 'right';
1792 |
1793 |               const alignToSidebar = () => {
     |  ________________________________________^
1794 | |                 const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="ÔÇª
     | |____________________________________^
1795 |                   if (!sidebarSection) {
1796 |                       if (position === 'left') {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1794:23
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
     |                 ^^^^^^^^^^^^^^
1795 | ÔÇª         if (!sidebarSection) {
1796 | ÔÇª             if (position === 'left') {
     |

invalid-syntax: Expected '}', found '='
    --> gui.py:1794:38
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
     |                                ^
1795 | ÔÇª         if (!sidebarSection) {
1796 | ÔÇª             if (position === 'left') {
     |

invalid-syntax: Expected an expression
    --> gui.py:1794:95
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
     |                                                                                         ^
1795 | ÔÇª         if (!sidebarSection) {
1796 | ÔÇª             if (position === 'left') {
     |

invalid-syntax: Compound statements are not allowed on the same line as simple statements
    --> gui.py:1795:17
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
1795 | ÔÇª         if (!sidebarSection) {
     |           ^^
1796 | ÔÇª             if (position === 'left') {
1797 | ÔÇª                 drawer.style.left = '0';
     |

invalid-syntax: Expected an expression
    --> gui.py:1795:21
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
1795 | ÔÇª         if (!sidebarSection) {
     |               ^
1796 | ÔÇª             if (position === 'left') {
1797 | ÔÇª                 drawer.style.left = '0';
     |

invalid-syntax: Expected a statement
    --> gui.py:1795:36
     |
1793 | ÔÇª     const alignToSidebar = () => {
1794 | ÔÇª         const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSideÔÇª
1795 | ÔÇª         if (!sidebarSection) {
     |                              ^
1796 | ÔÇª             if (position === 'left') {
1797 | ÔÇª                 drawer.style.left = '0';
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1796:21
     |
1794 | ÔÇª     const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSidebar"ÔÇª
1795 | ÔÇª     if (!sidebarSection) {
1796 | ÔÇª         if (position === 'left') {
     |           ^^
1797 | ÔÇª             drawer.style.left = '0';
1798 | ÔÇª             drawer.style.right = '';
     |

invalid-syntax: Expected a parameter name
    --> gui.py:1796:25
     |
1794 | ÔÇª     const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSidebar"ÔÇª
1795 | ÔÇª     if (!sidebarSection) {
1796 | ÔÇª         if (position === 'left') {
     |               ^^^^^^^^^^^
1797 | ÔÇª             drawer.style.left = '0';
1798 | ÔÇª             drawer.style.right = '';
     |

invalid-syntax: Expected an expression
    --> gui.py:1796:36
     |
1794 | ÔÇª     const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSidebar"ÔÇª
1795 | ÔÇª     if (!sidebarSection) {
1796 | ÔÇª         if (position === 'left') {
     |                          ^
1797 | ÔÇª             drawer.style.left = '0';
1798 | ÔÇª             drawer.style.right = '';
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1796:46
     |
1794 | ÔÇª     const sidebarSection = doc.querySelector('section[data-testid="stSidebar"]') || doc.querySelector('div[data-testid="stSidebar"ÔÇª
1795 | ÔÇª     if (!sidebarSection) {
1796 | ÔÇª         if (position === 'left') {
     |                                    ^
1797 | ÔÇª             drawer.style.left = '0';
1798 | ÔÇª             drawer.style.right = '';
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1797:43
     |
1795 |                 if (!sidebarSection) {
1796 |                     if (position === 'left') {
1797 |                         drawer.style.left = '0';
     |                                           ^
1798 |                         drawer.style.right = '';
1799 |                     } else {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1797:48
     |
1795 |                 if (!sidebarSection) {
1796 |                     if (position === 'left') {
1797 |                         drawer.style.left = '0';
     |                                                ^
1798 |                         drawer.style.right = '';
1799 |                     } else {
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1798:44
     |
1796 |                     if (position === 'left') {
1797 |                         drawer.style.left = '0';
1798 |                         drawer.style.right = '';
     |                                            ^
1799 |                     } else {
1800 |                         drawer.style.right = '0';
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1798:48
     |
1796 |                     if (position === 'left') {
1797 |                         drawer.style.left = '0';
1798 |                         drawer.style.right = '';
     |                                                ^
1799 |                     } else {
1800 |                         drawer.style.right = '0';
     |

invalid-syntax: Expected ',', found 'else'
    --> gui.py:1799:23
     |
1797 |                         drawer.style.left = '0';
1798 |                         drawer.style.right = '';
1799 |                     } else {
     |                       ^^^^
1800 |                         drawer.style.right = '0';
1801 |                         drawer.style.left = '';
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1800:44
     |
1798 |                         drawer.style.right = '';
1799 |                     } else {
1800 |                         drawer.style.right = '0';
     |                                            ^
1801 |                         drawer.style.left = '';
1802 |                     }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1800:49
     |
1798 |                         drawer.style.right = '';
1799 |                     } else {
1800 |                         drawer.style.right = '0';
     |                                                 ^
1801 |                         drawer.style.left = '';
1802 |                     }
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1801:43
     |
1799 |                     } else {
1800 |                         drawer.style.right = '0';
1801 |                         drawer.style.left = '';
     |                                           ^
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1801:47
     |
1799 |                     } else {
1800 |                         drawer.style.right = '0';
1801 |                         drawer.style.left = '';
     |                                               ^
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1803:21
     |
1801 |                         drawer.style.left = '';
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |                     ^^^^^^
1804 |                     return;
1805 |                 }
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1803:41
     |
1801 |                         drawer.style.left = '';
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |                                         ^
1804 |                     return;
1805 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1803:51
     |
1801 |                         drawer.style.left = '';
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |                                                   ^
1804 |                     return;
1805 |                 }
     |

invalid-syntax: Expected '}', found NonLogicalNewline
    --> gui.py:1803:52
     |
1801 |                         drawer.style.left = '';
1802 |                     }
1803 |                     drawer.style.bottom = '1.5rem';
     |                                                    ^
1804 |                     return;
1805 |                 }
     |

invalid-syntax: Expected a statement
    --> gui.py:1805:17
     |
1803 |                     drawer.style.bottom = '1.5rem';
1804 |                     return;
1805 |                 }
     |                 ^
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
     |

invalid-syntax: Expected a statement
    --> gui.py:1805:18
     |
1803 |                     drawer.style.bottom = '1.5rem';
1804 |                     return;
1805 |                 }
     |                  ^
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1806:1
     |
1804 |                     return;
1805 |                 }
1806 |                 const rect = sidebarSection.getBoundingClientRect();
     | ^^^^^^^^^^^^^^^^
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1806:23
     |
1804 |                     return;
1805 |                 }
1806 |                 const rect = sidebarSection.getBoundingClientRect();
     |                       ^^^^
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1806:68
     |
1804 |                     return;
1805 |                 }
1806 |                 const rect = sidebarSection.getBoundingClientRect();
     |                                                                    ^
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected an expression
    --> gui.py:1807:32
     |
1805 |                 }
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
     |                                ^
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
1809 |                     drawer.style.right = '';
     |

invalid-syntax: Expected a statement
    --> gui.py:1807:40
     |
1805 |                 }
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
     |                                        ^
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
1809 |                     drawer.style.right = '';
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1808:39
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                       ^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1808:41
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                         ^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Got unexpected token $
    --> gui.py:1808:42
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                          ^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1808:67
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                                                   ^^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1808:69
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                                                     ^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1808:70
     |
1806 |                 const rect = sidebarSection.getBoundingClientRect();
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
     |                                                                      ^
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1809:40
     |
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
1809 |                     drawer.style.right = '';
     |                                        ^
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1809:44
     |
1807 |                 if (position === 'left') {
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
1809 |                     drawer.style.right = '';
     |                                            ^
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
     |

invalid-syntax: Expected a statement
    --> gui.py:1810:19
     |
1808 |                     drawer.style.left = `${Math.round(rect.right)}px`;
1809 |                     drawer.style.right = '';
1810 |                 } else {
     |                   ^^^^
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1811:27
     |
1809 |                     drawer.style.right = '';
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
     |                           ^^^^^^^^^^^
1812 |                     drawer.style.right = `${rightOffset}px`;
1813 |                     drawer.style.left = '';
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1811:39
     |
1809 |                     drawer.style.right = '';
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
     |                                       ^
1812 |                     drawer.style.right = `${rightOffset}px`;
1813 |                     drawer.style.left = '';
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1811:82
     |
1809 |                     drawer.style.right = '';
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
     |                                                                                  ^
1812 |                     drawer.style.right = `${rightOffset}px`;
1813 |                     drawer.style.left = '';
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1812:40
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                        ^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1812:42
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                          ^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Got unexpected token $
    --> gui.py:1812:43
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                           ^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1812:57
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                                         ^^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Got unexpected token `
    --> gui.py:1812:59
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                                           ^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1812:60
     |
1810 |                 } else {
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
     |                                                            ^
1813 |                     drawer.style.left = '';
1814 |                 }
     |

invalid-syntax: Expected ',', found '='
    --> gui.py:1813:39
     |
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
1813 |                     drawer.style.left = '';
     |                                       ^
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1813:43
     |
1811 |                     const rightOffset = Math.round(window.innerWidth - rect.left);
1812 |                     drawer.style.right = `${rightOffset}px`;
1813 |                     drawer.style.left = '';
     |                                           ^
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1815:47
     |
1813 |                     drawer.style.left = '';
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
     |                                               ^
1816 |             };
     |
help: Remove unnecessary semicolon

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1816:1
     |
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
1816 |             };
     | ^^^^^^^^^^^^
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |

invalid-syntax: Expected a statement
    --> gui.py:1816:13
     |
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
1816 |             };
     |             ^
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |

invalid-syntax: Expected a statement
    --> gui.py:1816:14
     |
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
1816 |             };
     |              ^
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1816:14
     |
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
1816 |             };
     |              ^
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1816:15
     |
1814 |                 }
1815 |                 drawer.style.bottom = '1.5rem';
1816 |             };
     |               ^
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1818:1
     |
1816 |             };
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     | ^^^^^^^^^^^^
1819 |                 window.removeEventListener('resize', window.__appDrawerResizeHandler);
1820 |             }
     |

invalid-syntax: Expected ':', found '{'
    --> gui.py:1818:50
     |
1816 |             };
1817 |
1818 |             if (window.__appDrawerResizeHandler) {
     |                                                  ^
1819 |                 window.removeEventListener('resize', window.__appDrawerResizeHandler);
1820 |             }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1819:86
     |
1818 |             if (window.__appDrawerResizeHandler) {
1819 |                 window.removeEventListener('resize', window.__appDrawerResizeHandler);
     |                                                                                      ^
1820 |             }
1821 |             window.__appDrawerResizeHandler = alignToSidebar;
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1821:61
     |
1819 |                 window.removeEventListener('resize', window.__appDrawerResizeHandler);
1820 |             }
1821 |             window.__appDrawerResizeHandler = alignToSidebar;
     |                                                             ^
1822 |             window.addEventListener('resize', alignToSidebar);
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1822:62
     |
1820 |             }
1821 |             window.__appDrawerResizeHandler = alignToSidebar;
1822 |             window.addEventListener('resize', alignToSidebar);
     |                                                              ^
1823 |
1824 |             if (window.__appDrawerMutationObserver) {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ':', found '{'
    --> gui.py:1824:53
     |
1822 |             window.addEventListener('resize', alignToSidebar);
1823 |
1824 |             if (window.__appDrawerMutationObserver) {
     |                                                     ^
1825 |                 window.__appDrawerMutationObserver.disconnect();
1826 |             }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1825:64
     |
1824 |             if (window.__appDrawerMutationObserver) {
1825 |                 window.__appDrawerMutationObserver.disconnect();
     |                                                                ^
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1827:54
     |
1825 |                 window.__appDrawerMutationObserver.disconnect();
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
     |                                                      ^^^^^^^^^^^^^^^^
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |

invalid-syntax: Cannot use parenthesized keyword argument name on Python 3.11 (syntax was removed in Python 3.8)
    --> gui.py:1827:71
     |
1825 |                 window.__appDrawerMutationObserver.disconnect();
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
     |                                                                       ^^^^^^^^^^^
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |

invalid-syntax: Expected an expression
    --> gui.py:1827:84
     |
1825 |                 window.__appDrawerMutationObserver.disconnect();
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
     |                                                                                    ^
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |

invalid-syntax: Expected an identifier, but found a keyword 'for' that cannot be used here
    --> gui.py:1828:17
     |
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
     |                 ^^^
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1828:28
     |
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
     |                            ^^^^^^^^
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1828:37
     |
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
     |                                     ^^
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |

invalid-syntax: Expected ',', found name
    --> gui.py:1828:40
     |
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
     |                                        ^^^^^^^^^
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1828:51
     |
1826 |             }
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
     |                                                   ^
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1829:21
     |
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |                     ^^
1830 |                         alignToSidebar();
1831 |                         break;
     |

invalid-syntax: Expected a parameter name
    --> gui.py:1829:25
     |
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |                         ^^^^^^^^^^^^^^^^
1830 |                         alignToSidebar();
1831 |                         break;
     |

invalid-syntax: Expected an expression
    --> gui.py:1829:41
     |
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |                                         ^
1830 |                         alignToSidebar();
1831 |                         break;
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1829:56
     |
1827 |             window.__appDrawerMutationObserver = new MutationObserver((mutations) => {
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
     |                                                        ^
1830 |                         alignToSidebar();
1831 |                         break;
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1830:41
     |
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |                                         ^
1831 |                         break;
1832 |                     }
     |

invalid-syntax: Expected '}', found NonLogicalNewline
    --> gui.py:1830:42
     |
1828 |                 for (const mutation of mutations) {
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
     |                                          ^
1831 |                         break;
1832 |                     }
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1831:1
     |
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
1831 |                         break;
     | ^^^^^^^^^^^^^^^^^^^^^^^^
1832 |                     }
1833 |                 }
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1831:30
     |
1829 |                     if (mutation.type === 'childList') {
1830 |                         alignToSidebar();
1831 |                         break;
     |                              ^
1832 |                     }
1833 |                 }
     |
help: Remove unnecessary semicolon

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1832:1
     |
1830 |                         alignToSidebar();
1831 |                         break;
1832 |                     }
     | ^^^^^^^^^^^^^^^^^^^^
1833 |                 }
1834 |             });
     |

invalid-syntax: Expected a statement
    --> gui.py:1832:21
     |
1830 |                         alignToSidebar();
1831 |                         break;
1832 |                     }
     |                     ^
1833 |                 }
1834 |             });
     |

invalid-syntax: Expected a statement
    --> gui.py:1832:22
     |
1830 |                         alignToSidebar();
1831 |                         break;
1832 |                     }
     |                      ^
1833 |                 }
1834 |             });
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1833:1
     |
1831 |                         break;
1832 |                     }
1833 |                 }
     | ^^^^^^^^^^^^^^^^
1834 |             });
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

invalid-syntax: Expected a statement
    --> gui.py:1833:17
     |
1831 |                         break;
1832 |                     }
1833 |                 }
     |                 ^
1834 |             });
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

invalid-syntax: Expected a statement
    --> gui.py:1833:18
     |
1831 |                         break;
1832 |                     }
1833 |                 }
     |                  ^
1834 |             });
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

invalid-syntax: Expected a statement
    --> gui.py:1834:13
     |
1832 |                     }
1833 |                 }
1834 |             });
     |             ^
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

invalid-syntax: Expected a statement
    --> gui.py:1834:14
     |
1832 |                     }
1833 |                 }
1834 |             });
     |              ^
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

invalid-syntax: Expected a statement
    --> gui.py:1834:15
     |
1832 |                     }
1833 |                 }
1834 |             });
     |               ^
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1834:15
     |
1832 |                     }
1833 |                 }
1834 |             });
     |               ^
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1834:16
     |
1832 |                     }
1833 |                 }
1834 |             });
     |                ^
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1835:101
     |
1833 |                 }
1834 |             });
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
     |                                                                                                     ^
1836 |
1837 |             requestAnimationFrame(alignToSidebar);
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1837:50
     |
1835 |             window.__appDrawerMutationObserver.observe(doc.body, { childList: true, subtree: true });
1836 |
1837 |             requestAnimationFrame(alignToSidebar);
     |                                                  ^
1838 |
1839 |             let expanded = false;
     |
help: Remove unnecessary semicolon

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1839:17
     |
1837 |             requestAnimationFrame(alignToSidebar);
1838 |
1839 |             let expanded = false;
     |                 ^^^^^^^^
1840 |
1841 |             const updateState = (nextState) => {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1839:33
     |
1837 |             requestAnimationFrame(alignToSidebar);
1838 |
1839 |             let expanded = false;
     |                                 ^
1840 |
1841 |             const updateState = (nextState) => {
     |
help: Remove unnecessary semicolon

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1841:19
     |
1839 |             let expanded = false;
1840 |
1841 |             const updateState = (nextState) => {
     |                   ^^^^^^^^^^^
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
     |

invalid-syntax: Expected an expression
    --> gui.py:1841:46
     |
1839 |             let expanded = false;
1840 |
1841 |             const updateState = (nextState) => {
     |                                              ^
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
     |

invalid-syntax: Invalid assignment target
    --> gui.py:1841:46
     |
1839 |               let expanded = false;
1840 |
1841 |               const updateState = (nextState) => {
     |  ______________________________________________^
1842 | |                 expanded = nextState;
     | |________________________^
1843 |                   drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                   drawer.classList.toggle('app-drawer--collapsed', !expanded);
     |

invalid-syntax: Expected '}', found '='
    --> gui.py:1842:26
     |
1841 |             const updateState = (nextState) => {
1842 |                 expanded = nextState;
     |                          ^
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
     |

invalid-syntax: Unexpected indentation
    --> gui.py:1843:1
     |
1841 |             const updateState = (nextState) => {
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
     | ^^^^^^^^^^^^^^^^
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1843:74
     |
1841 |             const updateState = (nextState) => {
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
     |                                                                          ^
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ',', found '!'
    --> gui.py:1844:66
     |
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
     |                                                                  ^
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1844:76
     |
1842 |                 expanded = nextState;
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
     |                                                                            ^
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
     |
help: Remove unnecessary semicolon

invalid-syntax: Got unexpected token ?
    --> gui.py:1845:60
     |
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
     |                                                            ^
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1845:70
     |
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
     |                                                                      ^
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1845:79
     |
1843 |                 drawer.classList.toggle('app-drawer--expanded', expanded);
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
     |                                                                               ^
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
     |
help: Remove unnecessary semicolon

invalid-syntax: Got unexpected token ?
    --> gui.py:1846:63
     |
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
     |                                                               ^
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1846:72
     |
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
     |                                                                        ^
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1846:82
     |
1844 |                 drawer.classList.toggle('app-drawer--collapsed', !expanded);
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
     |                                                                                  ^
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
     |
help: Remove unnecessary semicolon

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1847:23
     |
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
     |                       ^^^^
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1847:78
     |
1845 |                 panel.setAttribute('aria-hidden', expanded ? 'false' : 'true');
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
     |                                                                              ^
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ':', found '{'
    --> gui.py:1848:27
     |
1846 |                 handle.setAttribute('aria-expanded', expanded ? 'true' : 'false');
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
     |                           ^
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1849:21
     |
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |                     ^^
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
     |

invalid-syntax: Expected a parameter name
    --> gui.py:1849:25
     |
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |                         ^^^^^^^^^^^
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
     |

invalid-syntax: Expected an expression
    --> gui.py:1849:36
     |
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |                                    ^
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1849:46
     |
1847 |                 const icon = handle.querySelector('.app-drawer__handle-icon');
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
     |                                              ^
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1850:42
     |
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
     |                                          ^
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |

invalid-syntax: Got unexpected token ?
    --> gui.py:1850:53
     |
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
     |                                                     ^
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1850:65
     |
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
     |                                                                 ^
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1850:76
     |
1848 |                 if (icon) {
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
     |                                                                            ^
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |

invalid-syntax: Expected ',', found 'else'
    --> gui.py:1851:23
     |
1849 |                     if (position === 'left') {
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
     |                       ^^^^
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
1853 |                     }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1852:42
     |
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |                                          ^
1853 |                     }
1854 |                 }
     |

invalid-syntax: Got unexpected token ?
    --> gui.py:1852:53
     |
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |                                                     ^
1853 |                     }
1854 |                 }
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:1852:65
     |
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |                                                                 ^
1853 |                     }
1854 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1852:76
     |
1850 |                         icon.textContent = expanded ? '\\u2039' : '\\u203A';
1851 |                     } else {
1852 |                         icon.textContent = expanded ? '\\u203A' : '\\u2039';
     |                                                                            ^
1853 |                     }
1854 |                 }
     |

invalid-syntax: Expected a statement
    --> gui.py:1855:13
     |
1853 |                     }
1854 |                 }
1855 |             };
     |             ^
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |

invalid-syntax: Expected a statement
    --> gui.py:1855:14
     |
1853 |                     }
1854 |                 }
1855 |             };
     |              ^
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1855:14
     |
1853 |                     }
1854 |                 }
1855 |             };
     |              ^
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected a statement
    --> gui.py:1855:15
     |
1853 |                     }
1854 |                 }
1855 |             };
     |               ^
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1857:19
     |
1855 |             };
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |                   ^^^^^^^^^^^^
1858 |             const closeDrawer = () => updateState(false);
     |

invalid-syntax: Expected an expression
    --> gui.py:1857:38
     |
1855 |             };
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |                                      ^
1858 |             const closeDrawer = () => updateState(false);
     |

invalid-syntax: Expected an expression or a ')'
    --> gui.py:1857:52
     |
1855 |             };
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |                                                    ^
1858 |             const closeDrawer = () => updateState(false);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1857:62
     |
1855 |             };
1856 |
1857 |             const toggleDrawer = () => updateState(!expanded);
     |                                                              ^
1858 |             const closeDrawer = () => updateState(false);
     |
help: Remove unnecessary semicolon

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> gui.py:1858:19
     |
1857 |             const toggleDrawer = () => updateState(!expanded);
1858 |             const closeDrawer = () => updateState(false);
     |                   ^^^^^^^^^^^
1859 |
1860 |             handle.addEventListener('click', toggleDrawer);
     |

invalid-syntax: Expected an expression
    --> gui.py:1858:37
     |
1857 |             const toggleDrawer = () => updateState(!expanded);
1858 |             const closeDrawer = () => updateState(false);
     |                                     ^
1859 |
1860 |             handle.addEventListener('click', toggleDrawer);
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1858:57
     |
1857 |             const toggleDrawer = () => updateState(!expanded);
1858 |             const closeDrawer = () => updateState(false);
     |                                                         ^
1859 |
1860 |             handle.addEventListener('click', toggleDrawer);
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1860:59
     |
1858 |             const closeDrawer = () => updateState(false);
1859 |
1860 |             handle.addEventListener('click', toggleDrawer);
     |                                                           ^
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |
help: Remove unnecessary semicolon

invalid-syntax: Cannot use parenthesized keyword argument name on Python 3.11 (syntax was removed in Python 3.8)
    --> gui.py:1861:48
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
     |                                                ^^^^^^^
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
1863 |                     event.preventDefault();
     |

invalid-syntax: Expected an expression
    --> gui.py:1861:57
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
     |                                                         ^
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
1863 |                     event.preventDefault();
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1862:17
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                 ^^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected a parameter name
    --> gui.py:1862:21
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                     ^^^^^^^^^^^^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected an expression
    --> gui.py:1862:33
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                                 ^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected an expression
    --> gui.py:1862:44
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                                            ^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected an expression
    --> gui.py:1862:58
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                                                          ^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Positional argument cannot follow keyword argument
    --> gui.py:1862:60
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                                                            ^^^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1862:65
     |
1860 |             handle.addEventListener('click', toggleDrawer);
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
     |                                                                 ^
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1863:43
     |
1861 |             handle.addEventListener('keydown', (event) => {
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
1863 |                     event.preventDefault();
     |                                           ^
1864 |                     toggleDrawer();
1865 |                 }
     |

invalid-syntax: Expected ',', found ';'
    --> gui.py:1864:35
     |
1862 |                 if (event.key === 'Enter' || event.key === ' ') {
1863 |                     event.preventDefault();
1864 |                     toggleDrawer();
     |                                   ^
1865 |                 }
1866 |             });
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1866:15
     |
1864 |                     toggleDrawer();
1865 |                 }
1866 |             });
     |               ^
1867 |
1868 |             if (closeButton) {
     |
help: Remove unnecessary semicolon

invalid-syntax: Expected ':', found '{'
    --> gui.py:1868:30
     |
1866 |             });
1867 |
1868 |             if (closeButton) {
     |                              ^
1869 |                 closeButton.addEventListener('click', closeDrawer);
1870 |             }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1869:67
     |
1868 |             if (closeButton) {
1869 |                 closeButton.addEventListener('click', closeDrawer);
     |                                                                   ^
1870 |             }
     |

invalid-syntax: Cannot use parenthesized keyword argument name on Python 3.11 (syntax was removed in Python 3.8)
    --> gui.py:1872:45
     |
1870 |             }
1871 |
1872 |             doc.addEventListener('keydown', (event) => {
     |                                             ^^^^^^^
1873 |                 if (event.key === 'Escape') {
1874 |                     closeDrawer();
     |

invalid-syntax: Expected an expression
    --> gui.py:1872:54
     |
1870 |             }
1871 |
1872 |             doc.addEventListener('keydown', (event) => {
     |                                                      ^
1873 |                 if (event.key === 'Escape') {
1874 |                     closeDrawer();
     |

invalid-syntax: Expected an identifier, but found a keyword 'if' that cannot be used here
    --> gui.py:1873:17
     |
1872 |             doc.addEventListener('keydown', (event) => {
1873 |                 if (event.key === 'Escape') {
     |                 ^^
1874 |                     closeDrawer();
1875 |                 }
     |

invalid-syntax: Expected a parameter name
    --> gui.py:1873:21
     |
1872 |             doc.addEventListener('keydown', (event) => {
1873 |                 if (event.key === 'Escape') {
     |                     ^^^^^^^^^^^^
1874 |                     closeDrawer();
1875 |                 }
     |

invalid-syntax: Expected an expression
    --> gui.py:1873:33
     |
1872 |             doc.addEventListener('keydown', (event) => {
1873 |                 if (event.key === 'Escape') {
     |                                 ^
1874 |                     closeDrawer();
1875 |                 }
     |

invalid-syntax: Expected ',', found '{'
    --> gui.py:1873:45
     |
1872 |             doc.addEventListener('keydown', (event) => {
1873 |                 if (event.key === 'Escape') {
     |                                             ^
1874 |                     closeDrawer();
1875 |                 }
     |

invalid-syntax: Expected an expression or a '}'
    --> gui.py:1874:34
     |
1872 |             doc.addEventListener('keydown', (event) => {
1873 |                 if (event.key === 'Escape') {
1874 |                     closeDrawer();
     |                                  ^
1875 |                 }
1876 |             });
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1876:15
     |
1874 |                     closeDrawer();
1875 |                 }
1876 |             });
     |               ^
1877 |
1878 |             drawer.dataset.bound = 'true';
     |
help: Remove unnecessary semicolon

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1878:42
     |
1876 |             });
1877 |
1878 |             drawer.dataset.bound = 'true';
     |                                          ^
1879 |         })();
1880 |         </script>
     |
help: Remove unnecessary semicolon

invalid-syntax: unindent does not match any outer indentation level
    --> gui.py:1879:1
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
     | ^^^^^^^^
1880 |         </script>
1881 |         ,
     |

invalid-syntax: Expected a statement
    --> gui.py:1879:9
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
     |         ^
1880 |         </script>
1881 |         ,
     |

invalid-syntax: Expected a statement
    --> gui.py:1879:10
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
     |          ^
1880 |         </script>
1881 |         ,
     |

E703 Statement ends with an unnecessary semicolon
    --> gui.py:1879:13
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
     |             ^
1880 |         </script>
1881 |         ,
     |
help: Remove unnecessary semicolon

invalid-syntax: Unexpected indentation
    --> gui.py:1880:1
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
1880 |         </script>
     | ^^^^^^^^
1881 |         ,
1882 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected a statement
    --> gui.py:1880:9
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
1880 |         </script>
     |         ^
1881 |         ,
1882 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected a statement
    --> gui.py:1880:10
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
1880 |         </script>
     |          ^
1881 |         ,
1882 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected an expression
    --> gui.py:1880:18
     |
1878 |             drawer.dataset.bound = 'true';
1879 |         })();
1880 |         </script>
     |                  ^
1881 |         ,
1882 |         unsafe_allow_html=True,
     |

invalid-syntax: Expected a statement
    --> gui.py:1881:9
     |
1879 |         })();
1880 |         </script>
1881 |         ,
     |         ^
1882 |         unsafe_allow_html=True,
1883 |     )
     |

invalid-syntax: Expected a statement
    --> gui.py:1881:10
     |
1879 |         })();
1880 |         </script>
1881 |         ,
     |          ^
1882 |         unsafe_allow_html=True,
1883 |     )
     |

invalid-syntax: Expected a statement
    --> gui.py:1883:5
     |
1881 |         ,
1882 |         unsafe_allow_html=True,
1883 |     )
     |     ^
1884 |
1885 |     if import_errors:
     |

invalid-syntax: Expected a statement
    --> gui.py:1883:6
     |
1881 |         ,
1882 |         unsafe_allow_html=True,
1883 |     )
     |      ^
1884 |
1885 |     if import_errors:
     |

W293 Blank line contains whitespace
    --> gui.py:1915:1
     |
1913 |             try:
1914 |                 analysis_module.render_analysis(TEXTS, st.session_state.get("calculation_results"))
1915 |                 
     | ^^^^^^^^^^^^^^^^
1916 |                 # === [FIX] MASTER-FIX: Alle Charts verf├╝gbar machen ===
1917 |                 try:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> gui.py:1924:1
     |
1922 |                     import logging
1923 |                     logging.warning(f"MASTER-FIX konnte nicht angewendet werden: {e_master_fix}")
1924 |                 
     | ^^^^^^^^^^^^^^^^
1925 |             except Exception as e_render_analysis:
1926 |                 st.error(f"Fehler beim Rendern des Analyse-Tabs: {e_render_analysis}")
     |
help: Remove whitespace from blank line

invalid-syntax: Expected ',', found name
    --> gui.py:2003:32
     |
2001 |                     st.info(" **PDF-Generierung ben├Âtigt vollst├ñndige Projekt- und Berechnungsdaten**")
2002 |                     st.markdown(
2003 |                     **Fehlende Daten:**
     |                                ^^^^^
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2003:37
     |
2001 |                     st.info(" **PDF-Generierung ben├Âtigt vollst├ñndige Projekt- und Berechnungsdaten**")
2002 |                     st.markdown(
2003 |                     **Fehlende Daten:**
     |                                     ^
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2004:26
     |
2002 |                     st.markdown(
2003 |                     **Fehlende Daten:**
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
     |                          ^^^^^^^^^^^^
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |

invalid-syntax: Positional argument cannot follow keyword argument unpacking
    --> gui.py:2004:26
     |
2002 |                       st.markdown(
2003 |                       **Fehlende Daten:**
2004 |                       - {} Projektdaten (Module, Wechselrichter, etc.)
     |  __________________________^
2005 | |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     | |________________________^
2006 |                       
2007 |                       **N├ñchste Schritte:**
     |

invalid-syntax: Expected an identifier
    --> gui.py:2004:68
     |
2002 |                     st.markdown(
2003 |                     **Fehlende Daten:**
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
     |                                                                    ^
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2005:26
     |
2003 |                     **Fehlende Daten:**
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |                          ^^^^^^^^^^^^^^^^^^^^^
2006 |                     
2007 |                     **N├ñchste Schritte:**
     |

invalid-syntax: Positional argument cannot follow keyword argument unpacking
    --> gui.py:2005:26
     |
2003 |                       **Fehlende Daten:**
2004 |                       - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                       - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |  __________________________^
2006 | |                     
2007 | |                     **N├ñchste Schritte:**
     | |_____________________________^
2008 |                       1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                       2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |

invalid-syntax: Expected an identifier
    --> gui.py:2005:69
     |
2003 |                     **Fehlende Daten:**
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
     |                                                                     ^
2006 |                     
2007 |                     **N├ñchste Schritte:**
     |

W293 Blank line contains whitespace
    --> gui.py:2006:1
     |
2004 |                     - {} Projektdaten (Module, Wechselrichter, etc.)
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
2006 |                     
     | ^^^^^^^^^^^^^^^^^^^^
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |
help: Remove whitespace from blank line

invalid-syntax: Expected ',', found name
    --> gui.py:2007:31
     |
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
2006 |                     
2007 |                     **N├ñchste Schritte:**
     |                               ^^^^^^^^
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2007:39
     |
2005 |                     - {} Berechnungsergebnisse (Ertrag, Kosten, etc.)
2006 |                     
2007 |                     **N├ñchste Schritte:**
     |                                       ^
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:24
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                        ^^^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:30
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                              ^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:34
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                                  ^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:59
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                                                           ^^^^^^^^^^^^^^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:76
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                                                                            ^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:80
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                                                                                ^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2008:84
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
     |                                                                                    ^^^^^^^
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |

invalid-syntax: Expected ',', found float
    --> gui.py:2009:21
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |                     ^^
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
2011 |                     .format("" if not project_valid else "",
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2009:24
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |                        ^^^^^^
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
2011 |                     .format("" if not project_valid else "",
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2009:31
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |                               ^^^
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
2011 |                     .format("" if not project_valid else "",
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2009:64
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |                                                                ^^^^^^^^^^
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
2011 |                     .format("" if not project_valid else "",
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2009:75
     |
2007 |                     **N├ñchste Schritte:**
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
     |                                                                           ^^^^^
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
2011 |                     .format("" if not project_valid else "",
     |

invalid-syntax: Expected ',', found float
    --> gui.py:2010:21
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                     ^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:24
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                        ^^^^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:31
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                               ^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:35
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                                   ^^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:40
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                                        ^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:44
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                                            ^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2010:60
     |
2008 |                     1. Gehen Sie zur **Dateneingabe** und vervollst├ñndigen Sie das Projekt
2009 |                     2. F├╝hren Sie in der **Analysestufe** eine Berechnung durch
2010 |                     3. Kehren Sie dann zur PDF-Generierung zur├╝ck
     |                                                            ^^^^^^
2011 |                     .format("" if not project_valid else "",
2012 |                              "" if not calc_results_valid else ""))
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2108:46
     |
2106 |                         with col_feature1:
2107 |                             st.markdown(
2108 |                             ** Live-Vorschau Modi:**
     |                                              ^^^^
2109 |                             - Schnellvorschau (erste Seiten)
2110 |                             - Vollst├ñndige Vorschau
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2108:50
     |
2106 |                         with col_feature1:
2107 |                             st.markdown(
2108 |                             ** Live-Vorschau Modi:**
     |                                                  ^
2109 |                             - Schnellvorschau (erste Seiten)
2110 |                             - Vollst├ñndige Vorschau
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2109:54
     |
2107 | ÔÇª                     st.markdown(
2108 | ÔÇª                     ** Live-Vorschau Modi:**
2109 | ÔÇª                     - Schnellvorschau (erste Seiten)
     |                                                ^^^^^^
2110 | ÔÇª                     - Vollst├ñndige Vorschau
2111 | ÔÇª                     - Seitenweise Navigation
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2110:44
     |
2108 | ÔÇª                     ** Live-Vorschau Modi:**
2109 | ÔÇª                     - Schnellvorschau (erste Seiten)
2110 | ÔÇª                     - Vollst├ñndige Vorschau
     |                                      ^^^^^^^^
2111 | ÔÇª                     - Seitenweise Navigation
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2111:43
     |
2109 |                             - Schnellvorschau (erste Seiten)
2110 |                             - Vollst├ñndige Vorschau
2111 |                             - Seitenweise Navigation
     |                                           ^^^^^^^^^^
2112 |
2113 |                             ** Interaktive Features:**
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2113:44
     |
2111 |                             - Seitenweise Navigation
2112 |
2113 |                             ** Interaktive Features:**
     |                                            ^^^^^^^^
2114 |                             - Automatische Aktualisierung
2115 |                             - Zoom-Funktionen
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2113:52
     |
2111 |                             - Seitenweise Navigation
2112 |
2113 |                             ** Interaktive Features:**
     |                                                    ^
2114 |                             - Automatische Aktualisierung
2115 |                             - Zoom-Funktionen
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2114:44
     |
2113 | ÔÇª                     ** Interaktive Features:**
2114 | ÔÇª                     - Automatische Aktualisierung
     |                                      ^^^^^^^^^^^^^^
2115 | ÔÇª                     - Zoom-Funktionen
2116 | ÔÇª                     - Cache f├╝r schnellere Vorschau
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2116:37
     |
2114 |                             - Automatische Aktualisierung
2115 |                             - Zoom-Funktionen
2116 |                             - Cache f├╝r schnellere Vorschau
     |                                     ^^^
2117 |                             )
2118 |                         with col_feature2:
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2116:41
     |
2114 |                             - Automatische Aktualisierung
2115 |                             - Zoom-Funktionen
2116 |                             - Cache f├╝r schnellere Vorschau
     |                                         ^^^^^^^^^^
2117 |                             )
2118 |                         with col_feature2:
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2116:52
     |
2114 |                             - Automatische Aktualisierung
2115 |                             - Zoom-Funktionen
2116 |                             - Cache f├╝r schnellere Vorschau
     |                                                    ^^^^^^^^
2117 |                             )
2118 |                         with col_feature2:
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2120:52
     |
2118 |                         with col_feature2:
2119 |                             st.markdown(
2120 |                             ** Bearbeitungsoptionen:**
     |                                                    ^
2121 |                             - Template-Auswahl
2122 |                             - Logo & Bilder anpassen
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2122:45
     |
2120 | ÔÇª                     ** Bearbeitungsoptionen:**
2121 | ÔÇª                     - Template-Auswahl
2122 | ÔÇª                     - Logo & Bilder anpassen
     |                                       ^^^^^^^^
2123 | ÔÇª                     - Sektionen ein-/ausblenden
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2123:41
     |
2121 |                             - Template-Auswahl
2122 |                             - Logo & Bilder anpassen
2123 |                             - Sektionen ein-/ausblenden
     |                                         ^^^
2124 |
2125 |                             ** Integration:**
     |

invalid-syntax: Positional argument cannot follow keyword argument unpacking
    --> gui.py:2123:41
     |
2121 |                               - Template-Auswahl
2122 |                               - Logo & Bilder anpassen
2123 |                               - Sektionen ein-/ausblenden
     |  _________________________________________^
2124 | |
2125 | |                             ** Integration:**
     | |__________________________________________^
2126 |                               - Firmenspezifische Vorlagen
2127 |                               - Live-Diagramm-Updates
     |

invalid-syntax: Expected an expression
    --> gui.py:2123:45
     |
2121 |                             - Template-Auswahl
2122 |                             - Logo & Bilder anpassen
2123 |                             - Sektionen ein-/ausblenden
     |                                             ^
2124 |
2125 |                             ** Integration:**
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2125:43
     |
2123 |                             - Sektionen ein-/ausblenden
2124 |
2125 |                             ** Integration:**
     |                                           ^
2126 |                             - Firmenspezifische Vorlagen
2127 |                             - Live-Diagramm-Updates
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2126:49
     |
2125 | ÔÇª                     ** Integration:**
2126 | ÔÇª                     - Firmenspezifische Vorlagen
     |                                           ^^^^^^^^
2127 | ÔÇª                     - Live-Diagramm-Updates
2128 | ÔÇª                     - Dokument-Management
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:45
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                       ^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:49
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                           ^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:53
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                               ^^^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2183:59
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                     ^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:71
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                 ^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:75
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                     ^^^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Positional argument cannot follow keyword argument unpacking
    --> gui.py:2183:83
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                             ^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:88
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                                  ^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:93
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                                       ^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:104
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                                                  ^^^^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2183:112
     |
2181 | ÔÇª                     st.markdown("###  Fehlerbehebung:")
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
     |                                                                                                          ^^^^
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |

invalid-syntax: Expected ',', found float
    --> gui.py:2184:29
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                       ^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2184:46
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                        ^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2184:57
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                                   ^^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2184:61
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                                       ^^^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2184:66
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                                            ^^^^^^^^^^^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2184:79
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                                                         ^^^^^^^^^^^^^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2184:94
     |
2182 | ÔÇª                     st.markdown(
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
     |                                                                                        ^^^^^
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |

invalid-syntax: Expected ',', found float
    --> gui.py:2185:29
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                       ^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2185:53
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                               ^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:64
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                          ^^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:68
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                              ^^^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:73
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                                   ^^^^^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:80
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                                          ^^^^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:86
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                                                ^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2185:89
     |
2183 | ÔÇª                     1. **├£berpr├╝fen Sie die Module:** Stellen Sie sicher, dass alle PDF-Module geladen sind
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
     |                                                                                   ^^^^^
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found float
    --> gui.py:2186:29
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                       ^^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found ':'
    --> gui.py:2186:48
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                          ^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2186:65
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                           ^^^
2187 | ÔÇª                     )
     |

invalid-syntax: Got unexpected token `
    --> gui.py:2186:69
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                               ^
2187 | ÔÇª                     )
     |

invalid-syntax: Positional argument cannot follow keyword argument unpacking
    --> gui.py:2186:70
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                                ^^^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2186:74
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                                    ^^^^^^^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2186:82
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                                            ^^^^^^^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected ',', found name
    --> gui.py:2186:90
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                                                    ^^^^^^
2187 | ÔÇª                     )
     |

invalid-syntax: Got unexpected token `
    --> gui.py:2186:96
     |
2184 | ÔÇª                     2. **Projektdaten:** F├╝hren Sie eine vollst├ñndige Projektanalyse durch
2185 | ÔÇª                     3. **Firmeneinstellungen:** W├ñhlen Sie eine aktive Firma im Admin-Panel
2186 | ÔÇª                     4. **Abh├ñngigkeiten:** Installieren Sie `pip install pymupdf pillow`
     |                                                                                          ^
2187 | ÔÇª                     )
     |

invalid-syntax: Expected a statement
    --> gui.py:2324:1
     |
2322 |             st.warning(get_text_gui("module_unavailable_details", "Solar Calculator Modul nicht verf├╝gbar."))
2323 |
2324 | if __name__ == "__main__":
     | ^
2325 |     try:
2326 |         locales_module = import_module_with_fallback("locales", import_errors)
     |

W293 Blank line contains whitespace
   --> heatpump_pricing.py:223:1
    |
221 |     def calculate_heatpump_system_price(self, system_config: dict[str, Any]) -> PricingResult:
222 |         """Calculate complete heat pump system pricing
223 |         
    | ^^^^^^^^
224 |         Args:
225 |             system_config: Heat pump system configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> heatpump_pricing.py:226:1
    |
224 |         Args:
225 |             system_config: Heat pump system configuration
226 |             
    | ^^^^^^^^^^^^
227 |         Returns:
228 |             PricingResult with heat pump system pricing
    |
help: Remove whitespace from blank line

SIM103 Return the condition directly
   --> heatpump_pricing.py:414:9
    |
412 |               return True
413 |
414 | /         if any(keyword in category for keyword in HEATPUMP_CATEGORIES["services"]):
415 | |             return True
416 | |
417 | |         return False
    | |____________________^
418 |
419 |       def _calculate_heatpump_component_price(self, component: HeatPumpPriceComponent,
    |
help: Inline condition

RET504 Unnecessary assignment to `total_price` before `return` statement
   --> heatpump_pricing.py:446:16
    |
444 |         total_price = self._apply_heatpump_adjustments(component, total_price)
445 |
446 |         return total_price
    |                ^^^^^^^^^^^
447 |
448 |     def _apply_heatpump_adjustments(self, component: HeatPumpPriceComponent,
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> heatpump_pricing.py:922:1
    |
920 | def calculate_heatpump_system_pricing(system_config: dict[str, Any]) -> PricingResult:
921 |     """Calculate heat pump system pricing using the enhanced pricing engine
922 |     
    | ^^^^
923 |     Args:
924 |         system_config: Heat pump system configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> heatpump_pricing.py:925:1
    |
923 |     Args:
924 |         system_config: Heat pump system configuration
925 |         
    | ^^^^^^^^
926 |     Returns:
927 |         PricingResult with complete heat pump system pricing
    |
help: Remove whitespace from blank line

F401 `calculations_heatpump.calculate_annual_energy_consumption` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> heatpump_ui.py:21:9
   |
19 | try:
20 |     from calculations_heatpump import (
21 |         calculate_annual_energy_consumption,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |         calculate_building_heat_load,
23 |         calculate_heatpump_economics,
   |
help: Remove unused import

F401 `calculations_heatpump.calculate_heatpump_economics` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> heatpump_ui.py:23:9
   |
21 |         calculate_annual_energy_consumption,
22 |         calculate_building_heat_load,
23 |         calculate_heatpump_economics,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
24 |         estimate_annual_heat_demand_kwh_from_consumption,
25 |         estimate_heat_load_kw_from_annual_demand,
   |
help: Remove unused import

F401 `calculations_heatpump.recommend_heat_pump` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> heatpump_ui.py:27:9
   |
25 |         estimate_heat_load_kw_from_annual_demand,
26 |         get_default_heating_system_efficiency,
27 |         recommend_heat_pump,
   |         ^^^^^^^^^^^^^^^^^^^
28 |     )
29 |     from database import get_db_connection
   |
help: Remove unused import

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> heatpump_ui.py:29:26
   |
27 |         recommend_heat_pump,
28 |     )
29 |     from database import get_db_connection
   |                          ^^^^^^^^^^^^^^^^^
30 |     from locales import get_text
31 |     HEATPUMP_MODULES_AVAILABLE = True
   |
help: Remove unused import: `database.get_db_connection`

F401 `locales.get_text` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> heatpump_ui.py:30:25
   |
28 |     )
29 |     from database import get_db_connection
30 |     from locales import get_text
   |                         ^^^^^^^^
31 |     HEATPUMP_MODULES_AVAILABLE = True
32 | except ImportError as e:
   |
help: Remove unused import: `locales.get_text`

F841 Local variable `building_data` is assigned to but never used
  --> heatpump_ui.py:57:9
   |
56 |     with tabs[0]:
57 |         building_data = render_building_analysis(texts)
   |         ^^^^^^^^^^^^^
58 |
59 |     with tabs[1]:
   |
help: Remove assignment to unused variable `building_data`

F841 Local variable `heatpump_data` is assigned to but never used
  --> heatpump_ui.py:64:13
   |
62 |         else:
63 |             st.info("Bitte f├╝hren Sie zuerst die Geb├ñudeanalyse durch.")
64 |             heatpump_data = None
   |             ^^^^^^^^^^^^^
65 |
66 |     with tabs[2]:
   |
help: Remove assignment to unused variable `heatpump_data`

F841 Local variable `economics_data` is assigned to but never used
  --> heatpump_ui.py:71:13
   |
69 |         else:
70 |             st.info("Bitte w├ñhlen Sie zuerst eine W├ñrmepumpe aus.")
71 |             economics_data = None
   |             ^^^^^^^^^^^^^^
72 |
73 |     with tabs[3]:
   |
help: Remove assignment to unused variable `economics_data`

F841 Local variable `pv_integration_data` is assigned to but never used
  --> heatpump_ui.py:96:17
   |
94 |                 else:
95 |                     st.info("PV-Daten optional. F├╝r PV+WP-Integration bitte zuerst PV-Analyse durchf├╝hren.")
96 |                 pv_integration_data = None
   |                 ^^^^^^^^^^^^^^^^^^^
97 |
98 |     with tabs[4]:
   |
help: Remove assignment to unused variable `pv_integration_data`

F841 Local variable `installation_type` is assigned to but never used
   --> heatpump_ui.py:344:9
    |
342 |         )
343 |
344 |         installation_type = st.selectbox(
    |         ^^^^^^^^^^^^^^^^^
345 |             "Installation",
346 |             options=["Au├ƒenaufstellung", "Innenaufstellung", "Split-Ger├ñt"]
    |
help: Remove assignment to unused variable `installation_type`

F841 Local variable `budget_category` is assigned to but never used
   --> heatpump_ui.py:355:9
    |
353 |         )
354 |
355 |         budget_category = st.selectbox(
    |         ^^^^^^^^^^^^^^^
356 |             "Budget-Kategorie",
357 |             options=["Economy", "Standard", "Premium"]
    |
help: Remove assignment to unused variable `budget_category`

B007 Loop control variable `year` not used within loop body
   --> heatpump_ui.py:642:17
    |
640 |             cumulative_cashflow = [-total_investment]
641 |
642 |             for year in range(1, 21):
    |                 ^^^^
643 |                 cumulative_cashflow.append(cumulative_cashflow[-1] + annual_savings)
    |
help: Rename unused `year` to `_year`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> heatpump_ui.py:652:22
    |
650 |                 mode='lines+markers',
651 |                 name='Kumulierter Cashflow',
652 |                 line=dict(color='#1f77b4', width=3)
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
653 |             ))
    |
help: Rewrite as a literal

F841 Local variable `heatpump_data` is assigned to but never used
   --> heatpump_ui.py:697:5
    |
695 |         return None
696 |
697 |     heatpump_data = st.session_state.heatpump_data
    |     ^^^^^^^^^^^^^
698 |     economics_data = st.session_state.economics_data
    |
help: Remove assignment to unused variable `heatpump_data`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> heatpump_ui.py:809:14
    |
807 |         name='PV-Erzeugung (%)',
808 |         fill='tozeroy',
809 |         line=dict(color='#f39c12', width=2)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
810 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> heatpump_ui.py:819:14
    |
817 |         mode='lines+markers',
818 |         name=profile_name,
819 |         line=dict(color='#e74c3c', width=2)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
820 |     ))
    |
help: Rewrite as a literal

F841 Local variable `module_name` is assigned to but never used
  --> info_platform.py:32:3
   |
30 |   """
31 |   # Der Header wird in gui.py gesetzt, aber hier kann der Modulname aus kwargs geholt werden, falls n├Âtig
32 |   module_name = kwargs.get('module_name', texts.get("menu_item_info_platform", "Info-Plattform"))
   |   ^^^^^^^^^^^
33 |
34 |   # --- Hier kommt der Inhalt f├╝r die Info-Plattform hin ---
   |
help: Remove assignment to unused variable `module_name`

W293 Blank line contains whitespace
  --> inject_css.py:15:1
   |
13 |     /* ========== GLOBALE SLIDER-EFFEKTE (+ / - BUTTONS) ========== */
14 |     /* Shimmer- und Pulse-Animationen f├╝r Slider-Increment/Decrement-Buttons */
15 |     
   | ^^^^
16 |     /* Slider Plus/Minus Buttons */
17 |     button[data-testid="stNumberInputStepUp"],
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:27:1
   |
25 |         cursor: pointer !important;
26 |     }
27 |     
   | ^^^^
28 |     /* Shimmer-Effekt f├╝r Slider-Buttons */
29 |     button[data-testid="stNumberInputStepUp"]::before,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:43:1
   |
41 |         z-index: 1 !important;
42 |     }
43 |     
   | ^^^^
44 |     /* Shimmer aktivieren beim Hover */
45 |     button[data-testid="stNumberInputStepUp"]:hover::before,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:50:1
   |
48 |         left: 100% !important;
49 |     }
50 |     
   | ^^^^
51 |     /* Hover-Effekte f├╝r Slider-Buttons */
52 |     button[data-testid="stNumberInputStepUp"]:hover,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:60:1
   |
58 |         animation: sliderButtonPulse 1.5s ease-in-out infinite !important;
59 |     }
60 |     
   | ^^^^
61 |     @keyframes sliderButtonPulse {
62 |         0%, 100% {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:71:1
   |
69 |         }
70 |     }
71 |     
   | ^^^^
72 |     /* Active State (beim Klicken) */
73 |     button[data-testid="stNumberInputStepUp"]:active,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:79:1
   |
77 |         box-shadow: 0 1px 5px rgba(102, 126, 234, 0.3) inset !important;
78 |     }
79 |     
   | ^^^^
80 |     /* Slider Track Hover */
81 |     div[data-testid="stSlider"] div[role="slider"]:hover {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:86:1
   |
84 |         transition: all 0.3s ease !important;
85 |     }
86 |     
   | ^^^^
87 |     /* ========== ENDE GLOBALE SLIDER-EFFEKTE ========== */
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:88:1
   |
87 |     /* ========== ENDE GLOBALE SLIDER-EFFEKTE ========== */
88 |     
   | ^^^^
89 |     /* ========== GLOBALE CHECKBOX-EFFEKTE ========== */
90 |     /* Shimmer- und Pulse-Animationen f├╝r Checkboxen */
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> inject_css.py:91:1
   |
89 |     /* ========== GLOBALE CHECKBOX-EFFEKTE ========== */
90 |     /* Shimmer- und Pulse-Animationen f├╝r Checkboxen */
91 |     
   | ^^^^
92 |     /* Checkbox Container */
93 |     div[data-testid="stCheckbox"],
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:100:1
    |
 98 |         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
 99 |     }
100 |     
    | ^^^^
101 |     /* Checkbox Label Hover-Effekt */
102 |     div[data-testid="stCheckbox"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:110:1
    |
108 |         transform: translateX(3px) !important;
109 |     }
110 |     
    | ^^^^
111 |     /* Checkbox Input Box */
112 |     div[data-testid="stCheckbox"] input[type="checkbox"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:119:1
    |
117 |         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
118 |     }
119 |     
    | ^^^^
120 |     /* Checkbox Hover-Effekt - Shimmer */
121 |     div[data-testid="stCheckbox"]:hover input[type="checkbox"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:127:1
    |
125 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
126 |     }
127 |     
    | ^^^^
128 |     @keyframes checkboxPulse {
129 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:138:1
    |
136 |         }
137 |     }
138 |     
    | ^^^^
139 |     /* Checked Checkbox - Pulse-Effekt */
140 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:147:1
    |
145 |         animation: checkboxCheckedPulse 2s ease-in-out infinite !important;
146 |     }
147 |     
    | ^^^^
148 |     @keyframes checkboxCheckedPulse {
149 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:156:1
    |
154 |         }
155 |     }
156 |     
    | ^^^^
157 |     /* Checkbox Checkmark - Shimmer-Effekt */
158 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked::after,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:162:1
    |
160 |         animation: checkmarkShimmer 2s ease-in-out infinite !important;
161 |     }
162 |     
    | ^^^^
163 |     @keyframes checkmarkShimmer {
164 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:172:1
    |
170 |         }
171 |     }
172 |     
    | ^^^^
173 |     /* Radio Buttons - ├ähnliche Effekte */
174 |     div[data-testid="stRadio"] label:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:182:1
    |
180 |         transition: all 0.3s ease !important;
181 |     }
182 |     
    | ^^^^
183 |     div[data-testid="stRadio"] input[type="radio"]:hover,
184 |     .stRadio input[type="radio"]:hover {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:188:1
    |
186 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
187 |     }
188 |     
    | ^^^^
189 |     /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> inject_css.py:190:1
    |
189 |     /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
190 |     
    | ^^^^
191 |     </style>
192 |     """, unsafe_allow_html=True)
    |
help: Remove whitespace from blank line

F841 Local variable `result` is assigned to but never used
  --> install.py:13:9
   |
11 |     print(f"­ƒöä {description}...")
12 |     try:
13 |         result = subprocess.run(
   |         ^^^^^^
14 |             cmd, shell=True, check=True, capture_output=True, text=True)
15 |         print(f"Ô£à {description} completed successfully")
   |
help: Remove assignment to unused variable `result`

E722 Do not use bare `except`
  --> intro_screen.py:17:5
   |
15 |         with open(image_path, "rb") as f:
16 |             return base64.b64encode(f.read()).decode()
17 |     except:
   |     ^^^^^^
18 |         return None
   |

E722 Do not use bare `except`
  --> intro_screen.py:45:5
   |
43 |             with open(settings_file, encoding='utf-8') as f:
44 |                 return {**default_settings, **json.load(f)}
45 |     except:
   |     ^^^^^^
46 |         pass
47 |     return default_settings
   |

W293 Blank line contains whitespace
  --> intro_screen.py:64:1
   |
62 |     """
63 |     Rendert den Intro-Bildschirm mit Login/Weiter-Optionen.
64 |     
   | ^^^^
65 |     Returns:
66 |         bool: True wenn Benutzer fortfahren m├Âchte, False sonst
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> intro_screen.py:175:1
    |
173 |            INTRO BUTTON EFFEKTE: DYNAMISCH (10 Stile)
174 |            ======================================== */
175 |         
    | ^^^^^^^^
176 |         /* Intro-spezifische Button-Basis-Styles */
177 |         .stButton button,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> intro_screen.py:188:1
    |
186 |             font-weight: 700 !important;
187 |         }
188 |         
    | ^^^^^^^^
189 |         /* Dynamische Effekte werden aus den globalen Einstellungen geladen */
190 |         </style>
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> intro_screen.py:234:61
    |
232 |                     video_id = video_url.split('v=')[-1].split('&')[0]
233 |                 st.markdown(f'''
234 |                     <iframe class="intro-video" height="400" 
    |                                                             ^
235 |                         src="https://www.youtube.com/embed/{video_id}" 
236 |                         frameborder="0" allowfullscreen>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> intro_screen.py:235:71
    |
233 |                 st.markdown(f'''
234 |                     <iframe class="intro-video" height="400" 
235 |                         src="https://www.youtube.com/embed/{video_id}" 
    |                                                                       ^
236 |                         frameborder="0" allowfullscreen>
237 |                     </iframe>
    |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> intro_screen.py:468:25
    |
466 |                                 'address': address
467 |                             })
468 |                         except:
    |                         ^^^^^^
469 |                             pass  # Firma-Erstellung optional
    |

E722 Do not use bare `except`
   --> live_calculation_engine.py:110:5
    |
108 |         # Fallback auf Standard-Wert
109 |         return st.session_state.get('admin_feed_in_tariff_ct_kwh', 8.2)
110 |     except:
    |     ^^^^^^
111 |         return 8.2  # Standard-Einspeiseverg├╝tung in ct/kWh
    |

W293 Blank line contains whitespace
  --> live_preview_helpers.py:32:1
   |
30 |     """
31 |     Berechnet finalen Preis mit Modifikationen (Legacy-Funktion f├╝r Kompatibilit├ñt).
32 |     
   | ^^^^
33 |     WICHTIG: Diese Funktion wird f├╝r die Live-Vorschau verwendet.
34 |     Die korrekte Formel ist: Matrixpreis + Zubeh├Âr - Rabatte
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> live_preview_helpers.py:76:1
   |
74 |     """
75 |     Sammelt alle Preismodifikationen aus Session State (einheitliche Implementierung).
76 |     
   | ^^^^
77 |     Returns:
78 |         Dictionary mit standardisierten Preismodifikationen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> locales.py:66:1
   |
64 |     """
65 |     Holt einen ├╝bersetzten Text f├╝r den gegebenen Schl├╝ssel.
66 |     
   | ^^^^
67 |     Args:
68 |         key (str): Textschl├╝ssel
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> locales.py:72:1
   |
70 |         fallback (str): Fallback-Text wenn Schl├╝ssel nicht gefunden
71 |         **kwargs: Format-Parameter f├╝r den Text
72 |     
   | ^^^^
73 |     Returns:
74 |         str: ├£bersetzter oder Fallback-Text
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:22:1
   |
20 |     """
21 |     Unified matrix loader with hash-based caching for CSV and Excel formats.
22 |     
   | ^^^^
23 |     Provides consistent parsing, validation, and caching for price matrix data
24 |     with support for both CSV (semicolon-separated) and Excel formats.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:35:1
   |
33 |         """
34 |         Generate SHA256 hash for bytes data.
35 |         
   | ^^^^^^^^
36 |         Args:
37 |             data: Bytes data to hash
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:38:1
   |
36 |         Args:
37 |             data: Bytes data to hash
38 |             
   | ^^^^^^^^^^^^
39 |         Returns:
40 |             SHA256 hash string or None if data is empty
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:53:1
   |
51 |         """
52 |         Generate SHA256 hash for text data.
53 |         
   | ^^^^^^^^
54 |         Args:
55 |             text: Text data to hash
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:56:1
   |
54 |         Args:
55 |             text: Text data to hash
56 |             
   | ^^^^^^^^^^^^
57 |         Returns:
58 |             SHA256 hash string or None if text is empty
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:71:1
   |
69 |         """
70 |         Validate matrix structure according to requirements.
71 |         
   | ^^^^^^^^
72 |         Expected structure:
73 |         - First column (index): "Anzahl Module" with numeric module counts
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:76:1
   |
74 |         - Additional columns: Battery storage model names
75 |         - Last column: "Ohne Speicher"
76 |         
   | ^^^^^^^^
77 |         Args:
78 |             df: DataFrame to validate
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> matrix_loader.py:79:1
   |
77 |         Args:
78 |             df: DataFrame to validate
79 |             
   | ^^^^^^^^^^^^
80 |         Returns:
81 |             List of validation error messages
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:143:1
    |
141 |         """
142 |         Parse CSV data to DataFrame with German formatting support.
143 |         
    | ^^^^^^^^
144 |         Expected CSV format:
145 |         - Separator: semicolon (;)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:149:1
    |
147 |         - Thousands separator: period (.)
148 |         - First column: "Anzahl Module" (used as index)
149 |         
    | ^^^^^^^^
150 |         Args:
151 |             csv_data: CSV content as string or StringIO object
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:152:1
    |
150 |         Args:
151 |             csv_data: CSV content as string or StringIO object
152 |             
    | ^^^^^^^^^^^^
153 |         Returns:
154 |             Tuple of (DataFrame, error_messages)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:254:1
    |
252 |         """
253 |         Parse Excel data to DataFrame.
254 |         
    | ^^^^^^^^
255 |         Expected Excel format:
256 |         - First column: "Anzahl Module" (used as index)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:259:1
    |
257 |         - Header row: Column names for storage models
258 |         - Numeric data: Prices in German or international format
259 |         
    | ^^^^^^^^
260 |         Args:
261 |             excel_bytes: Excel file content as bytes
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:262:1
    |
260 |         Args:
261 |             excel_bytes: Excel file content as bytes
262 |             
    | ^^^^^^^^^^^^
263 |         Returns:
264 |             Tuple of (DataFrame, error_messages)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:332:1
    |
330 |         """
331 |         Load matrix with caching based on data hash.
332 |         
    | ^^^^^^^^
333 |         Priority: Excel data is preferred over CSV if both are provided.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:334:1
    |
333 |         Priority: Excel data is preferred over CSV if both are provided.
334 |         
    | ^^^^^^^^
335 |         Args:
336 |             excel_bytes: Excel file content as bytes (optional)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:338:1
    |
336 |             excel_bytes: Excel file content as bytes (optional)
337 |             csv_data: CSV content as string (optional)
338 |             
    | ^^^^^^^^^^^^
339 |         Returns:
340 |             Tuple of (DataFrame, source_type, error_messages)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:432:1
    |
430 |         """
431 |         Get information about current cache state.
432 |         
    | ^^^^^^^^
433 |         Returns:
434 |             Dictionary with cache statistics and information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:462:1
    |
460 |         """
461 |         Validate matrix file without caching (for upload validation).
462 |         
    | ^^^^^^^^
463 |         Args:
464 |             excel_bytes: Excel file content as bytes (optional)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> matrix_loader.py:466:1
    |
464 |             excel_bytes: Excel file content as bytes (optional)
465 |             csv_data: CSV content as string (optional)
466 |             
    | ^^^^^^^^^^^^
467 |         Returns:
468 |             Tuple of (is_valid, error_messages)
    |
help: Remove whitespace from blank line

E731 Do not assign a `lambda` expression, use a `def`
  --> multi_offer_generator.py:22:5
   |
20 |     # Fallback, falls tqdm nicht installiert ist
21 |     print("Hinweis: F├╝r eine Fortschrittsanzeige installieren Sie 'tqdm' via 'pip install tqdm'.")
22 |     tqdm = lambda x, **kwargs: x
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
23 |
24 | # Import der bestehenden Module
   |
help: Rewrite `tqdm` as a `def`

F401 `calculations.calculate_offer_details` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator.py:26:30
   |
24 | # Import der bestehenden Module
25 | try:
26 |     from calculations import calculate_offer_details, perform_calculations
   |                              ^^^^^^^^^^^^^^^^^^^^^^^
27 |     from database import (
28 |         get_company,
   |
help: Remove unused import: `calculations.calculate_offer_details`

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator.py:29:9
   |
27 |     from database import (
28 |         get_company,
29 |         get_db_connection,
   |         ^^^^^^^^^^^^^^^^^
30 |         list_companies,
31 |         list_company_documents,
   |
help: Remove unused import: `database.get_db_connection`

F401 `pdf_generator.create_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator.py:35:31
   |
33 |         save_admin_setting,
34 |     )
35 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                               ^^^^^^^^^^^^^^^^
36 |     from pdf_generator import (
37 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

F401 `pdf_generator.merge_pdfs` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator.py:35:49
   |
33 |         save_admin_setting,
34 |     )
35 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                                                 ^^^^^^^^^^
36 |     from pdf_generator import (
37 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

E722 Do not use bare `except`
   --> multi_offer_generator.py:246:21
    |
244 |                             st.markdown(f"**{i+1}. {company.get('name', 'Unbekannt')}**")
245 |                             st.caption(f"ID: {company_id}")
246 |                     except:
    |                     ^^^^^^
247 |                         with preview_cols[col_index]:
248 |                             st.markdown(f"**{i+1}. Firma {company_id}**")
    |

E722 Do not use bare `except`
   --> multi_offer_generator.py:394:29
    |
392 | ÔÇª                         factors = json.loads(settings.get("custom_price_factors", "[1.0]"))
393 | ÔÇª                         price_factor = factors[i] if i < len(factors) else factors[-1]
394 | ÔÇª                     except:
    |                       ^^^^^^
395 | ÔÇª                         price_factor = 1.0 + (i * 0.03)
    |

E722 Do not use bare `except`
   --> multi_offer_generator.py:863:17
    |
861 |                     custom_factors = json.loads(base_settings.get("custom_price_factors", "[1.0]"))
862 |                     price_factor = custom_factors[company_index] if company_index < len(custom_factors) else custom_factors[-1]
863 |                 except:
    |                 ^^^^^^
864 |                     # Fallback auf linear
865 |                     price_factor = 1.0 + (company_index * price_increment / 100.0)
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> multi_offer_generator.py:1218:41
     |
1216 |                 if calc_results and isinstance(calc_results, dict):
1217 |                     # Chart-Keys aus analysis_results finden
1218 |                     chart_keys = [k for k in calc_results.keys() if k.endswith('_chart_bytes') and calc_results[k] is not None]
     |                                         ^^^^^^^^^^^^^^^^^^^^^^^^
1219 |                     available_charts = chart_keys
1220 |                     logging.info(f"Multi-Offer PDF: {len(available_charts)} Charts gefunden: {chart_keys}")
     |
help: Remove `.keys()`

RET504 Unnecessary assignment to `pdf_content` before `return` statement
    --> multi_offer_generator.py:1318:24
     |
1316 |                     active_company_id=company.get("id", 1)
1317 |                 )
1318 |                 return pdf_content
     |                        ^^^^^^^^^^^
1319 |             st.error("PDF-Generator nicht verf├╝gbar")
1320 |             return None
     |
help: Remove unnecessary assignment

SIM102 Use a single `if` statement instead of nested `if` statements
    --> multi_offer_generator.py:1384:5
     |
1383 |       # Projektdaten ├╝bernehmen falls vorhanden
1384 | /     if project_data_doc and "customer_data" in project_data_doc:
1385 | |         if not st.session_state.multi_offer_customer_data.get("last_name"):
     | |___________________________________________________________________________^
1386 |               st.session_state.multi_offer_customer_data = project_data_doc["customer_data"]
1387 |               st.session_state.multi_offer_project_data = project_data_doc
     |
help: Combine `if` statements using `and`

E731 Do not assign a `lambda` expression, use a `def`
  --> multi_offer_generator_new.py:21:5
   |
19 |     # Fallback, falls tqdm nicht installiert ist
20 |     print("Hinweis: F├╝r eine Fortschrittsanzeige installieren Sie 'tqdm' via 'pip install tqdm'.")
21 |     tqdm = lambda x, **kwargs: x
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |
23 | # Import der bestehenden Module
   |
help: Rewrite `tqdm` as a `def`

F401 `calculations.calculate_offer_details` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:25:30
   |
23 | # Import der bestehenden Module
24 | try:
25 |     from calculations import calculate_offer_details, perform_calculations
   |                              ^^^^^^^^^^^^^^^^^^^^^^^
26 |     from database import (
27 |         get_company,
   |
help: Remove unused import

F401 `calculations.perform_calculations` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:25:55
   |
23 | # Import der bestehenden Module
24 | try:
25 |     from calculations import calculate_offer_details, perform_calculations
   |                                                       ^^^^^^^^^^^^^^^^^^^^
26 |     from database import (
27 |         get_company,
   |
help: Remove unused import

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:28:9
   |
26 |     from database import (
27 |         get_company,
28 |         get_db_connection,
   |         ^^^^^^^^^^^^^^^^^
29 |         list_companies,
30 |         list_company_documents,
   |
help: Remove unused import

F401 `database.list_company_documents` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:30:9
   |
28 |         get_db_connection,
29 |         list_companies,
30 |         list_company_documents,
   |         ^^^^^^^^^^^^^^^^^^^^^^
31 |         load_admin_setting,
32 |         save_admin_setting,
   |
help: Remove unused import

F401 `database.load_admin_setting` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:31:9
   |
29 |         list_companies,
30 |         list_company_documents,
31 |         load_admin_setting,
   |         ^^^^^^^^^^^^^^^^^^
32 |         save_admin_setting,
33 |     )
   |
help: Remove unused import

F401 `database.save_admin_setting` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:32:9
   |
30 |         list_company_documents,
31 |         load_admin_setting,
32 |         save_admin_setting,
   |         ^^^^^^^^^^^^^^^^^^
33 |     )
34 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |
help: Remove unused import

F401 `pdf_generator.create_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:34:31
   |
32 |         save_admin_setting,
33 |     )
34 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                               ^^^^^^^^^^^^^^^^
35 |     from pdf_generator import (
36 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

F401 `pdf_generator.merge_pdfs` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_new.py:34:49
   |
32 |         save_admin_setting,
33 |     )
34 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                                                 ^^^^^^^^^^
35 |     from pdf_generator import (
36 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

RET504 Unnecessary assignment to `pdf_content` before `return` statement
   --> multi_offer_generator_new.py:397:24
    |
395 |                     company_data=company
396 |                 )
397 |                 return pdf_content
    |                        ^^^^^^^^^^^
398 |             st.error("PDF-Generator nicht verf├╝gbar")
399 |             return None
    |
help: Remove unnecessary assignment

E731 Do not assign a `lambda` expression, use a `def`
  --> multi_offer_generator_old.py:27:5
   |
25 |         "via 'pip install tqdm'."
26 |     )
27 |     tqdm = lambda x, **kwargs: x
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |
29 | # Import der bestehenden Module
   |
help: Rewrite `tqdm` as a `def`

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> multi_offer_generator_old.py:34:9
   |
32 |     from database import (
33 |         get_company,
34 |         get_db_connection,
   |         ^^^^^^^^^^^^^^^^^
35 |         list_companies,
36 |         list_company_documents,
   |
help: Remove unused import: `database.get_db_connection`

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> multi_offer_generator_old.py:247:9
    |
245 |           failed_offers = 0
246 |
247 | /         with st.spinner("Generiere Angebote..."):
248 | |             with zipfile.ZipFile(
249 | |                 zip_buffer, "a", zipfile.ZIP_DEFLATED, False
250 | |             ) as zip_file:
    | |__________________________^
251 |                   for company_id in selected_company_ids:
252 |                       try:
    |
help: Combine `with` statements

SIM102 Use a single `if` statement instead of nested `if` statements
   --> multi_offer_generator_old.py:372:5
    |
371 |       # Kundendaten aus Projekt und Bedarfsanalyse ├╝bernehmen
372 | /     if project_data_doc and "customer_data" in project_data_doc:
373 | |         if not st.session_state.multi_offer_customer_data.get("last_name"):
    | |___________________________________________________________________________^
374 |               st.session_state.multi_offer_customer_data = project_data_doc["customer_data"]
375 |               st.info(" Kundendaten aus Projekt und Bedarfsanalyse ├╝bernommen")
    |
help: Combine `if` statements using `and`

F811 Redefinition of unused `get_text_mog` from line 51
   --> multi_offer_generator_old.py:412:5
    |
412 | def get_text_mog(key: str, fallback: str) -> str:
    |     ^^^^^^^^^^^^ `get_text_mog` redefined here
413 |     return st.session_state.get("TEXTS", {}).get(key, fallback)
    |
   ::: multi_offer_generator_old.py:51:5
    |
 51 | def get_text_mog(key: str, fallback: str) -> str:
    |     ------------ previous definition of `get_text_mog` here
 52 |     return st.session_state.get("TEXTS", {}).get(key, fallback)
    |
help: Remove definition: `get_text_mog`

F811 Redefinition of unused `MultiCompanyOfferGenerator` from line 55
   --> multi_offer_generator_old.py:416:7
    |
416 | class MultiCompanyOfferGenerator:
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^ `MultiCompanyOfferGenerator` redefined here
417 |     """Generator f├╝r Multi-Firmen-Angebote"""
    |
   ::: multi_offer_generator_old.py:55:7
    |
 55 | class MultiCompanyOfferGenerator:
    |       -------------------------- previous definition of `MultiCompanyOfferGenerator` here
 56 |     """Generator f├╝r Multi-Firmen-Angebote"""
    |
help: Remove definition: `MultiCompanyOfferGenerator`

F821 Undefined name `get_all_active_customers`
   --> multi_offer_generator_old.py:646:43
    |
644 |     try:
645 |         ensure_output_directory_exists()
646 |         customers: list[dict[str, Any]] = get_all_active_customers()
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^
647 |         if not customers:
648 |             print("Keine aktiven Kunden gefunden. Prozess wird beendet.")
    |

F821 Undefined name `get_all_active_customers`
   --> multi_offer_generator_old.py:658:70
    |
656 |                 try:
657 |                     # Schritt 1: Daten berechnen
658 |                     offer_data = calculate_offer_details(customer_id=get_all_active_customers["id"])
    |                                                                      ^^^^^^^^^^^^^^^^^^^^^^^^
659 |
660 |                     # Schritt 2: Tempor├ñres PDF f├╝r das Hauptangebot erstellen
    |

F821 Undefined name `get_company_documents`
   --> multi_offer_generator_old.py:666:36
    |
664 |                     # Schritt 3: Alle Anh├ñnge sammeln                    attachment_paths = []
665 |                     # Firmendokumente (AGB, Vollmacht etc.)
666 |                     company_docs = get_company_documents(company_id=offer_data["company_id"])
    |                                    ^^^^^^^^^^^^^^^^^^^^^
667 |                     attachment_paths.extend([doc.get('path', '') for doc in company_docs if doc.get('path')])
668 |                     # Produktdatenbl├ñtter (Fallback: leere Liste, wenn Funktion nicht verf├╝gbar)
    |

F821 Undefined name `attachment_paths`
   --> multi_offer_generator_old.py:667:21
    |
665 |                     # Firmendokumente (AGB, Vollmacht etc.)
666 |                     company_docs = get_company_documents(company_id=offer_data["company_id"])
667 |                     attachment_paths.extend([doc.get('path', '') for doc in company_docs if doc.get('path')])
    |                     ^^^^^^^^^^^^^^^^
668 |                     # Produktdatenbl├ñtter (Fallback: leere Liste, wenn Funktion nicht verf├╝gbar)
669 |                     product_ids = [item['product_id'] for item in offer_data.get('items', [])]
    |

F821 Undefined name `generate_final_filename`
   --> multi_offer_generator_old.py:679:38
    |
678 |                     # Schritt 4: Alles zu einer finalen Mappe zusammenf├╝gen
679 |                     final_filename = generate_final_filename(offer_data)
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^
680 |
681 |                     # Die neue, zentrale Merge-Funktion wird aufgerufen
    |

F821 Undefined name `attachment_paths`
   --> multi_offer_generator_old.py:684:42
    |
682 |                     merge_pdfs(
683 |                         main_pdf_path=temp_offer_filename,
684 |                         attachment_paths=attachment_paths,
    |                                          ^^^^^^^^^^^^^^^^
685 |                         output_path=final_filename
686 |                     )
    |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> multi_offer_generator_old.py:718:9
    |
716 |               return
717 |           zip_buffer = io.BytesIO()
718 | /         with st.spinner("Generiere Angebote..."):
719 | |             with zipfile.ZipFile(
720 | |                 zip_buffer, "a", zipfile.ZIP_DEFLATED, False
721 | |             ) as zip_file:
    | |__________________________^
722 |                   for company_id in selected_company_ids:
723 |                       company_details = (
    |
help: Combine `with` statements

F811 Redefinition of unused `render_multi_offer_generator` from line 360
   --> multi_offer_generator_old.py:808:5
    |
808 | def render_multi_offer_generator(texts, project_data, calc_results):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_multi_offer_generator` redefined here
809 |     st.subheader("Multi-Firmen-Angebotsgenerator")
    |
   ::: multi_offer_generator_old.py:360:5
    |
360 | def render_multi_offer_generator(texts, project_data_doc=None, calc_results_doc=None):
    |     ---------------------------- previous definition of `render_multi_offer_generator` here
361 |     """Hauptfunktion f├╝r den Multi-Firmen-Angebotsgenerator"""
362 |     st.header(" Multi-Firmen-Angebotsgenerator")
    |
help: Remove definition: `render_multi_offer_generator`

F821 Undefined name `get_all_active_customers`
   --> multi_offer_generator_old.py:813:21
    |
811 |     # Zeige aktuelle Kunden-Statistik
812 |     try:
813 |         customers = get_all_active_customers()
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^
814 |         st.info(f" {len(customers)} aktive Kunden in der Datenbank gefunden")
    |

F811 Redefinition of unused `render_product_selection` from line 408
   --> multi_offer_generator_old.py:890:5
    |
888 |             st.info("Test-Kunden-Erstellung ├╝ber das CRM-Modul oder die Datenbank-Administration.")
889 |
890 | def render_product_selection():
    |     ^^^^^^^^^^^^^^^^^^^^^^^^ `render_product_selection` redefined here
891 |     pass
892 | # F├╝gen Sie hier bei Bedarf die render_product_selection Funktion hinzu
    |
   ::: multi_offer_generator_old.py:408:5
    |
408 | def render_product_selection():
    |     ------------------------ previous definition of `render_product_selection` here
409 |     pass
    |
help: Remove definition: `render_product_selection`

E402 Module level import not at top of file
   --> multi_offer_generator_old.py:900:1
    |
898 | """
899 |
900 | import threading
    | ^^^^^^^^^^^^^^^^
901 | from concurrent.futures import ThreadPoolExecutor, as_completed
902 | from typing import Any
    |

E402 Module level import not at top of file
   --> multi_offer_generator_old.py:901:1
    |
900 | import threading
901 | from concurrent.futures import ThreadPoolExecutor, as_completed
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
902 | from typing import Any
    |

E402 Module level import not at top of file
   --> multi_offer_generator_old.py:902:1
    |
900 | import threading
901 | from concurrent.futures import ThreadPoolExecutor, as_completed
902 | from typing import Any
    | ^^^^^^^^^^^^^^^^^^^^^^
903 |
904 | import streamlit as st
    |

E402 Module level import not at top of file
   --> multi_offer_generator_old.py:904:1
    |
902 | from typing import Any
903 |
904 | import streamlit as st
    | ^^^^^^^^^^^^^^^^^^^^^^
905 |
906 | # Import der notwendigen Module
    |

F401 `database.get_active_company` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> multi_offer_generator_old.py:908:26
    |
906 | # Import der notwendigen Module
907 | try:
908 |     from database import get_active_company, get_company_by_id, list_all_companies
    |                          ^^^^^^^^^^^^^^^^^^
909 |     from locales import get_text
910 |     from pdf_generator import generate_offer_pdf
    |
help: Remove unused import: `database.get_active_company`

F401 `locales.get_text` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> multi_offer_generator_old.py:909:25
    |
907 | try:
908 |     from database import get_active_company, get_company_by_id, list_all_companies
909 |     from locales import get_text
    |                         ^^^^^^^^
910 |     from pdf_generator import generate_offer_pdf
911 |     from pdf_ui import show_advanced_pdf_preview
    |
help: Remove unused import: `locales.get_text`

F401 `pdf_ui.show_advanced_pdf_preview` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> multi_offer_generator_old.py:911:24
    |
909 |     from locales import get_text
910 |     from pdf_generator import generate_offer_pdf
911 |     from pdf_ui import show_advanced_pdf_preview
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^
912 |     from product_db import get_product_by_id, list_products
913 |     PDF_GENERATOR_AVAILABLE = True
    |
help: Remove unused import: `pdf_ui.show_advanced_pdf_preview`

B007 Loop control variable `message` not used within loop body
    --> multi_offer_generator_old.py:1231:54
     |
1230 |             with zipfile.ZipFile(zip_buffer, 'w', zipfile.ZIP_DEFLATED) as zip_file:
1231 |                 for company_id, (success, pdf_bytes, message) in pdf_results.items():
     |                                                      ^^^^^^^
1232 |                     if success and pdf_bytes:
1233 |                         company_info = get_company_by_id(company_id)
     |
help: Rename unused `message` to `_message`

B007 Loop control variable `idx` not used within loop body
    --> multi_offer_generator_old.py:1345:17
     |
1343 |             tabs = st.tabs([f"Firma {i+1}" for i in range(len(selected_companies))])
1344 |
1345 |             for idx, (tab, company_id) in enumerate(zip(tabs, selected_companies, strict=False)):
     |                 ^^^
1346 |                 with tab:
1347 |                     company = next((c for c in all_companies if c['id'] == company_id), None)
     |
help: Rename unused `idx` to `_idx`

F841 Local variable `preview_company` is assigned to but never used
    --> multi_offer_generator_old.py:1372:17
     |
1370 |         if st.session_state.multi_offer_settings.get('enable_preview', True):
1371 |             with st.expander(" PDF-Vorschau", expanded=False):
1372 |                 preview_company = st.selectbox(
     |                 ^^^^^^^^^^^^^^^
1373 |                     "Vorschau f├╝r Firma:",
1374 |                     options=selected_companies,
     |
help: Remove assignment to unused variable `preview_company`

B007 Loop control variable `pdf_bytes` not used within loop body
    --> multi_offer_generator_old.py:1446:47
     |
1444 |                 # Ergebnis-Details
1445 |                 with st.expander(" Generierungs-Details", expanded=False):
1446 |                     for company_id, (success, pdf_bytes, message) in results.items():
     |                                               ^^^^^^^^^
1447 |                         company = next((c for c in all_companies if c['id'] == company_id), None)
1448 |                         company_name = company['name'] if company else f"Firma {company_id}"
     |
help: Rename unused `pdf_bytes` to `_pdf_bytes`

W293 Blank line contains whitespace
  --> multi_pdf_integration.py:40:1
   |
38 |     """
39 |     L├ñdt Kundendaten automatisch aus Projekt/Bedarfsanalyse
40 |     
   | ^^^^
41 |     R├╝ckgabewert:
42 |         Dict mit Kundendaten oder leeres Dict
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> multi_pdf_integration.py:75:1
   |
73 |     """
74 |     Rendert Kundendaten-Eingabe f├╝r Multi-PDF
75 |     
   | ^^^^
76 |     R├╝ckgabewert:
77 |         True wenn Daten vollst├ñndig, sonst False
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:143:1
    |
141 |     """
142 |     Rendert Firmenauswahl f├╝r Multi-PDF
143 |     
    | ^^^^
144 |     Args:
145 |         available_companies: Liste verf├╝gbarer Firmen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:146:1
    |
144 |     Args:
145 |         available_companies: Liste verf├╝gbarer Firmen
146 |     
    | ^^^^
147 |     R├╝ckgabewert:
148 |         Liste ausgew├ñhlter Company-IDs
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:285:1
    |
283 |     """
284 |     Rendert W├ñrmepumpen-Integration Toggle
285 |     
    | ^^^^
286 |     R├╝ckgabewert:
287 |         True wenn W├ñrmepumpe aktiviert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:323:1
    |
321 |     """
322 |     Erstellt ZIP-Archiv mit allen PDFs
323 |     
    | ^^^^
324 |     Args:
325 |         pdf_paths: Dict mit {company_name: pdf_path}
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:327:1
    |
325 |         pdf_paths: Dict mit {company_name: pdf_path}
326 |         customer_name: Name des Kunden f├╝r Dateinamen
327 |     
    | ^^^^
328 |     R├╝ckgabewert:
329 |         ZIP-Datei als Bytes
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:354:1
    |
352 |     """
353 |     Berechnet Produktrotation f├╝r mehrere Firmen
354 |     
    | ^^^^
355 |     Args:
356 |         base_products: Basis-Produkte dict mit categories
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:359:1
    |
357 |         company_count: Anzahl Firmen
358 |         rotation_mode: Rotations-Modus (linear/random/category_specific)
359 |     
    | ^^^^
360 |     R├╝ckgabewert:
361 |         Liste mit Produkt-Sets pro Firma
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:375:1
    |
373 |     """
374 |     Wendet Preisstaffelung an
375 |     
    | ^^^^
376 |     Args:
377 |         base_price: Basispreis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration.py:380:1
    |
378 |         company_index: Index der Firma (0-basiert)
379 |         increment_percent: Prozentuale Steigerung pro Firma
380 |     
    | ^^^^
381 |     R├╝ckgabewert:
382 |         Angepasster Preis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> multi_pdf_integration_complete.py:49:1
   |
47 |     """
48 |     L├ñdt Kundendaten automatisch aus Projekt/Bedarfsanalyse
49 |     
   | ^^^^
50 |     R├╝ckgabewert:
51 |         Dict mit Kundendaten oder leeres Dict
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> multi_pdf_integration_complete.py:87:1
   |
85 |     """
86 |     Rendert Kundendaten-Eingabe f├╝r Multi-PDF
87 |     
   | ^^^^
88 |     R├╝ckgabewert:
89 |         True wenn Daten vollst├ñndig, sonst False
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:151:1
    |
149 |     """
150 |     Rendert Firmenauswahl mit Extended-PDF-Toggles
151 |     
    | ^^^^
152 |     Parameter:
153 |         companies: Liste von Firmen-Dicts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:154:1
    |
152 |     Parameter:
153 |         companies: Liste von Firmen-Dicts
154 |     
    | ^^^^
155 |     R├╝ckgabewert:
156 |         Liste der ausgew├ñhlten Firmen-IDs
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:295:1
    |
293 |     """
294 |     Rendert W├ñrmepumpen-Integrations-Toggle
295 |     
    | ^^^^
296 |     R├╝ckgabewert:
297 |         True wenn W├ñrmepumpe aktiviert, sonst False
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:397:1
    |
395 |     """
396 |     Bereitet Angebotsdaten f├╝r PDF-Generierung vor
397 |     
    | ^^^^
398 |     Parameter:
399 |         customer_data: Kundendaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:404:1
    |
402 |         project_data: Projektdaten aus Session State
403 |         company_index: Index der Firma f├╝r Preisstaffelung
404 |     
    | ^^^^
405 |     R├╝ckgabewert:
406 |         Dict mit aufbereiteten Angebotsdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:435:1
    |
433 |     """
434 |     Generiert PDF f├╝r eine Firma
435 |     
    | ^^^^
436 |     Parameter:
437 |         offer_data: Aufbereitete Angebotsdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:438:1
    |
436 |     Parameter:
437 |         offer_data: Aufbereitete Angebotsdaten
438 |     
    | ^^^^
439 |     R├╝ckgabewert:
440 |         PDF als Bytes oder None bei Fehler
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `pdf_bytes` before `return` statement
   --> multi_pdf_integration_complete.py:449:16
    |
447 |         pdf_bytes = generate_pdf(offer_data)
448 |
449 |         return pdf_bytes
    |                ^^^^^^^^^
450 |
451 |     except Exception as e:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:459:1
    |
457 |     """
458 |     Erstellt ZIP-Archiv mit allen generierten PDFs
459 |     
    | ^^^^
460 |     Parameter:
461 |         generated_pdfs: Liste von Dicts mit filename und pdf_content
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:462:1
    |
460 |     Parameter:
461 |         generated_pdfs: Liste von Dicts mit filename und pdf_content
462 |     
    | ^^^^
463 |     R├╝ckgabewert:
464 |         ZIP-Datei als Bytes
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:478:1
    |
476 |     """
477 |     Wendet Preisstaffelung an
478 |     
    | ^^^^
479 |     Parameter:
480 |         base_price: Basispreis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> multi_pdf_integration_complete.py:483:1
    |
481 |         company_index: Index der Firma (0 = erste, 1 = zweite, etc.)
482 |         increment_percent: Preissteigerung in Prozent
483 |     
    | ^^^^
484 |     R├╝ckgabewert:
485 |         Angepasster Preis
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
  --> notwendig oder nicht\calculations_cli.py:43:9
   |
41 |         data: dict[str, Any] = json.load(sys.stdin)
42 |     except json.JSONDecodeError as exc:
43 |         raise SystemExit(f"Ung├╝ltiges JSON auf der Eingabe: {exc}")
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
44 |
45 |     project_data: dict[str, Any] = data.get("project_data", {})
   |

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
  --> notwendig oder nicht\need or not\calculations_cli.py:43:9
   |
41 |         data: dict[str, Any] = json.load(sys.stdin)
42 |     except json.JSONDecodeError as exc:
43 |         raise SystemExit(f"Ung├╝ltiges JSON auf der Eingabe: {exc}")
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
44 |
45 |     project_data: dict[str, Any] = data.get("project_data", {})
   |

W291 Trailing whitespace
 --> notwendig oder nicht\zu implementieren\kalkulationen.py:4:92
  |
2 | """Jahresenergieertrag kWh pro Jahr ÔÇô calculate_annual_energy_yield
3 |
4 | Zweck: Berechnet den erwarteten j├ñhrlichen Energieertrag der PV-Anlage in kWh basierend auf 
  |                                                                                            ^
5 | der installierten Leistung (pv_peak_power_kwp) und einem spezifischen Ertrag pro kWp. 
6 | Diese Kennzahl gibt an, wie viel Energie die Anlage im Jahr produziert.
  |
help: Remove trailing whitespace

W291 Trailing whitespace
 --> notwendig oder nicht\zu implementieren\kalkulationen.py:5:86
  |
4 | Zweck: Berechnet den erwarteten j├ñhrlichen Energieertrag der PV-Anlage in kWh basierend auf 
5 | der installierten Leistung (pv_peak_power_kwp) und einem spezifischen Ertrag pro kWp. 
  |                                                                                      ^
6 | Diese Kennzahl gibt an, wie viel Energie die Anlage im Jahr produziert.
7 | """
  |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:9:60
   |
 7 | """
 8 |
 9 | def calculate_annual_energy_yield(pv_peak_power_kwp: float, 
   |                                                            ^
10 |                                   specific_yield_kwh_per_kwp: float) -> float:
11 |     """Jahresenergieertrag kWh pro Jahr"""
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:16:76
   |
14 | """Eigenverbrauchsquote in % ÔÇô calculate_self_consumption_quote
15 |
16 | Zweck: Berechnet den Prozentsatz des PV-Stroms, der selbst verbraucht wird. 
   |                                                                            ^
17 | Diese Eigenverbrauchsquote (auch Selbstverbrauchsquote) gibt an, wie viel vom erzeugten PV-Strom unmittelbar 
18 | im Haushalt genutzt wird, anstatt ins Netz eingespeist zu werden.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:17:109
   |
16 | Zweck: Berechnet den Prozentsatz des PV-Stroms, der selbst verbraucht wird. 
17 | Diese Eigenverbrauchsquote (auch Selbstverbrauchsquote) gibt an, wie viel vom erzeugten PV-Strom unmittelbar 
   |                                                                                                             ^
18 | im Haushalt genutzt wird, anstatt ins Netz eingespeist zu werden.
19 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:21:63
   |
19 | """
20 |
21 | def calculate_self_consumption_quote(self_consumed_kwh: float, 
   |                                                               ^
22 |                                      total_generation_kwh: float) -> float:
23 |     """Eigenverbrauchsquote in %"""
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:24:33
   |
22 |                                      total_generation_kwh: float) -> float:
23 |     """Eigenverbrauchsquote in %"""
24 |     if total_generation_kwh == 0: return 0.0
   |                                 ^
25 |     return (self_consumed_kwh / total_generation_kwh) * 100
   |

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:26:1
   |
24 |     if total_generation_kwh == 0: return 0.0
25 |     return (self_consumed_kwh / total_generation_kwh) * 100
26 |     
   | ^^^^
27 | """Autarkiegrad in % ÔÇô calculate_autarky_degree
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:29:104
   |
27 | """Autarkiegrad in % ÔÇô calculate_autarky_degree
28 |
29 | Zweck: Bestimmt den Autarkiegrad, also den Anteil des gesamten Stromverbrauchs, der durch die PV-Anlage 
   |                                                                                                        ^
30 | gedeckt wird. Ein Autarkiegrad von 100ÔÇ»% w├╝rde bedeuten, dass der Haushalt rechnerisch komplett 
31 | durch selbst erzeugten PV-Strom versorgt wird.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:30:96
   |
29 | Zweck: Bestimmt den Autarkiegrad, also den Anteil des gesamten Stromverbrauchs, der durch die PV-Anlage 
30 | gedeckt wird. Ein Autarkiegrad von 100ÔÇ»% w├╝rde bedeuten, dass der Haushalt rechnerisch komplett 
   |                                                                                                ^
31 | durch selbst erzeugten PV-Strom versorgt wird.
32 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:34:55
   |
32 | """
33 |
34 | def calculate_autarky_degree(self_consumed_kwh: float, 
   |                                                       ^
35 |                              total_consumption_kwh: float) -> float:
36 |     """Autarkiegrad in % """
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:37:34
   |
35 |                              total_consumption_kwh: float) -> float:
36 |     """Autarkiegrad in % """
37 |     if total_consumption_kwh == 0: return 0.0
   |                                  ^
38 |     return (self_consumed_kwh / total_consumption_kwh) * 100    
   |

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:38:61
   |
36 |     """Autarkiegrad in % """
37 |     if total_consumption_kwh == 0: return 0.0
38 |     return (self_consumed_kwh / total_consumption_kwh) * 100    
   |                                                             ^^^^
39 |     
40 | """Spezifischer Ertrag kWh / kWp ÔÇô calculate_specific_yield
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:39:1
   |
37 |     if total_consumption_kwh == 0: return 0.0
38 |     return (self_consumed_kwh / total_consumption_kwh) * 100    
39 |     
   | ^^^^
40 | """Spezifischer Ertrag kWh / kWp ÔÇô calculate_specific_yield
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:42:115
   |
40 | """Spezifischer Ertrag kWh / kWp ÔÇô calculate_specific_yield
41 |
42 | Zweck: Ermittelt den spezifischen Ertrag der PV-Anlage, also die Jahresproduktion pro kW_p installierter Leistung. 
   |                                                                                                                   ^
43 | Dieser Wert (kWh pro kWp) erlaubt den Vergleich der Produktivit├ñt unterschiedlicher Anlagen unabh├ñngig von deren Gr├Â├ƒe.
44 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:46:54
   |
44 | """
45 |
46 | def calculate_specific_yield(annual_yield_kwh: float, 
   |                                                      ^
47 |                               pv_peak_power_kwp: float) -> float:
48 |     """Spezifischer Ertrag kWh / kWp """
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:49:30
   |
47 |                               pv_peak_power_kwp: float) -> float:
48 |     """Spezifischer Ertrag kWh / kWp """
49 |     if pv_peak_power_kwp == 0: return 0.0
   |                              ^
50 |     return annual_yield_kwh / pv_peak_power_kwp    
   |

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:50:48
   |
48 |     """Spezifischer Ertrag kWh / kWp """
49 |     if pv_peak_power_kwp == 0: return 0.0
50 |     return annual_yield_kwh / pv_peak_power_kwp    
   |                                                ^^^^
51 |     
52 | """Fl├ñchenspezifischer Ertrag kWh / m┬▓ ÔÇô calculate_area_specific_yield
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:51:1
   |
49 |     if pv_peak_power_kwp == 0: return 0.0
50 |     return annual_yield_kwh / pv_peak_power_kwp    
51 |     
   | ^^^^
52 | """Fl├ñchenspezifischer Ertrag kWh / m┬▓ ÔÇô calculate_area_specific_yield
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:54:80
   |
52 | """Fl├ñchenspezifischer Ertrag kWh / m┬▓ ÔÇô calculate_area_specific_yield
53 |
54 | Zweck: Berechnet den Ertrag pro belegter Modulfl├ñche. Dieser fl├ñchenspezifische 
   |                                                                                ^
55 | Ertrag zeigt, wie effizient die genutzte Dachfl├ñche in Energieertrag umgewandelt wird. 
56 | Er ist hilfreich, um z.B. verschiedene Modultypen oder Dachnutzungen zu vergleichen.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:55:87
   |
54 | Zweck: Berechnet den Ertrag pro belegter Modulfl├ñche. Dieser fl├ñchenspezifische 
55 | Ertrag zeigt, wie effizient die genutzte Dachfl├ñche in Energieertrag umgewandelt wird. 
   |                                                                                       ^
56 | Er ist hilfreich, um z.B. verschiedene Modultypen oder Dachnutzungen zu vergleichen.
57 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:59:59
   |
57 | """
58 |
59 | def calculate_area_specific_yield(annual_yield_kwh: float, 
   |                                                           ^
60 |                                   occupied_area_m2: float) -> float:
61 |     """Fl├ñchenspezifischer Ertrag kWh / m┬▓  """
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:62:29
   |
60 |                                   occupied_area_m2: float) -> float:
61 |     """Fl├ñchenspezifischer Ertrag kWh / m┬▓  """
62 |     if occupied_area_m2 == 0: return 0.0
   |                             ^
63 |     return annual_yield_kwh / occupied_area_m2    
   |

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:63:47
   |
61 |     """Fl├ñchenspezifischer Ertrag kWh / m┬▓  """
62 |     if occupied_area_m2 == 0: return 0.0
63 |     return annual_yield_kwh / occupied_area_m2    
   |                                               ^^^^
64 |     
65 | """Performance Ratio ÔÇô calculate_performance_ratio
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:64:1
   |
62 |     if occupied_area_m2 == 0: return 0.0
63 |     return annual_yield_kwh / occupied_area_m2    
64 |     
   | ^^^^
65 | """Performance Ratio ÔÇô calculate_performance_ratio
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:67:92
   |
65 | """Performance Ratio ÔÇô calculate_performance_ratio
66 |
67 | Zweck: Berechnet die Performance Ratio der PV-Anlage. Die PR ist ein Ma├ƒ f├╝r die technische 
   |                                                                                            ^
68 | Leistungsf├ñhigkeit der Anlage und definiert sich als Verh├ñltnis aus tats├ñchlichem Ertrag und theoretisch 
69 | m├Âglichem Ertrag unter Standard-Testbedingungen (bereinigt um Einstrahlung und Modulleistung). 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:68:105
   |
67 | Zweck: Berechnet die Performance Ratio der PV-Anlage. Die PR ist ein Ma├ƒ f├╝r die technische 
68 | Leistungsf├ñhigkeit der Anlage und definiert sich als Verh├ñltnis aus tats├ñchlichem Ertrag und theoretisch 
   |                                                                                                         ^
69 | m├Âglichem Ertrag unter Standard-Testbedingungen (bereinigt um Einstrahlung und Modulleistung). 
70 | Eine PR von ~80ÔÇ»% ist f├╝r gut geplante Anlagen typisch.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:69:95
   |
67 | Zweck: Berechnet die Performance Ratio der PV-Anlage. Die PR ist ein Ma├ƒ f├╝r die technische 
68 | Leistungsf├ñhigkeit der Anlage und definiert sich als Verh├ñltnis aus tats├ñchlichem Ertrag und theoretisch 
69 | m├Âglichem Ertrag unter Standard-Testbedingungen (bereinigt um Einstrahlung und Modulleistung). 
   |                                                                                               ^
70 | Eine PR von ~80ÔÇ»% ist f├╝r gut geplante Anlagen typisch.
71 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:73:57
   |
71 | """
72 |
73 | def calculate_performance_ratio(actual_yield_kwh: float, 
   |                                                         ^
74 |     global_radiation_kwh_per_m2: float, pv_area_m2: float) -> float:
75 |     """Performance Ratio - ÔÇª"""
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:77:30
   |
75 |     """Performance Ratio - ÔÇª"""
76 |     theoretical_yield = global_radiation_kwh_per_m2 * pv_area_m2
77 |     if theoretical_yield == 0: return 0.0
   |                              ^
78 |     return actual_yield_kwh / theoretical_yield    
   |

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:78:48
   |
76 |     theoretical_yield = global_radiation_kwh_per_m2 * pv_area_m2
77 |     if theoretical_yield == 0: return 0.0
78 |     return actual_yield_kwh / theoretical_yield    
   |                                                ^^^^
79 |     
80 | """PV-Modulwirkungsgrad in % ÔÇô calculate_pv_module_efficiency
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:79:1
   |
77 |     if theoretical_yield == 0: return 0.0
78 |     return actual_yield_kwh / theoretical_yield    
79 |     
   | ^^^^
80 | """PV-Modulwirkungsgrad in % ÔÇô calculate_pv_module_efficiency
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:82:86
   |
80 | """PV-Modulwirkungsgrad in % ÔÇô calculate_pv_module_efficiency
81 |
82 | Zweck: Ermittelt den Wirkungsgrad der PV-Module anhand deren Nennleistung und Fl├ñche. 
   |                                                                                      ^
83 | So l├ñsst sich pr├╝fen, ob Module z.B. einen typischen Wirkungsgrad (~18ÔÇô20ÔÇ»%) aufweisen.
84 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:86:59
   |
84 | """
85 |
86 | def calculate_pv_module_efficiency(module_power_wp: float, 
   |                                                           ^
87 |                                    module_area_m2: float) -> float:
88 |     """Effizienz der PV-Module in % """
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:89:27
   |
87 |                                    module_area_m2: float) -> float:
88 |     """Effizienz der PV-Module in % """
89 |     if module_area_m2 == 0: return 0.0
   |                           ^
90 |     # 1000 W/m┬▓ Einstrahlung unter STC
91 |     return (module_power_wp / (module_area_m2 * 1000)) * 100    
   |

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:91:61
   |
89 |     if module_area_m2 == 0: return 0.0
90 |     # 1000 W/m┬▓ Einstrahlung unter STC
91 |     return (module_power_wp / (module_area_m2 * 1000)) * 100    
   |                                                             ^^^^
92 |     
93 | """Amortisationszeit in Jahre ÔÇô calculate_payback_period
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:92:1
   |
90 |     # 1000 W/m┬▓ Einstrahlung unter STC
91 |     return (module_power_wp / (module_area_m2 * 1000)) * 100    
92 |     
   | ^^^^
93 | """Amortisationszeit in Jahre ÔÇô calculate_payback_period
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:95:74
   |
93 | """Amortisationszeit in Jahre ÔÇô calculate_payback_period
94 |
95 | Zweck: Berechnet die statische Amortisationszeit der PV-Anlage in Jahren. 
   |                                                                          ^
96 | Diese gibt an, nach wie vielen Jahren sich die Investition durch die kumulierten 
97 | j├ñhrlichen Einsparungen bezahlt gemacht hat.
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> notwendig oder nicht\zu implementieren\kalkulationen.py:96:81
   |
95 | Zweck: Berechnet die statische Amortisationszeit der PV-Anlage in Jahren. 
96 | Diese gibt an, nach wie vielen Jahren sich die Investition durch die kumulierten 
   |                                                                                 ^
97 | j├ñhrlichen Einsparungen bezahlt gemacht hat.
98 | """
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:100:54
    |
 98 | """
 99 |
100 | def calculate_payback_period(investment_costs: float, 
    |                                                      ^
101 |                               annual_savings: float) -> float:
102 |     """Amortisationszeit in Jahre"""
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:103:27
    |
101 |                               annual_savings: float) -> float:
102 |     """Amortisationszeit in Jahre"""
103 |     if annual_savings == 0: return float('inf')
    |                           ^
104 |     return investment_costs / annual_savings    
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:104:45
    |
102 |     """Amortisationszeit in Jahre"""
103 |     if annual_savings == 0: return float('inf')
104 |     return investment_costs / annual_savings    
    |                                             ^^^^
105 |     
106 | """J├ñhrliche Stromkostenersparnis in Ôé¼ ÔÇô calculate_annual_cost_savings
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:105:1
    |
103 |     if annual_savings == 0: return float('inf')
104 |     return investment_costs / annual_savings    
105 |     
    | ^^^^
106 | """J├ñhrliche Stromkostenersparnis in Ôé¼ ÔÇô calculate_annual_cost_savings
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:108:87
    |
106 | """J├ñhrliche Stromkostenersparnis in Ôé¼ ÔÇô calculate_annual_cost_savings
107 |
108 | Zweck: Ermittelt die j├ñhrliche Ersparnis an Strombezugskosten durch den Eigenverbrauch 
    |                                                                                       ^
109 | von PV-Strom. Diese Kennzahl multipliziert den selbst verbrauchten PV-Strom (self_consumed_kwh) 
110 | mit dem Strompreis und zeigt, wie viel Geld pro Jahr eingespart wird.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:109:96
    |
108 | Zweck: Ermittelt die j├ñhrliche Ersparnis an Strombezugskosten durch den Eigenverbrauch 
109 | von PV-Strom. Diese Kennzahl multipliziert den selbst verbrauchten PV-Strom (self_consumed_kwh) 
    |                                                                                                ^
110 | mit dem Strompreis und zeigt, wie viel Geld pro Jahr eingespart wird.
111 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:113:60
    |
111 | """
112 |
113 | def calculate_annual_cost_savings(self_consumed_kwh: float, 
    |                                                            ^
114 |                                   electricity_price: float) -> float:
115 |     """J├ñhrliche Stromkostenersparnis in Ôé¼ """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:116:49
    |
114 |                                   electricity_price: float) -> float:
115 |     """J├ñhrliche Stromkostenersparnis in Ôé¼ """
116 |     return self_consumed_kwh * electricity_price    
    |                                                 ^^^^
117 |     
118 | """J├ñhrliche Einspeiseverg├╝tung in Ôé¼ ÔÇô calculate_feed_in_tariff_revenue
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:117:1
    |
115 |     """J├ñhrliche Stromkostenersparnis in Ôé¼ """
116 |     return self_consumed_kwh * electricity_price    
117 |     
    | ^^^^
118 | """J├ñhrliche Einspeiseverg├╝tung in Ôé¼ ÔÇô calculate_feed_in_tariff_revenue
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:120:109
    |
118 | """J├ñhrliche Einspeiseverg├╝tung in Ôé¼ ÔÇô calculate_feed_in_tariff_revenue
119 |
120 | Zweck: Berechnet die j├ñhrlichen Einnahmen aus der Einspeisung ├╝bersch├╝ssigen PV-Stroms ins ├Âffentliche Netz. 
    |                                                                                                             ^
121 | Hierzu wird die eingespeiste Energiemenge (feed_in_kwh) mit dem Verg├╝tungssatz (feed_in_rate_eur) multipliziert.
122 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:124:57
    |
122 | """
123 |
124 | def calculate_feed_in_tariff_revenue(feed_in_kwh: float, 
    |                                                         ^
125 |                                      feed_in_rate_eur: float) -> float:
126 |     """j├ñhrliche Einspeiseverg├╝tung in Ôé¼"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:127:42
    |
125 |                                      feed_in_rate_eur: float) -> float:
126 |     """j├ñhrliche Einspeiseverg├╝tung in Ôé¼"""
127 |     return feed_in_kwh * feed_in_rate_eur    
    |                                          ^^^^
128 |     
129 | """Effektiver PV-Strompreis ct / kWh ÔÇô calculate_effective_pv_electricity_price
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:128:1
    |
126 |     """j├ñhrliche Einspeiseverg├╝tung in Ôé¼"""
127 |     return feed_in_kwh * feed_in_rate_eur    
128 |     
    | ^^^^
129 | """Effektiver PV-Strompreis ct / kWh ÔÇô calculate_effective_pv_electricity_price
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:131:90
    |
129 | """Effektiver PV-Strompreis ct / kWh ÔÇô calculate_effective_pv_electricity_price
130 |
131 | Zweck: Gibt an, was eine selbst erzeugte Kilowattstunde effektiv kostet. Diese Kennzahl ÔÇô 
    |                                                                                          ^
132 | oft als Levelized Cost of Energy (LCOE) bezeichnet ÔÇô wird hier vereinfacht berechnet als Quotient aus gesamten 
133 | Systemkosten (total_costs) und dem gesamten Energieertrag ├╝ber die Lebensdauer (total_generated_kwh), in Cent pro kWh. 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:132:111
    |
131 | Zweck: Gibt an, was eine selbst erzeugte Kilowattstunde effektiv kostet. Diese Kennzahl ÔÇô 
132 | oft als Levelized Cost of Energy (LCOE) bezeichnet ÔÇô wird hier vereinfacht berechnet als Quotient aus gesamten 
    |                                                                                                               ^
133 | Systemkosten (total_costs) und dem gesamten Energieertrag ├╝ber die Lebensdauer (total_generated_kwh), in Cent pro kWh. 
134 | Sie zeigt, ob der PV-Strom g├╝nstiger ist als Netzstrom.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:133:119
    |
131 | Zweck: Gibt an, was eine selbst erzeugte Kilowattstunde effektiv kostet. Diese Kennzahl ÔÇô 
132 | oft als Levelized Cost of Energy (LCOE) bezeichnet ÔÇô wird hier vereinfacht berechnet als Quotient aus gesamten 
133 | Systemkosten (total_costs) und dem gesamten Energieertrag ├╝ber die Lebensdauer (total_generated_kwh), in Cent pro kWh. 
    |                                                                                                                       ^
134 | Sie zeigt, ob der PV-Strom g├╝nstiger ist als Netzstrom.
135 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:137:65
    |
135 | """
136 |
137 | def calculate_effective_pv_electricity_price(total_costs: float, 
    |                                                                 ^
138 |                                             total_generated_kwh: float) -> float:
139 |     """Effektiver Strompreis durch PV in ct / kWh"""
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:140:32
    |
138 |                                             total_generated_kwh: float) -> float:
139 |     """Effektiver Strompreis durch PV in ct / kWh"""
140 |     if total_generated_kwh == 0: return float('inf')
    |                                ^
141 |     return (total_costs / total_generated_kwh) * 100    
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:141:53
    |
139 |     """Effektiver Strompreis durch PV in ct / kWh"""
140 |     if total_generated_kwh == 0: return float('inf')
141 |     return (total_costs / total_generated_kwh) * 100    
    |                                                     ^^^^
142 |     
143 | """Kapitalwert ÔÇô calculate_npv (generische Cashflow-Variante)
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:142:1
    |
140 |     if total_generated_kwh == 0: return float('inf')
141 |     return (total_costs / total_generated_kwh) * 100    
142 |     
    | ^^^^
143 | """Kapitalwert ÔÇô calculate_npv (generische Cashflow-Variante)
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:145:107
    |
143 | """Kapitalwert ÔÇô calculate_npv (generische Cashflow-Variante)
144 |
145 | Zweck: Berechnet den Nettobarwert (NPV) einer Reihe von Cashflows. Die Funktion calculate_npv summiert die 
    |                                                                                                           ^
146 | diskontierten Cashflows (cashflows-Liste, wobei der erste typischerweise die negative Investition ist) auf. Sie nutzt daf├╝r die 
147 | Finanzbibliothek oder implementiert es per Summation. Ein positiver NPV bedeutet, dass das Projekt ├╝ber die Laufzeit einen WertzuwachÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:146:128
    |
145 | Zweck: Berechnet den Nettobarwert (NPV) einer Reihe von Cashflows. Die Funktion calculate_npv summiert die 
146 | diskontierten Cashflows (cashflows-Liste, wobei der erste typischerweise die negative Investition ist) auf. Sie nutzt daf├╝r die 
    |                                                                                                                                ^
147 | Finanzbibliothek oder implementiert es per Summation. Ein positiver NPV bedeutet, dass das Projekt ├╝ber die Laufzeit einen WertzuwachÔÇª
148 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:153:45
    |
151 |     """Nettobarwert NPV"""
152 |     # ÔÇª npf.npv erwartet Rate und Cashflows
153 |     return npf.npv(discount_rate, cashflows)    
    |                                             ^^^^
154 |     
155 | """Kapitalwert f├╝r konstante Ertr├ñge ÔÇô calculate_net_present_value
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:154:1
    |
152 |     # ÔÇª npf.npv erwartet Rate und Cashflows
153 |     return npf.npv(discount_rate, cashflows)    
154 |     
    | ^^^^
155 | """Kapitalwert f├╝r konstante Ertr├ñge ÔÇô calculate_net_present_value
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:157:143
    |
155 | ÔÇª
156 | ÔÇª
157 | ÔÇªer j├ñhrlicher Ersparnis. Diese spezielle NPV-Berechnung nimmt an, 
    |                                                                   ^
158 | ÔÇªandardm├ñ├ƒig 25) konstant ist. Sie liefert direkt den Kapitalwert 
159 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:158:142
    |
157 | ÔÇªder j├ñhrlicher Ersparnis. Diese spezielle NPV-Berechnung nimmt an, 
158 | ÔÇªtandardm├ñ├ƒig 25) konstant ist. Sie liefert direkt den Kapitalwert 
    |                                                                   ^
159 | ÔÇª
160 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:165:59
    |
163 |     """Kapitalwert (NPV) der Investition"""
164 |     cash_flows = [annual_savings] * LIFESPAN_YEARS
165 |     return npf.npv(DISCOUNT_RATE, cash_flows) - investment    
    |                                                           ^^^^
166 |     
167 | """Interner Zinsfu├ƒ (IRR) ÔÇô calculate_irr (generische Cashflow-Variante)
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:166:1
    |
164 |     cash_flows = [annual_savings] * LIFESPAN_YEARS
165 |     return npf.npv(DISCOUNT_RATE, cash_flows) - investment    
166 |     
    | ^^^^
167 | """Interner Zinsfu├ƒ (IRR) ÔÇô calculate_irr (generische Cashflow-Variante)
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:169:116
    |
167 | """Interner Zinsfu├ƒ (IRR) ÔÇô calculate_irr (generische Cashflow-Variante)
168 |
169 | Zweck: Berechnet den internen Zinsfu├ƒ eines gegebenen Cashflow-Stroms. calculate_irr liefert jenen Zinssatz (in %), 
    |                                                                                                                    ^
170 | bei dem der Kapitalwert der Cashflows Null w├ñre. Sie nutzt numpy_financial.irr im Hintergrund. Diese generische Variante 
171 | arbeitet mit einer Liste von Cashflows (erster Eintrag typischerweise -Investition, folgende Eintr├ñge j├ñhrliche ├£bersch├╝sse).
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:170:121
    |
169 | Zweck: Berechnet den internen Zinsfu├ƒ eines gegebenen Cashflow-Stroms. calculate_irr liefert jenen Zinssatz (in %), 
170 | bei dem der Kapitalwert der Cashflows Null w├ñre. Sie nutzt numpy_financial.irr im Hintergrund. Diese generische Variante 
    |                                                                                                                         ^
171 | arbeitet mit einer Liste von Cashflows (erster Eintrag typischerweise -Investition, folgende Eintr├ñge j├ñhrliche ├£bersch├╝sse).
172 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:179:19
    |
177 |         return npf.irr(cashflows) * 100
178 |     except:
179 |         return 0.0    
    |                   ^^^^
180 |         
181 | """Interner Zinsfu├ƒ ÔÇô erweiterte Berechnung ÔÇô calculate_irr_advanced
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:180:1
    |
178 |     except:
179 |         return 0.0    
180 |         
    | ^^^^^^^^
181 | """Interner Zinsfu├ƒ ÔÇô erweiterte Berechnung ÔÇô calculate_irr_advanced
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:183:139
    |
181 | ÔÇª
182 | ÔÇª
183 | ÔÇªh, inklusive zus├ñtzlicher Finanzkennzahlen. Sie berechnet aus den 
    |                                                                   ^
184 | ÔÇªgt von j├ñhrlichem Nutzen ├╝ber 25 Jahre), ermittelt dann iterativ den IRR, 
185 | ÔÇªdex (PI). Ergebnis ist ein Dict mit diesen Werten in Prozent.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:184:147
    |
183 | ÔÇªsive zus├ñtzlicher Finanzkennzahlen. Sie berechnet aus den 
184 | ÔÇª├ñhrlichem Nutzen ├╝ber 25 Jahre), ermittelt dann iterativ den IRR, 
    |                                                                   ^
185 | ÔÇª. Ergebnis ist ein Dict mit diesen Werten in Prozent.
186 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:210:50
    |
208 |     mirr = ((annual_benefit * lifetime / investment) ** (1 / lifetime)) - 1
209 |     # Profitability Index
210 |     pi = (sum(annual_benefit / (1 + 0.04) ** year 
    |                                                  ^
211 |              for year in range(1, lifetime + 1)) / investment)
212 |     return {"irr": irr * 100, "mirr": mirr * 100, "profitability_index": pi}
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:213:1
    |
211 |              for year in range(1, lifetime + 1)) / investment)
212 |     return {"irr": irr * 100, "mirr": mirr * 100, "profitability_index": pi}
213 |         
    | ^^^^^^^^
214 | """Rentabilit├ñtsindex (Profitability Index) ÔÇô calculate_profitability_index
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:216:120
    |
214 | """Rentabilit├ñtsindex (Profitability Index) ÔÇô calculate_profitability_index
215 |
216 | Zweck: Berechnet den Rentabilit├ñtsindex (PI) des PV-Projekts. Der PI ist definiert als Verh├ñltnis des Kapitalwertes der 
    |                                                                                                                        ^
217 | zuk├╝nftigen Cashflows zur Anfangsinvestition. Ein PI > 1 bedeutet, dass der Kapitalwert die Investition 
218 | ├╝bersteigt (Projekt wirtschaftlich attraktiv).
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:217:104
    |
216 | Zweck: Berechnet den Rentabilit├ñtsindex (PI) des PV-Projekts. Der PI ist definiert als Verh├ñltnis des Kapitalwertes der 
217 | zuk├╝nftigen Cashflows zur Anfangsinvestition. Ein PI > 1 bedeutet, dass der Kapitalwert die Investition 
    |                                                                                                        ^
218 | ├╝bersteigt (Projekt wirtschaftlich attraktiv).
219 | """
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:223:23
    |
221 | def calculate_profitability_index(investment: float, annual_savings: float) -> float:
222 |     """Rentabilit├ñtsindex."""
223 |     if investment <= 0: return 0.0
    |                       ^
224 |     npv_of_future_cash_flows = npf.npv(DISCOUNT_RATE, [annual_savings] * LIFESPAN_YEARS)
225 |     return npv_of_future_cash_flows / investment        
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:225:49
    |
223 |     if investment <= 0: return 0.0
224 |     npv_of_future_cash_flows = npf.npv(DISCOUNT_RATE, [annual_savings] * LIFESPAN_YEARS)
225 |     return npv_of_future_cash_flows / investment        
    |                                                 ^^^^^^^^
226 |     
227 | """Gesamtrendite ├╝ber Lebensdauer ÔÇô calculate_total_roi
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:226:1
    |
224 |     npv_of_future_cash_flows = npf.npv(DISCOUNT_RATE, [annual_savings] * LIFESPAN_YEARS)
225 |     return npv_of_future_cash_flows / investment        
226 |     
    | ^^^^
227 | """Gesamtrendite ├╝ber Lebensdauer ÔÇô calculate_total_roi
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:229:149
    |
227 | ÔÇª
228 | ÔÇª
229 | ÔÇªebensdauer. Dieser Return on Investment (ROI) in Prozent gibt an, 
    |                                                                   ^
230 | ÔÇªdefiniert als: (Gesamtgewinn / Investition) * 100.
231 | ÔÇª
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:235:23
    |
233 | def calculate_total_roi(investment: float, annual_savings: float) -> float:
234 |     """Gesamtrendite ├╝ber die gesamte Lebensdauer."""
235 |     if investment <= 0: return 0.0
    |                       ^
236 |     total_profit = (annual_savings * LIFESPAN_YEARS) - investment
237 |     return (total_profit / investment) * 100    
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:237:45
    |
235 |     if investment <= 0: return 0.0
236 |     total_profit = (annual_savings * LIFESPAN_YEARS) - investment
237 |     return (total_profit / investment) * 100    
    |                                             ^^^^
238 |     
239 | """Durchschnittliche Eigenkapitalrendite (%) ÔÇô calculate_annual_equity_return
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:238:1
    |
236 |     total_profit = (annual_savings * LIFESPAN_YEARS) - investment
237 |     return (total_profit / investment) * 100    
238 |     
    | ^^^^
239 | """Durchschnittliche Eigenkapitalrendite (%) ÔÇô calculate_annual_equity_return
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:241:107
    |
239 | """Durchschnittliche Eigenkapitalrendite (%) ÔÇô calculate_annual_equity_return
240 |
241 | Zweck: Gibt an, welche j├ñhrliche Rendite das investierte Kapital im Durchschnitt erzielt. Diese Kennzahl ÔÇô 
    |                                                                                                           ^
242 | hier als durchschnittliche Eigenkapitalrendite berechnet ÔÇô entspricht (j├ñhrliche Einsparung / Investition) * 100. Im Grunde 
243 | ist dies der Kehrwert der statischen Amortisationszeit und gibt eine grobe Renditeabsch├ñtzung pro Jahr.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:242:124
    |
241 | Zweck: Gibt an, welche j├ñhrliche Rendite das investierte Kapital im Durchschnitt erzielt. Diese Kennzahl ÔÇô 
242 | hier als durchschnittliche Eigenkapitalrendite berechnet ÔÇô entspricht (j├ñhrliche Einsparung / Investition) * 100. Im Grunde 
    |                                                                                                                            ^
243 | ist dies der Kehrwert der statischen Amortisationszeit und gibt eine grobe Renditeabsch├ñtzung pro Jahr.
244 | """
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:248:23
    |
246 | def calculate_annual_equity_return(investment: float, annual_savings: float) -> float:
247 |     """durchschnittliche j├ñhrliche Eigenkapitalrendite"""
248 |     if investment <= 0: return 0.0
    |                       ^
249 |     return (annual_savings / investment) * 100    
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:249:47
    |
247 |     """durchschnittliche j├ñhrliche Eigenkapitalrendite"""
248 |     if investment <= 0: return 0.0
249 |     return (annual_savings / investment) * 100    
    |                                               ^^^^
250 |     
251 | """Gewinn nach X Jahren ÔÇô calculate_profit_after_x_years
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:250:1
    |
248 |     if investment <= 0: return 0.0
249 |     return (annual_savings / investment) * 100    
250 |     
    | ^^^^
251 | """Gewinn nach X Jahren ÔÇô calculate_profit_after_x_years
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:253:175
    |
251 | ÔÇª
252 | ÔÇª
253 | ÔÇªedes Jahr eine konstante Ersparnis (annual_savings) erzielt wird. 
    |                                                                   ^
254 | ÔÇªhenbetrachtung interessant (ÔÇ×Nach 10 Jahren hat die Anlage insgesamt Y Ôé¼ Gewinn erzielt.ÔÇ£).
255 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:257:54
    |
255 | """
256 |
257 | def calculate_profit_after_x_years(investment: float, 
    |                                                      ^
258 |                                    annual_savings: float, 
259 |                                    years: int) -> float:
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:258:58
    |
257 | def calculate_profit_after_x_years(investment: float, 
258 |                                    annual_savings: float, 
    |                                                          ^
259 |                                    years: int) -> float:
260 |     """kumulierter Gewinn nach ÔÇª Jahren"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:261:49
    |
259 |                                    years: int) -> float:
260 |     """kumulierter Gewinn nach ÔÇª Jahren"""
261 |     return (annual_savings * years) - investment    
    |                                                 ^^^^
262 |     
263 | """Monte-Carlo Risikoanalyse ÔÇô run_monte_carlo_simulation
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:262:1
    |
260 |     """kumulierter Gewinn nach ÔÇª Jahren"""
261 |     return (annual_savings * years) - investment    
262 |     
    | ^^^^
263 | """Monte-Carlo Risikoanalyse ÔÇô run_monte_carlo_simulation
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:265:91
    |
263 | """Monte-Carlo Risikoanalyse ÔÇô run_monte_carlo_simulation
264 |
265 | Zweck: F├╝hrt eine Monte-Carlo-Simulation zur Risikobewertung der Wirtschaftlichkeit durch. 
    |                                                                                           ^
266 | Dabei werden zahlreiche Zufallssimulationen durchgef├╝hrt, indem Investitionskosten, j├ñhrliche Ertr├ñge und Diskontsatz innerhalb gewisÔÇª
267 | Streuungen variiert werden. Das Ergebnis sind Verteilungen des Kapitalwerts (NPV), aus denen Kennzahlen wie durchschnittlicher NPV, 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:266:137
    |
265 | ÔÇªhaftlichkeit durch. 
266 | ÔÇªtionskosten, j├ñhrliche Ertr├ñge und Diskontsatz innerhalb gewisser 
    |                                                                   ^
267 | ÔÇªerts (NPV), aus denen Kennzahlen wie durchschnittlicher NPV, 
268 | ÔÇªWahrscheinlichkeit, dass NPV > 0) abgeleitet werden.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:267:132
    |
265 | ÔÇªirtschaftlichkeit durch. 
266 | ÔÇªvestitionskosten, j├ñhrliche Ertr├ñge und Diskontsatz innerhalb gewisser 
267 | ÔÇªitalwerts (NPV), aus denen Kennzahlen wie durchschnittlicher NPV, 
    |                                                                   ^
268 | ÔÇªeit (Wahrscheinlichkeit, dass NPV > 0) abgeleitet werden.
269 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:271:67
    |
269 | """
270 |
271 | def run_monte_carlo_simulation(self, calc_results: Dict[str, Any], 
    |                                                                   ^
272 |                                n_simulations: int, confidence_level: int) -> Dict[str, Any]:
273 |     """Monte-Carlo-Simulation f├╝r Risikobewertung"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:312:6
    |
310 |         "success_probability": success_probability,
311 |         "sensitivity_analysis": sensitivity_analysis,
312 |     }    
    |      ^^^^
313 |     
314 | """Speicherdeckungsgrad (%) ÔÇô calculate_storage_coverage_degree
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:313:1
    |
311 |         "sensitivity_analysis": sensitivity_analysis,
312 |     }    
313 |     
    | ^^^^
314 | """Speicherdeckungsgrad (%) ÔÇô calculate_storage_coverage_degree
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:316:100
    |
314 | """Speicherdeckungsgrad (%) ÔÇô calculate_storage_coverage_degree
315 |
316 | Zweck: Gibt an, wieviel vom gesamten Eigenverbrauch durch den Batteriespeicher bereitgestellt wird. 
    |                                                                                                    ^
317 | Mit anderen Worten: welcher Prozentsatz des selbst verbrauchten PV-Stroms stammt aus dem Speicher. Ein hoher Speicherdeckungsgrad 
318 | bedeutet, dass der Speicher einen Gro├ƒteil des Verbrauchs puffert. Formel: gespeicherter Eigenverbrauch / Gesamt-Eigenverbrauch * 100.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:317:130
    |
316 | ÔÇªtteriespeicher bereitgestellt wird. 
317 | ÔÇªPV-Stroms stammt aus dem Speicher. Ein hoher Speicherdeckungsgrad 
    |                                                                   ^
318 | ÔÇªt. Formel: gespeicherter Eigenverbrauch / Gesamt-Eigenverbrauch * 100.
319 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:321:74
    |
319 | """
320 |
321 | def calculate_storage_coverage_degree(stored_self_consumption_kwh: float, 
    |                                                                          ^
322 |                                       total_self_consumption_kwh: float) -> float:
323 |     """Deckungsquote des Batteriespeichers in %"""
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:324:39
    |
322 |                                       total_self_consumption_kwh: float) -> float:
323 |     """Deckungsquote des Batteriespeichers in %"""
324 |     if total_self_consumption_kwh == 0: return 0.0
    |                                       ^
325 |     return (stored_self_consumption_kwh / total_self_consumption_kwh) * 100    
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:325:76
    |
323 |     """Deckungsquote des Batteriespeichers in %"""
324 |     if total_self_consumption_kwh == 0: return 0.0
325 |     return (stored_self_consumption_kwh / total_self_consumption_kwh) * 100    
    |                                                                            ^^^^
326 |     
327 | """Batteriezyklen und Lebensdauer ÔÇô _calculate_battery_cycles
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:326:1
    |
324 |     if total_self_consumption_kwh == 0: return 0.0
325 |     return (stored_self_consumption_kwh / total_self_consumption_kwh) * 100    
326 |     
    | ^^^^
327 | """Batteriezyklen und Lebensdauer ÔÇô _calculate_battery_cycles
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:329:157
    |
327 | ÔÇª
328 | ÔÇª
329 | ÔÇª Lebensdauer. In dieser vereinfachten Berechnung wird angenommen, 
    |                                                                   ^
330 | ÔÇªd entladen. Daraus wird dann eine prognostizierte Lebensdauer in Jahren 
331 | ÔÇªung werden Werte simuliert oder Platzhalter genutzt.)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:330:163
    |
329 | ÔÇªsdauer. In dieser vereinfachten Berechnung wird angenommen, 
330 | ÔÇªaden. Daraus wird dann eine prognostizierte Lebensdauer in Jahren 
    |                                                                   ^
331 | ÔÇªrden Werte simuliert oder Platzhalter genutzt.)
332 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:337:58
    |
335 |     """Batteriezyklen und Lebensdauer"""
336 |     battery_capacity = base_data.get("battery_capacity_kwh", 10)
337 |     # Annahme: 250 Zyklen pro Jahr (aus global constants) 
    |                                                          ^
338 |     cycles_per_year = base_data.get("storage_cycles_per_year", 250)
339 |     total_cycles = cycles_per_year * base_data.get("simulation_period_years", 20)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:346:6
    |
344 |         "total_cycles_over_lifetime": total_cycles,
345 |         "estimated_lifetime_years": est_lifetime
346 |     }    
    |      ^^^^
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:347:1
    |
345 |         "estimated_lifetime_years": est_lifetime
346 |     }    
347 |     
    | ^^^^
348 |
349 | """Optimale Batteriespeichergr├Â├ƒe (kWh) ÔÇô calculate_optimal_storage_size
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:351:138
    |
349 | ÔÇª
350 | ÔÇª
351 | ÔÇªt├ñt. Hier wird als Heuristik der t├ñgliche Verbrauch herangezogen, 
    |                                                                   ^
352 | ÔÇª den Tagesverbrauch (bzw. Nachtverbrauch) aufnehmen sollte, minus Verluste. 
353 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:352:148
    |
351 | ÔÇªwird als Heuristik der t├ñgliche Verbrauch herangezogen, 
352 | ÔÇªverbrauch (bzw. Nachtverbrauch) aufnehmen sollte, minus Verluste. 
    |                                                                   ^
353 | ÔÇª
354 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:356:65
    |
354 | """
355 |
356 | def calculate_optimal_storage_size(daily_consumption_kwh: float, 
    |                                                                 ^
357 |                                    losses_percent: float = 10.0) -> float:
358 |     """Optimale Speichergr├Â├ƒe in kWh"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:363:163
    |
361 | ÔÇª
362 | ÔÇª
363 | ÔÇªtverschiebepotenzial ist definiert als Minimum aus verschiebbarer 
    |                                                                   ^
364 | ÔÇªEnergiemenge, die durch z.B. Einschalten flexibler 
365 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:364:148
    |
363 | ÔÇªk├Ânnte. Das Lastverschiebepotenzial ist definiert als Minimum aus verschiebbarer 
364 | ÔÇªntifiziert die Energiemenge, die durch z.B. Einschalten flexibler 
    |                                                                   ^
365 | ÔÇª
366 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:368:68
    |
366 | """
367 |
368 | def calculate_load_shifting_potential(controllable_load_kwh: float, 
    |                                                                    ^
369 |                                       pv_surplus_kwh: float) -> float:
370 |     """Lastverschiebepotenzial durch Verbraucher in kWh """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:375:163
    |
373 | ÔÇª
374 | ÔÇª
375 | ÔÇªeckt werden kann. Diese Kennzahl berechnet sich aus dem PV-Strom, 
    |                                                                   ^
376 | ÔÇªStrombedarf der W├ñrmepumpe.
377 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:379:68
    |
377 | """
378 |
379 | def calculate_pv_coverage_for_heatpump(pv_surplus_to_hp_kwh: float, 
    |                                                                    ^
380 |                                        heatpump_annual_consumption_kwh: float) -> float:
381 |     """PV-Deckungsgrad f├╝r W├ñrmepumpe in %"""
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:382:44
    |
380 |                                        heatpump_annual_consumption_kwh: float) -> float:
381 |     """PV-Deckungsgrad f├╝r W├ñrmepumpe in %"""
382 |     if heatpump_annual_consumption_kwh == 0: return 0.0
    |                                            ^
383 |     return (pv_surplus_to_hp_kwh / heatpump_annual_consumption_kwh) * 100
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:387:150
    |
385 | ÔÇª
386 | ÔÇª
387 | ÔÇªIn der Beispielimplementierung von _calculate_peak_shaving werden 
    |                                                                   ^
388 | ÔÇªerenz zwischen originaler Spitzenlast und optimierter Spitzenlast berechnen. 
389 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:388:161
    |
387 | ÔÇªpielimplementierung von _calculate_peak_shaving werden 
388 | ÔÇªhen originaler Spitzenlast und optimierter Spitzenlast berechnen. 
    |                                                                   ^
389 | ÔÇª
390 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:406:127
    |
404 | """Energieautarkie-Analyse (%) ÔÇô _calculate_energy_independence
405 |
406 | Zweck: Analysiert die Energieunabh├ñngigkeit ├╝ber die Zeit. Diese Funktion w├╝rde z.B. untersuchen, wie der Autarkiegrad sich im 
    |                                                                                                                               ^
407 | Jahresverlauf entwickelt oder wie lange die Anlage netzunabh├ñngig betrieben werden kann (z.B. mit Speicher). In der Vorlage k├Ânnte siÔÇª
408 | Kennzahlen wie monatliche Autarkie oder Anzahl autarker Tage liefern.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:407:135
    |
406 | ÔÇªtion w├╝rde z.B. untersuchen, wie der Autarkiegrad sich im 
407 | ÔÇªrieben werden kann (z.B. mit Speicher). In der Vorlage k├Ânnte sie 
    |                                                                   ^
408 | ÔÇª
409 | ÔÇª
    |
help: Remove trailing whitespace

invalid-syntax: Got unexpected token `
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:1
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    | ^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Got unexpected token `
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:2
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |  ^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Got unexpected token `
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:3
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |   ^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Expected ')', found name
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:19
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |                   ^^^^^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Simple statements must be separated by newlines or semicolons
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:25
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |                         ^^^^^^^^^^^^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Expected a statement
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:37
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |                                     ^
417 |
418 | ## Technische Anlagenanalysen
    |

invalid-syntax: Expected an expression
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:416:39
    |
414 |     independence = base_data.get("autarkie_grad_percent", 50)  # z.B. 50%
415 |     return {"current_independence_percent": independence}
416 | ``` *(Pseudo-Code gem├ñ├ƒ Beschreibung)*
    |                                       ^
417 |
418 | ## Technische Anlagenanalysen
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:420:50
    |
418 | ## Technische Anlagenanalysen
419 |
420 | """Degradationsanalyse ÔÇô `_calculate_degradation`  
    |                                                  ^^
421 | Zweck: Berechnet die Leistungsabnahme der PV-Module ├╝ber 25 Jahre aufgrund der Moduldegradation. Dabei wird pro Jahr ein konstanter 
422 | Degradationsfaktor (hier 0,5ÔÇ»% Leistungsabfall pro Jahr) angenommen. Die Funktion liefert die verbleibende Leistung ├╝ber die Jahre, dÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:421:132
    |
420 | ÔÇª
421 | ÔÇªaufgrund der Moduldegradation. Dabei wird pro Jahr ein konstanter 
    |                                                                   ^
422 | ÔÇªn. Die Funktion liefert die verbleibende Leistung ├╝ber die Jahre, den 
423 | ÔÇªt der Anfangsleistung nach 25 Jahren.  
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:422:136
    |
420 | ÔÇª
421 | ÔÇªrund der Moduldegradation. Dabei wird pro Jahr ein konstanter 
422 | ÔÇªie Funktion liefert die verbleibende Leistung ├╝ber die Jahre, den 
    |                                                                   ^
423 | ÔÇªr Anfangsleistung nach 25 Jahren.  
424 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:423:104
    |
421 | Zweck: Berechnet die Leistungsabnahme der PV-Module ├╝ber 25 Jahre aufgrund der Moduldegradation. Dabei wird pro Jahr ein konstanter 
422 | Degradationsfaktor (hier 0,5ÔÇ»% Leistungsabfall pro Jahr) angenommen. Die Funktion liefert die verbleibende Leistung ├╝ber die Jahre, dÔÇª
423 | kumulierten Energieverlust sowie die finale Restleistung in Prozent der Anfangsleistung nach 25 Jahren.  
    |                                                                                                        ^^
424 | """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:449:120
    |
447 | """Verschattungsverluste (%) ÔÇô _calculate_shading
448 |
449 | Zweck: F├╝hrt eine detaillierte Absch├ñtzung der Verschattungsverluste durch. In der Implementierung wird f├╝r jede Stunde 
    |                                                                                                                        ^
450 | von 6ÔÇô19┬áUhr und jeden Monat ein Verschattungsfaktor berechnet (morgen/abends mehr Schatten, im Winter mehr Schatten). Daraus entstehÔÇª
451 | eine 12├ù? Matrix (Stunden vs. Monate) der Verschattung. Aus dem Mittelwert wird ein j├ñhrlicher Verschattungsverlust in kWh berechnet ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:450:135
    |
449 | ÔÇªdurch. In der Implementierung wird f├╝r jede Stunde 
450 | ÔÇªn/abends mehr Schatten, im Winter mehr Schatten). Daraus entsteht 
    |                                                                   ^
451 | ÔÇªlwert wird ein j├ñhrlicher Verschattungsverlust in kWh berechnet und der 
452 | ÔÇªptimalen Sonnenstunden (z.B. 10ÔÇô15┬áUhr ohne starke Verschattung) angegeben.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:451:141
    |
449 | ÔÇª In der Implementierung wird f├╝r jede Stunde 
450 | ÔÇªds mehr Schatten, im Winter mehr Schatten). Daraus entsteht 
451 | ÔÇªwird ein j├ñhrlicher Verschattungsverlust in kWh berechnet und der 
    |                                                                   ^
452 | ÔÇªen Sonnenstunden (z.B. 10ÔÇô15┬áUhr ohne starke Verschattung) angegeben.
453 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:484:114
    |
482 | """Verschattungsanalyse (einfach) ÔÇô calculate_shading_analysis
483 |
484 | Zweck: Vereinfachte Verschattungsanalyse-Funktion, die ebenfalls eine Verschattungsmatrix erzeugt, aber mit etwas 
    |                                                                                                                  ^
485 | abweichenden Parametern (Stunden 6ÔÇô18 Uhr, andere Prozentwerte). Sie liefert neben Matrix und durchschnittlichem Verlust auch den MonÔÇª
486 | Verschattung, dessen Durchschnittsverlust und ein Optimierungspotenzial (z.B. durch Ma├ƒnahmen k├Ânnten 30% der Verluste reduziert werdÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:485:154
    |
484 | ÔÇªx erzeugt, aber mit etwas 
485 | ÔÇªx und durchschnittlichem Verlust auch den Monat mit der st├ñrksten 
    |                                                                   ^
486 | ÔÇªahmen k├Ânnten 30% der Verluste reduziert werden). Diese Variante ist 
487 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:486:157
    |
484 | ÔÇªrzeugt, aber mit etwas 
485 | ÔÇªnd durchschnittlichem Verlust auch den Monat mit der st├ñrksten 
486 | ÔÇªen k├Ânnten 30% der Verluste reduziert werden). Diese Variante ist 
    |                                                                   ^
487 | ÔÇª
488 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:521:142
    |
519 | ÔÇª
520 | ÔÇª
521 | ÔÇªon Durchschnittstemperaturen pro Monat (Umgebung) ausgegangen und 
    |                                                                   ^
522 | ÔÇªn (hier -0,4%/┬░C) wird die prozentuale Leistungsabnahme f├╝r jeden Monat 
523 | ÔÇªin %, den Durchschnitt und Maximum, sowie die daraus resultierende
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:522:148
    |
521 | ÔÇªchschnittstemperaturen pro Monat (Umgebung) ausgegangen und 
522 | ÔÇªr -0,4%/┬░C) wird die prozentuale Leistungsabnahme f├╝r jeden Monat 
    |                                                                   ^
523 | ÔÇªden Durchschnitt und Maximum, sowie die daraus resultierende
524 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:527:70
    |
525 | """
526 |
527 | def calculate_temperature_effects(self, calc_results: Dict[str, Any], 
    |                                                                      ^
528 |                                   project_data: Dict[str, Any]) -> Dict[str, Any]:
529 |     """Temperatureffekte und Auswirkungen auf die PV-Anlage"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:541:78
    |
539 |     max_module_temp = max(module_temps)
540 |     max_temp_delta = max_module_temp - max(ambient_temps)
541 |     annual_energy_loss = (calc_results.get("annual_pv_production_kwh", 10000) 
    |                                                                              ^
542 |                           * avg_temp_loss / 100)
543 |     return {
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:555:146
    |
553 | ÔÇª
554 | ÔÇª
555 | ÔÇªne typische Wirkungsgradkurve ├╝ber der Auslastung (%) modelliert: 
    |                                                                   ^
556 | ÔÇªastbereich, etc. Zus├ñtzlich werden Kennwerte wie Euro- und CEC-Wirkungsgrad 
557 | ÔÇªiefert die Wirkungsgradkurve (Liste), Beispiel-Operating-Points und deren Effizienzen, 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:556:156
    |
555 | ÔÇªe Wirkungsgradkurve ├╝ber der Auslastung (%) modelliert: 
556 | ÔÇª, etc. Zus├ñtzlich werden Kennwerte wie Euro- und CEC-Wirkungsgrad 
    |                                                                   ^
557 | ÔÇª Wirkungsgradkurve (Liste), Beispiel-Operating-Points und deren Effizienzen, 
558 | ÔÇªsierend auf dem durchschnittlichen Wirkungsgrad. Au├ƒerdem berechnet sie einen
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:557:167
    |
555 | ÔÇªradkurve ├╝ber der Auslastung (%) modelliert: 
556 | ÔÇªtzlich werden Kennwerte wie Euro- und CEC-Wirkungsgrad 
557 | ÔÇªadkurve (Liste), Beispiel-Operating-Points und deren Effizienzen, 
    |                                                                   ^
558 | ÔÇª dem durchschnittlichen Wirkungsgrad. Au├ƒerdem berechnet sie einen
559 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:562:70
    |
560 | """
561 |
562 | def calculate_inverter_efficiency(self, calc_results: Dict[str, Any], 
    |                                                                      ^
563 |                                   project_data: Dict[str, Any]) -> Dict[str, Any]:
564 |     """Wechselrichter-Effizienzanalyse"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:582:82
    |
580 |     operating_efficiencies = [efficiency_curve[int(p / 5)] for p in operating_points]
581 |     # Euro-Effizienz (gewichtete Durchschnittswerte)
582 |     euro_points = [efficiency_curve[1], efficiency_curve[2], efficiency_curve[4], 
    |                                                                                  ^
583 |                    efficiency_curve[6], efficiency_curve[10], efficiency_curve[20]]
584 |     euro_efficiency = np.average(euro_points, weights=[0.03, 0.06, 0.13, 0.1, 0.48, 0.2])
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:586:81
    |
584 |     euro_efficiency = np.average(euro_points, weights=[0.03, 0.06, 0.13, 0.1, 0.48, 0.2])
585 |     # CEC-Effizienz
586 |     cec_points = [efficiency_curve[2], efficiency_curve[4], efficiency_curve[6], 
    |                                                                                 ^
587 |                   efficiency_curve[10], efficiency_curve[15], efficiency_curve[20]]
588 |     cec_efficiency = np.average(cec_points, weights=[0.04, 0.05, 0.12, 0.21, 0.53, 0.05])
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:611:160
    |
609 | ÔÇª
610 | ÔÇª
611 | ÔÇªr Anlagengr├Â├ƒe (anlage_kwp) ein Basiswert berechnet und eventuell 
    |                                                                   ^
612 | ÔÇªie w├╝rde z.B. die j├ñhrlichen Wartungskosten (fix + variabel pro kWp) 
613 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:612:163
    |
611 | ÔÇªnlagengr├Â├ƒe (anlage_kwp) ein Basiswert berechnet und eventuell 
612 | ÔÇªw├╝rde z.B. die j├ñhrlichen Wartungskosten (fix + variabel pro kWp) 
    |                                                                   ^
613 | ÔÇª
614 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:638:166
    |
636 | ÔÇª
637 | ÔÇª
638 | ÔÇªen wie z.B. Jahres├╝berschuss eingespeist, Restbezug aus dem Netz, 
    |                                                                   ^
639 | ÔÇªtet (z.B. 500┬ákWh f├╝r jeden Monat als Produktion). Letztlich w├╝rde
640 | ÔÇªeisung/Bezug zu liefern.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:664:150
    |
662 | ÔÇª
663 | ÔÇª
664 | ÔÇªhterleistung. Das Ergebnis = PV-Leistung (kWp) / WR-Leistung (kW) 
    |                                                                   ^
665 | ÔÇªistung (was g├ñngige Praxis bis etwa 1.2 ist).
666 | ÔÇª
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:670:30
    |
668 | def calculate_dc_ac_oversizing_factor(pv_power_kwp: float, inverter_power_kw: float) -> float:
669 |     """DC / AC-├£berdimensionierungsfaktor"""
670 |     if inverter_power_kw == 0: return float('inf')
    |                              ^
671 |     return pv_power_kwp / inverter_power_kw
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:675:157
    |
673 | ÔÇª
674 | ÔÇª
675 | ÔÇªnen. Dazu wird die verf├╝gbare Dachfl├ñche (roof_area_m2) durch die 
    |                                                                   ^
676 | ÔÇªdie (abgerundete) Anzahl Module.
677 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:679:70
    |
677 | """
678 |
679 | def calculate_roof_usage(roof_area_m2: float, module_length_m: float, 
    |                                                                      ^
680 |                          module_width_m: float) -> int:
681 |     """Dachfl├ñchennutzung - Anzahl Module """
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:683:24
    |
681 |     """Dachfl├ñchennutzung - Anzahl Module """
682 |     module_area = module_length_m * module_width_m
683 |     if module_area == 0: return 0
    |                        ^
684 |     return int(roof_area_m2 / module_area)
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:688:166
    |
686 | ÔÇª
687 | ÔÇª
688 | ÔÇªel: Speicher nutzbare Kapazit├ñt (storage_kwh) * (Nutzungsgrad %). 
    |                                                                   ^
689 | ÔÇª
690 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:692:59
    |
690 | """
691 |
692 | def calculate_emergency_power_capacity(storage_kwh: float, 
    |                                                           ^
693 |                                        usable_capacity_percent: float) -> float:
694 |     """Notstromf├ñhigkeit in kWh / Tag) """
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:699:163
    |
697 | ÔÇª
698 | ÔÇª
699 | ÔÇªese Funktion nimmt zwei Dicts (old_kpis, new_kpis) und bildet f├╝r 
    |                                                                   ^
700 | ÔÇªlicher Ertrag, Autarkie, ROI etc. durch eine Erweiterung ver├ñndern.
701 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:710:147
    |
708 | ÔÇª
709 | ÔÇª
710 | ÔÇªltipliziert den j├ñhrlichen PV-Ertrag (annual_yield_kwh) mit einem 
    |                                                                   ^
711 | ÔÇª(deutscher Strommix 2023). Das Ergebnis sind kg COÔéé, die pro Jahr 
712 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:711:147
    |
710 | ÔÇªltipliziert den j├ñhrlichen PV-Ertrag (annual_yield_kwh) mit einem 
711 | ÔÇª(deutscher Strommix 2023). Das Ergebnis sind kg COÔéé, die pro Jahr 
    |                                                                   ^
712 | ÔÇª
713 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:715:51
    |
713 | """
714 |
715 | def calculate_co2_savings(annual_yield_kwh: float, 
    |                                                   ^
716 |                           co2_factor_kg_per_kwh: float = 0.401) -> float:
717 |     """CO2-Einsparung in kg pro Jahr"""
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:722:159
    |
720 | ÔÇª
721 | ÔÇª
722 | ÔÇª der PV-Anlage anfielen, durch die Einsparungen kompensiert sind. 
    |                                                                   ^
723 | ÔÇª, multipliziert mit Anlagen-kWp) durch die j├ñhrliche 
724 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:723:146
    |
722 | ÔÇª/Installation der PV-Anlage anfielen, durch die Einsparungen kompensiert sind. 
723 | ÔÇªWP kg pro kWp, multipliziert mit Anlagen-kWp) durch die j├ñhrliche 
    |                                                                   ^
724 | ÔÇªage.
725 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:727:51
    |
725 | """
726 |
727 | def calculate_co2_payback_time(pv_size_kwp: float, 
    |                                                   ^
728 |                                annual_production_kwh: float) -> float:
729 |     """CO2-Amortisationszeit"""
    |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:732:34
    |
730 |     total_embodied_co2 = pv_size_kwp * CO2_EMBODIED_PV_KWP
731 |     annual_co2_savings_kg = annual_production_kwh * CO2_EMISSIONS_GRID_KWH
732 |     if annual_co2_savings_kg <= 0: return float('inf')
    |                                  ^
733 |     return total_embodied_co2 / annual_co2_savings_kg
    |

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:737:159
    |
735 | ÔÇª
736 | ÔÇª
737 | ÔÇª├ñhrliche COÔéé-Ersparnis (in Tonnen), die kumulierte Ersparnis ├╝ber 
    |                                                                   ^
738 | ÔÇªre), die gesamte Netto-COÔéé-Einsparung ├╝ber 25 Jahre (Einsparung minus 
739 | ÔÇªarung entspricht, wie viele Autokilometer, sowie weitere 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:738:163
    |
737 | ÔÇªiche COÔéé-Ersparnis (in Tonnen), die kumulierte Ersparnis ├╝ber 
738 | ÔÇª die gesamte Netto-COÔéé-Einsparung ├╝ber 25 Jahre (Einsparung minus 
    |                                                                   ^
739 | ÔÇªg entspricht, wie viele Autokilometer, sowie weitere 
740 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:739:150
    |
737 | ÔÇªrechnet j├ñhrliche COÔéé-Ersparnis (in Tonnen), die kumulierte Ersparnis ├╝ber 
738 | ÔÇªzeit (Jahre), die gesamte Netto-COÔéé-Einsparung ├╝ber 25 Jahre (Einsparung minus 
739 | ÔÇªese Einsparung entspricht, wie viele Autokilometer, sowie weitere 
    |                                                                   ^
740 | ÔÇªartikel).
741 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:753:69
    |
751 |     cumulative_savings = [annual_co2_savings * year for year in years_list]
752 |     production_emissions = system_kwp * 1000 * 0.05  # Tonnen (50g/Wp)
753 |     carbon_payback_time = (production_emissions / annual_co2_savings 
    |                                                                     ^
754 |                             if annual_co2_savings > 0 else 99)
755 |     total_co2_savings = annual_co2_savings * years - production_emissions
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:782:140
    |
780 | ÔÇªweltmetriken berechnet:
781 | ÔÇª
782 | ÔÇªt einem Faktor (2,8┬ákWh Prim├ñrenergie pro kWh Strom) ÔÇô zeigt, wie 
    |                                                                   ^
783 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:787:147
    |
785 | ÔÇªes K├╝hlwasser in Kraftwerken.
786 | ÔÇª
787 | ÔÇªaktoren kleine Mengen an klassischen Luftschadstoffen abgeleitet, 
    |                                                                   ^
788 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:790:147
    |
788 | ÔÇª
789 | ÔÇª
790 | ÔÇªd, so2_avoided, nox_avoided, particulates_avoided bereitgestellt. 
    |                                                                   ^
791 | ÔÇªr auf Wunsch im Nachhaltigkeits-Tab erw├ñhnt werden (z.B. ÔÇ£Insgesamt sparen 
792 | ÔÇªtegriert in obiger Funktion und somit automatisch Teil der Ergebnisse, 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:791:156
    |
790 | ÔÇªoided, nox_avoided, particulates_avoided bereitgestellt. 
791 | ÔÇªsch im Nachhaltigkeits-Tab erw├ñhnt werden (z.B. ÔÇ£Insgesamt sparen 
    |                                                                   ^
792 | ÔÇªin obiger Funktion und somit automatisch Teil der Ergebnisse, 
793 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:792:152
    |
790 | ÔÇª2_avoided, nox_avoided, particulates_avoided bereitgestellt. 
791 | ÔÇª Wunsch im Nachhaltigkeits-Tab erw├ñhnt werden (z.B. ÔÇ£Insgesamt sparen 
792 | ÔÇªert in obiger Funktion und somit automatisch Teil der Ergebnisse, 
    |                                                                   ^
793 | ÔÇª
794 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:799:150
    |
797 | ÔÇª
798 | ÔÇª
799 | ÔÇªFunktion berechnet anhand der Anlagengr├Â├ƒe (system_kwp) die Masse 
    |                                                                   ^
800 | ÔÇªet sie als recyclebar oder nicht. Zudem werden f├╝r die Materialien potentielle 
801 | ÔÇªgibt die Funktion an: Recyclingrate in %, COÔéé-Einsparung durch 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:800:163
    |
799 | ÔÇªchnet anhand der Anlagengr├Â├ƒe (system_kwp) die Masse 
800 | ÔÇªcyclebar oder nicht. Zudem werden f├╝r die Materialien potentielle 
    |                                                                   ^
801 | ÔÇªtion an: Recyclingrate in %, COÔéé-Einsparung durch 
802 | ÔÇª Recyclingerl├Âs.
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:801:147
    |
799 | ÔÇªie Funktion berechnet anhand der Anlagengr├Â├ƒe (system_kwp) die Masse 
800 | ÔÇªchnet sie als recyclebar oder nicht. Zudem werden f├╝r die Materialien potentielle 
801 | ÔÇªer gibt die Funktion an: Recyclingrate in %, COÔéé-Einsparung durch 
    |                                                                   ^
802 | ÔÇªund potenzieller Recyclingerl├Âs.
803 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:838:141
    |
836 | ÔÇª
837 | ÔÇª
838 | ÔÇªltet Investition minus Zuschuss/Kreditanteil etc., folgende Jahre 
    |                                                                   ^
839 | ÔÇªlows werden dann Kennzahlen gebildet (NPV, IRR, Amortisation, F├Ârderungssumme).
840 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:885:145
    |
883 | ÔÇª
884 | ÔÇª
885 | ÔÇªrgleicht. Erwartet ein Dict scenarios, das z.B. drei verschiedene 
    |                                                                   ^
886 | ÔÇª zur├╝ck. Eigentlich sollte hier pro Szenario die Berechnung 
887 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:886:139
    |
885 | ÔÇªien vergleicht. Erwartet ein Dict scenarios, das z.B. drei verschiedene 
886 | ÔÇª├ñndert zur├╝ck. Eigentlich sollte hier pro Szenario die Berechnung 
    |                                                                   ^
887 | ÔÇª
888 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:897:137
    |
895 | ÔÇª
896 | ÔÇª
897 | ÔÇªszenarios. Nimmt einen potenziellen Schadenbetrag (damage_amount) 
    |                                                                   ^
898 | ÔÇª Produkt als Erwartungswert aus. Im Prinzip entspricht dies dem 
899 | ÔÇªezug).
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:898:135
    |
897 | ÔÇªkoszenarios. Nimmt einen potenziellen Schadenbetrag (damage_amount) 
898 | ÔÇªas Produkt als Erwartungswert aus. Im Prinzip entspricht dies dem 
    |                                                                   ^
899 | ÔÇªtbezug).
900 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:908:148
    |
906 | ÔÇª
907 | ÔÇª
908 | ÔÇªlage inklusive Beschreibung, Kategorie, Aufwand, Nutzenpotential, 
    |                                                                   ^
909 | ÔÇªeriespeicher erweitern, Optimierer installieren, Warmwasser-Integration, 
910 | ÔÇªert diese Vorschl├ñge nach ROI-Verbesserung, erg├ñnzt f├╝r jeden Vorschlag 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:909:155
    |
908 | ÔÇªklusive Beschreibung, Kategorie, Aufwand, Nutzenpotential, 
909 | ÔÇªicher erweitern, Optimierer installieren, Warmwasser-Integration, 
    |                                                                   ^
910 | ÔÇªse Vorschl├ñge nach ROI-Verbesserung, erg├ñnzt f├╝r jeden Vorschlag 
911 | ÔÇªs in ÔÇ£Einfach/Mittel/KomplexÔÇØ). Au├ƒerdem werden pauschal optimale 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:910:154
    |
908 | ÔÇªnklusive Beschreibung, Kategorie, Aufwand, Nutzenpotential, 
909 | ÔÇªeicher erweitern, Optimierer installieren, Warmwasser-Integration, 
910 | ÔÇªese Vorschl├ñge nach ROI-Verbesserung, erg├ñnzt f├╝r jeden Vorschlag 
    |                                                                   ^
911 | ÔÇªds in ÔÇ£Einfach/Mittel/KomplexÔÇØ). Au├ƒerdem werden pauschal optimale 
912 | ÔÇªrh├ñltnis).
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:911:155
    |
909 | ÔÇªicher erweitern, Optimierer installieren, Warmwasser-Integration, 
910 | ÔÇªse Vorschl├ñge nach ROI-Verbesserung, erg├ñnzt f├╝r jeden Vorschlag 
911 | ÔÇªs in ÔÇ£Einfach/Mittel/KomplexÔÇØ). Au├ƒerdem werden pauschal optimale 
    |                                                                   ^
912 | ÔÇªh├ñltnis).
913 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:971:81
    |
969 |         rec["investment"] = rec["cost_estimate"]
970 |         rec["payback"] = (rec["investment"] / rec["annual_benefit"] if rec["annual_benefit"] > 0 else 99)
971 |         rec["difficulty"] = ("Einfach" if rec["implementation_effort"] < 40 else 
    |                                                                                 ^
972 |                               "Mittel" if rec["implementation_effort"] < 60 else "Komplex")
973 |     system_optimization = {
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:988:149
    |
986 | ÔÇª
987 | ÔÇª
988 | ÔÇª Darlehensbetrag (principal), Zinssatz (annual_interest_rate) und 
    |                                                                   ^
989 | ÔÇªlgungsplan (Monat f├╝r Monat Aufschl├╝sselung von Zins, Tilgung und Restschuld). 
990 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> notwendig oder nicht\zu implementieren\kalkulationen.py:989:162
    |
988 | ÔÇªrag (principal), Zinssatz (annual_interest_rate) und 
989 | ÔÇªonat f├╝r Monat Aufschl├╝sselung von Zins, Tilgung und Restschuld). 
    |                                                                   ^
990 | ÔÇª
991 | ÔÇª
    |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1034:159
     |
1032 | ÔÇª
1033 | ÔÇª
1034 | ÔÇª, einen monatlichen Leasingfaktor (Prozent des Invest pro Monat), 
     |                                                                   ^
1035 | ÔÇªosten ├╝ber die Laufzeit, kalkulierten Restwert und effektive 
1036 | ÔÇªteil_vs_kauf), was man gegen├╝ber einem direkten 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1035:154
     |
1034 | ÔÇªment), einen monatlichen Leasingfaktor (Prozent des Invest pro Monat), 
1035 | ÔÇªsamtkosten ├╝ber die Laufzeit, kalkulierten Restwert und effektive 
     |                                                                   ^
1036 | ÔÇªenvorteil_vs_kauf), was man gegen├╝ber einem direkten 
1037 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1036:141
     |
1034 | ÔÇª(total_investment), einen monatlichen Leasingfaktor (Prozent des Invest pro Monat), 
1035 | ÔÇªiche Rate, Gesamtkosten ├╝ber die Laufzeit, kalkulierten Restwert und effektive 
1036 | ÔÇªgegeben (kostenvorteil_vs_kauf), was man gegen├╝ber einem direkten 
     |                                                                   ^
1037 | ÔÇª
1038 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1061:130
     |
1059 | ÔÇª
1060 | ÔÇª
1061 | ÔÇªsdauer. Derzeit nur lineare Abschreibung implementiert: Teilt den 
     |                                                                   ^
1062 | ÔÇªul_life_years) auf. Liefert einen Abschreibungsplan pro Jahr (Abschreibung und 
1063 | ÔÇªrsparnis-Annahme (z.B. 30% Steuersatz).
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1062:143
     |
1061 | ÔÇªit nur lineare Abschreibung implementiert: Teilt den 
1062 | ÔÇª) auf. Liefert einen Abschreibungsplan pro Jahr (Abschreibung und 
     |                                                                   ^
1063 | ÔÇªhme (z.B. 30% Steuersatz).
1064 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1091:141
     |
1089 | ÔÇª
1090 | ÔÇª
1091 | ÔÇªe Kreditbelastung (Annuit├ñt) zu decken. Gibt einen Faktor zur├╝ck: 
     |                                                                   ^
1092 | ÔÇª; >1.2 gilt meist als komfortabel.
1093 | ÔÇª
     |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1097:20
     |
1095 | def check_debt_service_capability(annual_surplus: float, annuity: float) -> float:
1096 |     """Kapitaldienstf├ñhigkeitspr├╝fung als Faktor"""
1097 |     if annuity == 0: return float('inf')
     |                    ^
1098 |     return annual_surplus / annuity
     |

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1102:140
     |
1100 | ÔÇª
1101 | ÔÇª
1102 | ÔÇªrtminderung. Annahme: pro Jahr f├ñllt der Wert um einen bestimmten 
     |                                                                   ^
1103 | ÔÇªAbschreibungsrate)^Jahre. Dies ist eher eine vereinfachte degressive Absch├ñtzung.
1104 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1112:141
     |
1110 | ÔÇª
1111 | ÔÇª
1112 | ÔÇªteln. Einfach: investment - funding_amount. Diese Funktion zeigt, 
     |                                                                   ^
1113 | ÔÇª
1114 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1122:154
     |
1120 | ÔÇª
1121 | ÔÇª
1122 | ÔÇª Anzahl an Kostenpositionen (*costs) und gibt deren Summe zur├╝ck. 
     |                                                                   ^
1123 | ÔÇª) zusammenzufassen.
1124 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1132:137
     |
1130 | ÔÇª
1131 | ÔÇª
1132 | ÔÇªkon-PV. Nimmt die Kosten und Ertr├ñge beider und gibt ein Dict mit 
     |                                                                   ^
1133 | ÔÇªehen, um wieviel teurer und ertragreicher die gro├ƒe Anlage gegen├╝ber einem Balkonkraftwerk ist.
1134 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1136:60
     |
1134 | """
1135 |
1136 | def compare_pv_vs_balcony(costs_pv: float, yield_pv: float, 
     |                                                            ^
1137 |                            costs_balcony: float, yield_balcony: float) -> Dict:
1138 |     """Vergleich Photovoltaik vs. Balkonkraftwerk """
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1146:157
     |
1144 | ÔÇª
1145 | ÔÇª
1146 | ÔÇªin AT, 27,5% KESt oder in DE ggf. ESt). In dieser Implementierung 
     |                                                                   ^
1147 | ÔÇªgewinn, Steuerbetrag und Nettogewinn zur├╝ck, plus Steuersatz.
1148 | ÔÇª
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1170:150
     |
1168 | ÔÇª
1169 | ÔÇª
1170 | ÔÇª (wenn der Kunde PV-Strom als Dienstleistung bezieht). Nimmt eine 
     |                                                                   ^
1171 | ÔÇªen verbrauchten Strom pro Jahr (consumed_kwh) und die Vertragslaufzeit 
1172 | ÔÇªosten, j├ñhrliche Gesamtkosten und Gesamtkosten ├╝ber die Vertragslaufzeit 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1171:155
     |
1170 | ÔÇªn der Kunde PV-Strom als Dienstleistung bezieht). Nimmt eine 
1171 | ÔÇªrbrauchten Strom pro Jahr (consumed_kwh) und die Vertragslaufzeit 
     |                                                                   ^
1172 | ÔÇª, j├ñhrliche Gesamtkosten und Gesamtkosten ├╝ber die Vertragslaufzeit 
1173 | ÔÇªichen Kosten.
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1172:157
     |
1170 | ÔÇªder Kunde PV-Strom als Dienstleistung bezieht). Nimmt eine 
1171 | ÔÇªrauchten Strom pro Jahr (consumed_kwh) und die Vertragslaufzeit 
1172 | ÔÇªj├ñhrliche Gesamtkosten und Gesamtkosten ├╝ber die Vertragslaufzeit 
     |                                                                   ^
1173 | ÔÇªhen Kosten.
1174 | ÔÇª
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1191:1
     |
1189 |         "laufzeit_jahre": period_years
1190 |     }
1191 |     
     | ^^^^
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1192:1
     |
1190 |     }
1191 |     
1192 |     
     | ^^^^
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1193:1
     |
1193 |     
     | ^^^^
1194 |
1195 | Speichernutzung
     |
help: Remove whitespace from blank line

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1197:11
     |
1195 | Speichernutzung
1196 |
1197 | Einnahmen aus Einspeiseverg├╝tung _annual_feed_in_euro
     |           ^^^
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1197:15
     |
1195 | Speichernutzung
1196 |
1197 | Einnahmen aus Einspeiseverg├╝tung _annual_feed_in_euro
     |               ^^^^^^^^^^^^^^^^^^
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1197:34
     |
1195 | Speichernutzung
1196 |
1197 | Einnahmen aus Einspeiseverg├╝tung _annual_feed_in_euro
     |                                  ^^^^^^^^^^^^^^^^^^^^
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1199:11
     |
1197 | Einnahmen aus Einspeiseverg├╝tung _annual_feed_in_euro
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
     |           ^^^
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1199:15
     |
1197 | Einnahmen aus Einspeiseverg├╝tung _annual_feed_in_euro
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
     |               ^^^^^^^^^^^^^^^
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1200:11
     |
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
1200 | Einnahmen aus Batterie├╝berschuss
     |           ^^^
1201 | Ersparnis durch direkter Verbrauch
1202 | Ersparte Mehrwertsteuer
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1200:15
     |
1198 | Netzeinspeisung
1199 | Ersparnis aus Speichernutzung
1200 | Einnahmen aus Batterie├╝berschuss
     |               ^^^^^^^^^^^^^^^^^^
1201 | Ersparnis durch direkter Verbrauch
1202 | Ersparte Mehrwertsteuer
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1201:11
     |
1199 | Ersparnis aus Speichernutzung
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
     |           ^^^^^
1202 | Ersparte Mehrwertsteuer
1203 | PV-Anlagengr├Â├ƒe
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1201:17
     |
1199 | Ersparnis aus Speichernutzung
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
     |                 ^^^^^^^^
1202 | Ersparte Mehrwertsteuer
1203 | PV-Anlagengr├Â├ƒe
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1201:26
     |
1199 | Ersparnis aus Speichernutzung
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
     |                          ^^^^^^^^^
1202 | Ersparte Mehrwertsteuer
1203 | PV-Anlagengr├Â├ƒe
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1202:10
     |
1200 | Einnahmen aus Batterie├╝berschuss
1201 | Ersparnis durch direkter Verbrauch
1202 | Ersparte Mehrwertsteuer
     |          ^^^^^^^^^^^^^^
1203 | PV-Anlagengr├Â├ƒe
1204 | Netzbezug
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:13
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |             ^^^^^^^^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:23
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |                       ^^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:27
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |                           ^^^^^^^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:36
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |                                    ^^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:40
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |                                        ^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1206:43
     |
1204 | Netzbezug
1205 |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
     |                                           ^^^^^
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:13
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |             ^^^^^^^^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:23
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |                       ^^^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:28
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |                            ^^^^^^^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:37
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |                                     ^^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:41
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |                                         ^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1207:44
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
     |                                            ^^^^^
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:13
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |             ^^^^^^^^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:23
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |                       ^^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:27
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |                           ^^^^^^^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:36
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |                                    ^^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:40
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |                                        ^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1208:43
     |
1206 | Stromkosten kumuliert mit Erh├Âhung auf 10 Jahre
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
     |                                           ^^^^^
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:13
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |             ^^^^^^^^^
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:23
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |                       ^^^^
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:28
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |                            ^^^^^^^^
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:37
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |                                     ^^^
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:41
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |                                         ^^
     |

invalid-syntax: Simple statements must be separated by newlines or semicolons
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1209:44
     |
1207 | Stromkosten kumuliert ohne Erh├Âhung auf 10 Jahre
1208 | Stromkosten kumuliert mit Erh├Âhung auf 20 Jahre
1209 | Stromkosten kumuliert ohne Erh├Âhung auf 20 Jahre
     |                                            ^^^^^
     |

W293 Blank line contains whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1219:1
     |
1218 | def calc_direct_consumption_kwh(results: Dict[str, Any]) -> float:
1219 |     
     | ^^^^
1220 |     direct = float(results.get('direct_consumption_kwh', 0.0))
1221 |     if direct > 0:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1227:1
     |
1225 |     direct = max(0.0, min(cons, cons * autark / 100.0))
1226 |     return direct
1227 |     
     | ^^^^
1228 | # from calculations_extended import calc_direct_consumption_kwh
1229 | # direct_consumption_kwh_ext = calc_direct_consumption_kwh(results)
     |
help: Remove whitespace from blank line

invalid-syntax: Unexpected indentation
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1447:1
     |
1445 | R├╝ckgabe-Dict erweitern
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
     | ^^^^^^^^
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1447:9
     |
1445 | R├╝ckgabe-Dict erweitern
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
     |         ^^^^^^^^^^^^^^^^^^
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1447:37
     |
1445 | R├╝ckgabe-Dict erweitern
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
     |                                     ^
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1447:38
     |
1445 | R├╝ckgabe-Dict erweitern
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
     |                                      ^
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1448:9
     |
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
     |         ^^^^^^^^^^^^^^^^
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1448:38
     |
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
     |                                      ^
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1448:39
     |
1446 | """
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
     |                                       ^
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1449:9
     |
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1449:60
     |
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |                                                            ^
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1449:61
     |
1447 |         'grid_feed_in_kwh': _feed_in,
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
     |                                                             ^
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1450:9
     |
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1450:56
     |
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |                                                        ^
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1450:57
     |
1448 |         'grid_bezug_kwh': _grid_bezug,
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
     |                                                         ^
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1451:9
     |
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1451:62
     |
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |                                                              ^
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1451:63
     |
1449 |         'savings_from_direct_consumption_eur': _save_direct,
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
     |                                                               ^
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1452:9
     |
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |         ^^^^^^^^^^^^^^^^^^^^^
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1452:44
     |
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |                                            ^
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1452:45
     |
1450 |         'savings_from_battery_usage_eur': _save_storage,
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
     |                                             ^
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1453:9
     |
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |         ^^^^^^^^^^^^^^^^^^^^^
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1453:45
     |
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |                                             ^
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1453:46
     |
1451 |         'revenue_from_battery_surplus_eur': _rev_batt_surplus,
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
     |                                              ^
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1454:9
     |
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |         ^^^^^^^^^^^^^^^^^^^^
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1454:35
     |
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |                                   ^
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1454:36
     |
1452 |         'feed_in_revenue_eur': _feed_in_rev,
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
     |                                    ^
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1455:9
     |
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1455:64
     |
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |                                                                ^
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1455:65
     |
1453 |         'battery_surplus_kwh': _surplus_batt,
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
     |                                                                 ^
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1456:9
     |
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1456:63
     |
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |                                                               ^
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1456:64
     |
1454 |         'pv_system_size_kwp': _kwp,
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
     |                                                                ^
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1457:9
     |
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1457:64
     |
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |                                                                ^
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1457:65
     |
1455 |         'cumulative_grid_costs_10y_with_increase_eur': _c10_inc,
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
     |                                                                 ^
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1458:9
     |
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1458:63
     |
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |                                                               ^
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1458:64
     |
1456 |         'cumulative_grid_costs_10y_no_increase_eur': _c10_flat,
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
     |                                                                ^
1459 |         'vat_saved_eur': _vat_saved,
     |

invalid-syntax: Invalid annotated assignment target
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1459:9
     |
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |         ^^^^^^^^^^^^^^^
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1459:36
     |
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |                                    ^
     |

invalid-syntax: Expected a statement
    --> notwendig oder nicht\zu implementieren\kalkulationen.py:1459:37
     |
1457 |         'cumulative_grid_costs_20y_with_increase_eur': _c20_inc,
1458 |         'cumulative_grid_costs_20y_no_increase_eur': _c20_flat,
1459 |         'vat_saved_eur': _vat_saved,
     |                                     ^
     |

invalid-syntax: Expected a statement
--> notwendig oder nicht\zu implementieren\kalkulationen.py:1:1
 |
 |

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\09_check_stdlib_imports.py:14:9
   |
12 |                   if n.name not in stdlib:
13 |                       print(f"Nicht-Stdlib importiert: {n.name}")
14 | /         if isinstance(node, ast.ImportFrom):
15 | |             if node.module and node.module.split(".")[0] not in stdlib:
   | |_______________________________________________________________________^
16 |                   print(f"Nicht-Stdlib importiert: {node.module}")
   |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\10_create_requirements.py:15:17
   |
13 |                       for n in node.names:
14 |                           imports.add(n.name.split('.')[0])
15 | /                 if isinstance(node, ast.ImportFrom):
16 | |                     if node.module:
   | |___________________________________^
17 |                           imports.add(node.module.split('.')[0])
18 |       with open("requirements_auto.txt", "w") as f:
   |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\13_check_func_args.py:8:9
   |
 6 |           tree = ast.parse(f.read())
 7 |       for node in ast.walk(tree):
 8 | /         if isinstance(node, ast.FunctionDef):
 9 | |             if len(node.args.args) > max_args:
   | |______________________________________________^
10 |                   print(f"Funktion {node.name} hat zu viele Argumente: {len(node.args.args)}")
   |
help: Combine `if` statements using `and`

C416 Unnecessary list comprehension (rewrite using `list()`)
 --> n├╝tzliche tools\32_dependency_graph.py:8:27
  |
6 |     finder.run_script(file)
7 |     for name, mod in finder.modules.items():
8 |         print(name, '->', [dep for dep in mod.globalnames])
  |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
help: Rewrite using `list()`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\all_py_tools\09_check_stdlib_imports.py:14:9
   |
12 |                   if n.name not in stdlib:
13 |                       print(f"Nicht-Stdlib importiert: {n.name}")
14 | /         if isinstance(node, ast.ImportFrom):
15 | |             if node.module and node.module.split(".")[0] not in stdlib:
   | |_______________________________________________________________________^
16 |                   print(f"Nicht-Stdlib importiert: {node.module}")
   |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\all_py_tools\10_create_requirements.py:15:17
   |
13 |                       for n in node.names:
14 |                           imports.add(n.name.split('.')[0])
15 | /                 if isinstance(node, ast.ImportFrom):
16 | |                     if node.module:
   | |___________________________________^
17 |                           imports.add(node.module.split('.')[0])
18 |       with open("requirements_auto.txt", "w") as f:
   |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\all_py_tools\13_check_func_args.py:8:9
   |
 6 |           tree = ast.parse(f.read())
 7 |       for node in ast.walk(tree):
 8 | /         if isinstance(node, ast.FunctionDef):
 9 | |             if len(node.args.args) > max_args:
   | |______________________________________________^
10 |                   print(f"Funktion {node.name} hat zu viele Argumente: {len(node.args.args)}")
   |
help: Combine `if` statements using `and`

C416 Unnecessary list comprehension (rewrite using `list()`)
 --> n├╝tzliche tools\all_py_tools\32_dependency_graph.py:8:27
  |
6 |     finder.run_script(file)
7 |     for name, mod in finder.modules.items():
8 |         print(name, '->', [dep for dep in mod.globalnames])
  |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
help: Rewrite using `list()`

W291 Trailing whitespace
  --> n├╝tzliche tools\behavioral_analysis_engine.py:87:37
   |
86 |         cursor.execute("""
87 |             INSERT INTO user_actions 
   |                                     ^
88 |             (user_id, action_type, timestamp, metadata, session_id, ip_hash, user_agent_hash, risk_score)
89 |             VALUES (?, ?, ?, ?, ?, ?, ?, ?)
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:138:47
    |
136 |         week_ago = timestamp - (7 * 24 * 3600)
137 |         cursor.execute("""
138 |             SELECT timestamp FROM user_actions 
    |                                               ^
139 |             WHERE user_id = ? AND timestamp > ?
140 |             ORDER BY timestamp
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:173:46
    |
171 |         hour_ago = timestamp - 3600
172 |         cursor.execute("""
173 |             SELECT COUNT(*) FROM user_actions 
    |                                              ^
174 |             WHERE user_id = ? AND action_type = ? AND timestamp > ?
175 |         """, (user_id, action_type, hour_ago))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:182:46
    |
180 |         month_ago = timestamp - (30 * 24 * 3600)
181 |         cursor.execute("""
182 |             SELECT COUNT(*) FROM user_actions 
    |                                              ^
183 |             WHERE user_id = ? AND action_type = ? AND timestamp > ?
184 |         """, (user_id, action_type, month_ago))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:212:49
    |
210 |         # Hole letzte 10 Aktionen
211 |         cursor.execute("""
212 |             SELECT action_type FROM user_actions 
    |                                                 ^
213 |             WHERE user_id = ?
214 |             ORDER BY timestamp DESC
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:287:39
    |
286 |         cursor.execute("""
287 |             INSERT INTO anomaly_alerts 
    |                                       ^
288 |             (user_id, anomaly_type, severity, description, timestamp)
289 |             VALUES (?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:319:43
    |
318 |             cursor.execute("""
319 |                 UPDATE behavioral_profiles 
    |                                           ^
320 |                 SET trust_score = ?, anomaly_count = ?, last_updated = ?
321 |                 WHERE user_id = ?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:327:48
    |
325 |             initial_trust = max(1.0 - (risk_score * 0.1), 0.1)
326 |             cursor.execute("""
327 |                 INSERT INTO behavioral_profiles 
    |                                                ^
328 |                 (user_id, profile_data, last_updated, anomaly_count, trust_score)
329 |                 VALUES (?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:347:66
    |
345 |         # Aktuelle Anomalien
346 |         cursor.execute("""
347 |             SELECT anomaly_type, severity, timestamp, description 
    |                                                                  ^
348 |             FROM anomaly_alerts 
349 |             WHERE user_id = ? AND resolved = 0
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:348:32
    |
346 |         cursor.execute("""
347 |             SELECT anomaly_type, severity, timestamp, description 
348 |             FROM anomaly_alerts 
    |                                ^
349 |             WHERE user_id = ? AND resolved = 0
350 |             ORDER BY timestamp DESC
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> n├╝tzliche tools\behavioral_analysis_engine.py:358:30
    |
356 |         cursor.execute("""
357 |             SELECT action_type, COUNT(*), AVG(risk_score), MAX(risk_score)
358 |             FROM user_actions 
    |                              ^
359 |             WHERE user_id = ?
360 |             GROUP BY action_type
    |
help: Remove trailing whitespace

B007 Loop control variable `i` not used within loop body
   --> n├╝tzliche tools\behavioral_analysis_engine.py:404:17
    |
402 |         if user == 'suspicious_user':
403 |             # Verd├ñchtige Aktivit├ñten
404 |             for i in range(50):  # Viele Login-Versuche
    |                 ^
405 |                 engine.record_action(user, 'login_attempt',
406 |                                    {'success': False, 'ip': '192.168.1.100'})
    |
help: Rename unused `i` to `_i`

B007 Loop control variable `files` not used within loop body
  --> n├╝tzliche tools\cache_leerer.py:18:21
   |
17 |     # Finde alle __pycache__ Ordner
18 |     for root, dirs, files in os.walk("."):
   |                     ^^^^^
19 |         if "__pycache__" in dirs:
20 |             cache_dir = os.path.join(root, "__pycache__")
   |
help: Rename unused `files` to `_files`

E722 Do not use bare `except`
  --> n├╝tzliche tools\cache_leerer.py:41:9
   |
39 |             os.remove(pyc_file)
40 |             deleted_count += 1
41 |         except:
   |         ^^^^^^
42 |             pass
   |

E722 Do not use bare `except`
  --> n├╝tzliche tools\cache_leerer.py:85:13
   |
83 |                     shutil.rmtree(temp_file)
84 |                 deleted_count += 1
85 |             except:
   |             ^^^^^^
86 |                 pass
   |

E722 Do not use bare `except`
  --> n├╝tzliche tools\code_formatter.py:24:9
   |
22 |             subprocess.run([sys.executable, '-m', formatter, '--version'],
23 |                           capture_output=True, check=True)
24 |         except:
   |         ^^^^^^
25 |             print(f"­ƒôª Installiere {formatter}...")
26 |             subprocess.run([sys.executable, '-m', 'pip', 'install', formatter])
   |

E722 Do not use bare `except`
  --> n├╝tzliche tools\code_formatter.py:61:5
   |
59 |         else:
60 |             print("Ô£à Code-Qualit├ñt ist gut!")
61 |     except:
   |     ^^^^^^
62 |         print("ÔØî flake8 nicht verf├╝gbar")
   |

E722 Do not use bare `except`
  --> n├╝tzliche tools\dependency_checker.py:54:5
   |
52 |             print("ÔÜá´©Å SICHERHEITSL├£CKEN GEFUNDEN:")
53 |             print(result.stdout)
54 |     except:
   |     ^^^^^^
55 |         print("ÔØî Safety-Check nicht verf├╝gbar")
   |

W293 Blank line contains whitespace
  --> n├╝tzliche tools\docker_helper.py:61:1
   |
59 |       - PYTHONUNBUFFERED=1
60 |     restart: unless-stopped
61 |     
   | ^^^^
62 |   # Optional: Datenbank
63 |   # db:
   |
help: Remove whitespace from blank line

B007 Loop control variable `dirs` not used within loop body
  --> n├╝tzliche tools\duplikat_finder.py:16:15
   |
14 |     duplicates = []
15 |
16 |     for root, dirs, files in os.walk(directory):
   |               ^^^^
17 |         for file in files:
18 |             if file.endswith('.py'):
   |
help: Rename unused `dirs` to `_dirs`

B007 Loop control variable `dirs` not used within loop body
  --> n├╝tzliche tools\duplikat_finder.py:41:15
   |
40 |     # Lade alle Dateien
41 |     for root, dirs, files in os.walk(directory):
   |               ^^^^
42 |         for file in files:
43 |             if file.endswith('.py'):
   |
help: Rename unused `dirs` to `_dirs`

E722 Do not use bare `except`
  --> n├╝tzliche tools\duplikat_finder.py:48:17
   |
46 |                     with open(file_path, encoding='utf-8') as f:
47 |                         files_content[file_path] = f.read()
48 |                 except:
   |                 ^^^^^^
49 |                     continue
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
 --> n├╝tzliche tools\emoji_entferner.py:2:13
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
  |             ^^^^^^^^^^^^^
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |

invalid-syntax: Simple statements must be separated by newlines or semicolons
 --> n├╝tzliche tools\emoji_entferner.py:2:44
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
  |                                            ^
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:2:45
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
  |                                             ^
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Got unexpected token $
 --> n├╝tzliche tools\emoji_entferner.py:3:5
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |     ^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:3:17
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |                 ^^^^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:3:36
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |                                   ^^^^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:3:55
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |                                                     ^^^^^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:3:73
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |                                                                        ^^^^^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:3:81
  |
1 | # Emoji-Entferner f├╝r einzelne Datei
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
  |                                                                                 ^
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:4:14
  |
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |              ^^^^
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:4:33
  |
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |                                ^^^^^
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:4:51
  |
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |                                                   ^^^^
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:4:70
  |
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |                                                                     ^^^^^
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:4:78
  |
2 | Get-Content "analysis.py" | ForEach-Object { 
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
  |                                                                              ^
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:5:14
  |
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |              ^^^^^
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:5:32
  |
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |                                 ^^^^^
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:5:50
  |
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |                                                    ^^^^^
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:5:68
  |
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |                                                                       ^^^^^
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:5:76
  |
3 |     $_ -replace "ÔÿÇ´©Å ", "" -replace "­ƒùô´©Å ", "" -replace "­ƒôê ", "" -replace "­ƒÆ░ ", "" 
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
  |                                                                                ^
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:6:14
  |
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |              ^^^^^
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:6:32
  |
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |                                 ^^^^^
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:6:50
  |
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |                                                    ^^^^^
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:6:68
  |
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |                                                                       ^^^^^
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:6:76
  |
4 |     -replace "ÔÜû´©Å ", "" -replace "­ƒîì ", "" -replace "ÔÜá´©Å ", "" -replace "­ƒöÑ ", "" 
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
  |                                                                                ^
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:7:14
  |
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |              ^^^^^
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:7:32
  |
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |                                 ^^^^^
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:7:50
  |
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |                                                    ^^^^^
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
  |

invalid-syntax: Expected ',', found string
 --> n├╝tzliche tools\emoji_entferner.py:7:68
  |
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |                                                                       ^^^^^
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
  |

W291 Trailing whitespace
 --> n├╝tzliche tools\emoji_entferner.py:7:76
  |
5 |     -replace "­ƒÆí ", "" -replace "­ƒôè ", "" -replace "­ƒîƒ ", "" -replace "ÔÜí ", "" 
6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
  |                                                                                ^
8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
  |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:8:14
   |
 6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
   |              ^^^^^
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:8:32
   |
 6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
   |                                 ^^^^
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:8:51
   |
 6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
   |                                                   ^^^^^
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:8:69
   |
 6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
   |                                                                      ^^^^^
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:8:77
   |
 6 |     -replace "­ƒÄ» ", "" -replace "­ƒöº ", "" -replace "­ƒÜÇ ", "" -replace "­ƒÅå ", "" 
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
   |                                                                               ^
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:9:14
   |
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
   |              ^^^^^
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:9:32
   |
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
   |                                 ^^^^^
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:9:50
   |
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
   |                                                    ^^^^^
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:9:68
   |
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
   |                                                                       ^^^^^
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:9:77
   |
 7 |     -replace "Ô£à ", "" -replace "ÔØî ", "" -replace "­ƒô▒ ", "" -replace "­ƒÆ╗ ", "" 
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
   |                                                                                ^
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:10:14
   |
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |              ^^^^^
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:10:32
   |
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |                                 ^^^^^
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:10:50
   |
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |                                                    ^^^^
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:10:69
   |
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |                                                                      ^^^^
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:10:78
   |
 8 |     -replace "­ƒî▒ ", "" -replace "­ƒÅù´©Å ", "" -replace "Ô¡É ", "" -replace "­ƒÆÄ ", "" 
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
   |                                                                              ^
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:11:14
   |
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |              ^^^^
12 | } | Set-Content "analysis_clean.py"
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:11:23
   |
 9 |     -replace "­ƒÄë ", "" -replace "­ƒöì ", "" -replace "­ƒî× ", "" -replace "ÔÜí´©Å ", "" 
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
   |                      ^
12 | } | Set-Content "analysis_clean.py"
   |
help: Remove trailing whitespace

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> n├╝tzliche tools\emoji_entferner.py:12:17
   |
10 |     -replace "­ƒÅí ", "" -replace "­ƒÄå ", "" -replace "Ôÿü´©Å ", "" -replace "­ƒøá´©Å ", "" 
11 |     -replace "­ƒÅÿ´©Å ", "" 
12 | } | Set-Content "analysis_clean.py"
   |                 ^^^^^^^^^^^^^^^^^^^
13 |
14 | # Alle Python-Dateien in einem Ordner bereinigen
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> n├╝tzliche tools\emoji_entferner.py:15:15
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
   |               ^^^^^^
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |

invalid-syntax: Simple statements must be separated by newlines or semicolons
  --> n├╝tzliche tools\emoji_entferner.py:15:39
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
   |                                       ^
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |

invalid-syntax: Got unexpected token $
  --> n├╝tzliche tools\emoji_entferner.py:16:5
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
   |     ^
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
   |

invalid-syntax: Expected ',', found '='
  --> n├╝tzliche tools\emoji_entferner.py:16:14
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
   |              ^
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
   |

invalid-syntax: Got unexpected token $
  --> n├╝tzliche tools\emoji_entferner.py:16:28
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
   |                            ^
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
   |

invalid-syntax: Expected ',', found '{'
  --> n├╝tzliche tools\emoji_entferner.py:16:57
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
   |                                                         ^
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:16:58
   |
14 | # Alle Python-Dateien in einem Ordner bereinigen
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
   |                                                          ^
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
   |
help: Remove trailing whitespace

invalid-syntax: Got unexpected token $
  --> n├╝tzliche tools\emoji_entferner.py:17:9
   |
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |         ^
18 |     }
19 |     Set-Content $_.FullName $content
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:17:21
   |
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |                     ^^^^^^^^^^^^^^^^^^^^^^^
18 |     }
19 |     Set-Content $_.FullName $content
   |

invalid-syntax: Got unexpected unicode
  --> n├╝tzliche tools\emoji_entferner.py:17:25
   |
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |                         ^
18 |     }
19 |     Set-Content $_.FullName $content
   |

W291 Trailing whitespace
  --> n├╝tzliche tools\emoji_entferner.py:17:48
   |
15 | Get-ChildItem "*.py" | ForEach-Object {
16 |     $content = Get-Content $_.FullName | ForEach-Object { 
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
   |                                                ^
18 |     }
19 |     Set-Content $_.FullName $content
   |
help: Remove trailing whitespace

invalid-syntax: Expected ',', found name
  --> n├╝tzliche tools\emoji_entferner.py:19:5
   |
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
19 |     Set-Content $_.FullName $content
   |     ^^^
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
21 | }
   |

invalid-syntax: Got unexpected token $
  --> n├╝tzliche tools\emoji_entferner.py:19:17
   |
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
19 |     Set-Content $_.FullName $content
   |                 ^
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
21 | }
   |

invalid-syntax: Got unexpected token $
  --> n├╝tzliche tools\emoji_entferner.py:19:29
   |
17 |         $_ -replace "[\u{1F300}-\u{1F9FF}]", "" 
18 |     }
19 |     Set-Content $_.FullName $content
   |                             ^
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
21 | }
   |

invalid-syntax: Expected ',', found name
  --> n├╝tzliche tools\emoji_entferner.py:20:5
   |
18 |     }
19 |     Set-Content $_.FullName $content
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
   |     ^^^^^
21 | }
   |

invalid-syntax: Expected ',', found string
  --> n├╝tzliche tools\emoji_entferner.py:20:16
   |
18 |     }
19 |     Set-Content $_.FullName $content
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^
21 | }
   |

W292 No newline at end of file
  --> n├╝tzliche tools\emoji_entferner.py:21:2
   |
19 |     Set-Content $_.FullName $content
20 |     Write-Host "Ô£à $($_.Name) bereinigt"
21 | }
   |  ^
   |
help: Add trailing newline

invalid-syntax: missing closing quote in string literal
   --> n├╝tzliche tools\generator_39_python_tools.py:482:32
    |
480 |       pass
481 |   '''),
482 |       ("39_encrypted_loader.py", '''
    |  ________________________________^
483 | | import importlib.abc, importlib.util, marshal, base64
484 | |
485 | | class EncryptedLoader(importlib.abc.Loader):
486 | |     def exec_module(self, module):
487 | |         with open(module.__spec__.origin, "rb") as f:
488 | |             code = base64.b64decode(f.read())
489 | |             exec(marshal.loads(code),
    | |______________________________________^
    |

invalid-syntax: unexpected EOF while parsing
   --> n├╝tzliche tools\generator_39_python_tools.py:490:1
    |
488 |             code = base64.b64decode(f.read())
489 |             exec(marshal.loads(code),
    |                                      ^
    |

E722 Do not use bare `except`
  --> n├╝tzliche tools\import_bereiniger.py:17:5
   |
15 |     try:
16 |         tree = ast.parse(content)
17 |     except:
   |     ^^^^^^
18 |         print(f"ÔØî Syntax-Fehler in {file_path}")
19 |         return
   |

SIM101 Multiple `isinstance` calls for `node`, merge into a single call
  --> n├╝tzliche tools\import_bereiniger.py:24:12
   |
22 |     imports = []
23 |     for node in ast.walk(tree):
24 |         if isinstance(node, ast.Import) or isinstance(node, ast.ImportFrom):
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
25 |             for alias in node.names:
26 |                 imports.append(alias.name)
   |
help: Merge `isinstance` calls for `node`

W291 Trailing whitespace
 --> n├╝tzliche tools\intelligent_txt_key_replacer.py:6:22
  |
4 | Analysiert die TXT-Dateien im input-Ordner und ersetzt statische Werte durch dynamische Keys.
5 |
6 | Autor: GitHub Copilot  
  |                      ^^
7 | Datum: 28.07.2025
8 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> n├╝tzliche tools\intelligent_txt_key_replacer.py:117:1
    |
115 |         """
116 |         Analysiert alle TXT-Dateien und findet Kandidaten f├╝r Key-Ersetzung.
117 |         
    | ^^^^^^^^
118 |         Returns:
119 |             Dict mit Dateiname als Key und Liste von (original_text, suggested_key) Tupeln
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> n├╝tzliche tools\intelligent_txt_key_replacer.py:174:1
    |
172 |         """
173 |         Wendet die gefundenen Ersetzungen auf die TXT-Dateien an.
174 |         
    | ^^^^^^^^
175 |         Args:
176 |             candidates: Dictionary mit Ersetzungskandidaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> n├╝tzliche tools\intelligent_txt_key_replacer.py:178:1
    |
176 |             candidates: Dictionary mit Ersetzungskandidaten
177 |             auto_apply: Wenn True, werden alle Ersetzungen automatisch angewendet
178 |             
    | ^^^^^^^^^^^^
179 |         Returns:
180 |             Anzahl der durchgef├╝hrten Ersetzungen
    |
help: Remove whitespace from blank line

F841 Local variable `original_content` is assigned to but never used
   --> n├╝tzliche tools\intelligent_txt_key_replacer.py:191:17
    |
189 |                     content = f.read()
190 |
191 |                 original_content = content
    |                 ^^^^^^^^^^^^^^^^
192 |                 file_replacements = 0
    |
help: Remove assignment to unused variable `original_content`

W293 Blank line contains whitespace
   --> n├╝tzliche tools\intelligent_txt_key_replacer.py:228:1
    |
226 |         """
227 |         Erstellt ein Backup des input-Ordners.
228 |         
    | ^^^^^^^^
229 |         Returns:
230 |             Pfad zum Backup-Ordner
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> n├╝tzliche tools\log_analyzer.py:99:9
    |
 97 |                 deleted_count += 1
 98 |                 print(f"­ƒùæ´©Å Gel├Âscht: {log_file}")
 99 |         except:
    |         ^^^^^^
100 |             pass
    |

RET504 Unnecessary assignment to `decrypt_call` before `return` statement
   --> n├╝tzliche tools\neural_code_mutator.py:127:28
    |
125 |                         keywords=[]
126 |                     )
127 |                     return decrypt_call
    |                            ^^^^^^^^^^^^
128 |                 return node
    |
help: Remove unnecessary assignment

F821 Undefined name `i`
   --> n├╝tzliche tools\neural_code_mutator.py:151:68
    |
149 | ÔÇª         f"__neural_var_{random.randint(1000, 9999)} = {random.randint(1, 100)} * {random.randint(1, 100)}",
150 | ÔÇª         f"__neural_list_{random.randint(1000, 9999)} = [i for i in range({random.randint(5, 20)})]",
151 | ÔÇª         f"__neural_dict_{random.randint(1000, 9999)} = {{'key_{i}': {random.randint(1, 100)} for i in range({random.randint(3, 8)})ÔÇª
    |                                                                  ^
152 | ÔÇª     ]
    |

SIM115 Use a context manager for opening files
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:42:22
   |
40 |     txt_path = os.path.join(DATA_DIR, f"seite_{p}_texte.txt")
41 |     if os.path.exists(txt_path):
42 |         for block in open(txt_path, encoding="utf-8").read().split("-"*40):
   |                      ^^^^
43 |             lines = [l for l in block.splitlines() if l.strip()]
44 |             d = {}
   |

E741 Ambiguous variable name: `l`
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:43:28
   |
41 |     if os.path.exists(txt_path):
42 |         for block in open(txt_path, encoding="utf-8").read().split("-"*40):
43 |             lines = [l for l in block.splitlines() if l.strip()]
   |                            ^
44 |             d = {}
45 |             for L in lines:
   |

SIM115 Use a context manager for opening files
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:70:18
   |
68 |     imgpos = os.path.join(DATA_DIR, f"seite_{p}_bilder_positionen.txt")
69 |     if os.path.exists(imgpos):
70 |         for L in open(imgpos, encoding="utf-8"):
   |                  ^^^^
71 |             m = re.match(r"Bild (\d+): Rect\(([^)]+)\)", L)
72 |             if not m: continue
   |

E701 Multiple statements on one line (colon)
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:72:21
   |
70 |         for L in open(imgpos, encoding="utf-8"):
71 |             m = re.match(r"Bild (\d+): Rect\(([^)]+)\)", L)
72 |             if not m: continue
   |                     ^
73 |             idx, coords = m.group(1), m.group(2)
74 |             bbox = ast.literal_eval(f"({coords})")
   |

SIM115 Use a context manager for opening files
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:84:18
   |
82 |     form_path = os.path.join(DATA_DIR, f"seite_{p}_formen.txt")
83 |     if os.path.exists(form_path):
84 |         for L in open(form_path, encoding="utf-8"):
   |                  ^^^^
85 |             L = L.strip()
86 |             if L.startswith("Linie von"):
   |

E702 Multiple statements on one line (semicolon)
  --> n├╝tzliche tools\pdf_erstellen_komplett.py:88:47
   |
86 |             if L.startswith("Linie von"):
87 |                 pts = re.findall(r"\(([^,]+), ([^)]+)\)", L)
88 |                 p1 = tuple(map(float, pts[0])); p2 = tuple(map(float, pts[1]))
   |                                               ^
89 |                 page.draw_line(p1, p2, color=(0,0,0), width=0.5)
90 |             elif L.startswith("Rechteck:"):
   |

SIM115 Use a context manager for opening files
   --> n├╝tzliche tools\pdf_erstellen_komplett.py:104:22
    |
102 |     annot_path = os.path.join(DATA_DIR, f"seite_{p}_annotationen.txt")
103 |     if os.path.exists(annot_path):
104 |         for block in open(annot_path, encoding="utf-8").read().split("-"*40):
    |                      ^^^^
105 |             lines = [l for l in block.splitlines() if l.strip()]
106 |             ad = {}
    |

E741 Ambiguous variable name: `l`
   --> n├╝tzliche tools\pdf_erstellen_komplett.py:105:28
    |
103 |     if os.path.exists(annot_path):
104 |         for block in open(annot_path, encoding="utf-8").read().split("-"*40):
105 |             lines = [l for l in block.splitlines() if l.strip()]
    |                            ^
106 |             ad = {}
107 |             for L in lines:
    |

F401 `pdf_preview.show_pdf_preview_interface` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> n├╝tzliche tools\pdf_system_repair_advanced.py:87:37
   |
85 |         # Versuche Preview-Module
86 |         try:
87 |             from pdf_preview import show_pdf_preview_interface
   |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
88 |             st.session_state.pdf_preview_available = True
89 |             success_count += 1
   |
help: Remove unused import: `pdf_preview.show_pdf_preview_interface`

E722 Do not use bare `except`
   --> n├╝tzliche tools\pdf_system_repair_advanced.py:177:9
    |
175 |                 st.session_state.project_data = {'project_details': {}, 'pv_details': {}}
176 |             st.info("Ôä╣´©Å Basis-Struktur erstellt")
177 |         except:
    |         ^^^^^^
178 |             pass
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> n├╝tzliche tools\pdf_system_repair_advanced.py:217:31
    |
215 |     # 2. Session State pr├╝fen
216 |     st.markdown("**Session State Status:**")
217 |     pdf_session_keys = [k for k in st.session_state.keys() if 'pdf_' in k or 'central_pdf_' in k]
    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
218 |
219 |     if pdf_session_keys:
    |
help: Remove `.keys()`

F841 Local variable `color` is assigned to but never used
   --> n├╝tzliche tools\pdf_system_repair_advanced.py:360:13
    |
358 |         with [col1, col2, col3, col4][i]:
359 |             icon = "Ô£à" if available else "ÔØî"
360 |             color = "green" if available else "red"
    |             ^^^^^
361 |             st.markdown(f"**{icon} {system_name}**")
    |
help: Remove assignment to unused variable `color`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> n├╝tzliche tools\pdf_system_repair_advanced.py:368:33
    |
367 |     if st.button("­ƒº╣ PDF Session State zur├╝cksetzen"):
368 |         keys_to_remove = [k for k in st.session_state.keys() if 'pdf_' in k.lower()]
    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
369 |         for key in keys_to_remove:
370 |             del st.session_state[key]
    |
help: Remove `.keys()`

N806 Variable `styleH` in function should be lowercase
   --> n├╝tzliche tools\pv_berechnungen_50.py:206:5
    |
204 |                             topMargin=2*cm, bottomMargin=2*cm)
205 |     styles = getSampleStyleSheet()
206 |     styleH = styles['Heading1']
    |     ^^^^^^
207 |     styleH2 = styles['Heading2']
208 |     styleN = styles['Normal']
    |

N806 Variable `styleH2` in function should be lowercase
   --> n├╝tzliche tools\pv_berechnungen_50.py:207:5
    |
205 |     styles = getSampleStyleSheet()
206 |     styleH = styles['Heading1']
207 |     styleH2 = styles['Heading2']
    |     ^^^^^^^
208 |     styleN = styles['Normal']
209 |     styleCode = ParagraphStyle(
    |

N806 Variable `styleN` in function should be lowercase
   --> n├╝tzliche tools\pv_berechnungen_50.py:208:5
    |
206 |     styleH = styles['Heading1']
207 |     styleH2 = styles['Heading2']
208 |     styleN = styles['Normal']
    |     ^^^^^^
209 |     styleCode = ParagraphStyle(
210 |         name="Code",
    |

N806 Variable `styleCode` in function should be lowercase
   --> n├╝tzliche tools\pv_berechnungen_50.py:209:5
    |
207 |     styleH2 = styles['Heading2']
208 |     styleN = styles['Normal']
209 |     styleCode = ParagraphStyle(
    |     ^^^^^^^^^
210 |         name="Code",
211 |         parent=styles['Normal'],
    |

RET504 Unnecessary assignment to `vault_data` before `return` statement
  --> n├╝tzliche tools\quantum_cryptographic_vault.py:90:16
   |
88 |         }
89 |
90 |         return vault_data
   |                ^^^^^^^^^^
91 |
92 |     def custom_stream_encrypt(self, data: bytes, key: bytes) -> bytes:
   |
help: Remove unnecessary assignment

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> n├╝tzliche tools\quantum_cryptographic_vault.py:202:13
    |
200 |         except Exception as e:
201 |             print(f"ÔØî Entschl├╝sselung fehlgeschlagen: {e}")
202 |             raise ValueError("Falsches Passwort oder korrupte Daten!")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
203 |
204 |     def load_vault(self) -> dict:
    |

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\requirements_generator.py:26:17
   |
24 |                       for alias in node.names:
25 |                           all_imports.add(alias.name.split('.')[0])
26 | /                 elif isinstance(node, ast.ImportFrom):
27 | |                     if node.module:
   | |___________________________________^
28 |                           all_imports.add(node.module.split('.')[0])
29 |           except:
   |
help: Combine `if` statements using `and`

E722 Do not use bare `except`
  --> n├╝tzliche tools\requirements_generator.py:29:9
   |
27 |                     if node.module:
28 |                         all_imports.add(node.module.split('.')[0])
29 |         except:
   |         ^^^^^^
30 |             continue
   |

E722 Do not use bare `except`
  --> n├╝tzliche tools\requirements_generator.py:55:9
   |
53 |             else:
54 |                 requirements.append(module)  # Ohne Version
55 |         except:
   |         ^^^^^^
56 |             requirements.append(module)
   |

W293 Blank line contains whitespace
  --> n├╝tzliche tools\safe_txt_key_replacer.py:19:1
   |
17 |     """
18 |     Nur 100% SICHERE Ersetzungen, die das Layout NICHT zerst├Âren!
19 |     
   | ^^^^
20 |     Diese Werte wurden manuell identifiziert und sind sicher zu ersetzen.
21 |     """
   |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
  --> n├╝tzliche tools\safe_txt_key_replacer.py:83:21
   |
82 |                       # Pr├╝fe ob es aussieht wie statischer Inhalt
83 | /                     if (len(text_content) > 2 and
84 | |                         not text_content.startswith('*') and
85 | |                         not text_content.startswith(' ') and
86 | |                         'Position:' not in text_content):
87 | |
88 | |                         # Weitere Filter f├╝r bekannte dynamische Inhalte
89 | |                         if (text_content not in ['*', 'xxxxxxxxxx', 'yyyyyyyyyyyyy'] and
90 | |                             not text_content.startswith('inkl.') and
91 | |                             not text_content.startswith('vielen Dank') and
92 | |                             not text_content.startswith('Mit freundlichen')):
   | |_____________________________________________________________________________^
93 |                               static_values.append(f"Zeile {i+1}: {text_content}")
   |
help: Combine `if` statements using `and`

E722 Do not use bare `except`
  --> n├╝tzliche tools\secret_scanner.py:72:9
   |
70 |                             'match': match.group()[:50] + '...' if len(match.group()) > 50 else match.group()
71 |                         })
72 |         except:
   |         ^^^^^^
73 |             continue
   |

F841 Local variable `fake_docstring` is assigned to but never used
   --> n├╝tzliche tools\steganography_code_injector.py:100:21
    |
 98 |                 if self.chunk_index < len(chunks):
 99 |                     # Erstelle Docstring mit verstecktem Payload
100 |                     fake_docstring = f'"""\n    Internal optimization data: {chunks[self.chunk_index]}\n    """'
    |                     ^^^^^^^^^^^^^^
101 |
102 |                     # F├╝ge als ersten Statement hinzu wenn kein Docstring existiert
    |
help: Remove assignment to unused variable `fake_docstring`

E722 Do not use bare `except`
  --> n├╝tzliche tools\system_monitor.py:94:9
   |
92 |                any('streamlit' in arg.lower() for arg in proc.info['cmdline']):
93 |                 streamlit_processes.append(proc.info)
94 |         except:
   |         ^^^^^^
95 |             continue
   |

W291 Trailing whitespace
 --> n├╝tzliche tools\txt_pdf_manager.py:5:22
  |
3 | Hilft bei der Verwaltung und Erstellung von TXT-Dateien f├╝r die PDF-Generierung
4 |
5 | Autor: GitHub Copilot  
  |                      ^^
6 | Datum: 28.07.2025
7 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_pdf_manager.py:18:1
   |
16 |     """
17 |     Listet alle verf├╝gbaren Seiten im input-Ordner auf
18 |     
   | ^^^^
19 |     Returns:
20 |         List[int]: Sortierte Liste der verf├╝gbaren Seitennummern
   |
help: Remove whitespace from blank line

C414 Unnecessary `list()` call within `sorted()`
  --> n├╝tzliche tools\txt_pdf_manager.py:45:12
   |
43 |             continue
44 |
45 |     return sorted(list(page_nums))
   |            ^^^^^^^^^^^^^^^^^^^^^^^
46 |
47 | def get_page_files(page_num: int) -> dict[str, str]:
   |
help: Remove the inner `list()` call

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_pdf_manager.py:50:1
   |
48 |     """
49 |     Gibt alle Dateien f├╝r eine bestimmte Seite zur├╝ck
50 |     
   | ^^^^
51 |     Args:
52 |         page_num: Seitennummer
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_pdf_manager.py:53:1
   |
51 |     Args:
52 |         page_num: Seitennummer
53 |         
   | ^^^^^^^^
54 |     Returns:
55 |         Dict mit Dateityp als Key und Dateipfad als Value
   |
help: Remove whitespace from blank line

E722 Do not use bare `except`
  --> n├╝tzliche tools\txt_pdf_manager.py:86:13
   |
84 |                     img_num = parts[3]
85 |                     files[f"bild_{img_num}"] = img_file
86 |             except:
   |             ^^^^^^
87 |                 continue
   |

B007 Loop control variable `file_path` not used within loop body
   --> n├╝tzliche tools\txt_pdf_manager.py:117:32
    |
115 |                 st.write("**TXT-Dateien:**")
116 |                 txt_files = {k: v for k, v in files.items() if not k.startswith("bild_")}
117 |                 for file_type, file_path in txt_files.items():
    |                                ^^^^^^^^^
118 |                     st.text(f"Ô£à {file_type}.txt")
    |
help: Rename unused `file_path` to `_file_path`

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_pdf_manager.py:135:1
    |
133 |     """
134 |     Erstellt Template-Dateien f├╝r fehlende Seiten
135 |     
    | ^^^^
136 |     Args:
137 |         target_pages: Zielanzahl der Seiten (Standard: 20)
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> n├╝tzliche tools\txt_pdf_manager.py:162:53
    |
160 | ----------------------------------------
161 |
162 | Text: [Inhalt f├╝r Seite {page_num} - bitte anpassen]  
    |                                                     ^^
163 | Position: (100, 700, 500, 730)
164 | Schriftgr├Â├ƒe: 12
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_pdf_manager.py:200:1
    |
198 |     """
199 |     Validiert die Struktur einer Seite
200 |     
    | ^^^^
201 |     Args:
202 |         page_num: Seitennummer
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_pdf_manager.py:203:1
    |
201 |     Args:
202 |         page_num: Seitennummer
203 |         
    | ^^^^^^^^
204 |     Returns:
205 |         Dict mit Validierungsresultaten
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> n├╝tzliche tools\txt_pdf_manager.py:221:9
    |
219 |                 content = f.read()
220 |             validation["details_has_size"] = "Seitengr├Â├ƒe:" in content and "Rect(" in content
221 |         except:
    |         ^^^^^^
222 |             validation["details_has_size"] = False
223 |     else:
    |

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_to_pdf_integration.py:24:1
   |
22 |     """
23 |     Generiert PDF aus TXT-Dateien im input-Ordner
24 |     
   | ^^^^
25 |     Args:
26 |         project_data: Projektdaten (werden f├╝r k├╝nftige Erweiterungen verwendet)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_to_pdf_integration.py:29:1
   |
27 |         analysis_results: Analyseergebnisse (werden f├╝r k├╝nftige Erweiterungen verwendet)
28 |         **kwargs: Weitere Parameter (f├╝r Kompatibilit├ñt)
29 |     
   | ^^^^
30 |     Returns:
31 |         bytes: PDF-Bytes oder None bei Fehler
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> n├╝tzliche tools\txt_to_pdf_integration.py:94:1
   |
92 |     """
93 |     Aktualisiert TXT-Dateien im input-Ordner basierend auf den Projektdaten
94 |     
   | ^^^^
95 |     Args:
96 |         project_data: Aktuelle Projektdaten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_to_pdf_integration.py:98:1
    |
 96 |         project_data: Aktuelle Projektdaten
 97 |         analysis_results: Aktuelle Analyseergebnisse
 98 |     
    | ^^^^
 99 |     Returns:
100 |         bool: True bei Erfolg, False bei Fehler
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_to_pdf_integration.py:321:1
    |
319 |     """
320 |     Pr├╝ft ob alle Anforderungen f├╝r das TXT-System erf├╝llt sind
321 |     
    | ^^^^
322 |     Returns:
323 |         Dict mit Status-Informationen
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> n├╝tzliche tools\txt_to_pdf_integration.py:347:17
    |
345 |                     num = int(file.split('_')[1])
346 |                     page_numbers.append(num)
347 |                 except:
    |                 ^^^^^^
348 |                     pass
349 |             requirements['all_pages_available'] = len(page_numbers) >= 20
    |

W293 Blank line contains whitespace
   --> n├╝tzliche tools\txt_to_pdf_integration.py:356:1
    |
354 |     """
355 |     Gibt den aktuellen Status des TXT-Systems zur├╝ck
356 |     
    | ^^^^
357 |     Returns:
358 |         str: Status-Nachricht
    |
help: Remove whitespace from blank line

F841 Local variable `module_name` is assigned to but never used
   --> options.py:104:5
    |
102 |     initialize_emoji_support()
103 |
104 |     module_name = kwargs.get('module_name', texts.get("menu_item_options", "Optionen"))
    |     ^^^^^^^^^^^
105 |
106 |     display_options_ui()
    |
help: Remove assignment to unused variable `module_name`

W293 Blank line contains whitespace
   --> options.py:757:1
    |
755 |                 st.success(f"""
756 |                  **ALLE EINSTELLUNGEN ERFOLGREICH GESPEICHERT!**
757 |                 
    | ^^^^^^^^^^^^^^^^
758 |                  **{success_count}/{total_settings}** Einstellungen wurden gespeichert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> options.py:759:1
    |
758 |                  **{success_count}/{total_settings}** Einstellungen wurden gespeichert
759 |                 
    | ^^^^^^^^^^^^^^^^
760 |                 Die App wird beim n├ñchsten Start mit Ihren neuen Einstellungen geladen.
761 |                 Einige ├änderungen werden sofort wirksam!
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> payment_terms.py:15:65
   |
14 | Neue Features:
15 | - Vollst├ñndige Zahlungsarten (Bar, Raten, Finanzierung, Leasing)  
   |                                                                 ^^
16 | - Automatische Rabattberechnung (Mengen-, Saison-, Zahlungsrabatte)
17 | - Umfassende PDF-Textgenerierung
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> payment_terms.py:74:36
   |
72 |         },
73 |         {
74 |             "id": "installments_3", 
   |                                    ^
75 |             "name": "3 Raten",
76 |             "payment_type": "installments",
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> payment_terms.py:81:36
   |
79 |         {
80 |             "id": "financing",
81 |             "name": "Finanzierung", 
   |                                    ^
82 |             "payment_type": "financing",
83 |             "financing_options": [...]
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> payment_terms.py:121:1
    |
119 |     """
120 |     Erweiterte Zahlungsmodalit├ñten-Manager-Klasse.
121 |     
    | ^^^^
122 |     Diese Klasse verwaltet sowohl das Legacy-Varianten-System als auch
123 |     das neue umfassende Zahlungssystem mit verschiedenen Zahlungsarten,
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> payment_terms.py:149:13
    |
147 |             try:
148 |                 return json.loads(config)
149 |             except:
    |             ^^^^^^
150 |                 return self._get_default_comprehensive_config()
151 |         return config
    |

W293 Blank line contains whitespace
   --> payment_terms.py:256:1
    |
254 |         """
255 |         Berechnet Zahlungsbetrag unter Ber├╝cksichtigung aller Rabatte.
256 |         
    | ^^^^^^^^
257 |         Args:
258 |             amount: Grundbetrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms.py:262:1
    |
260 |             quantity_amount: Auftragswert f├╝r Mengenrabatt
261 |             month: Monat f├╝r Saisonrabatt (1-12)
262 |             
    | ^^^^^^^^^^^^
263 |         Returns:
264 |             Dict mit Berechnungsdetails
    |
help: Remove whitespace from blank line

F841 Local variable `config` is assigned to but never used
   --> payment_terms.py:266:9
    |
264 |             Dict mit Berechnungsdetails
265 |         """
266 |         config = self.comprehensive_config
    |         ^^^^^^
267 |         payment_option = self._get_payment_option(payment_option_id)
    |
help: Remove assignment to unused variable `config`

W293 Blank line contains whitespace
   --> payment_terms.py:608:1
    |
606 |     """
607 |     Wrapper-Funktion f├╝r umfassende Zahlungsberechnungen.
608 |     
    | ^^^^
609 |     Args:
610 |         amount: Grundbetrag
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> payment_terms.py:611:49
    |
609 |     Args:
610 |         amount: Grundbetrag
611 |         payment_option_id: ID der Zahlungsoption  
    |                                                 ^^
612 |         quantity_amount: Optional - Auftragswert f├╝r Mengenrabatt
613 |         month: Optional - Monat f├╝r Saisonrabatt (1-12)
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> payment_terms.py:614:1
    |
612 |         quantity_amount: Optional - Auftragswert f├╝r Mengenrabatt
613 |         month: Optional - Monat f├╝r Saisonrabatt (1-12)
614 |         
    | ^^^^^^^^
615 |     Returns:
616 |         Dict mit Berechnungsdetails und angewandten Rabatten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms.py:643:1
    |
641 |     """
642 |     Gibt eine ├£bersicht ├╝ber alle verf├╝gbaren Rabatte f├╝r einen Betrag.
643 |     
    | ^^^^
644 |     Args:
645 |         amount: Grundbetrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms.py:648:1
    |
646 |         quantity_amount: Optional - Auftragswert f├╝r Mengenrabatt
647 |         month: Optional - Monat f├╝r Saisonrabatt
648 |         
    | ^^^^^^^^
649 |     Returns:
650 |         Dict mit Rabattinformationen
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
 --> payment_terms_ui.py:5:71
  |
3 | -------------------
4 |
5 | Erweiterte Streamlit-UI-Komponenten f├╝r die Verwaltung und Auswahl von 
  |                                                                       ^
6 | Zahlungsmodalit├ñten in der PDF-Generierung. Diese Komponenten wurden 
7 | erheblich erweitert um die neuen umfassenden Zahlungsoptionen zu unterst├╝tzen.
  |
help: Remove trailing whitespace

W291 Trailing whitespace
 --> payment_terms_ui.py:6:69
  |
5 | Erweiterte Streamlit-UI-Komponenten f├╝r die Verwaltung und Auswahl von 
6 | Zahlungsmodalit├ñten in der PDF-Generierung. Diese Komponenten wurden 
  |                                                                     ^
7 | erheblich erweitert um die neuen umfassenden Zahlungsoptionen zu unterst├╝tzen.
  |
help: Remove trailing whitespace

F401 `pdf_payment_integration.generate_comprehensive_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> payment_terms_ui.py:46:9
   |
44 |     from pdf_payment_integration import (
45 |         create_enhanced_payment_summary_page,
46 |         generate_comprehensive_offer_pdf,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
47 |     )
48 |     _PDF_INTEGRATION_AVAILABLE = True
   |
help: Remove unused import: `pdf_payment_integration.generate_comprehensive_offer_pdf`

W293 Blank line contains whitespace
  --> payment_terms_ui.py:81:1
   |
79 |         """
80 |         Rendert erweiterte Widget zur Auswahl von Zahlungsoptionen.
81 |         
   | ^^^^^^^^
82 |         Args:
83 |             total_amount: Gesamtbetrag f├╝r Berechnungen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> payment_terms_ui.py:87:1
   |
85 |             show_preview: Ob Vorschau angezeigt werden soll
86 |             use_legacy: Falls True, verwendet Legacy-System
87 |             
   | ^^^^^^^^^^^^
88 |         Returns:
89 |             Dict mit ausgew├ñhlter Zahlungsoption und Berechnungen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:311:1
    |
309 |         """
310 |         Rendert erweiterte Zahlungseinstellungen.
311 |         
    | ^^^^^^^^
312 |         Args:
313 |             key_prefix: Pr├ñfix f├╝r Streamlit-Keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:314:1
    |
312 |         Args:
313 |             key_prefix: Pr├ñfix f├╝r Streamlit-Keys
314 |             
    | ^^^^^^^^^^^^
315 |         Returns:
316 |             Dict mit erweiterten Einstellungen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:407:1
    |
405 |     """
406 |     Rendert Zahlungsauswahl f├╝r PDF-Integration.
407 |     
    | ^^^^
408 |     Args:
409 |         total_amount: Gesamtbetrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:413:1
    |
411 |         key_prefix: Key-Pr├ñfix
412 |         use_legacy: Ob Legacy-System verwendet werden soll
413 |         
    | ^^^^^^^^
414 |     Returns:
415 |         Zahlungsdaten oder None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:433:1
    |
431 |     """
432 |     Generiert PDF-Daten f├╝r ausgew├ñhlte Zahlungsoption.
433 |     
    | ^^^^
434 |     Args:
435 |         payment_selection: Ausgew├ñhlte Zahlungsoption
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:438:1
    |
436 |         project_data: Projektdaten
437 |         analysis_results: Analyseergebnisse
438 |         
    | ^^^^^^^^
439 |     Returns:
440 |         PDF-Bytes oder None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:626:1
    |
624 |         st.markdown("""
625 |         ## Zahlungsmodalit├ñten-System
626 |         
    | ^^^^^^^^
627 |         ### Neue Features:
628 |         - **Umfassende Zahlungsarten**: Bar, Raten, Finanzierung, Leasing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:632:1
    |
630 |         - **PDF-Integration**: Erweiterte Zahlungsseiten mit allen Details
631 |         - **Live-Vorschau**: Sofortige Berechnung und Anzeige
632 |         
    | ^^^^^^^^
633 |         ### Verwendung:
634 |         1. Zahlungsart ausw├ñhlen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> payment_terms_ui.py:638:1
    |
636 |         3. Vorschau pr├╝fen
637 |         4. PDF mit Zahlungsdetails generieren
638 |         
    | ^^^^^^^^
639 |         ### Legacy-Kompatibilit├ñt:
640 |         Das System unterst├╝tzt weiterhin alle bestehenden Zahlungsvarianten
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_atomizer.py:240:39
    |
238 |                     try:
239 |                         raw = doc.extract_image(xref)
240 |                         images.append(dict(xref=xref, sha=sha256(raw["image"])))
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
241 |                     except Exception:
242 |                         images.append(dict(xref=xref, sha=None))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_atomizer.py:242:39
    |
240 |                         images.append(dict(xref=xref, sha=sha256(raw["image"])))
241 |                     except Exception:
242 |                         images.append(dict(xref=xref, sha=None))
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^
243 |                 pg["images"] = images
    |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> pdf_atomizer.py:363:17
    |
362 |               if isinstance(v, safe_scalars):
363 | /                 try:
364 | |                     pdf.trailer[key] = v
365 | |                 except Exception:
366 | |                     pass  # still schweigend ├╝berspringen
    | |________________________^
367 |               # Nicht-skalare Werte NICHT zur├╝ckschreiben
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

W293 Blank line contains whitespace
  --> pdf_chart_generator_protected.py:43:1
   |
41 | class ProtectedChartPageGenerator:
42 |     """Generates chart pages with intelligent page protection.
43 |     
   | ^^^^
44 |     This generator uses reportlab.platypus with KeepTogether to ensure
45 |     that charts, titles, and descriptions stay together on the same page.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_chart_generator_protected.py:57:1
   |
55 |     ):
56 |         """Initialize protected chart page generator.
57 |         
   | ^^^^^^^^
58 |         Args:
59 |             analysis_results: Analysis results dictionary with chart bytes
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:136:1
    |
134 |     def generate(self, chart_keys: list[str]) -> bytes:
135 |         """Generates pages with selected charts using platypus.
136 |         
    | ^^^^^^^^
137 |         Args:
138 |             chart_keys: List of chart keys from analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:139:1
    |
137 |         Args:
138 |             chart_keys: List of chart keys from analysis_results
139 |         
    | ^^^^^^^^
140 |         Returns:
141 |             PDF bytes with chart pages
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:231:1
    |
229 |     def _create_protected_chart(self, chart_key: str) -> Any:
230 |         """Creates a protected chart element with title and description.
231 |         
    | ^^^^^^^^
232 |         Args:
233 |             chart_key: Chart key from analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:234:1
    |
232 |         Args:
233 |             chart_key: Chart key from analysis_results
234 |         
    | ^^^^^^^^
235 |         Returns:
236 |             Protected flowable or list of flowables
    |
help: Remove whitespace from blank line

F841 Local variable `img_reader` is assigned to but never used
   --> pdf_chart_generator_protected.py:257:13
    |
255 |         # Create chart image
256 |         try:
257 |             img_reader = ImageReader(io.BytesIO(chart_bytes))
    |             ^^^^^^^^^^
258 |             chart_image = Image(
259 |                 io.BytesIO(chart_bytes),
    |
help: Remove assignment to unused variable `img_reader`

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:300:1
    |
298 |     def _get_chart_name(self, chart_key: str) -> str:
299 |         """Gets friendly name for a chart key.
300 |         
    | ^^^^^^^^
301 |         Args:
302 |             chart_key: Chart key from analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:303:1
    |
301 |         Args:
302 |             chart_key: Chart key from analysis_results
303 |         
    | ^^^^^^^^
304 |         Returns:
305 |             Friendly name for the chart
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:348:1
    |
346 |     def _get_chart_description(self, chart_key: str) -> str | None:
347 |         """Gets description for a chart key.
348 |         
    | ^^^^^^^^
349 |         First checks if a dynamic description is available in analysis_results,
350 |         then falls back to static descriptions.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:351:1
    |
349 |         First checks if a dynamic description is available in analysis_results,
350 |         then falls back to static descriptions.
351 |         
    | ^^^^^^^^
352 |         Args:
353 |             chart_key: Chart key from analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:354:1
    |
352 |         Args:
353 |             chart_key: Chart key from analysis_results
354 |         
    | ^^^^^^^^
355 |         Returns:
356 |             Description text or None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:400:1
    |
398 |     ) -> Any:
399 |         """Creates a protected table element with title.
400 |         
    | ^^^^^^^^
401 |         Args:
402 |             table_data: Table data as list of lists
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:405:1
    |
403 |             title_text: Title text
404 |             table_id: Table identifier for logging
405 |         
    | ^^^^^^^^
406 |         Returns:
407 |             Protected flowable or list of flowables
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:444:1
    |
442 |     ) -> Any:
443 |         """Creates a protected financing section.
444 |         
    | ^^^^^^^^
445 |         Args:
446 |             title_text: Section title text
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:450:1
    |
448 |             description_text: Optional description text
449 |             section_id: Section identifier for logging
450 |         
    | ^^^^^^^^
451 |         Returns:
452 |             Protected flowable or list of flowables
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:494:1
    |
492 |     def get_protection_summary(self) -> dict | None:
493 |         """Get page protection summary.
494 |         
    | ^^^^^^^^
495 |         Returns:
496 |             Protection summary dictionary or None if protection is disabled
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:512:1
    |
510 | ) -> bytes:
511 |     """Helper function to create protected chart pages.
512 |     
    | ^^^^
513 |     Args:
514 |         analysis_results: Analysis results dictionary with chart bytes
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_generator_protected.py:518:1
    |
516 |         theme: Theme configuration
517 |         logger: Optional logger instance
518 |     
    | ^^^^
519 |     Returns:
520 |         PDF bytes with protected chart pages
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_chart_renderer.py:22:1
   |
20 |     """
21 |     Rendert ALLE ausgew├ñhlten Charts ins PDF
22 |     
   | ^^^^
23 |     Args:
24 |         pdf: FPDF-Instance
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_chart_renderer.py:29:1
   |
27 |         chart_friendly_names: Mapping Chart-Key ÔåÆ Freundlicher Name
28 |         max_charts_per_page: Max. Anzahl Charts pro Seite
29 |         
   | ^^^^^^^^
30 |     Returns:
31 |         Anzahl der hinzugef├╝gten Charts
   |
help: Remove whitespace from blank line

SIM108 Use ternary operator `y_position = pdf.get_y() if charts_on_current_page == 0 else pdf.get_y() + 5` instead of `if`-`else`-block
  --> pdf_chart_renderer.py:70:13
   |
69 |               # Position berechnen
70 | /             if charts_on_current_page == 0:
71 | |                 y_position = pdf.get_y()
72 | |             else:
73 | |                 y_position = pdf.get_y() + 5
   | |____________________________________________^
74 |
75 |               # Chart einf├╝gen
   |
help: Replace `if`-`else`-block with `y_position = pdf.get_y() if charts_on_current_page == 0 else pdf.get_y() + 5`

W293 Blank line contains whitespace
  --> pdf_chart_renderer.py:97:1
   |
95 |     """
96 |     Erstellt eine ├£bersichtsseite mit allen Charts
97 |     
   | ^^^^
98 |     Args:
99 |         pdf: FPDF-Instance
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_renderer.py:153:1
    |
151 |     """
152 |     Rendert Financial Tools Ergebnisse ins PDF
153 |     
    | ^^^^
154 |     Args:
155 |         pdf: FPDF-Instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_renderer.py:157:1
    |
155 |         pdf: FPDF-Instance
156 |         financial_tools_results: Dict mit Financial Tools Ergebnissen
157 |         
    | ^^^^^^^^
158 |     Returns:
159 |         Anzahl der hinzugef├╝gten Seiten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_chart_renderer.py:288:1
    |
286 |     """
287 |     Erstellt Statistiken ├╝ber Charts
288 |     
    | ^^^^
289 |     Returns:
290 |         Dict mit Statistiken
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
  --> pdf_erstellen_komplett.py:14:5
   |
12 |     from pdf_template_engine import build_dynamic_data, generate_custom_offer_pdf
13 | except Exception as e:
14 |     raise RuntimeError(f"pdf_template_engine nicht verf├╝gbar: {e}")
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |

RET504 Unnecessary assignment to `legacy_pdf` before `return` statement
   --> pdf_erstellen_komplett.py:109:16
    |
107 |             disable_main_template_combiner=True,  # wichtig, sonst Rekursion
108 |         )
109 |         return legacy_pdf
    |                ^^^^^^^^^^
110 |     except Exception:
111 |         return None
    |
help: Remove unnecessary assignment

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pdf_erstellen_komplett.py:170:9
    |
168 |         import streamlit as st
169 |     except Exception:
170 |         raise RuntimeError("Streamlit nicht verf├╝gbar. UI kann nicht gerendert werden.")
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
171 |
172 |     base_dir = Path(__file__).parent
    |

F401 `reportlab.platypus.Frame` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> pdf_generator.py:67:9
   |
65 |     from reportlab.platypus import (
66 |         Flowable,
67 |         Frame,
   |         ^^^^^
68 |         Image,
69 |         KeepInFrame,
   |
help: Remove unused import

F401 `reportlab.platypus.PageTemplate` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> pdf_generator.py:72:9
   |
70 |         KeepTogether,
71 |         PageBreak,
72 |         PageTemplate,
   |         ^^^^^^^^^^^^
73 |         Paragraph,
74 |         SimpleDocTemplate,
   |
help: Remove unused import

F401 `pricing.dynamic_key_manager.KeyCategory` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> pdf_generator.py:143:72
    |
141 |         """Initialize pricing system integration"""
142 |         try:
143 |             from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
    |                                                                        ^^^^^^^^^^^
144 |             self.key_manager = DynamicKeyManager()
145 |             self.pricing_keys = {}
    |
help: Remove unused import: `pricing.dynamic_key_manager.KeyCategory`

F841 Local variable `category_keys` is assigned to but never used
   --> pdf_generator.py:194:21
    |
192 |                         prefix = category.replace('_pricing', '').upper()
193 |
194 |                     category_keys = self.key_manager.generate_keys(
    |                     ^^^^^^^^^^^^^
195 |                         data,
196 |                         prefix=prefix,
    |
help: Remove assignment to unused variable `category_keys`

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
   --> pdf_generator.py:441:13
    |
439 |           quantity_key = f"{base_key}_QUANTITY"
440 |           if quantity_key in self.pricing_keys:
441 | /             try:
442 | |                 quantity = int(float(self.pricing_keys[quantity_key]))
443 | |             except (ValueError, TypeError):
444 | |                 pass
    | |____________________^
445 |
446 |           # Look for unit price key
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

F811 Redefinition of unused `get_all_dynamic_keys` from line 1093
    --> pdf_generator.py:1412:9
     |
1410 |             return b""
1411 |
1412 |     def get_all_dynamic_keys(self) -> dict[str, str]:
     |         ^^^^^^^^^^^^^^^^^^^^ `get_all_dynamic_keys` redefined here
1413 |         """Get all dynamic keys for PDF template population
     |
    ::: pdf_generator.py:1093:9
     |
1091 |             self.story.append(table)
1092 |
1093 |     def get_all_dynamic_keys(self) -> dict[str, str]:
     |         -------------------- previous definition of `get_all_dynamic_keys` here
1094 |         """Get all dynamic keys for PDF template population
     |
help: Remove definition: `get_all_dynamic_keys`

F811 Redefinition of unused `populate_template_placeholders` from line 1208
    --> pdf_generator.py:1459:9
     |
1457 |         return basic_keys
1458 |
1459 |     def populate_template_placeholders(self, template_content: str) -> str:
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `populate_template_placeholders` redefined here
1460 |         """Populate template placeholders with dynamic keys
     |
    ::: pdf_generator.py:1208:9
     |
1206 |         return flattened
1207 |
1208 |     def populate_template_placeholders(self, template_content: str) -> str:
     |         ------------------------------ previous definition of `populate_template_placeholders` here
1209 |         """Populate template placeholders with dynamic keys
     |
help: Remove definition: `populate_template_placeholders`

F811 Redefinition of unused `get_pricing_summary` from line 1281
    --> pdf_generator.py:1480:9
     |
1478 |         return populated_content
1479 |
1480 |     def get_pricing_summary(self) -> dict[str, Any]:
     |         ^^^^^^^^^^^^^^^^^^^ `get_pricing_summary` redefined here
1481 |         """Get pricing summary for PDF display
     |
    ::: pdf_generator.py:1281:9
     |
1279 |         }
1280 |
1281 |     def get_pricing_summary(self) -> dict[str, Any]:
     |         ------------------- previous definition of `get_pricing_summary` here
1282 |         """Get pricing summary for external use
     |
help: Remove definition: `get_pricing_summary`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> pdf_generator.py:1515:13
     |
1513 |         categories = {}
1514 |
1515 |         for key in self.pricing_keys.keys():
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1516 |             if 'COMPONENT' in key:
1517 |                 categories['Komponenten'] = categories.get(
     |
help: Remove `.keys()`

SIM113 Use `enumerate()` for index variable `displayed_keys` in `for` loop
    --> pdf_generator.py:1564:13
     |
1563 |             data.append([display_key, str(value), category])
1564 |             displayed_keys += 1
     |             ^^^^^^^^^^^^^^^^^^^
1565 |
1566 |         if len(sorted_keys) > max_keys:
     |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_generator.py:1774:9
     |
1772 |       # Debug-Ausgabe f├╝r Segment-Reihenfolge Photovoltaik/W├ñrmepumpe
1773 |       if segment_order:
1774 | /         try:
1775 | |             print(f"[PDF] Segment Order (runtime): {segment_order}")
1776 | |         except Exception:
1777 | |             pass
     | |________________^
1778 |       additional_pdf = None
1779 |       try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `tri` is assigned to but never used
    --> pdf_generator.py:1896:21
     |
1894 |                     tri = _rl_canvas.Path()
1895 |                 except Exception:
1896 |                     tri = None
     |                     ^^^
1897 |                 accent = Color(27/255.0, 54/255.0, 112/255.0)
1898 |                 try:
     |
help: Remove assignment to unused variable `tri`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_generator.py:1911:21
     |
1909 |                       canv.drawPath(p, stroke=0, fill=1)
1910 |                   finally:
1911 | /                     try:
1912 | |                         canv.restoreState()
1913 | |                     except Exception:
1914 | |                         pass
     | |____________________________^
1915 |
1916 |                   # Footer-Hintergrundleiste (minimal bl├ñulicher als Prim├ñrfarbe)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_generator.py:1957:21
     |
1955 |                   # Linker Footer-Text: Kundenname, falls vorhanden
1956 |                   if footer_left_text:
1957 | /                     try:
1958 | |                         canv.drawString(20, center_y, str(footer_left_text))
1959 | |                     except Exception:
1960 | |                         pass
     | |____________________________^
1961 |                   # Rechte Nummer "Seite x von XX"
1962 |                   page_num = start_number + idx
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `paths_to_append` is assigned to but never used
    --> pdf_generator.py:2029:5
     |
2027 |     # This section appends product datasheets, company documents, and chart pages to the PDF
2028 |
2029 |     paths_to_append: list[str] = []
     |     ^^^^^^^^^^^^^^^
2030 |     chart_pages_to_add: bytes | None = None
     |
help: Remove assignment to unused variable `paths_to_append`

F841 Local variable `chart_pages_to_add` is assigned to but never used
    --> pdf_generator.py:2030:5
     |
2029 |     paths_to_append: list[str] = []
2030 |     chart_pages_to_add: bytes | None = None
     |     ^^^^^^^^^^^^^^^^^^
2031 |
2032 |     # Get options
     |
help: Remove assignment to unused variable `chart_pages_to_add`

W293 Blank line contains whitespace
    --> pdf_generator.py:2072:1
     |
2070 |             # Get pv_details for accessing component IDs
2071 |             pv_details = safe_project_data.get('pv_details', {})
2072 |             
     | ^^^^^^^^^^^^
2073 |             # Try to get module ID
2074 |             try:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2100:1
     |
2098 |             except:
2099 |                 pass
2100 |             
     | ^^^^^^^^^^^^
2101 |             # Add accessory components if enabled
2102 |             try:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2118:1
     |
2116 |             except:
2117 |                 pass
2118 |             
     | ^^^^^^^^^^^^
2119 |             # Remove duplicates
2120 |             product_ids_in_project = list(set(filter(None, product_ids_in_project)))
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2121:1
     |
2119 |             # Remove duplicates
2120 |             product_ids_in_project = list(set(filter(None, product_ids_in_project)))
2121 |             
     | ^^^^^^^^^^^^
2122 |             # Debug output
2123 |             print(f"\n{'='*80}")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2177:1
     |
2175 |                         'reason': f'Error: {e}'
2176 |                     })
2177 |             
     | ^^^^^^^^^^^^
2178 |             # Summary debug output
2179 |             print(f"\n{'='*80}")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2189:1
     |
2187 |                 print(f"  [MISSING] ID {item['id']}: {item.get('model', 'Unknown')} -> {item['reason']}")
2188 |             print(f"{'='*80}\n")
2189 |             
     | ^^^^^^^^^^^^
2190 |     except Exception as e:
2191 |         print(f"[PDF] Error loading product datasheets: {e}")
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2293:1
     |
2291 |             print(f"[PDF] Error in append process: {e}")
2292 |             # Continue with main_pdf_bytes unchanged
2293 |     
     | ^^^^
2294 |     ENDE DER ALTEN IMPLEMENTIERUNG
2295 |     """
     |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `cleaned` before `return` statement
    --> pdf_generator.py:2388:16
     |
2386 |         # Mehrfache Leerzeichen normalisieren
2387 |         cleaned = re.sub(r"\s+", " ", cleaned).strip()
2388 |         return cleaned
     |                ^^^^^^^
2389 |     except Exception:
2390 |         return raw_title
     |
help: Remove unnecessary assignment

N802 Function name `showPage` should be lowercase
    --> pdf_generator.py:2674:9
     |
2672 |         self.current_chapter_title_for_header = ''
2673 |
2674 |     def showPage(self):
     |         ^^^^^^^^
2675 |         self._saved_page_states.append(dict(self.__dict__))
2676 |         super().showPage()
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_generator.py:2690:55
     |
2689 | class SetCurrentChapterTitle(Flowable):
2690 |     def __init__(self, title): Flowable.__init__(self); self.title = title
     |                                                       ^
2691 |     def wrap(self, availWidth, availHeight): return 0, 0
     |

N803 Argument name `availWidth` should be lowercase
    --> pdf_generator.py:2691:20
     |
2689 | class SetCurrentChapterTitle(Flowable):
2690 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2691 |     def wrap(self, availWidth, availHeight): return 0, 0
     |                    ^^^^^^^^^^
2692 |
2693 |     def draw(self):
     |

N803 Argument name `availHeight` should be lowercase
    --> pdf_generator.py:2691:32
     |
2689 | class SetCurrentChapterTitle(Flowable):
2690 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2691 |     def wrap(self, availWidth, availHeight): return 0, 0
     |                                ^^^^^^^^^^^
2692 |
2693 |     def draw(self):
     |

N803 Argument name `spaceBefore` should be lowercase
    --> pdf_generator.py:2701:102
     |
2700 | class SimpleHRFlowable(Flowable):
2701 |     def __init__(self, width="100%", thickness=0.5, color=colors.HexColor(SEPARATOR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=ÔÇª
     |                                                                                                      ^^^^^^^^^^^^^^^^^^
2702 |         Flowable.__init__(self)
2703 |         self.width_spec = width
     |

N803 Argument name `spaceAfter` should be lowercase
    --> pdf_generator.py:2701:122
     |
2700 | ÔÇª
2701 | ÔÇª.HexColor(SEPARATOR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=0.2*cm, vAlign='BOTTOM'):
     |                                                           ^^^^^^^^^^^^^^^^^
2702 | ÔÇª
2703 | ÔÇª
     |

N803 Argument name `vAlign` should be lowercase
    --> pdf_generator.py:2701:141
     |
2700 | ÔÇª
2701 | ÔÇªR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=0.2*cm, vAlign='BOTTOM'):
     |                                                            ^^^^^^^^^^^^^^^
2702 | ÔÇª
2703 | ÔÇª
     |

N803 Argument name `availWidth` should be lowercase
    --> pdf_generator.py:2726:20
     |
2724 |         self.canv.restoreState()
2725 |
2726 |     def wrap(self, availWidth, availHeight):
     |                    ^^^^^^^^^^
2727 |         self.drawWidth = availWidth  # Nutze die verf├╝gbare Breite
2728 |         if isinstance(self.width_spec, str) and self.width_spec.endswith('%'):
     |

N803 Argument name `availHeight` should be lowercase
    --> pdf_generator.py:2726:32
     |
2724 |         self.canv.restoreState()
2725 |
2726 |     def wrap(self, availWidth, availHeight):
     |                                ^^^^^^^^^^^
2727 |         self.drawWidth = availWidth  # Nutze die verf├╝gbare Breite
2728 |         if isinstance(self.width_spec, str) and self.width_spec.endswith('%'):
     |

N802 Function name `getSpaceBefore` should be lowercase
    --> pdf_generator.py:2734:9
     |
2732 |         return self.drawWidth, self.thickness + self.spaceBefore + self.spaceAfter
2733 |
2734 |     def getSpaceBefore(self):
     |         ^^^^^^^^^^^^^^
2735 |         return self.spaceBefore
     |

N802 Function name `getSpaceAfter` should be lowercase
    --> pdf_generator.py:2737:9
     |
2735 |         return self.spaceBefore
2736 |
2737 |     def getSpaceAfter(self):
     |         ^^^^^^^^^^^^^
2738 |         return self.spaceAfter
     |

F811 Redefinition of unused `SetCurrentChapterTitle` from line 2689
    --> pdf_generator.py:2741:7
     |
2741 | class SetCurrentChapterTitle(Flowable):
     |       ^^^^^^^^^^^^^^^^^^^^^^ `SetCurrentChapterTitle` redefined here
2742 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2743 |     def wrap(self, availWidth, availHeight): return 0, 0
     |
    ::: pdf_generator.py:2689:7
     |
2689 | class SetCurrentChapterTitle(Flowable):
     |       ---------------------- previous definition of `SetCurrentChapterTitle` here
2690 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2691 |     def wrap(self, availWidth, availHeight): return 0, 0
     |
help: Remove definition: `SetCurrentChapterTitle`

E702 Multiple statements on one line (semicolon)
    --> pdf_generator.py:2742:55
     |
2741 | class SetCurrentChapterTitle(Flowable):
2742 |     def __init__(self, title): Flowable.__init__(self); self.title = title
     |                                                       ^
2743 |     def wrap(self, availWidth, availHeight): return 0, 0
     |

N803 Argument name `availWidth` should be lowercase
    --> pdf_generator.py:2743:20
     |
2741 | class SetCurrentChapterTitle(Flowable):
2742 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2743 |     def wrap(self, availWidth, availHeight): return 0, 0
     |                    ^^^^^^^^^^
2744 |
2745 |     def draw(self):
     |

N803 Argument name `availHeight` should be lowercase
    --> pdf_generator.py:2743:32
     |
2741 | class SetCurrentChapterTitle(Flowable):
2742 |     def __init__(self, title): Flowable.__init__(self); self.title = title
2743 |     def wrap(self, availWidth, availHeight): return 0, 0
     |                                ^^^^^^^^^^^
2744 |
2745 |     def draw(self):
     |

F841 Local variable `text_content` is assigned to but never used
    --> pdf_generator.py:2860:5
     |
2859 | def _draw_cover_letter(c: canvas.Canvas, theme: dict, offer_data: dict):
2860 |     text_content = get_cover_letter_template(
     |     ^^^^^^^^^^^^
2861 |         customer_name=offer_data["customer"]["name"],
2862 |         offer_id=offer_data["offer_id"]
     |
help: Remove assignment to unused variable `text_content`

F841 Local variable `results` is assigned to but never used
    --> pdf_generator.py:2902:5
     |
2900 |     c.drawString(2*cm, A4[1] - 2*cm, "Detaillierte Wirtschaftlichkeitsanalyse")
2901 |
2902 |     results = run_all_extended_analyses(offer_data)
     |     ^^^^^^^
2903 |
2904 |     # Hier folgt die Logik, um die 'results' formatiert auf der PDF-Seite auszugeben.
     |
help: Remove assignment to unused variable `results`

W293 Blank line contains whitespace
    --> pdf_generator.py:2965:1
     |
2963 |     """
2964 |     Gibt eine ausf├╝hrliche, pers├Ânliche und ansprechende Beschreibung f├╝r das angegebene Diagramm zur├╝ck.
2965 |     
     | ^^^^
2966 |     Args:
2967 |         chart_key: Schl├╝ssel des Diagramms
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:2970:1
     |
2968 |         texts: Text-Dictionary
2969 |         analysis_results: Optional - Analyseergebnisse mit dynamisch generierten Beschreibungen
2970 |         
     | ^^^^^^^^
2971 |     Returns:
2972 |         Formatierte Beschreibung als String
     |
help: Remove whitespace from blank line

B007 Loop control variable `j_pdf` not used within loop body
    --> pdf_generator.py:3317:13
     |
3315 |         row_items_formatted_pdf = [
3316 |             Paragraph(str(i_pdf + 1), STYLES.get(header_config_pdf[0][4]))]
3317 |         for j_pdf, header_conf_item in enumerate(header_config_pdf[1:]):
     |             ^^^^^
3318 |             result_key_pdf, unit_pdf, precision_pdf, style_name_data_pdf = header_conf_item[
3319 |                 1], header_conf_item[2], header_conf_item[3], header_conf_item[4]
     |
help: Rename unused `j_pdf` to `_j_pdf`

F821 Undefined name `Tuple`
    --> pdf_generator.py:3417:42
     |
3415 |         ('warranty_years', 'product_warranty')
3416 |     ]
3417 |     component_specific_fields_prod: list[Tuple[str, str]] = []
     |                                          ^^^^^
3418 |     cat_lower_prod = str(product_details.get('category', "")).lower()
     |

F821 Undefined name `_create_plaintext_pdf_fallback`
    --> pdf_generator.py:3790:20
     |
3788 |     if not _REPORTLAB_AVAILABLE:
3789 |         if project_data and texts and company_info:
3790 |             return _create_plaintext_pdf_fallback(project_data, analysis_results, texts, company_info, selected_offer_title_text, seÔÇª
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3791 |         return None
     |

F841 Local variable `chart_config` is assigned to but never used
    --> pdf_generator.py:3926:5
     |
3924 |     #  NEUE EXTENDED FEATURES (aus Session State)
3925 |     financing_config = inclusion_options.get("financing_config", {})
3926 |     chart_config = inclusion_options.get("chart_config", {})
     |     ^^^^^^^^^^^^
3927 |     custom_content_items = inclusion_options.get("custom_content_items", [])
3928 |     pdf_editor_config = inclusion_options.get("pdf_editor_config", {})
     |
help: Remove assignment to unused variable `chart_config`

F841 Local variable `pdf_editor_config` is assigned to but never used
    --> pdf_generator.py:3928:5
     |
3926 |     chart_config = inclusion_options.get("chart_config", {})
3927 |     custom_content_items = inclusion_options.get("custom_content_items", [])
3928 |     pdf_editor_config = inclusion_options.get("pdf_editor_config", {})
     |     ^^^^^^^^^^^^^^^^^
3929 |     pdf_design_config = inclusion_options.get("pdf_design_config", {})
     |
help: Remove assignment to unused variable `pdf_editor_config`

F821 Undefined name `_create_plaintext_pdf_fallback`
    --> pdf_generator.py:5033:16
     |
5031 |         main_pdf_bytes = main_offer_buffer.getvalue()
5032 |     except Exception:
5033 |         return _create_plaintext_pdf_fallback(project_data, analysis_results, texts, company_info, selected_offer_title_text, selectÔÇª
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5034 |     finally:
5035 |         main_offer_buffer.close()
     |

W293 Blank line contains whitespace
    --> pdf_generator.py:5081:1
     |
5079 |     """
5080 |     H├ñngt Produktdatenbl├ñtter und Firmendokumente an die Haupt-PDF an.
5081 |     
     | ^^^^
5082 |     Diese Funktion implementiert die vollst├ñndige Logik zum Anh├ñngen von:
5083 |     - Produktdatenbl├ñttern f├╝r alle ausgew├ñhlten Komponenten (Module, Wechselrichter, Speicher, Zubeh├Âr)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5085:1
     |
5083 |     - Produktdatenbl├ñttern f├╝r alle ausgew├ñhlten Komponenten (Module, Wechselrichter, Speicher, Zubeh├Âr)
5084 |     - Firmendokumenten (Vollmachten, AGBs, Zertifikate)
5085 |     
     | ^^^^
5086 |     Args:
5087 |         main_pdf_bytes: Die Haupt-PDF als Bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5096:1
     |
5094 |         inclusion_options: Optionale erweiterte Optionen mit manueller Datenblatt-Auswahl und Chart-Auswahl
5095 |         analysis_results: Analyse-Ergebnisse f├╝r Chart-Generierung
5096 |         
     | ^^^^^^^^
5097 |     Returns:
5098 |         bytes: Die finale PDF mit angeh├ñngten Datenbl├ñttern, Dokumenten und Charts
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5099:1
     |
5097 |     Returns:
5098 |         bytes: Die finale PDF mit angeh├ñngten Datenbl├ñttern, Dokumenten und Charts
5099 |         
     | ^^^^^^^^
5100 |     Requirements:
5101 |         - 5.1: PV-Module Datenbl├ñtter laden
     |
help: Remove whitespace from blank line

E722 Do not use bare `except`
    --> pdf_generator.py:5398:13
     |
5396 |                 from theming.pdf_styles import get_theme
5397 |                 theme = get_theme('default')
5398 |             except:
     |             ^^^^^^
5399 |                 theme = None
5400 |                 logging.info("Kein Theme gefunden, verwende Standard")
     |

W293 Blank line contains whitespace
    --> pdf_generator.py:5713:1
     |
5711 |     main_text = get_text(texts, 'pdf_no_data_main_text',
5712 |                          '''Liebe Kundin, lieber Kunde,
5713 |         
     | ^^^^^^^^
5714 |         f├╝r die Erstellung Ihres individuellen Photovoltaik-Angebots ben├Âtigen wir noch einige wichtige Informationen:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5715:1
     |
5714 |         f├╝r die Erstellung Ihres individuellen Photovoltaik-Angebots ben├Âtigen wir noch einige wichtige Informationen:
5715 |         
     | ^^^^^^^^
5716 |         <b>Erforderliche Daten:</b>
5717 |         ÔÇó Ihre Kontaktdaten (vollst├ñndig)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5721:1
     |
5719 |         ÔÇó Stromverbrauchsdaten Ihres Haushalts
5720 |         ÔÇó Technische Angaben zu Ihrem Dach/Standort
5721 |         
     | ^^^^^^^^
5722 |         <b>N├ñchste Schritte:</b>
5723 |         1. Vervollst├ñndigen Sie die Dateneingabe in der Anwendung
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_generator.py:5726:1
     |
5724 |         2. F├╝hren Sie die Wirtschaftlichkeitsberechnung durch
5725 |         3. Generieren Sie anschlie├ƒend Ihr personalisiertes PDF-Angebot
5726 |         
     | ^^^^^^^^
5727 |         Bei Fragen stehen wir Ihnen gerne zur Verf├╝gung!''')
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> pdf_generator.py:5763:44
     |
5761 |     Args:
5762 |         project_data: Projektdaten
5763 |         analysis_results: Analyseergebnisse  
     |                                            ^^
5764 |         company_info: Firmeninformationen
     |
help: Remove trailing whitespace

F811 Redefinition of unused `validate_pdf_data` from line 5757
    --> pdf_generator.py:5791:5
     |
5791 | def validate_pdf_data(project_data: dict[str, Any], analysis_results: dict[str, Any], company_info: dict[str, Any]) -> dict[str, AnyÔÇª
     |     ^^^^^^^^^^^^^^^^^ `validate_pdf_data` redefined here
5792 |     """
5793 |     ├ûffentliche Funktion zur PDF-Datenvalidierung.
     |
    ::: pdf_generator.py:5757:5
     |
5757 | def validate_pdf_data(project_data: dict[str, Any], analysis_results: dict[str, Any], company_info: dict[str, Any]) -> dict[str, AnyÔÇª
     |     ----------------- previous definition of `validate_pdf_data` here
5758 |     """
5759 |     ├ûffentliche Funktion zur PDF-Datenvalidierung.
     |
help: Remove definition: `validate_pdf_data`

W291 Trailing whitespace
    --> pdf_generator.py:5797:44
     |
5795 |     Args:
5796 |         project_data: Projektdaten
5797 |         analysis_results: Analyseergebnisse  
     |                                            ^^
5798 |         company_info: Firmeninformationen
     |
help: Remove trailing whitespace

F811 Redefinition of unused `create_fallback_pdf` from line 5774
    --> pdf_generator.py:5808:5
     |
5808 | def create_fallback_pdf(issues: list[str], warnings: list[str], texts: dict[str, str]) -> bytes:
     |     ^^^^^^^^^^^^^^^^^^^ `create_fallback_pdf` redefined here
5809 |     """
5810 |     ├ûffentliche Funktion zur Erstellung einer Fallback-PDF.
     |
    ::: pdf_generator.py:5774:5
     |
5774 | def create_fallback_pdf(issues: list[str], warnings: list[str], texts: dict[str, str]) -> bytes:
     |     ------------------- previous definition of `create_fallback_pdf` here
5775 |     """
5776 |     ├ûffentliche Funktion zur Erstellung einer Fallback-PDF.
     |
help: Remove definition: `create_fallback_pdf`

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:8:1
   |
 6 | VERWENDUNG:
 7 |     from pdf_generator_patch import patch_pdf_generator
 8 |     
   | ^^^^
 9 |     # Vor PDF-Erstellung:
10 |     analysis_results = patch_pdf_generator(
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:15:1
   |
13 |         analysis_results=analysis_results
14 |     )
15 |     
   | ^^^^
16 |     # Dann normal PDF erstellen mit erweiterten analysis_results
17 | """
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:32:1
   |
30 |     """
31 |     MASTER-PATCH: Bereitet analysis_results f├╝r vollst├ñndigen PDF-Export vor
32 |     
   | ^^^^
33 |     Sammelt ALLE Charts aus:
34 |     - calculation_results (perform_calculations)
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> pdf_generator_patch.py:35:39
   |
33 |     Sammelt ALLE Charts aus:
34 |     - calculation_results (perform_calculations)
35 |     - analysis_results (Analyse-Modul) 
   |                                       ^
36 |     - advanced_charts (Neue Features)
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:37:1
   |
35 |     - analysis_results (Analyse-Modul) 
36 |     - advanced_charts (Neue Features)
37 |     
   | ^^^^
38 |     Args:
39 |         project_data: Projektdaten
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:42:1
   |
40 |         calculation_results: Von perform_calculations()
41 |         analysis_results: Von analysis.py
42 |         
   | ^^^^^^^^
43 |     Returns:
44 |         Vollst├ñndige analysis_results mit ALLEN verf├╝gbaren Charts
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:71:1
   |
69 |     """
70 |     F├╝gt Charts zu einem bestehenden FPDF-PDF hinzu
71 |     
   | ^^^^
72 |     Args:
73 |         pdf: FPDF-Instance
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_generator_patch.py:76:1
   |
74 |         pdf_options: PDF-Optionen mit selected_charts_for_pdf
75 |         analysis_results: Vollst├ñndige Analysis Results
76 |         
   | ^^^^^^^^
77 |     Returns:
78 |         Statistiken ├╝ber hinzugef├╝gte Charts
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:102:1
    |
100 |     """
101 |     Z├ñhlt verf├╝gbare vs. fehlende Charts
102 |     
    | ^^^^
103 |     Returns:
104 |         Tuple (verf├╝gbar, fehlend)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:129:1
    |
127 |     """
128 |     AUTO-PATCH: Patcht Session State automatisch wenn Berechnung durchgef├╝hrt wurde
129 |     
    | ^^^^
130 |     Verwendung in admin_panel.py oder gui.py:
131 |         from pdf_generator_patch import auto_patch_session_state
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:132:1
    |
130 |     Verwendung in admin_panel.py oder gui.py:
131 |         from pdf_generator_patch import auto_patch_session_state
132 |         
    | ^^^^^^^^
133 |         # Nach perform_calculations():
134 |         auto_patch_session_state()
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:176:1
    |
174 |     """
175 |     Gibt Liste aller verf├╝gbaren Chart-Keys zur├╝ck
176 |     
    | ^^^^
177 |     Args:
178 |         analysis_results: Analysis Results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:179:1
    |
177 |     Args:
178 |         analysis_results: Analysis Results
179 |         
    | ^^^^^^^^
180 |     Returns:
181 |         Liste der verf├╝gbaren Chart-Keys
    |
help: Remove whitespace from blank line

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> pdf_generator_patch.py:187:9
    |
185 |     available_charts = []
186 |
187 |     for chart_key in CHART_KEY_TO_FRIENDLY_NAME_MAP.keys():
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
188 |         if chart_key in analysis_results and analysis_results[chart_key] is not None:
189 |             available_charts.append(chart_key)
    |
help: Remove `.keys()`

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:200:1
    |
198 |     """
199 |     Empfiehlt Charts basierend auf Projektdaten
200 |     
    | ^^^^
201 |     Args:
202 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_generator_patch.py:204:1
    |
202 |         project_data: Projektdaten
203 |         analysis_results: Analysis Results
204 |         
    | ^^^^^^^^
205 |     Returns:
206 |         Liste empfohlener Chart-Keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_helpers.py:12:1
   |
10 |     """
11 |     Flowable um den Seitentitel f├╝r die Kopfzeile zu setzen
12 |     
   | ^^^^
13 |     Verwendung:
14 |     story.append(PageTitleSetter("Technische Komponenten"))
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_helpers.py:32:1
   |
30 |     """
31 |     Flowable um die Gesamtzahl der Seiten im Canvas zu setzen
32 |     
   | ^^^^
33 |     Wird automatisch am Ende des PDF-Erstellungsprozesses aufgerufen
34 |     """
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_helpers.py:50:1
   |
48 |     """
49 |     F├╝gt einen Seitentitel zur Story hinzu, der in der Kopfzeile angezeigt wird
50 |     
   | ^^^^
51 |     Args:
52 |         story: Die PDF Story (Liste von Flowables)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_helpers.py:61:1
   |
59 |     """
60 |     Erstellt das PDF mit korrekten Seitenzahlen in zwei Durchl├ñufen
61 |     
   | ^^^^
62 |     Args:
63 |         doc: SimpleDocTemplate
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_helpers.py:65:1
   |
63 |         doc: SimpleDocTemplate
64 |         story: Liste der PDF-Inhalte
65 |         
   | ^^^^^^^^
66 |     Returns:
67 |         bytes: PDF-Bytes
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:113:1
    |
111 |     Erstellt ein Mapping von Abschnitts-Keys zu benutzerfreundlichen Titeln
112 |     f├╝r die Kopfzeilen
113 |     
    | ^^^^
114 |     Returns:
115 |         dict: Mapping von section_key zu display_title
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:138:1
    |
136 |     """
137 |     Beispiel-Integration in die bestehende PDF-Generierung
138 |     
    | ^^^^
139 |     Diese Funktion zeigt, wie die dynamischen Header in den bestehenden
140 |     pdf_generator.py Code integriert werden k├Ânnen.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:145:1
    |
143 |     integration_example = '''
144 |     # In der bestehenden generate_offer_pdf Funktion:
145 |     
    | ^^^^
146 |     from pdf_helpers import add_page_title_to_story, create_section_title_mapping
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:147:1
    |
146 |     from pdf_helpers import add_page_title_to_story, create_section_title_mapping
147 |     
    | ^^^^
148 |     # Titel-Mapping erstellen
149 |     section_titles = create_section_title_mapping()
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:150:1
    |
148 |     # Titel-Mapping erstellen
149 |     section_titles = create_section_title_mapping()
150 |     
    | ^^^^
151 |     # In der Schleife f├╝r die Sektionen:
152 |     for section_key in sections_to_include:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_helpers.py:156:1
    |
154 |             # Seitentitel f├╝r Header setzen
155 |             add_page_title_to_story(story, section_titles[section_key])
156 |         
    | ^^^^^^^^
157 |         # Bestehender Sektions-Code...
158 |         if section_key == "ProjectOverview":
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `integration_example` before `return` statement
   --> pdf_helpers.py:165:12
    |
163 |     '''
164 |
165 |     return integration_example
    |            ^^^^^^^^^^^^^^^^^^^
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> pdf_integration_helper.py:20:1
   |
18 |     """
19 |     Integriert ausgew├ñhlte Charts in einen bestehenden PDF-Generator
20 |     
   | ^^^^
21 |     Args:
22 |         pdf_generator: Bestehender PDF-Generator (FPDF oder ├ñhnlich)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_integration_helper.py:25:1
   |
23 |         pdf_options: PDF-Optionen inkl. selected_charts_for_pdf
24 |         analysis_results: Alle Analyse-Ergebnisse
25 |         
   | ^^^^^^^^
26 |     Returns:
27 |         Dict mit Integrations-Statistiken
   |
help: Remove whitespace from blank line

F401 `pdf_chart_renderer.get_chart_statistics` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> pdf_integration_helper.py:32:13
   |
30 |         from pdf_chart_renderer import (
31 |             create_chart_overview_page,
32 |             get_chart_statistics,
   |             ^^^^^^^^^^^^^^^^^^^^
33 |             render_all_selected_charts_to_pdf,
34 |             render_financial_tools_to_pdf,
   |
help: Remove unused import: `pdf_chart_renderer.get_chart_statistics`

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:108:1
    |
106 |     """
107 |     Stellt sicher, dass ALLE Charts in analysis_results verf├╝gbar sind
108 |     
    | ^^^^
109 |     Kopiert fehlende Charts aus calculation_results nach analysis_results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:110:1
    |
109 |     Kopiert fehlende Charts aus calculation_results nach analysis_results
110 |     
    | ^^^^
111 |     Args:
112 |         analysis_results: Analyse-Ergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:114:1
    |
112 |         analysis_results: Analyse-Ergebnisse
113 |         calculation_results: Ergebnisse von perform_calculations()
114 |         
    | ^^^^^^^^
115 |     Returns:
116 |         Erweiterte analysis_results
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pdf_integration_helper.py:164:9
    |
162 |       charts_added = 0
163 |       for chart_key in chart_keys:
164 | /         if chart_key not in analysis_results or analysis_results[chart_key] is None:
165 | |             if chart_key in calculation_results and calculation_results[chart_key] is not None:
    | |_______________________________________________________________________________________________^
166 |                   analysis_results[chart_key] = calculation_results[chart_key]
167 |                   charts_added += 1
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:181:1
    |
179 |     """
180 |     Erstellt Charts aus Advanced Features falls noch nicht vorhanden
181 |     
    | ^^^^
182 |     Args:
183 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:185:1
    |
183 |         project_data: Projektdaten
184 |         analysis_results: Analyse-Ergebnisse
185 |         
    | ^^^^^^^^
186 |     Returns:
187 |         Erweiterte analysis_results mit neuen Charts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:221:1
    |
219 |     """
220 |     MASTER-FUNKTION: Bereitet vollst├ñndige analysis_results vor
221 |     
    | ^^^^
222 |     Sammelt ALLE Charts aus ALLEN Quellen:
223 |     - calculation_results (perform_calculations)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:226:1
    |
224 |     - analysis_results (Analyse-Modul)
225 |     - advanced_charts (Neue Features)
226 |     
    | ^^^^
227 |     Args:
228 |         project_data: Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_integration_helper.py:231:1
    |
229 |         calculation_results: Von perform_calculations()
230 |         analysis_results: Von analysis.py
231 |         
    | ^^^^^^^^
232 |     Returns:
233 |         Vollst├ñndige analysis_results mit ALLEN Charts
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:100:1
    |
 98 | try:
 99 |     from central_pdf_system import render_central_pdf_ui, show_pdf_system_status
100 |     
    | ^^^^
101 |     def render_pdf_ui(*args, **kwargs):
102 |         """Weiterleitung zur zentralen PDF-UI"""
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:105:1
    |
103 |         st.info(f" Weiterleitung von {{original_file_path}} zum zentralen PDF-System")
104 |         return render_central_pdf_ui(*args, **kwargs)
105 |     
    | ^^^^
106 |     # Weitere migrierte Funktionen
107 |     def show_advanced_pdf_preview(*args, **kwargs):
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:110:1
    |
108 |         st.info(" PDF-Vorschau ist im zentralen System integriert")
109 |         return render_central_pdf_ui(*args, **kwargs)
110 |     
    | ^^^^
111 |     def render_tom90_pdf_section(*args, **kwargs):
112 |         st.info(" TOM-90 ist im zentralen System integriert")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:114:1
    |
112 |         st.info(" TOM-90 ist im zentralen System integriert")
113 |         return render_central_pdf_ui(*args, **kwargs)
114 |     
    | ^^^^
115 |     def render_pdf_debug_section(*args, **kwargs):
116 |         st.info(" PDF-Debug ist im zentralen System integriert")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:118:1
    |
116 |         st.info(" PDF-Debug ist im zentralen System integriert")
117 |         show_pdf_system_status()
118 |     
    | ^^^^
119 |     # Status anzeigen
120 |     st.success(" Zentrale PDF-System Weiterleitung aktiv")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:121:1
    |
119 |     # Status anzeigen
120 |     st.success(" Zentrale PDF-System Weiterleitung aktiv")
121 |     
    | ^^^^
122 | except ImportError as e:
123 |     st.error(f" Zentrales PDF-System nicht verf├╝gbar: {{e}}")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_migration.py:125:1
    |
123 |     st.error(f" Zentrales PDF-System nicht verf├╝gbar: {{e}}")
124 |     st.error(f"Originaldatei: {{original_file_path}}")
125 |     
    | ^^^^
126 |     def render_pdf_ui(*args, **kwargs):
127 |         st.error(" PDF-UI nicht verf├╝gbar - Zentrales System fehlt!")
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pdf_migration.py:147:44
    |
145 | MIGRATION_INFO = {{
146 |     "original_file": "{original_file_path}",
147 |     "migrated_to": "central_pdf_system.py", 
    |                                            ^
148 |     "migration_date": "2025-07-26",
149 |     "functions_migrated": [
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pdf_migration.py:152:36
    |
150 |         "render_pdf_ui",
151 |         "show_advanced_pdf_preview",
152 |         "render_tom90_pdf_section", 
    |                                    ^
153 |         "render_pdf_debug_section"
154 |     ],
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> pdf_page_protection.py:34:1
   |
32 | class ConditionalPageBreak(Flowable):
33 |     """A conditional page break that only triggers if not enough space.
34 |     
   | ^^^^
35 |     This flowable checks if there's enough space for the next element
36 |     and inserts a page break if needed. It's more intelligent than a
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_page_protection.py:42:1
   |
40 |     def __init__(self, min_space_needed: float = 3 * cm):
41 |         """Initialize conditional page break.
42 |         
   | ^^^^^^^^
43 |         Args:
44 |             min_space_needed: Minimum space needed to avoid break (default: 3cm)
   |
help: Remove whitespace from blank line

N803 Argument name `availWidth` should be lowercase
  --> pdf_page_protection.py:51:20
   |
49 |         self.height = 0
50 |
51 |     def wrap(self, availWidth: float, availHeight: float) -> tuple[float, float]:
   |                    ^^^^^^^^^^^^^^^^^
52 |         """Check if page break is needed.
   |

N803 Argument name `availHeight` should be lowercase
  --> pdf_page_protection.py:51:39
   |
49 |         self.height = 0
50 |
51 |     def wrap(self, availWidth: float, availHeight: float) -> tuple[float, float]:
   |                                       ^^^^^^^^^^^^^^^^^^
52 |         """Check if page break is needed.
   |

W293 Blank line contains whitespace
  --> pdf_page_protection.py:53:1
   |
51 |     def wrap(self, availWidth: float, availHeight: float) -> tuple[float, float]:
52 |         """Check if page break is needed.
53 |         
   | ^^^^^^^^
54 |         Args:
55 |             availWidth: Available width
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_page_protection.py:57:1
   |
55 |             availWidth: Available width
56 |             availHeight: Available height
57 |         
   | ^^^^^^^^
58 |         Returns:
59 |             Tuple of (width, height) - triggers break if not enough space
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_page_protection.py:73:1
   |
71 | class PageProtectionManager:
72 |     """Manages page protection for extended PDF pages.
73 |     
   | ^^^^
74 |     This class provides intelligent page protection that ensures related
75 |     elements stay together on the same page. It applies only to pages 9+
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_page_protection.py:86:1
   |
84 |     ):
85 |         """Initialize the page protection manager.
86 |         
   | ^^^^^^^^
87 |         Args:
88 |             doc_height: Document height in points
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:105:1
    |
103 |     def set_current_page(self, page_num: int) -> None:
104 |         """Update the current page number.
105 |         
    | ^^^^^^^^
106 |         Args:
107 |             page_num: Current page number
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:113:1
    |
111 |     def should_apply_protection(self) -> bool:
112 |         """Check if page protection should be applied.
113 |         
    | ^^^^^^^^
114 |         Page protection only applies to pages 9+ (extended PDF pages).
115 |         Pages 1-8 (standard PDF) are not affected.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:116:1
    |
114 |         Page protection only applies to pages 9+ (extended PDF pages).
115 |         Pages 1-8 (standard PDF) are not affected.
116 |         
    | ^^^^^^^^
117 |         This is a critical method that ensures:
118 |         - Pages 1-8 (standard PDF with templates) remain unchanged
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:121:1
    |
119 |         - Pages 9+ (extended PDF with charts, financing, etc.) get protection
120 |         - Financing information on pages 9+ is especially protected
121 |         
    | ^^^^^^^^
122 |         Returns:
123 |             True if protection should be applied, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:135:1
    |
133 |     ) -> Flowable:
134 |         """Wrap a chart with its title and description using KeepTogether.
135 |         
    | ^^^^^^^^
136 |         This ensures that the chart, title, and description always appear
137 |         together on the same page and are never split.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:138:1
    |
136 |         This ensures that the chart, title, and description always appear
137 |         together on the same page and are never split.
138 |         
    | ^^^^^^^^
139 |         Args:
140 |             chart: Chart flowable (Image or custom chart flowable)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:144:1
    |
142 |             description: Optional description paragraph
143 |             chart_key: Chart identifier for logging
144 |         
    | ^^^^^^^^
145 |         Returns:
146 |             KeepTogether flowable containing all elements, or the elements
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:189:1
    |
187 |     ) -> Flowable:
188 |         """Wrap a table with its title using KeepTogether.
189 |         
    | ^^^^^^^^
190 |         Args:
191 |             table: Table flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:194:1
    |
192 |             title: Title paragraph
193 |             table_id: Table identifier for logging
194 |         
    | ^^^^^^^^
195 |         Returns:
196 |             KeepTogether flowable containing title and table
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:226:1
    |
224 |     ) -> Flowable:
225 |         """Wrap a financing section (title, table, description) using KeepTogether.
226 |         
    | ^^^^^^^^
227 |         Financing sections are treated with extra care to ensure they stay
228 |         together, as they contain critical financial information.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:229:1
    |
227 |         Financing sections are treated with extra care to ensure they stay
228 |         together, as they contain critical financial information.
229 |         
    | ^^^^^^^^
230 |         This method applies STRICT protection for financing information:
231 |         - Always applies on pages 9+ (extended PDF)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:235:1
    |
233 |         - Keeps title, table, and description together
234 |         - Logs all protection decisions for financing sections
235 |         
    | ^^^^^^^^
236 |         Args:
237 |             title: Section title paragraph
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:241:1
    |
239 |             description: Optional description paragraph
240 |             section_id: Section identifier for logging
241 |         
    | ^^^^^^^^
242 |         Returns:
243 |             KeepTogether flowable containing all elements
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:282:1
    |
280 |     ) -> Flowable:
281 |         """Wrap a chart with its legend using KeepTogether.
282 |         
    | ^^^^^^^^
283 |         Args:
284 |             chart: Chart flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:287:1
    |
285 |             legend: Legend flowable
286 |             chart_key: Chart identifier for logging
287 |         
    | ^^^^^^^^
288 |         Returns:
289 |             KeepTogether flowable containing chart and legend
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:318:1
    |
316 |     ) -> Flowable:
317 |         """Wrap a chart with its footnote using KeepTogether.
318 |         
    | ^^^^^^^^
319 |         Args:
320 |             chart: Chart flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:323:1
    |
321 |             footnote: Footnote paragraph
322 |             chart_key: Chart identifier for logging
323 |         
    | ^^^^^^^^
324 |         Returns:
325 |             KeepTogether flowable containing chart and footnote
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:352:1
    |
350 |     ) -> Spacer:
351 |         """Add appropriate spacing between consecutive charts.
352 |         
    | ^^^^^^^^
353 |         Args:
354 |             spacing: Spacing amount in points (default: 1cm)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:355:1
    |
353 |         Args:
354 |             spacing: Spacing amount in points (default: 1cm)
355 |         
    | ^^^^^^^^
356 |         Returns:
357 |             Spacer flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:366:1
    |
364 |     ) -> ConditionalPageBreak:
365 |         """Create a conditional page break.
366 |         
    | ^^^^^^^^
367 |         This page break only triggers if there's not enough space
368 |         on the current page for the next element.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:369:1
    |
367 |         This page break only triggers if there's not enough space
368 |         on the current page for the next element.
369 |         
    | ^^^^^^^^
370 |         Args:
371 |             min_space_needed: Minimum space needed to avoid break (default: 3cm)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:372:1
    |
370 |         Args:
371 |             min_space_needed: Minimum space needed to avoid break (default: 3cm)
372 |         
    | ^^^^^^^^
373 |         Returns:
374 |             ConditionalPageBreak flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:396:1
    |
394 |     ) -> bool:
395 |         """Check if a PageBreak is needed before adding an element.
396 |         
    | ^^^^^^^^
397 |         Args:
398 |             element_height: Height of the element to be added
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:400:1
    |
398 |             element_height: Height of the element to be added
399 |             current_position: Current vertical position on page
400 |         
    | ^^^^^^^^
401 |         Returns:
402 |             True if PageBreak is needed, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:430:1
    |
428 |     ) -> PageBreak | None:
429 |         """Create a PageBreak if needed before adding an element.
430 |         
    | ^^^^^^^^
431 |         Args:
432 |             element_height: Height of the element to be added
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:434:1
    |
432 |             element_height: Height of the element to be added
433 |             current_position: Current vertical position on page
434 |         
    | ^^^^^^^^
435 |         Returns:
436 |             PageBreak flowable if needed, None otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:448:1
    |
446 |     ) -> list[Flowable]:
447 |         """Prevent a heading from appearing alone at the bottom of a page.
448 |         
    | ^^^^^^^^
449 |         If a heading would appear at the bottom of a page without its
450 |         following content, this method ensures they stay together.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:451:1
    |
449 |         If a heading would appear at the bottom of a page without its
450 |         following content, this method ensures they stay together.
451 |         
    | ^^^^^^^^
452 |         Args:
453 |             heading: Heading paragraph
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:455:1
    |
453 |             heading: Heading paragraph
454 |             following_content: Content that follows the heading
455 |         
    | ^^^^^^^^
456 |         Returns:
457 |             List of flowables with appropriate protection
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:485:1
    |
483 |     ) -> bool:
484 |         """Check if there's enough space for a paragraph.
485 |         
    | ^^^^^^^^
486 |         Args:
487 |             paragraph: Paragraph to check
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:489:1
    |
487 |             paragraph: Paragraph to check
488 |             available_height: Available height on current page
489 |         
    | ^^^^^^^^
490 |         Returns:
491 |             True if paragraph fits, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:510:1
    |
508 |     ) -> list[Flowable]:
509 |         """Handle an element that is too large for a single page.
510 |         
    | ^^^^^^^^
511 |         When a KeepTogether element is too large for a single page,
512 |         this method handles it gracefully:
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:516:1
    |
514 |         2. Returns the element as-is (ReportLab will split automatically)
515 |         3. Documents the decision in the protection log
516 |         
    | ^^^^^^^^
517 |         Special cases handled:
518 |         - Very large charts: Returned as-is, may overflow page
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:521:1
    |
519 |         - Large tables: ReportLab splits automatically
520 |         - Multiple consecutive charts: Spacing is adjusted
521 |         
    | ^^^^^^^^
522 |         Args:
523 |             element: The oversized flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:526:1
    |
524 |             max_height: Maximum height available on a page
525 |             element_id: Element identifier for logging
526 |         
    | ^^^^^^^^
527 |         Returns:
528 |             List of flowables (may be split or original)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:549:1
    |
547 |     ) -> list[Flowable]:
548 |         """Add spacing between elements with automatic page break if needed.
549 |         
    | ^^^^^^^^
550 |         This method adds spacing between consecutive elements (e.g., charts)
551 |         and automatically inserts a page break if there's not enough space
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:553:1
    |
551 |         and automatically inserts a page break if there's not enough space
552 |         for the next element.
553 |         
    | ^^^^^^^^
554 |         Args:
555 |             spacing: Spacing amount (default: 1cm)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:557:1
    |
555 |             spacing: Spacing amount (default: 1cm)
556 |             min_space_for_next: Minimum space needed for next element (default: 5cm)
557 |         
    | ^^^^^^^^
558 |         Returns:
559 |             List of flowables (spacer and possibly conditional page break)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:588:1
    |
586 |     ) -> None:
587 |         """Log a page protection decision.
588 |         
    | ^^^^^^^^
589 |         Args:
590 |             element_type: Type of element being protected
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:616:1
    |
614 |     def get_protection_summary(self) -> dict:
615 |         """Get a summary of all page protection decisions.
616 |         
    | ^^^^^^^^
617 |         Returns:
618 |             Dictionary with protection statistics and log
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:672:1
    |
670 | ) -> Flowable:
671 |     """Helper function to create a protected chart element.
672 |     
    | ^^^^
673 |     This is a convenience function that creates a chart with title and
674 |     description, wrapped in KeepTogether if page protection is enabled.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:675:1
    |
673 |     This is a convenience function that creates a chart with title and
674 |     description, wrapped in KeepTogether if page protection is enabled.
675 |     
    | ^^^^
676 |     Args:
677 |         chart_image: Chart image flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:683:1
    |
681 |         chart_key: Chart identifier
682 |         protection_manager: Optional PageProtectionManager instance
683 |     
    | ^^^^
684 |     Returns:
685 |         Protected flowable or list of flowables
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:719:1
    |
717 | ) -> Flowable:
718 |     """Helper function to create a protected table element.
719 |     
    | ^^^^
720 |     Args:
721 |         table: Table flowable
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_page_protection.py:726:1
    |
724 |         table_id: Table identifier
725 |         protection_manager: Optional PageProtectionManager instance
726 |     
    | ^^^^
727 |     Returns:
728 |         Protected flowable or list of flowables
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_payment_integration.py:70:1
   |
68 |         """
69 |         Erstellt eine umfassende Zahlungsseite mit allen neuen Features.
70 |         
   | ^^^^^^^^
71 |         Args:
72 |             analysis_results: Berechnungsergebnisse aus dem Projekt
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_payment_integration.py:76:1
   |
74 |             project_data: Zus├ñtzliche Projektdaten
75 |             additional_discounts: Zus├ñtzliche Rabattinformationen
76 |             
   | ^^^^^^^^^^^^
77 |         Returns:
78 |             PDF-Bytes oder None
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_payment_integration.py:466:1
    |
464 |     """
465 |     Erstellt eine erweiterte Zahlungs├╝bersichtsseite.
466 |     
    | ^^^^
467 |     Args:
468 |         analysis_results: Berechnungsergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_payment_integration.py:471:1
    |
469 |         payment_option_id: ID der Zahlungsoption
470 |         project_data: Zus├ñtzliche Projektdaten
471 |         
    | ^^^^^^^^
472 |     Returns:
473 |         PDF-Bytes oder None
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_payment_integration.py:489:1
    |
487 |     """
488 |     Erzeugt ein vollst├ñndiges Angebots-PDF mit erweiterten Zahlungsmodalit├ñten.
489 |     
    | ^^^^
490 |     Args:
491 |         project_data: Projektinformationen
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pdf_payment_integration.py:492:48
    |
490 |     Args:
491 |         project_data: Projektinformationen
492 |         analysis_results: Berechnungsergebnisse  
    |                                                ^^
493 |         company_info: Firmeninformationen
494 |         payment_option_id: ID der Zahlungsoption
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> pdf_payment_integration.py:495:1
    |
493 |         company_info: Firmeninformationen
494 |         payment_option_id: ID der Zahlungsoption
495 |         
    | ^^^^^^^^
496 |     Returns:
497 |         Vollst├ñndiges PDF oder None
    |
help: Remove whitespace from blank line

F401 `reportlab.lib.pagesizes.A4` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> pdf_preview.py:20:41
   |
18 |     import fitz  # PyMuPDF f├╝r PDF-zu-Bild-Konvertierung
19 |     from PIL import Image
20 |     from reportlab.lib.pagesizes import A4
   |                                         ^^
21 |     from reportlab.pdfgen import canvas
   |
help: Remove unused import: `reportlab.lib.pagesizes.A4`

F401 `reportlab.pdfgen.canvas` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> pdf_preview.py:21:34
   |
19 |     from PIL import Image
20 |     from reportlab.lib.pagesizes import A4
21 |     from reportlab.pdfgen import canvas
   |                                  ^^^^^^
22 |
23 |     from pdf_generator import generate_offer_pdf_simple as generate_offer_pdf
   |
help: Remove unused import: `reportlab.pdfgen.canvas`

F841 Local variable `update_delay` is assigned to but never used
   --> pdf_preview.py:159:9
    |
157 |         )
158 |
159 |         update_delay = st.slider(
    |         ^^^^^^^^^^^^
160 |             "Aktualisierungsverz├Âgerung (Sek.)",
161 |             min_value=1,
    |
help: Remove assignment to unused variable `update_delay`

F841 Local variable `show_annotations` is assigned to but never used
   --> pdf_preview.py:178:9
    |
176 |         )
177 |
178 |         show_annotations = st.checkbox(
    |         ^^^^^^^^^^^^^^^^
179 |             "Anmerkungen anzeigen",
180 |             value=True
    |
help: Remove assignment to unused variable `show_annotations`

W293 Blank line contains whitespace
  --> pdf_pricing_integration.py:80:1
   |
78 |                  pricing_data: dict[str, Any] | None = None):
79 |         """Initialize enhanced PDF generator
80 |         
   | ^^^^^^^^
81 |         Args:
82 |             project_data: Project configuration data
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:316:1
    |
314 |     def generate_pricing_breakdown_data(self) -> dict[str, Any]:
315 |         """Generate comprehensive pricing breakdown data for PDF templates
316 |         
    | ^^^^^^^^
317 |         Returns:
318 |             Dictionary with pricing breakdown data
    |
help: Remove whitespace from blank line

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
   --> pdf_pricing_integration.py:369:21
    |
367 |               for key, value in total_keys.items():
368 |                   if 'NET_TOTAL' in key.upper():
369 | /                     try:
370 | |                         net_total = float(value)
371 | |                     except (ValueError, TypeError):
372 | |                         pass
    | |____________________________^
373 |                   elif 'GROSS_TOTAL' in key.upper():
374 |                       try:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
   --> pdf_pricing_integration.py:374:21
    |
372 |                           pass
373 |                   elif 'GROSS_TOTAL' in key.upper():
374 | /                     try:
375 | |                         gross_total = float(value)
376 | |                     except (ValueError, TypeError):
377 | |                         pass
    | |____________________________^
378 |
379 |               # Get VAT amount
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
   --> pdf_pricing_integration.py:383:21
    |
381 |               for key, value in vat_keys.items():
382 |                   if 'VAT_AMOUNT' in key.upper():
383 | /                     try:
384 | |                         vat_amount = float(value)
385 | |                     except (ValueError, TypeError):
386 | |                         pass
    | |____________________________^
387 |
388 |               # Format summary
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:417:1
    |
415 |     def get_enhanced_dynamic_data(self) -> dict[str, str]:
416 |         """Get enhanced dynamic data including pricing keys
417 |         
    | ^^^^^^^^
418 |         Returns:
419 |             Dictionary with all dynamic data for PDF templates
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:471:1
    |
469 |                                   **kwargs) -> bytes | None:
470 |         """Generate PDF with integrated pricing data
471 |         
    | ^^^^^^^^
472 |         Args:
473 |             filename: Optional filename for PDF output
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:475:1
    |
473 |             filename: Optional filename for PDF output
474 |             **kwargs: Additional arguments for PDF generation
475 |             
    | ^^^^^^^^^^^^
476 |         Returns:
477 |             PDF bytes or None if generation failed
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:525:1
    |
523 | ) -> bytes | None:
524 |     """Generate enhanced PDF with integrated pricing system
525 |     
    | ^^^^
526 |     Args:
527 |         project_data: Project configuration data
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:533:1
    |
531 |         filename: Optional filename for PDF output
532 |         **kwargs: Additional arguments for PDF generation
533 |         
    | ^^^^^^^^
534 |     Returns:
535 |         PDF bytes or None if generation failed
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:559:1
    |
557 | def create_pricing_breakdown_section(pricing_data: dict[str, Any]) -> dict[str, Any]:
558 |     """Create pricing breakdown section data for PDF templates
559 |     
    | ^^^^
560 |     Args:
561 |         pricing_data: Pricing calculation results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:562:1
    |
560 |     Args:
561 |         pricing_data: Pricing calculation results
562 |         
    | ^^^^^^^^
563 |     Returns:
564 |         Dictionary with pricing breakdown section data
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `section_data` before `return` statement
   --> pdf_pricing_integration.py:607:16
    |
605 |         }
606 |
607 |         return section_data
    |                ^^^^^^^^^^^^
608 |
609 |     except Exception as e:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:619:1
    |
617 | ) -> dict[str, str]:
618 |     """Update PDF placeholders with pricing data
619 |     
    | ^^^^
620 |     Args:
621 |         base_placeholders: Base placeholder mapping
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_integration.py:623:1
    |
621 |         base_placeholders: Base placeholder mapping
622 |         pricing_data: Pricing calculation results
623 |         
    | ^^^^^^^^
624 |     Returns:
625 |         Updated placeholder mapping with pricing keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_templates.py:451:1
    |
449 |     def create_template(self, system_type: str, config: PricingTemplateConfig | None = None) -> PVPricingTemplate | HeatPumpPricingTeÔÇª
450 |         """Create pricing template for specified system type
451 |         
    | ^^^^^^^^
452 |         Args:
453 |             system_type: Type of system ('pv', 'heatpump', 'combined')
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_templates.py:455:1
    |
453 |             system_type: Type of system ('pv', 'heatpump', 'combined')
454 |             config: Optional template configuration
455 |             
    | ^^^^^^^^^^^^
456 |         Returns:
457 |             Appropriate pricing template instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_templates.py:480:1
    |
478 |     def render_template(self, system_type: str, pricing_data: dict[str, Any]) -> dict[str, str]:
479 |         """Render template with actual pricing data
480 |         
    | ^^^^^^^^
481 |         Args:
482 |             system_type: Type of system
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_pricing_templates.py:484:1
    |
482 |             system_type: Type of system
483 |             pricing_data: Actual pricing values
484 |             
    | ^^^^^^^^^^^^
485 |         Returns:
486 |             Dictionary with rendered placeholders
    |
help: Remove whitespace from blank line

SIM108 Use ternary operator `ok = res if isinstance(res, bool) else res != 0` instead of `if`-`else`-block
  --> pdf_recover.py:28:9
   |
26 |           res = r.decrypt(password)
27 |           # PyPDF2: res==0 => fehlgeschlagen, else => erfolgreich (compat)
28 | /         if isinstance(res, bool):
29 | |             ok = res
30 | |         else:
31 | |             ok = (res != 0)
   | |___________________________^
32 |           return ("OK", password) if ok else (None, None)
33 |       except Exception:
   |
help: Replace `if`-`else`-block with `ok = res if isinstance(res, bool) else res != 0`

F841 Local variable `queue` is assigned to but never used
  --> pdf_recover.py:84:5
   |
82 | def numeric_attack(path, min_len, max_len, processes, charset="0123456789", limit=None):
83 |     manager = Manager()
84 |     queue = manager.Queue()
   |     ^^^^^
85 |     pool = Pool(processes=processes)
86 |     try:
   |
help: Remove assignment to unused variable `queue`

W293 Blank line contains whitespace
  --> pdf_services_integration.py:14:1
   |
12 |     """
13 |     Extrahiert die ausgew├ñhlten Dienstleistungen aus den Projektdaten f├╝r die PDF-Generierung.
14 |     
   | ^^^^
15 |     Args:
16 |         project_data: Die Projektdaten mit ausgew├ñhlten Dienstleistungen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_services_integration.py:17:1
   |
15 |     Args:
16 |         project_data: Die Projektdaten mit ausgew├ñhlten Dienstleistungen
17 |         
   | ^^^^^^^^
18 |     Returns:
19 |         Liste der ausgew├ñhlten Dienstleistungen mit Details
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_services_integration.py:61:1
   |
59 |     """
60 |     Formatiert die Dienstleistungen f├╝r die Anzeige in der PDF.
61 |     
   | ^^^^
62 |     Args:
63 |         services: Liste der ausgew├ñhlten Dienstleistungen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pdf_services_integration.py:64:1
   |
62 |     Args:
63 |         services: Liste der ausgew├ñhlten Dienstleistungen
64 |         
   | ^^^^^^^^
65 |     Returns:
66 |         Dictionary mit formatierten Strings f├╝r die PDF-Platzhalter
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_services_integration.py:105:1
    |
103 |     """
104 |     Integriert die Dienstleistungen in die PDF-Platzhalter.
105 |     
    | ^^^^
106 |     Args:
107 |         result: Das bestehende Platzhalter-Dictionary
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_services_integration.py:109:1
    |
107 |         result: Das bestehende Platzhalter-Dictionary
108 |         project_data: Die Projektdaten
109 |         
    | ^^^^^^^^
110 |     Returns:
111 |         Das erweiterte Platzhalter-Dictionary mit Dienstleistungen
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_styles.py:477:36
    |
475 |                           xy=(amortization_year, investment),
476 |                           xytext=(amortization_year + 1, investment + 5000),
477 |                           arrowprops=dict(arrowstyle='->',
    |  ____________________________________^
478 | |                                         connectionstyle='arc3,rad=0.3',
479 | |                                         color=theme_config['colors'][3]),
    | |________________________________________________________________________^
480 |                           fontweight='bold',
481 |                           bbox=dict(boxstyle="round,pad=0.3",
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_styles.py:481:30
    |
479 |                                           color=theme_config['colors'][3]),
480 |                           fontweight='bold',
481 |                           bbox=dict(boxstyle="round,pad=0.3",
    |  ______________________________^
482 | |                                   facecolor='white',
483 | |                                   edgecolor=theme_config['colors'][3]))
    | |______________________________________________________________________^
484 |
485 |           # Styling
    |
help: Rewrite as a literal

B007 Loop control variable `comp` not used within loop body
   --> pdf_styles.py:515:13
    |
514 |         # Komponenten zeichnen
515 |         for comp, info in components.items():
    |             ^^^^
516 |             circle = Circle(info['pos'], info['size'],
517 |                             facecolor=theme_config['colors'][0],
    |
help: Rename unused `comp` to `_comp`

F841 Local variable `arrow` is assigned to but never used
   --> pdf_styles.py:539:17
    |
538 |                 # Pfeil zeichnen
539 |                 arrow = plt.annotate('', xy=end, xytext=start,
    |                 ^^^^^
540 |                                      arrowprops=dict(arrowstyle='->', lw=value/10,
541 |                                                      color=theme_config['colors'][1],
    |
help: Remove assignment to unused variable `arrow`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_styles.py:540:49
    |
538 |                   # Pfeil zeichnen
539 |                   arrow = plt.annotate('', xy=end, xytext=start,
540 |                                        arrowprops=dict(arrowstyle='->', lw=value/10,
    |  _________________________________________________^
541 | |                                                      color=theme_config['colors'][1],
542 | |                                                      alpha=0.7))
    | |_______________________________________________________________^
543 |
544 |                   # Wert anzeigen
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_styles.py:548:30
    |
546 |                   mid_y = (start[1] + end[1]) / 2
547 |                   ax.text(mid_x, mid_y, f'{value}%', ha='center', va='center',
548 |                           bbox=dict(boxstyle="round,pad=0.2",
    |  ______________________________^
549 | |                                   facecolor='white', alpha=0.8),
    | |_______________________________________________________________^
550 |                           fontsize=8)
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pdf_styles.py:643:40
    |
641 |         """Zeichnet einen Pfeil"""
642 |         return plt.annotate('', xy=(x2, y2), xytext=(x1, y1),
643 |                             arrowprops=dict(arrowstyle='->', lw=2))
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
644 |
645 |     def create_custom_background(
    |
help: Rewrite as a literal

N805 First argument of a method should be named `self`
   --> pdf_styles.py:697:36
    |
695 |         return img
696 |
697 |     def render_pdf_visual_enhancer(texts: dict[str, str]):
    |                                    ^^^^^^^^^^^^^^^^^^^^^
698 |         """Haupt-Render-Funktion f├╝r Visual Enhancer"""
699 |         st.header(" PDF Visual Enhancer")
    |
help: Rename `texts` to `self`

F821 Undefined name `datetime`
    --> pdf_styles.py:1251:38
     |
1249 |                         'theme': all_themes[current_theme],
1250 |                         'settings': st.session_state.pdf_theme_settings,
1251 |                         'timestamp': datetime.now().isoformat()
     |                                      ^^^^^^^^
1252 |                     }
     |

F821 Undefined name `datetime`
    --> pdf_styles.py:1260:64
     |
1258 |                         label=" Theme herunterladen",
1259 |                         data=theme_json,
1260 |                         file_name=f"pdf_theme_{current_theme}_{datetime.now().strftime('%Y%m%d')}.json",
     |                                                                ^^^^^^^^
1261 |                         mime="application/json"
1262 |                     )
     |

F401 `pathlib.Path` imported but unused
  --> pdf_template_engine\__init__.py:9:21
   |
 7 | """
 8 |
 9 | from pathlib import Path
   |                     ^^^^
10 | from typing import Any, Dict, Optional
   |
help: Remove unused import: `pathlib.Path`

UP035 `typing.Dict` is deprecated, use `dict` instead
  --> pdf_template_engine\__init__.py:10:1
   |
 9 | from pathlib import Path
10 | from typing import Any, Dict, Optional
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
11 |
12 | from .dynamic_overlay import (
   |

F401 `typing.Any` imported but unused
  --> pdf_template_engine\__init__.py:10:20
   |
 9 | from pathlib import Path
10 | from typing import Any, Dict, Optional
   |                    ^^^
11 |
12 | from .dynamic_overlay import (
   |
help: Remove unused import

F401 `typing.Dict` imported but unused
  --> pdf_template_engine\__init__.py:10:25
   |
 9 | from pathlib import Path
10 | from typing import Any, Dict, Optional
   |                         ^^^^
11 |
12 | from .dynamic_overlay import (
   |
help: Remove unused import

F401 `typing.Optional` imported but unused
  --> pdf_template_engine\__init__.py:10:31
   |
 9 | from pathlib import Path
10 | from typing import Any, Dict, Optional
   |                               ^^^^^^^^
11 |
12 | from .dynamic_overlay import (
   |
help: Remove unused import

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:13:1
   |
12 | from .dynamic_overlay import (
13 |     append_additional_pages,
   | ^^^^
14 |     generate_custom_offer_pdf,
15 |     generate_overlay,
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:14:1
   |
12 | from .dynamic_overlay import (
13 |     append_additional_pages,
14 |     generate_custom_offer_pdf,
   | ^^^^
15 |     generate_overlay,
16 |     merge_with_background,
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:15:1
   |
13 |     append_additional_pages,
14 |     generate_custom_offer_pdf,
15 |     generate_overlay,
   | ^^^^
16 |     merge_with_background,
17 | )
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:16:1
   |
14 |     generate_custom_offer_pdf,
15 |     generate_overlay,
16 |     merge_with_background,
   | ^^^^
17 | )
18 | from .placeholders import PLACEHOLDER_MAPPING, build_dynamic_data
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:21:1
   |
20 | __all__ = [
21 |     "build_dynamic_data",
   | ^^^^
22 |     "PLACEHOLDER_MAPPING",
23 |     "generate_overlay",
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:22:1
   |
20 | __all__ = [
21 |     "build_dynamic_data",
22 |     "PLACEHOLDER_MAPPING",
   | ^^^^
23 |     "generate_overlay",
24 |     "merge_with_background",
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:23:1
   |
21 |     "build_dynamic_data",
22 |     "PLACEHOLDER_MAPPING",
23 |     "generate_overlay",
   | ^^^^
24 |     "merge_with_background",
25 |     "append_additional_pages",
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:24:1
   |
22 |     "PLACEHOLDER_MAPPING",
23 |     "generate_overlay",
24 |     "merge_with_background",
   | ^^^^
25 |     "append_additional_pages",
26 |     "generate_custom_offer_pdf",
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:25:1
   |
23 |     "generate_overlay",
24 |     "merge_with_background",
25 |     "append_additional_pages",
   | ^^^^
26 |     "generate_custom_offer_pdf",
27 | ]
   |

W191 Indentation contains tabs
  --> pdf_template_engine\__init__.py:26:1
   |
24 |     "merge_with_background",
25 |     "append_additional_pages",
26 |     "generate_custom_offer_pdf",
   | ^^^^
27 | ]
   |

PIE810 Call `startswith` once with a `tuple`
  --> pdf_template_engine\dynamic_overlay.py:70:16
   |
69 |             # Pr├╝fe Bildformat - nur PNG/JPEG unterst├╝tzt
70 |             if raw.startswith(b'<?xml') or raw.startswith(b'<svg'):
   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
71 |                 return None  # SVG nicht unterst├╝tzt
   |
help: Merge into a single `startswith` call

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> pdf_template_engine\dynamic_overlay.py:109:9
    |
107 |           # Sehr helle graublaue Farbe, ggf. mit Alpha
108 |           col = Color(0.6, 0.65, 0.75)
109 | /         try:
110 | |             c.setFillAlpha(max(0.02, min(0.3, opacity)))  # ReportLab 3.6+
111 | |         except Exception:
112 | |             pass
    | |________________^
113 |           c.setFillColor(col)
114 |           c.setFont("Helvetica-Bold", 64)
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> pdf_template_engine\dynamic_overlay.py:123:17
    |
121 |           for iy in range(0, int(page_height * 1.2), step_y):
122 |               for ix in range(0, int(page_width * 1.2), step_x):
123 | /                 try:
124 | |                     c.drawString(ix, iy, text)
125 | |                 except Exception:
126 | |                     pass
    | |________________________^
127 |       finally:
128 |           c.restoreState()
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

W293 Blank line contains whitespace
   --> pdf_template_engine\dynamic_overlay.py:285:1
    |
283 | def _draw_page1_new_content(c: canvas.Canvas, dynamic_data: dict[str, str], page_width: float, page_height: float) -> None:
284 |     """Zeichnet Inhalte f├╝r die neue Seite 1.
285 |     
    | ^^^^
286 |     TODO: Implementierung der neuen Seite 1 Inhalte.
287 |     Diese Funktion ist ein Platzhalter f├╝r zuk├╝nftige Inhalte auf der neuen ersten Seite.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_template_engine\dynamic_overlay.py:289:1
    |
287 |     Diese Funktion ist ein Platzhalter f├╝r zuk├╝nftige Inhalte auf der neuen ersten Seite.
288 |     Aktuell wird nur die Seite vorbereitet, aber keine spezifischen Inhalte gezeichnet.
289 |     
    | ^^^^
290 |     Args:
291 |         c: ReportLab Canvas-Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_template_engine\dynamic_overlay.py:302:1
    |
300 | def _draw_page4_waterfall_chart(c: canvas.Canvas, dynamic_data: dict[str, str], page_width: float, page_height: float) -> None:
301 |     """Zeichnet ein Wasserfall-Diagramm auf Seite 4 mit den Berechnungsergebnissen.
302 |     
    | ^^^^
303 |     Positionierung basierend auf den exakten Koordinaten aus seite4.yml:
304 |     - Linker Rand: Position der "Neigung des Daches" Spalte (X=300.48)
    |
help: Remove whitespace from blank line

F841 Local variable `total_bars` is assigned to but never used
   --> pdf_template_engine\dynamic_overlay.py:505:5
    |
503 |     # Balken-Layout: 3 Einzelbalken + 1 Gesamtbalken
504 |     num_individual_bars = len(values)
505 |     total_bars = num_individual_bars + 1  # +1 f├╝r Gesamtbalken
    |     ^^^^^^^^^^
506 |
507 |     # Bereich f├╝r Einzelbalken (70% der Breite) und Gesamtbalken (20% der Breite)
    |
help: Remove assignment to unused variable `total_bars`

SIM108 Use ternary operator `bar_height = 5.0 if value <= 0 else value / max_value * chart_height * 0.75` instead of `if`-`else`-block
   --> pdf_template_engine\dynamic_overlay.py:532:9
    |
531 |           # Mindesth├Âhe f├╝r Balken mit Wert 0 (f├╝r bessere Sichtbarkeit)
532 | /         if value <= 0:
533 | |             bar_height = 5.0  # Minimale H├Âhe f├╝r 0-Werte
534 | |         else:
535 | |             bar_height = (value / max_value) * chart_height * 0.75  # 75% der verf├╝gbaren H├Âhe nutzen
    | |__________________________________________________________________^
536 |
537 |           bar_y = chart_bottom + cumulative_height
    |
help: Replace `if`-`else`-block with `bar_height = 5.0 if value <= 0 else value / max_value * chart_height * 0.75`

SIM108 Use ternary operator `value_text = "0 Ôé¼" if value <= 0 else f"{value:,.0f} Ôé¼".replace(',', '.')` instead of `if`-`else`-block
   --> pdf_template_engine\dynamic_overlay.py:554:9
    |
552 |           c.setFillColor(text_color)
553 |           c.setFont("Helvetica-Bold", 7)
554 | /         if value <= 0:
555 | |             value_text = "0 Ôé¼"
556 | |         else:
557 | |             value_text = f"{value:,.0f} Ôé¼".replace(',', '.')
    | |____________________________________________________________^
558 |           text_width = c.stringWidth(value_text, "Helvetica-Bold", 7)
559 |           c.drawString(bar_x + (individual_bar_width - text_width) / 2, bar_y + bar_height + 3, value_text)
    |
help: Replace `if`-`else`-block with `value_text = "0 Ôé¼" if value <= 0 else f"{value:,.0f} Ôé¼".replace(',', '.')`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
   --> pdf_template_engine\dynamic_overlay.py:579:5
    |
578 |       # Versuche gestrichelte Linie zu setzen (falls verf├╝gbar)
579 | /     try:
580 | |         c.setDash([2, 2])  # Gestrichelte Linie
581 | |     except AttributeError:
582 | |         pass  # Fallback auf durchgezogene Linie
    | |____________^
583 |
584 |       for i in range(len(bar_positions) - 1):
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
   --> pdf_template_engine\dynamic_overlay.py:598:5
    |
597 |       # Zur├╝ck zu durchgezogener Linie
598 | /     try:
599 | |         c.setDash([])
600 | |     except AttributeError:
601 | |         pass
    | |____________^
602 |       c.setFillColor(bar_colors[3])  # Dunkelblau f├╝r Gesamt
603 |       c.rect(total_bar_x, total_bar_y, total_bar_width, total_bar_height, stroke=0, fill=1)
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
   --> pdf_template_engine\dynamic_overlay.py:624:9
    |
622 |           last_pos = bar_positions[-1]
623 |           c.setStrokeColor(line_color)
624 | /         try:
625 | |             c.setDash([2, 2])  # Gestrichelte Linie
626 | |         except AttributeError:
627 | |             pass  # Fallback auf durchgezogene Linie
    | |________________^
628 |           c.line(last_pos['x'] + individual_bar_width/4, last_pos['y_top'],
629 |                  total_bar_x - 5, total_bar_y + total_bar_height)
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

F841 Local variable `container_x` is assigned to but never used
   --> pdf_template_engine\dynamic_overlay.py:916:9
    |
914 |     c.saveState()
915 |     try:
916 |         container_x = chart_x - 25
    |         ^^^^^^^^^^^
917 |         container_y = chart_y - 35
918 |         container_width = chart_width + 48
    |
help: Remove assignment to unused variable `container_x`

F841 Local variable `container_width` is assigned to but never used
   --> pdf_template_engine\dynamic_overlay.py:918:9
    |
916 |         container_x = chart_x - 25
917 |         container_y = chart_y - 35
918 |         container_width = chart_width + 48
    |         ^^^^^^^^^^^^^^^
919 |         container_height = chart_height + 88
    |
help: Remove assignment to unused variable `container_width`

W293 Blank line contains whitespace
    --> pdf_template_engine\dynamic_overlay.py:1085:1
     |
1083 | def validate_page_files(page_num: int, coords_dir: Path, template_dir: Path | None = None) -> tuple[bool, list[str]]:
1084 |     """Validates that all required files exist for a given page number.
1085 |     
     | ^^^^
1086 |     Args:
1087 |         page_num: Page number to validate (1-8)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_template_engine\dynamic_overlay.py:1090:1
     |
1088 |         coords_dir: Directory containing coordinate YML files (coords/ or coords_wp/)
1089 |         template_dir: Directory containing PDF template files (defaults to pdf_templates_static/notext/)
1090 |     
     | ^^^^
1091 |     Returns:
1092 |         Tuple of (is_valid, missing_files) where:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_template_engine\dynamic_overlay.py:1095:1
     |
1093 |         - is_valid: True if all required files exist
1094 |         - missing_files: List of missing file paths as strings
1095 |     
     | ^^^^
1096 |     Example:
1097 |         >>> is_valid, missing = validate_page_files(1, Path("coords"))
     |
help: Remove whitespace from blank line

W191 Indentation contains tabs
    --> pdf_template_engine\dynamic_overlay.py:1210:1
     |
1210 |         # Keys f├╝r horizontale Zentrierung innerhalb Box
     | ^^^^^^^^
1211 |         # Keys f├╝r horizontale Zentrierung innerhalb Box
1212 |         center_keys = {
     |

E101 Indentation contains mixed spaces and tabs
    --> pdf_template_engine\dynamic_overlay.py:1210:1
     |
1210 |         # Keys f├╝r horizontale Zentrierung innerhalb Box
     | ^^^^^^^^
1211 |         # Keys f├╝r horizontale Zentrierung innerhalb Box
1212 |         center_keys = {
     |

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1359:32
     |
1357 |                     hide_val_col = bool(dynamic_data.get('service_value_column_hidden'))
1358 |                     is_label = text.startswith('X_LBL_')
1359 |                     is_value = text.startswith('X_SRV_') or text.startswith('X_PROD_')
     |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1360 |                     def _hex_to_color(h):
1361 |                         from reportlab.lib.colors import Color
     |
help: Merge into a single `startswith` call

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1364:53
     |
1362 |                         h = h.lstrip('#')
1363 |                         if len(h) == 6:
1364 |                             r = int(h[0:2],16)/255.0; g=int(h[2:4],16)/255.0; b=int(h[4:6],16)/255.0
     |                                                     ^
1365 |                             return Color(r,g,b)
1366 |                         return int_to_color(color_int)
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1364:77
     |
1362 |                         h = h.lstrip('#')
1363 |                         if len(h) == 6:
1364 |                             r = int(h[0:2],16)/255.0; g=int(h[2:4],16)/255.0; b=int(h[4:6],16)/255.0
     |                                                                             ^
1365 |                             return Color(r,g,b)
1366 |                         return int_to_color(color_int)
     |

B023 Function definition does not bind loop variable `color_int`
    --> pdf_template_engine\dynamic_overlay.py:1366:45
     |
1364 |                             r = int(h[0:2],16)/255.0; g=int(h[2:4],16)/255.0; b=int(h[4:6],16)/255.0
1365 |                             return Color(r,g,b)
1366 |                         return int_to_color(color_int)
     |                                             ^^^^^^^^^
1367 |                     if is_label and lbl_color_hex:
1368 |                         c.setFillColor(_hex_to_color(lbl_color_hex))
     |

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1374:55
     |
1372 |                         c.setFillColor(int_to_color(color_int))
1373 |                     # Value-Spalte ausblenden erzwingen (leer zeichnen) ÔÇô wenn hide aktiv und es ist Value
1374 |                     if hide_val_col and is_value and (text.startswith('X_SRV_') or text.startswith('X_PROD_')):
     |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1375 |                         draw_text = ''
1376 |                 except Exception:
     |
help: Merge into a single `startswith` call

F841 Local variable `dark_blue` is assigned to but never used
    --> pdf_template_engine\dynamic_overlay.py:1480:17
     |
1478 |             try:
1479 |                 from reportlab.lib.colors import Color as _Color
1480 |                 dark_blue = _Color(0.07, 0.34, 0.60)
     |                 ^^^^^^^^^
1481 |                 for dyn_key, meta in page3_cost_tokens.items():
1482 |                     pos = meta.get("position")
     |
help: Remove assignment to unused variable `dark_blue`

N806 Variable `Y_MIN` in function should be lowercase
    --> pdf_template_engine\dynamic_overlay.py:1529:5
     |
1527 |     """
1528 |     # Bereich in dem Produkt + Dienstleistungszeilen liegen (aus seite7.yml entnommen)
1529 |     Y_MIN = 120.0  # etwas gro├ƒz├╝giger f├╝r Produktzeilen
     |     ^^^^^
1530 |     Y_MAX = 610.0
     |

N806 Variable `Y_MAX` in function should be lowercase
    --> pdf_template_engine\dynamic_overlay.py:1530:5
     |
1528 |     # Bereich in dem Produkt + Dienstleistungszeilen liegen (aus seite7.yml entnommen)
1529 |     Y_MIN = 120.0  # etwas gro├ƒz├╝giger f├╝r Produktzeilen
1530 |     Y_MAX = 610.0
     |     ^^^^^
1531 |
1532 |     # Hilfsfunktion: Hole Canvas-Y1 (oberer Rand) aus Positionstuple
     |

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1551:41
     |
1549 |             other_elements.append(el)
1550 |             continue
1551 |         if Y_MIN <= y_top <= Y_MAX and (txt.startswith("X_LBL_") or txt.startswith("X_SRV_") or txt.startswith("X_PROD_")):
     |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1552 |             service_rows.append(el)
1553 |         else:
     |
help: Merge into a single `startswith` call

F841 Local variable `dyn_val` is assigned to but never used
    --> pdf_template_engine\dynamic_overlay.py:1570:9
     |
1568 |         txt = (el.get("text") or "").strip()
1569 |         key = PLACEHOLDER_MAPPING.get(txt)
1570 |         dyn_val = dynamic_data.get(key, "") if key else None
     |         ^^^^^^^
1571 |         is_label = txt.startswith("X_LBL_")
1572 |         is_value = txt.startswith("X_SRV_") or txt.startswith("X_PROD_")
     |
help: Remove assignment to unused variable `dyn_val`

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1572:20
     |
1570 |         dyn_val = dynamic_data.get(key, "") if key else None
1571 |         is_label = txt.startswith("X_LBL_")
1572 |         is_value = txt.startswith("X_SRV_") or txt.startswith("X_PROD_")
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1573 |
1574 |         if is_label:
     |
help: Merge into a single `startswith` call

F841 Local variable `new_elements_map` is assigned to but never used
    --> pdf_template_engine\dynamic_overlay.py:1628:5
     |
1626 |     # Weise neue Positionen zu (Paare hintereinander)
1627 |     new_y_top = first_top
1628 |     new_elements_map = {id(el): el for el in elements}
     |     ^^^^^^^^^^^^^^^^
1629 |     processed_ids = set()
1630 |     for el in compacted:
     |
help: Remove assignment to unused variable `new_elements_map`

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1632:17
     |
1630 |     for el in compacted:
1631 |         txt = (el.get("text") or "").strip()
1632 |         if not (txt.startswith("X_LBL_") or txt.startswith("X_SRV_") or txt.startswith("X_PROD_")):
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1633 |             continue
1634 |         pos = el.get("position")
     |
help: Merge into a single `startswith` call

PIE810 Call `startswith` once with a `tuple`
    --> pdf_template_engine\dynamic_overlay.py:1646:12
     |
1644 |         processed_ids.add(id(el))
1645 |         # Nach Value-Zeile erh├Âhen (wir erkennen Value-Zeile an X_SRV_/X_PROD_ und daran, dass vorher Label kam)
1646 |         if txt.startswith("X_SRV_") or txt.startswith("X_PROD_"):
     |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1647 |             new_y_top = new_y1 + (default_delta * 0.5)  # etwas kompakter als Original
     |
help: Merge into a single `startswith` call

F841 Local variable `axis_height` is assigned to but never used
    --> pdf_template_engine\dynamic_overlay.py:1696:9
     |
1694 |         axis_top_y = page_height - float(top_label_y1)
1695 |         axis_bottom_y = page_height - float(bottom_label_y1)
1696 |         axis_height = max(10.0, axis_top_y - axis_bottom_y)
     |         ^^^^^^^^^^^
1697 |
1698 |         # 2) Separator-Linie fest rechts vom linken Diagramm platzieren (template-stabil)
     |
help: Remove assignment to unused variable `axis_height`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> pdf_template_engine\dynamic_overlay.py:1832:17
     |
1830 |                   if not t:
1831 |                       continue
1832 | /                 if "strompreis" in t.lower():
1833 | |                     if t not in legend_texts:
     | |_____________________________________________^
1834 |                           legend_texts.append(t)
1835 |               except Exception:
     |
help: Combine `if` statements using `and`

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1849:22
     |
1848 | ÔÇª     # Eintrag 1 (hellblau) - Quadrat an urspr├╝nglicher Position
1849 | ÔÇª     c.saveState(); c.setFillColor(light_blue); c.rect(legend_x, legend1_base_y, square_size, square_size, stroke=0, fill=1); c.resÔÇª
     |                    ^
1850 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1849:50
     |
1848 | ÔÇª     # Eintrag 1 (hellblau) - Quadrat an urspr├╝nglicher Position
1849 | ÔÇª     c.saveState(); c.setFillColor(light_blue); c.rect(legend_x, legend1_base_y, square_size, square_size, stroke=0, fill=1); c.resÔÇª
     |                                                ^
1850 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1849:128
     |
1848 | ÔÇª     # Eintrag 1 (hellblau) - Quadrat an urspr├╝nglicher Position
1849 | ÔÇª     c.saveState(); c.setFillColor(light_blue); c.rect(legend_x, legend1_base_y, square_size, square_size, stroke=0, fill=1); c.resÔÇª
     |                                                                                                                              ^
1850 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1853:22
     |
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
1852 | ÔÇª     # Eintrag 2 (dunkelblau) - Quadrat an urspr├╝nglicher Position
1853 | ÔÇª     c.saveState(); c.setFillColor(dark_blue); c.rect(legend_x, legend2_base_y, square_size, square_size, stroke=0, fill=1); c.restÔÇª
     |                    ^
1854 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1855 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend2_base_y - 1.0 + text_offset_y, legend_texts[1] if len(ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1853:49
     |
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
1852 | ÔÇª     # Eintrag 2 (dunkelblau) - Quadrat an urspr├╝nglicher Position
1853 | ÔÇª     c.saveState(); c.setFillColor(dark_blue); c.rect(legend_x, legend2_base_y, square_size, square_size, stroke=0, fill=1); c.restÔÇª
     |                                               ^
1854 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1855 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend2_base_y - 1.0 + text_offset_y, legend_texts[1] if len(ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> pdf_template_engine\dynamic_overlay.py:1853:127
     |
1851 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend1_base_y - 1.0 + text_offset_y, legend_texts[0])
1852 | ÔÇª     # Eintrag 2 (dunkelblau) - Quadrat an urspr├╝nglicher Position
1853 | ÔÇª     c.saveState(); c.setFillColor(dark_blue); c.rect(legend_x, legend2_base_y, square_size, square_size, stroke=0, fill=1); c.restÔÇª
     |                                                                                                                             ^
1854 | ÔÇª     c.setFillColor(colors.black)  # Schwarz statt Dunkelblau
1855 | ÔÇª     c.drawString(legend_x + square_size + label_gap + text_offset_x, legend2_base_y - 1.0 + text_offset_y, legend_texts[1] if len(ÔÇª
     |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_template_engine\dynamic_overlay.py:1943:9
     |
1942 |           # Debug-Ausgabe der rohen geladenen Admin-Positionen (vor jeglicher Modifikation)
1943 | /         try:
1944 | |             print(f"DEBUG LOGO POSITIONS geladen (roh): {positions}")
1945 | |         except Exception:
1946 | |             pass
     | |________________^
1947 |
1948 |           # Manueller Modus: Admin-Positionen strikt verwenden (kein Titel-Alignment)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_template_engine\dynamic_overlay.py:2245:21
     |
2243 |                   except Exception:
2244 |                       # Fallback: unskaliert mergen
2245 | /                     try:
2246 | |                         base_page.merge_page(extra_bg_page)
2247 | |                     except Exception:
2248 | |                         pass
     | |____________________________^
2249 |               # WICHTIG: Erstelle eine Kopie der base_page vor dem Merge
2250 |               from copy import deepcopy
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

F841 Local variable `total_pages` is assigned to but never used
    --> pdf_template_engine\dynamic_overlay.py:2319:13
     |
2317 |             total_pages = 7 + len(add_reader.pages)
2318 |         except Exception:
2319 |             total_pages = 7
     |             ^^^^^^^^^^^
     |
help: Remove assignment to unused variable `total_pages`

N806 Variable `DEFAULT_GRID_CO2_FACTOR` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3528:9
     |
3526 |     try:
3527 |         # 1) Jahres-CO2-Ersparnis (kg) nach deutscher Referenzformel
3528 |         DEFAULT_GRID_CO2_FACTOR = 0.363      # kg/kWh ÔÇô Umweltbundesamt Verbrauchsmix 2024
     |         ^^^^^^^^^^^^^^^^^^^^^^^
3529 |         DEFAULT_EXPORT_CO2_FACTOR = 0.363    # kg/kWh ÔÇô konservativ gleich Netzfaktor (Residualmix optional)
3530 |         DEFAULT_PV_CO2_FACTOR = 0.0358       # kg/kWh ÔÇô IEA PVPS LCA 2023 (mono-Si)
     |

N806 Variable `DEFAULT_EXPORT_CO2_FACTOR` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3529:9
     |
3527 |         # 1) Jahres-CO2-Ersparnis (kg) nach deutscher Referenzformel
3528 |         DEFAULT_GRID_CO2_FACTOR = 0.363      # kg/kWh ÔÇô Umweltbundesamt Verbrauchsmix 2024
3529 |         DEFAULT_EXPORT_CO2_FACTOR = 0.363    # kg/kWh ÔÇô konservativ gleich Netzfaktor (Residualmix optional)
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^
3530 |         DEFAULT_PV_CO2_FACTOR = 0.0358       # kg/kWh ÔÇô IEA PVPS LCA 2023 (mono-Si)
3531 |         DEFAULT_TREE_FACTOR = 21.8           # kg COÔéé Aufnahmekapazit├ñt pro Baum und Jahr
     |

N806 Variable `DEFAULT_PV_CO2_FACTOR` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3530:9
     |
3528 |         DEFAULT_GRID_CO2_FACTOR = 0.363      # kg/kWh ÔÇô Umweltbundesamt Verbrauchsmix 2024
3529 |         DEFAULT_EXPORT_CO2_FACTOR = 0.363    # kg/kWh ÔÇô konservativ gleich Netzfaktor (Residualmix optional)
3530 |         DEFAULT_PV_CO2_FACTOR = 0.0358       # kg/kWh ÔÇô IEA PVPS LCA 2023 (mono-Si)
     |         ^^^^^^^^^^^^^^^^^^^^^
3531 |         DEFAULT_TREE_FACTOR = 21.8           # kg COÔéé Aufnahmekapazit├ñt pro Baum und Jahr
3532 |         DEFAULT_CAR_FACTOR = 0.142           # kg COÔéé pro km (Pkw 142 g/km)
     |

N806 Variable `DEFAULT_TREE_FACTOR` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3531:9
     |
3529 |         DEFAULT_EXPORT_CO2_FACTOR = 0.363    # kg/kWh ÔÇô konservativ gleich Netzfaktor (Residualmix optional)
3530 |         DEFAULT_PV_CO2_FACTOR = 0.0358       # kg/kWh ÔÇô IEA PVPS LCA 2023 (mono-Si)
3531 |         DEFAULT_TREE_FACTOR = 21.8           # kg COÔéé Aufnahmekapazit├ñt pro Baum und Jahr
     |         ^^^^^^^^^^^^^^^^^^^
3532 |         DEFAULT_CAR_FACTOR = 0.142           # kg COÔéé pro km (Pkw 142 g/km)
3533 |         DEFAULT_BASELINE_CO2_TONS = 6.924    # t COÔéé pro Kopf (DE, 2023 Residualmix) f├╝r Vergleichsprozente
     |

N806 Variable `DEFAULT_CAR_FACTOR` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3532:9
     |
3530 |         DEFAULT_PV_CO2_FACTOR = 0.0358       # kg/kWh ÔÇô IEA PVPS LCA 2023 (mono-Si)
3531 |         DEFAULT_TREE_FACTOR = 21.8           # kg COÔéé Aufnahmekapazit├ñt pro Baum und Jahr
3532 |         DEFAULT_CAR_FACTOR = 0.142           # kg COÔéé pro km (Pkw 142 g/km)
     |         ^^^^^^^^^^^^^^^^^^
3533 |         DEFAULT_BASELINE_CO2_TONS = 6.924    # t COÔéé pro Kopf (DE, 2023 Residualmix) f├╝r Vergleichsprozente
     |

N806 Variable `DEFAULT_BASELINE_CO2_TONS` in function should be lowercase
    --> pdf_template_engine\placeholders.py:3533:9
     |
3531 |         DEFAULT_TREE_FACTOR = 21.8           # kg COÔéé Aufnahmekapazit├ñt pro Baum und Jahr
3532 |         DEFAULT_CAR_FACTOR = 0.142           # kg COÔéé pro km (Pkw 142 g/km)
3533 |         DEFAULT_BASELINE_CO2_TONS = 6.924    # t COÔéé pro Kopf (DE, 2023 Residualmix) f├╝r Vergleichsprozente
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^
3534 |
3535 |         def _as_float(value) -> float:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> pdf_template_engine\placeholders.py:4836:9
     |
4834 |                   calculated_amortization = None
4835 |
4836 | /         if calculated_amortization is not None:
4837 | |             if (
4838 | |                 amortization_years_value is None
4839 | |                 or abs(amortization_years_value - calculated_amortization) > 0.05
4840 | |             ):
     | |______________^
4841 |                   amortization_years_value = calculated_amortization
4842 |                   if amortization_method_code not in {"classic", "klassisch"}:
     |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pdf_ui.py:259:1
    |
257 |     """
258 |     PERMISSIVE VERSION: Pr├╝ft ob ein Diagramm verf├╝gbar ist.
259 |     
    | ^^^^
260 |     ÔÜá´©Å NEUE LOGIK: Markiert Charts als verf├╝gbar sobald IRGENDEINE Berechnung durchgef├╝hrt wurde!
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:261:1
    |
260 |     ÔÜá´©Å NEUE LOGIK: Markiert Charts als verf├╝gbar sobald IRGENDEINE Berechnung durchgef├╝hrt wurde!
261 |     
    | ^^^^
262 |     Args:
263 |         chart_key: Schl├╝ssel des Diagramms
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:266:1
    |
264 |         project_data: Projekt-Daten mit customer_data, project_details, etc.
265 |         analysis_results: Analyse-Ergebnisse mit berechneten Werten
266 |         
    | ^^^^^^^^
267 |     Returns:
268 |         True wenn Diagramm verf├╝gbar, sonst False
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `has_minimal_data` before `return` statement
   --> pdf_ui.py:315:20
    |
313 |                 True  # ÔÜá´©Å IMMER True! Lass User selbst entscheiden!
314 |             )
315 |             return has_minimal_data
    |                    ^^^^^^^^^^^^^^^^
316 |
317 |         # ÔÜá´©Å ALLE ANDEREN CHARTS: PERMISSIVE! ÔÜá´©Å
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pdf_ui.py:343:1
    |
341 |     """
342 |     Rendert die Diagrammauswahl-UI mit Kategorisierung und Verf├╝gbarkeits-Pr├╝fung.
343 |     
    | ^^^^
344 |     Args:
345 |         project_data: Projekt-Daten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:348:1
    |
346 |         analysis_results: Analyse-Ergebnisse
347 |         texts: ├£bersetzungstexte
348 |         
    | ^^^^^^^^
349 |     Returns:
350 |         Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

F841 Local variable `selected_charts` is assigned to but never used
   --> pdf_ui.py:420:5
    |
419 |     # Kategorisierte Diagrammauswahl
420 |     selected_charts = []
    |     ^^^^^^^^^^^^^^^
421 |
422 |     # Initialisiere Session State falls nicht vorhanden
    |
help: Remove assignment to unused variable `selected_charts`

W293 Blank line contains whitespace
   --> pdf_ui.py:513:1
    |
511 |     """
512 |     Generiert ein Thumbnail (Vorschaubild) f├╝r ein Diagramm.
513 |     
    | ^^^^
514 |     Args:
515 |         chart_bytes: PNG-Bytes des Original-Diagramms
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:518:1
    |
516 |         thumbnail_width: Breite des Thumbnails in Pixeln
517 |         thumbnail_height: H├Âhe des Thumbnails in Pixeln
518 |         
    | ^^^^^^^^
519 |     Returns:
520 |         PNG-Bytes des Thumbnails oder None bei Fehler
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:556:1
    |
554 |     """
555 |     Erstellt ein Platzhalter-Thumbnail wenn kein Diagramm verf├╝gbar ist.
556 |     
    | ^^^^
557 |     Args:
558 |         width: Breite des Platzhalters in Pixeln
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:561:1
    |
559 |         height: H├Âhe des Platzhalters in Pixeln
560 |         text: Text der im Platzhalter angezeigt wird
561 |         
    | ^^^^^^^^
562 |     Returns:
563 |         PNG-Bytes des Platzhalters
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> pdf_ui.py:581:9
    |
579 |             # Versuche eine Schriftart zu laden
580 |             font = ImageFont.truetype("arial.ttf", 12)
581 |         except:
    |         ^^^^^^
582 |             # Fallback auf Standard-Schriftart
583 |             font = ImageFont.load_default()
    |

W293 Blank line contains whitespace
   --> pdf_ui.py:623:1
    |
621 |     """
622 |     Rendert ein Grid mit Vorschaubildern der ausgew├ñhlten Diagramme.
623 |     
    | ^^^^
624 |     Args:
625 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> pdf_ui.py:652:13
    |
650 |               friendly_name = CHART_KEY_TO_FRIENDLY_NAME_MAP.get(chart_key, chart_key)
651 |
652 | /             with cols[col_idx]:
653 | |                 # Container f├╝r Diagramm-Vorschau
654 | |                 with st.container():
    | |____________________________________^
655 |                       st.markdown(f"**{friendly_name}**")
    |
help: Combine `with` statements

W293 Blank line contains whitespace
   --> pdf_ui.py:694:1
    |
692 |     """
693 |     Rendert eine Karussell-Ansicht der ausgew├ñhlten Diagramme.
694 |     
    | ^^^^
695 |     Args:
696 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:759:1
    |
757 |     """
758 |     Rendert Tabs mit Vorschaubildern gruppiert nach Kategorien.
759 |     
    | ^^^^
760 |     Args:
761 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:828:1
    |
826 |     """
827 |     Hauptfunktion zum Rendern der Diagramm-Vorschau-Oberfl├ñche.
828 |     
    | ^^^^
829 |     Args:
830 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:887:1
    |
885 |     """
886 |     Speichert die Diagrammauswahl persistent in der Datenbank.
887 |     
    | ^^^^
888 |     Args:
889 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:891:1
    |
889 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
890 |         save_admin_setting_func: Funktion zum Speichern von Admin-Einstellungen
891 |         
    | ^^^^^^^^
892 |     Returns:
893 |         True wenn erfolgreich gespeichert, sonst False
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:916:1
    |
914 |     """
915 |     L├ñdt die gespeicherte Diagrammauswahl aus der Datenbank.
916 |     
    | ^^^^
917 |     Args:
918 |         load_admin_setting_func: Funktion zum Laden von Admin-Einstellungen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:919:1
    |
917 |     Args:
918 |         load_admin_setting_func: Funktion zum Laden von Admin-Einstellungen
919 |         
    | ^^^^^^^^
920 |     Returns:
921 |         Liste der gespeicherten Diagramm-Schl├╝ssel oder leere Liste
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:944:1
    |
942 |     """
943 |     Sch├ñtzt die PDF-Gr├Â├ƒe basierend auf der Anzahl ausgew├ñhlter Diagramme.
944 |     
    | ^^^^
945 |     Args:
946 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:947:1
    |
945 |     Args:
946 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
947 |         
    | ^^^^^^^^
948 |     Returns:
949 |         Gesch├ñtzte Gr├Â├ƒe als formatierter String (z.B. "2.5 MB")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pdf_ui.py:973:1
    |
971 |     """
972 |     Rendert ein Info-Panel mit Details zur Diagrammauswahl.
973 |     
    | ^^^^
974 |     Args:
975 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1043:1
     |
1041 |     """
1042 |     Verwaltet das Laden und Speichern der Diagrammauswahl.
1043 |     
     | ^^^^
1044 |     Args:
1045 |         load_admin_setting_func: Funktion zum Laden von Admin-Einstellungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1090:1
     |
1088 |     """
1089 |     Filtert die analysis_results, sodass nur ausgew├ñhlte Diagramme enthalten sind.
1090 |     
     | ^^^^
1091 |     Args:
1092 |         analysis_results: Vollst├ñndige Analyse-Ergebnisse mit allen Diagrammen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1094:1
     |
1092 |         analysis_results: Vollst├ñndige Analyse-Ergebnisse mit allen Diagrammen
1093 |         selected_charts: Liste der ausgew├ñhlten Diagramm-Schl├╝ssel
1094 |         
     | ^^^^^^^^
1095 |     Returns:
1096 |         Gefiltertes Dictionary mit nur den ausgew├ñhlten Diagrammen
     |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `filtered` before `return` statement
    --> pdf_ui.py:1105:20
     |
1103 |             # Keine Diagramme ausgew├ñhlt - alle Chart-Bytes entfernen
1104 |             filtered = {k: v for k, v in analysis_results.items() if not k.endswith('_chart_bytes')}
1105 |             return filtered
     |                    ^^^^^^^^
1106 |
1107 |         # Kopie erstellen
     |
help: Remove unnecessary assignment

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> pdf_ui.py:1111:33
     |
1110 |         # Alle Chart-Keys finden
1111 |         all_chart_keys = [k for k in filtered.keys() if k.endswith('_chart_bytes')]
     |                                 ^^^^^^^^^^^^^^^^^^^^
1112 |
1113 |         # Nicht ausgew├ñhlte Diagramme entfernen
     |
help: Remove `.keys()`

W293 Blank line contains whitespace
    --> pdf_ui.py:1133:1
     |
1131 |     """
1132 |     Generiert nur die ausgew├ñhlten Diagramme und gibt aktualisierte analysis_results zur├╝ck.
1133 |     
     | ^^^^
1134 |     Args:
1135 |         project_data: Projekt-Daten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1138:1
     |
1136 |         analysis_results: Bestehende Analyse-Ergebnisse
1137 |         selected_charts: Liste der zu generierenden Diagramm-Schl├╝ssel
1138 |         
     | ^^^^^^^^
1139 |     Returns:
1140 |         Aktualisierte analysis_results mit nur den ausgew├ñhlten Diagrammen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1170:1
     |
1168 |     """
1169 |     Validiert ob alle ben├Âtigten Daten f├╝r ein Diagramm vorhanden sind.
1170 |     
     | ^^^^
1171 |     Args:
1172 |         chart_key: Schl├╝ssel des zu validierenden Diagramms
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1175:1
     |
1173 |         project_data: Projekt-Daten
1174 |         analysis_results: Analyse-Ergebnisse
1175 |         
     | ^^^^^^^^
1176 |     Returns:
1177 |         Tuple (is_valid, error_message)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1202:1
     |
1200 |     """
1201 |     Ermittelt alle Fehler bei der Diagramm-Generierung.
1202 |     
     | ^^^^
1203 |     Args:
1204 |         selected_charts: Liste der ausgew├ñhlten Diagramme
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1207:1
     |
1205 |         project_data: Projekt-Daten
1206 |         analysis_results: Analyse-Ergebnisse
1207 |         
     | ^^^^^^^^
1208 |     Returns:
1209 |         Dictionary mit chart_key -> error_message f├╝r fehlerhafte Diagramme
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1228:1
     |
1226 |     """
1227 |     Zeigt den Status der Diagramm-Generierung an.
1228 |     
     | ^^^^
1229 |     Args:
1230 |         selected_charts: Liste der ausgew├ñhlten Diagramme
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1275:1
     |
1273 |     """
1274 |     Bereitet die Daten f├╝r die PDF-Generierung vor, indem nur ausgew├ñhlte Diagramme inkludiert werden.
1275 |     
     | ^^^^
1276 |     Args:
1277 |         project_data: Original Projekt-Daten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1280:1
     |
1278 |         analysis_results: Original Analyse-Ergebnisse
1279 |         selected_charts: Liste der ausgew├ñhlten Diagramme
1280 |         
     | ^^^^^^^^
1281 |     Returns:
1282 |         Tuple (prepared_project_data, prepared_analysis_results)
     |
help: Remove whitespace from blank line

E712 Avoid equality comparisons to `False`; use `not data_status:` for false checks
    --> pdf_ui.py:1550:8
     |
1549 |     # Wenn kritische Daten fehlen, PDF-Formular nicht anzeigen
1550 |     if data_status == False:
     |        ^^^^^^^^^^^^^^^^^^^^
1551 |         return
1552 |     if data_status == "fallback":
     |
help: Replace with `not data_status`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> pdf_ui.py:1748:13
     |
1746 |   ÔÇª     selected_preset_name_to_load = st.selectbox(get_text_pdf_ui(texts, "pdf_load_preset_label", "Vorlage laden"), options=[get_text_pdf_ui(
1747 |   ÔÇª         texts, "pdf_no_preset_selected_option", "-- Keine Vorlage --")] + preset_names, key="pdf_preset_load_select_v1_stable")
1748 | / ÔÇª     if selected_preset_name_to_load != get_text_pdf_ui(texts, "pdf_no_preset_selected_option", "-- Keine Vorlage --"):
1749 | | ÔÇª         if st.button(get_text_pdf_ui(texts, "pdf_load_selected_preset_button", "Ausgew├ñhlte Vorlage anwenden"), key="pdf_load_preset_btn_v1_stable", on_click=load_preset_on_click, args=(selected_preset_name_to_load,)):
     | |____________________________________________________________________________________________________________________________________________________________________________________________________________________________^
1750 |   ÔÇª             pass
1751 |   ÔÇª else:
     |
help: Combine `if` statements using `and`

F401 `admin_payment_terms_ui.get_payment_variant_for_pdf_generation` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> pdf_ui.py:1790:17
     |
1788 |             # Import der Zahlungsvarianten-Komponenten
1789 |             from admin_payment_terms_ui import (
1790 |                 get_payment_variant_for_pdf_generation,
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1791 |                 render_payment_variant_compact_selector,
1792 |             )
     |
help: Remove unused import: `admin_payment_terms_ui.get_payment_variant_for_pdf_generation`

W293 Blank line contains whitespace
    --> pdf_ui.py:1937:1
     |
1935 |                 st.info(f"""
1936 |                 **Projektbetrag:** {project_total:,.2f} Ôé¼
1937 |                 
     | ^^^^^^^^^^^^^^^^
1938 |                 **Position im PDF:** Seite 8
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:1939:1
     |
1938 |                 **Position im PDF:** Seite 8
1939 |                 
     | ^^^^^^^^^^^^^^^^
1940 |                 **Konfiguration:** Admin-Panel ÔåÆ Zahlungsmodalit├ñten
1941 |                 """)
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> pdf_ui.py:2438:67
     |
2436 |                 **Verf├╝gbare Content-Typen:**
2437 |                 -  **Texte:** Individuelle Hinweise, Garantien, etc.
2438 |                 -  **Bilder:** Fotos vom Projekt, Referenzen, etc.  
     |                                                                   ^^
2439 |                 -  **Tabellen:** Zus├ñtzliche Komponenten, Preislisten, etc.
2440 |                 """)
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> pdf_ui.py:2713:1
     |
2711 |                 st.markdown("""
2712 |                 **Nach der Berechnung im Solar Calculator sind folgende Features verf├╝gbar:**
2713 |                 
     | ^^^^^^^^^^^^^^^^
2714 |                 ### ÔÜí Stromtarif-Optimierung
2715 |                 - Vergleicht Einheitstarif, HT/NT-Tarif, Dynamischer Tarif
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2719:1
     |
2717 |                 - Empfiehlt optimalen Tarif
2718 |                 - **Einsparung:** Bis zu 520 Ôé¼/Jahr
2719 |                 
     | ^^^^^^^^^^^^^^^^
2720 |                 ### ­ƒÆ░ Steuervorteile & AfA
2721 |                 - Umsatzsteuer-Erstattung (19%)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2726:1
     |
2724 |                 - **Vorteil Jahr 1:** ~10.000 Ôé¼
2725 |                 - **Vorteil 20 Jahre:** ~24.000 Ôé¼
2726 |                 
     | ^^^^^^^^^^^^^^^^
2727 |                 ### ­ƒÄü Verf├╝gbare F├Ârderungen
2728 |                 - KfW 270, KfW 442, BAFA
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2732:1
     |
2730 |                 - Kommunale F├Ârderungen
2731 |                 - **Gesamte Zusch├╝sse:** Bis zu 13.900 Ôé¼
2732 |                 
     | ^^^^^^^^^^^^^^^^
2733 |                 ### ­ƒöï Batterie-Optimierung
2734 |                 - Simuliert optimale Speichergr├Â├ƒe
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2737:1
     |
2735 |                 - Berechnet ROI und Payback
2736 |                 - **Autarkie-Steigerung:** Bis zu +8%
2737 |                 
     | ^^^^^^^^^^^^^^^^
2738 |                 ### ­ƒÆ│ Finanzierungs-Szenarien
2739 |                 - Vergleicht Barkauf, Kredit, Leasing, PPA
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2742:1
     |
2740 |                 - 6 verschiedene Szenarien
2741 |                 - **ROI-Verdopplung** m├Âglich
2742 |                 
     | ^^^^^^^^^^^^^^^^
2743 |                 ### ­ƒôè Break-Even Detailliert (Neues Chart!)
2744 |                 - 3 Szenarien ├╝ber 25 Jahre
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2747:1
     |
2745 |                 - Interaktives Liniendiagramm
2746 |                 - Break-Even Marker
2747 |                 
     | ^^^^^^^^^^^^^^^^
2748 |                 ### ­ƒôè Lebenszykluskosten TCO (Neues Chart!)
2749 |                 - Total Cost of Ownership
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2752:1
     |
2750 |                 - Waterfall Chart
2751 |                 - Alle Kosten ├╝ber 25 Jahre
2752 |                 
     | ^^^^^^^^^^^^^^^^
2753 |                 ---
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> pdf_ui.py:2754:1
     |
2753 |                 ---
2754 |                 
     | ^^^^^^^^^^^^^^^^
2755 |                 ÔÜá´©Å **Um diese Features zu nutzen:**
2756 |                 1. Gehen Sie zum **Solar Calculator** (Hauptseite)
     |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
    --> pdf_ui.py:2796:21
     |
2794 |                   with col1:
2795 |                       # Guard gegen mehrfache Reruns
2796 | /                     if st.button("Zur├╝cksetzen auf Auto-Auswahl", key="reset_datasheet_selection_btn_outside_form"):
2797 | |                         if not st.session_state.get('_reset_datasheet_in_progress'):
     | |____________________________________________________________________________________^
2798 |                               st.session_state._reset_datasheet_in_progress = True
2799 |                               st.session_state.pdf_inclusion_options["selected_product_datasheets"] = list(auto_selected_product_ids)
     |
help: Combine `if` statements using `and`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> pdf_ui.py:3814:37
     |
3812 |   ÔÇª                         }
3813 |   ÔÇª                         st.session_state['_crm_expanded'] = True
3814 | / ÔÇª                         try:
3815 | | ÔÇª                             conn.close()
3816 | | ÔÇª                         except Exception:
3817 | | ÔÇª                             pass
     | |__________________________________^
3818 |   ÔÇª                     else:
3819 |   ÔÇª                         st.error(
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

W291 Trailing whitespace
    --> pdf_ui.py:3855:20
     |
3853 |     """
3854 |     Erweiterte PDF-Vorschau mit Bearbeitungsm├Âglichkeiten und Seitenreihenfolge.
3855 |     Das wird BOMBE! 
     |                    ^
3856 |
3857 |     Args:
     |
help: Remove trailing whitespace

F401 `PyPDF2.PdfReader` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> pdf_ui.py:3928:36
     |
3926 |         except ImportError:
3927 |             try:
3928 |                 from PyPDF2 import PdfReader, PdfWriter
     |                                    ^^^^^^^^^
3929 |                 pypdf_status = " PyPDF2 verf├╝gbar (Fallback)"
3930 |             except ImportError:
     |
help: Remove unused import

F401 `PyPDF2.PdfWriter` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> pdf_ui.py:3928:47
     |
3926 |         except ImportError:
3927 |             try:
3928 |                 from PyPDF2 import PdfReader, PdfWriter
     |                                               ^^^^^^^^^
3929 |                 pypdf_status = " PyPDF2 verf├╝gbar (Fallback)"
3930 |             except ImportError:
     |
help: Remove unused import

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> price_matrix_store.py:125:9
    |
123 |           alter_cmds.append("ALTER TABLE price_matrix_sets ADD COLUMN include_misc INTEGER DEFAULT 1")
124 |       for cmd in alter_cmds:
125 | /         try:
126 | |             cur.execute(cmd)
127 | |         except Exception:
128 | |             pass
    | |________________^
129 |       # price_matrix_cells: raw_input
130 |       cur.execute("PRAGMA table_info(price_matrix_cells)")
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> price_matrix_store.py:133:9
    |
131 |       cell_cols = {r[1] for r in cur.fetchall()}
132 |       if 'raw_input' not in cell_cols:
133 | /         try:
134 | |             cur.execute("ALTER TABLE price_matrix_cells ADD COLUMN raw_input TEXT")
135 | |         except Exception:
136 | |             pass
    | |________________^
137 |       conn.commit()
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:148:20
    |
146 |     try:
147 |         conn = get_db_connection()
148 |         if not conn: return None
    |                    ^
149 |         _ensure_tables(conn)
150 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:153:22
    |
151 |         cur.execute("INSERT INTO price_matrix_sets (name, description, pricing_mode, include_accessories, include_misc) VALUES (?, ?,ÔÇª
152 |         matrix_id = cur.lastrowid
153 |         conn.commit(); conn.close()
    |                      ^
154 |         return matrix_id
155 |     except Exception as e:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:162:20
    |
160 |     try:
161 |         conn = get_db_connection()
162 |         if not conn: return []
    |                    ^
163 |         _ensure_tables(conn)
164 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:174:21
    |
172 |                 "created_at": row[7], "updated_at": row[8]
173 |             })
174 |         conn.close(); return data
    |                     ^
175 |     except Exception as e:
176 |         print(f"price_matrix_store.list_matrices Fehler: {e}"); return []
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:176:63
    |
174 |         conn.close(); return data
175 |     except Exception as e:
176 |         print(f"price_matrix_store.list_matrices Fehler: {e}"); return []
    |                                                               ^
177 |
178 | def set_active_matrix(matrix_id: int) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:181:20
    |
179 |     try:
180 |         conn = get_db_connection()
181 |         if not conn: return False
    |                    ^
182 |         _ensure_tables(conn)
183 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:186:22
    |
184 |         cur.execute("UPDATE price_matrix_sets SET is_active=0 WHERE is_active=1")
185 |         cur.execute("UPDATE price_matrix_sets SET is_active=1, updated_at=CURRENT_TIMESTAMP WHERE id=?", (matrix_id,))
186 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                      ^
187 |     except Exception as e:
188 |         print(f"price_matrix_store.set_active_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:186:45
    |
184 |         cur.execute("UPDATE price_matrix_sets SET is_active=0 WHERE is_active=1")
185 |         cur.execute("UPDATE price_matrix_sets SET is_active=1, updated_at=CURRENT_TIMESTAMP WHERE id=?", (matrix_id,))
186 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                             ^
187 |     except Exception as e:
188 |         print(f"price_matrix_store.set_active_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:186:59
    |
184 |         cur.execute("UPDATE price_matrix_sets SET is_active=0 WHERE is_active=1")
185 |         cur.execute("UPDATE price_matrix_sets SET is_active=1, updated_at=CURRENT_TIMESTAMP WHERE id=?", (matrix_id,))
186 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                                           ^
187 |     except Exception as e:
188 |         print(f"price_matrix_store.set_active_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:188:67
    |
186 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
187 |     except Exception as e:
188 |         print(f"price_matrix_store.set_active_matrix Fehler: {e}"); return False
    |                                                                   ^
189 |
190 | def get_active_matrix_id() -> int | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:193:20
    |
191 |     try:
192 |         conn = get_db_connection()
193 |         if not conn: return None
    |                    ^
194 |         _ensure_tables(conn)
195 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:197:29
    |
195 |         cur = conn.cursor()
196 |         cur.execute("SELECT id FROM price_matrix_sets WHERE is_active=1 LIMIT 1")
197 |         row = cur.fetchone(); conn.close()
    |                             ^
198 |         return row[0] if row else None
199 |     except Exception as e:
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:200:70
    |
198 |         return row[0] if row else None
199 |     except Exception as e:
200 |         print(f"price_matrix_store.get_active_matrix_id Fehler: {e}"); return None
    |                                                                      ^
201 |
202 | def delete_matrix(matrix_id: int) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:205:20
    |
203 |     try:
204 |         conn = get_db_connection()
205 |         if not conn: return False
    |                    ^
206 |         _ensure_tables(conn)
207 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:209:22
    |
207 |         cur = conn.cursor()
208 |         cur.execute("DELETE FROM price_matrix_sets WHERE id=?", (matrix_id,))
209 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                      ^
210 |     except Exception as e:
211 |         print(f"price_matrix_store.delete_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:209:45
    |
207 |         cur = conn.cursor()
208 |         cur.execute("DELETE FROM price_matrix_sets WHERE id=?", (matrix_id,))
209 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                             ^
210 |     except Exception as e:
211 |         print(f"price_matrix_store.delete_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:209:59
    |
207 |         cur = conn.cursor()
208 |         cur.execute("DELETE FROM price_matrix_sets WHERE id=?", (matrix_id,))
209 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                                           ^
210 |     except Exception as e:
211 |         print(f"price_matrix_store.delete_matrix Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:211:63
    |
209 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
210 |     except Exception as e:
211 |         print(f"price_matrix_store.delete_matrix Fehler: {e}"); return False
    |                                                               ^
212 |
213 | def clone_matrix(matrix_id: int, new_name: str) -> int | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:216:20
    |
214 |     try:
215 |         conn = get_db_connection()
216 |         if not conn: return None
    |                    ^
217 |         _ensure_tables(conn)
218 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:222:25
    |
220 | ÔÇª     base = cur.fetchone()
221 | ÔÇª     if not base:
222 | ÔÇª         conn.close(); return None
    |                       ^
223 | ÔÇª     cur.execute("INSERT INTO price_matrix_sets (name, description, pricing_mode, include_accessories, include_misc) VALUES (?, ?, ?ÔÇª
224 | ÔÇª     new_id = cur.lastrowid
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:241:37
    |
239 | ÔÇª     for cell in cur.fetchall():
240 | ÔÇª         old_r, old_c, val = cell
241 | ÔÇª         nr = rows_map.get(old_r); nc = cols_map.get(old_c)
    |                                   ^
242 | ÔÇª         if nr and nc:
243 | ÔÇª             cur.execute("INSERT INTO price_matrix_cells (matrix_id, row_id, column_id, value) VALUES (?, ?, ?, ?)", (new_id, nr, ncÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:244:22
    |
242 |             if nr and nc:
243 |                 cur.execute("INSERT INTO price_matrix_cells (matrix_id, row_id, column_id, value) VALUES (?, ?, ?, ?)", (new_id, nr, ÔÇª
244 |         conn.commit(); conn.close(); return new_id
    |                      ^
245 |     except Exception as e:
246 |         print(f"price_matrix_store.clone_matrix Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:244:36
    |
242 |             if nr and nc:
243 |                 cur.execute("INSERT INTO price_matrix_cells (matrix_id, row_id, column_id, value) VALUES (?, ?, ?, ?)", (new_id, nr, ÔÇª
244 |         conn.commit(); conn.close(); return new_id
    |                                    ^
245 |     except Exception as e:
246 |         print(f"price_matrix_store.clone_matrix Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:246:62
    |
244 |         conn.commit(); conn.close(); return new_id
245 |     except Exception as e:
246 |         print(f"price_matrix_store.clone_matrix Fehler: {e}"); return None
    |                                                              ^
247 |
248 | def add_row(matrix_id: int, label: str, position: int | None = None) -> int | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:251:20
    |
249 |     try:
250 |         conn = get_db_connection()
251 |         if not conn: return None
    |                    ^
252 |         _ensure_tables(conn)
253 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:262:22
    |
260 |         cur.execute("INSERT INTO price_matrix_rows (matrix_id, position, label) VALUES (?, ?, ?)", (matrix_id, pos, label))
261 |         row_id = cur.lastrowid
262 |         conn.commit(); conn.close(); return row_id
    |                      ^
263 |     except Exception as e:
264 |         print(f"price_matrix_store.add_row Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:262:36
    |
260 |         cur.execute("INSERT INTO price_matrix_rows (matrix_id, position, label) VALUES (?, ?, ?)", (matrix_id, pos, label))
261 |         row_id = cur.lastrowid
262 |         conn.commit(); conn.close(); return row_id
    |                                    ^
263 |     except Exception as e:
264 |         print(f"price_matrix_store.add_row Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:264:57
    |
262 |         conn.commit(); conn.close(); return row_id
263 |     except Exception as e:
264 |         print(f"price_matrix_store.add_row Fehler: {e}"); return None
    |                                                         ^
265 |
266 | def add_column(matrix_id: int, label: str, position: int | None = None) -> int | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:269:20
    |
267 |     try:
268 |         conn = get_db_connection()
269 |         if not conn: return None
    |                    ^
270 |         _ensure_tables(conn)
271 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:279:22
    |
277 |         cur.execute("INSERT INTO price_matrix_columns (matrix_id, position, label) VALUES (?, ?, ?)", (matrix_id, pos, label))
278 |         col_id = cur.lastrowid
279 |         conn.commit(); conn.close(); return col_id
    |                      ^
280 |     except Exception as e:
281 |         print(f"price_matrix_store.add_column Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:279:36
    |
277 |         cur.execute("INSERT INTO price_matrix_columns (matrix_id, position, label) VALUES (?, ?, ?)", (matrix_id, pos, label))
278 |         col_id = cur.lastrowid
279 |         conn.commit(); conn.close(); return col_id
    |                                    ^
280 |     except Exception as e:
281 |         print(f"price_matrix_store.add_column Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:281:60
    |
279 |         conn.commit(); conn.close(); return col_id
280 |     except Exception as e:
281 |         print(f"price_matrix_store.add_column Fehler: {e}"); return None
    |                                                            ^
282 |
283 | def remove_row(row_id: int) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:286:20
    |
284 |     try:
285 |         conn = get_db_connection()
286 |         if not conn: return False
    |                    ^
287 |         _ensure_tables(conn)
288 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:293:25
    |
291 |         row = cur.fetchone()
292 |         if not row:
293 |             conn.close(); return False
    |                         ^
294 |         matrix_id, pos = row[0], row[1]
295 |         cur.execute("DELETE FROM price_matrix_rows WHERE id=?", (row_id,))
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:298:22
    |
296 |         # Positionen anpassen
297 |         cur.execute("UPDATE price_matrix_rows SET position=position-1 WHERE matrix_id=? AND position> ?", (matrix_id, pos))
298 |         conn.commit(); conn.close(); return True
    |                      ^
299 |     except Exception as e:
300 |         print(f"price_matrix_store.remove_row Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:298:36
    |
296 |         # Positionen anpassen
297 |         cur.execute("UPDATE price_matrix_rows SET position=position-1 WHERE matrix_id=? AND position> ?", (matrix_id, pos))
298 |         conn.commit(); conn.close(); return True
    |                                    ^
299 |     except Exception as e:
300 |         print(f"price_matrix_store.remove_row Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:300:60
    |
298 |         conn.commit(); conn.close(); return True
299 |     except Exception as e:
300 |         print(f"price_matrix_store.remove_row Fehler: {e}"); return False
    |                                                            ^
301 |
302 | def remove_column(column_id: int) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:305:20
    |
303 |     try:
304 |         conn = get_db_connection()
305 |         if not conn: return False
    |                    ^
306 |         _ensure_tables(conn)
307 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:311:25
    |
309 |         col = cur.fetchone()
310 |         if not col:
311 |             conn.close(); return False
    |                         ^
312 |         matrix_id, pos = col[0], col[1]
313 |         cur.execute("DELETE FROM price_matrix_columns WHERE id=?", (column_id,))
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:315:22
    |
313 |         cur.execute("DELETE FROM price_matrix_columns WHERE id=?", (column_id,))
314 |         cur.execute("UPDATE price_matrix_columns SET position=position-1 WHERE matrix_id=? AND position> ?", (matrix_id, pos))
315 |         conn.commit(); conn.close(); return True
    |                      ^
316 |     except Exception as e:
317 |         print(f"price_matrix_store.remove_column Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:315:36
    |
313 |         cur.execute("DELETE FROM price_matrix_columns WHERE id=?", (column_id,))
314 |         cur.execute("UPDATE price_matrix_columns SET position=position-1 WHERE matrix_id=? AND position> ?", (matrix_id, pos))
315 |         conn.commit(); conn.close(); return True
    |                                    ^
316 |     except Exception as e:
317 |         print(f"price_matrix_store.remove_column Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:317:63
    |
315 |         conn.commit(); conn.close(); return True
316 |     except Exception as e:
317 |         print(f"price_matrix_store.remove_column Fehler: {e}"); return False
    |                                                               ^
318 |
319 | def set_cell_value(matrix_id: int, row_id: int, column_id: int, value: float | None, raw_input: str | None = None) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:322:20
    |
320 |     try:
321 |         conn = get_db_connection()
322 |         if not conn: return False
    |                    ^
323 |         _ensure_tables(conn)
324 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:327:25
    |
325 |         cur.execute("SELECT 1 FROM price_matrix_rows WHERE id=? AND matrix_id=?", (row_id, matrix_id))
326 |         if not cur.fetchone():
327 |             conn.close(); return False
    |                         ^
328 |         cur.execute("SELECT 1 FROM price_matrix_columns WHERE id=? AND matrix_id=?", (column_id, matrix_id))
329 |         if not cur.fetchone():
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:330:25
    |
328 | ÔÇª     cur.execute("SELECT 1 FROM price_matrix_columns WHERE id=? AND matrix_id=?", (column_id, matrix_id))
329 | ÔÇª     if not cur.fetchone():
330 | ÔÇª         conn.close(); return False
    |                       ^
331 | ÔÇª     cur.execute("SELECT id FROM price_matrix_cells WHERE matrix_id=? AND row_id=? AND column_id=?", (matrix_id, row_id, column_id))
332 | ÔÇª     existing = cur.fetchone()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:337:22
    |
335 |         else:
336 |             cur.execute("INSERT INTO price_matrix_cells (matrix_id, row_id, column_id, value, raw_input) VALUES (?, ?, ?, ?, ?)", (maÔÇª
337 |         conn.commit(); conn.close(); return True
    |                      ^
338 |     except Exception as e:
339 |         print(f"price_matrix_store.set_cell_value Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:337:36
    |
335 |         else:
336 |             cur.execute("INSERT INTO price_matrix_cells (matrix_id, row_id, column_id, value, raw_input) VALUES (?, ?, ?, ?, ?)", (maÔÇª
337 |         conn.commit(); conn.close(); return True
    |                                    ^
338 |     except Exception as e:
339 |         print(f"price_matrix_store.set_cell_value Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:339:64
    |
337 |         conn.commit(); conn.close(); return True
338 |     except Exception as e:
339 |         print(f"price_matrix_store.set_cell_value Fehler: {e}"); return False
    |                                                                ^
340 |
341 | def get_matrix_full(matrix_id: int) -> dict[str, Any] | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:344:20
    |
342 |     try:
343 |         conn = get_db_connection()
344 |         if not conn: return None
    |                    ^
345 |         _ensure_tables(conn)
346 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:350:25
    |
348 |         meta_row = cur.fetchone()
349 |         if not meta_row:
350 |             conn.close(); return None
    |                         ^
351 |         meta = {"id": meta_row[0], "name": meta_row[1], "description": meta_row[2], "is_active": bool(meta_row[3]),
352 |         "pricing_mode": meta_row[4] or 'pauschal', "include_accessories": bool(meta_row[5]), "include_misc": bool(meta_row[6]),
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:388:65
    |
386 |         return {"meta": meta, "rows": rows, "columns": cols, "cells": cells_map, "wide": wide}
387 |     except Exception as e:
388 |         print(f"price_matrix_store.get_matrix_full Fehler: {e}"); return None
    |                                                                 ^
389 |
390 | def export_matrix_csv(matrix_id: int, delimiter: str = ';') -> str | None:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:392:16
    |
390 | def export_matrix_csv(matrix_id: int, delimiter: str = ';') -> str | None:
391 |     full = get_matrix_full(matrix_id)
392 |     if not full: return None
    |                ^
393 |     df = full['wide']
394 |     if df.empty:
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:414:20
    |
412 |     try:
413 |         conn = get_db_connection()
414 |         if not conn: return None
    |                    ^
415 |         _ensure_tables(conn)
416 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:422:26
    |
420 |         rows = list(reader)
421 |         if not rows:
422 |             conn.commit(); conn.close(); return matrix_id
    |                          ^
423 |         header = rows[0]
424 |         col_labels = header[1:]
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:422:40
    |
420 |         rows = list(reader)
421 |         if not rows:
422 |             conn.commit(); conn.close(); return matrix_id
    |                                        ^
423 |         header = rows[0]
424 |         col_labels = header[1:]
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:430:25
    |
428 |             col_ids.append(cur.lastrowid)
429 |         for rline in rows[1:]:
430 |             if not rline: continue
    |                         ^
431 |             label = rline[0].strip()
432 |             if not label: continue
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:432:25
    |
430 |             if not rline: continue
431 |             label = rline[0].strip()
432 |             if not label: continue
    |                         ^
433 |             cur.execute("INSERT INTO price_matrix_rows (matrix_id, position, label) VALUES (?, ?, ?)", (matrix_id, 10**6, label))
434 |             rid = cur.lastrowid
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:447:22
    |
445 |         # Positionen neu sortieren
446 |         _recalc_positions(cur, 'price_matrix_rows', matrix_id)
447 |         conn.commit(); conn.close(); return matrix_id
    |                      ^
448 |     except Exception as e:
449 |         print(f"price_matrix_store.import_matrix_csv Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:447:36
    |
445 |         # Positionen neu sortieren
446 |         _recalc_positions(cur, 'price_matrix_rows', matrix_id)
447 |         conn.commit(); conn.close(); return matrix_id
    |                                    ^
448 |     except Exception as e:
449 |         print(f"price_matrix_store.import_matrix_csv Fehler: {e}"); return None
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:449:67
    |
447 |         conn.commit(); conn.close(); return matrix_id
448 |     except Exception as e:
449 |         print(f"price_matrix_store.import_matrix_csv Fehler: {e}"); return None
    |                                                                   ^
450 |
451 | # Hilfsfunktion f├╝r Preisermittlung (einfacher Prototyp)
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:454:16
    |
452 | def lookup_price(matrix_id: int, row_label: str, column_label: str) -> float | None:
453 |     full = get_matrix_full(matrix_id)
454 |     if not full: return None
    |                ^
455 |     df = full['wide']
456 |     if df.empty: return None
    |

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:456:16
    |
454 |     if not full: return None
455 |     df = full['wide']
456 |     if df.empty: return None
    |                ^
457 |     # Zeilen-Label exakte Suche, sonst n├ñchst kleinere Zahl falls numerisch
458 |     chosen_row_label = None
    |

SIM105 Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
   --> price_matrix_store.py:469:17
    |
467 |               numeric_index = []
468 |               for idx in df.index:
469 | /                 try:
470 | |                     numeric_index.append((float(str(idx).replace(',', '.')), idx))
471 | |                 except ValueError:
472 | |                     pass
    | |________________________^
473 |               candidates = [idx for val, idx in numeric_index if val <= target]
474 |               if candidates:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError): ...`

F841 Local variable `floor_source_label` is assigned to but never used
   --> price_matrix_store.py:476:17
    |
474 |             if candidates:
475 |                 chosen_label = candidates[-1]
476 |                 floor_source_label = chosen_label if str(chosen_label) != str(row_label) else None
    |                 ^^^^^^^^^^^^^^^^^^
477 |                 row_series = df.loc[chosen_label]
478 |                 chosen_row_label = chosen_label
    |
help: Remove assignment to unused variable `floor_source_label`

F841 Local variable `chosen_row_label` is assigned to but never used
   --> price_matrix_store.py:478:17
    |
476 |                 floor_source_label = chosen_label if str(chosen_label) != str(row_label) else None
477 |                 row_series = df.loc[chosen_label]
478 |                 chosen_row_label = chosen_label
    |                 ^^^^^^^^^^^^^^^^
479 |             else:
480 |                 return None
    |
help: Remove assignment to unused variable `chosen_row_label`

SIM105 Use `contextlib.suppress(ValueError)` instead of `try`-`except`-`pass`
   --> price_matrix_store.py:519:21
    |
517 |                   numeric_index = []
518 |                   for idx in df.index:
519 | /                     try:
520 | |                         numeric_index.append((float(str(idx).replace(',', '.')), idx))
521 | |                     except ValueError:
522 | |                         pass
    | |____________________________^
523 |                   candidates = [idx for val, idx in numeric_index if val <= target]
524 |                   if candidates:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError): ...`

E701 Multiple statements on one line (colon)
   --> price_matrix_store.py:542:20
    |
540 |             return False
541 |         conn = get_db_connection()
542 |         if not conn: return False
    |                    ^
543 |         _ensure_tables(conn)
544 |         cur = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:555:22
    |
553 |         params.append(matrix_id)
554 |         cur.execute(f"UPDATE price_matrix_sets SET {', '.join(fields)}, updated_at=CURRENT_TIMESTAMP WHERE id=?", params)
555 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                      ^
556 |     except Exception as e:
557 |         print(f"price_matrix_store.update_matrix_pricing_mode Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:555:45
    |
553 |         params.append(matrix_id)
554 |         cur.execute(f"UPDATE price_matrix_sets SET {', '.join(fields)}, updated_at=CURRENT_TIMESTAMP WHERE id=?", params)
555 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                             ^
556 |     except Exception as e:
557 |         print(f"price_matrix_store.update_matrix_pricing_mode Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:555:59
    |
553 |         params.append(matrix_id)
554 |         cur.execute(f"UPDATE price_matrix_sets SET {', '.join(fields)}, updated_at=CURRENT_TIMESTAMP WHERE id=?", params)
555 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
    |                                                           ^
556 |     except Exception as e:
557 |         print(f"price_matrix_store.update_matrix_pricing_mode Fehler: {e}"); return False
    |

E702 Multiple statements on one line (semicolon)
   --> price_matrix_store.py:557:76
    |
555 |         conn.commit(); ok = cur.rowcount > 0; conn.close(); return ok
556 |     except Exception as e:
557 |         print(f"price_matrix_store.update_matrix_pricing_mode Fehler: {e}"); return False
    |                                                                            ^
558 |
559 | __all__ = [
    |

W293 Blank line contains whitespace
  --> pricing\advanced_pricing_formula.py:64:1
   |
62 |     def __init__(self, formula_mode: FormulaMode = FormulaMode.STANDARD):
63 |         """Initialize the advanced pricing formula calculator
64 |         
   | ^^^^^^^^
65 |         Args:
66 |             formula_mode: The calculation mode to use
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pricing\advanced_pricing_formula.py:82:1
   |
80 |     ) -> FormulaResult:
81 |         """Calculate final price using the selected formula mode
82 |         
   | ^^^^^^^^
83 |         Args:
84 |             base_price: Base price before any modifications
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pricing\advanced_pricing_formula.py:91:1
   |
89 |             fixed_surcharges: List of fixed-amount surcharges
90 |             validation_enabled: Whether to perform validation checks
91 |             
   | ^^^^^^^^^^^^
92 |         Returns:
93 |             FormulaResult with detailed calculation breakdown
   |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `final_result` before `return` statement
   --> pricing\advanced_pricing_formula.py:157:16
    |
155 |         )
156 |
157 |         return final_result
    |                ^^^^^^^^^^^^
158 |
159 |     def _calculate_standard_formula(
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> pricing\cache_performance.py:58:1
   |
56 |     def __init__(self, cache: PricingCache, window_size: int = 1000):
57 |         """Initialize performance monitor
58 |         
   | ^^^^^^^^
59 |         Args:
60 |             cache: PricingCache instance to monitor
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pricing\cache_performance.py:85:1
   |
83 |     def record_operation(self, metric: PerformanceMetrics) -> None:
84 |         """Record operation performance metric
85 |         
   | ^^^^^^^^
86 |         Args:
87 |             metric: Performance metric to record
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:106:1
    |
104 |     def get_current_stats(self) -> dict[str, Any]:
105 |         """Get current performance statistics
106 |         
    | ^^^^^^^^
107 |         Returns:
108 |             Dictionary with current performance stats
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:166:1
    |
164 |     def __init__(self, cache: PricingCache):
165 |         """Initialize benchmark suite
166 |         
    | ^^^^^^^^
167 |         Args:
168 |             cache: PricingCache instance to benchmark
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:178:1
    |
176 |                                  value_size_bytes: int = 1024) -> BenchmarkResult:
177 |         """Benchmark basic cache operations (put/get)
178 |         
    | ^^^^^^^^
179 |         Args:
180 |             num_operations: Number of operations to perform
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:183:1
    |
181 |             key_pattern: Pattern for generating keys
182 |             value_size_bytes: Size of values to cache
183 |             
    | ^^^^^^^^^^^^
184 |         Returns:
185 |             BenchmarkResult with performance metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:248:1
    |
246 |                                   operations_per_thread: int = 100) -> BenchmarkResult:
247 |         """Benchmark concurrent cache access
248 |         
    | ^^^^^^^^
249 |         Args:
250 |             num_threads: Number of concurrent threads
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:252:1
    |
250 |             num_threads: Number of concurrent threads
251 |             operations_per_thread: Operations per thread
252 |             
    | ^^^^^^^^^^^^
253 |         Returns:
254 |             BenchmarkResult with concurrent performance metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:321:1
    |
319 |                                    invalidation_patterns: list[str] = None) -> BenchmarkResult:
320 |         """Benchmark cache invalidation performance
321 |         
    | ^^^^^^^^
322 |         Args:
323 |             num_entries: Number of cache entries to create
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:325:1
    |
323 |             num_entries: Number of cache entries to create
324 |             invalidation_patterns: Patterns to test for invalidation
325 |             
    | ^^^^^^^^^^^^
326 |         Returns:
327 |             BenchmarkResult with invalidation performance metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:381:1
    |
379 |     def run_comprehensive_benchmark(self) -> PerformanceReport:
380 |         """Run comprehensive benchmark suite
381 |         
    | ^^^^^^^^
382 |         Returns:
383 |             PerformanceReport with all benchmark results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:449:1
    |
447 |     def _estimate_memory_usage(self) -> float:
448 |         """Estimate current memory usage in MB
449 |         
    | ^^^^^^^^
450 |         Returns:
451 |             Estimated memory usage in MB
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:471:1
    |
469 |                                 cache_stats: dict[str, Any]) -> list[str]:
470 |         """Generate performance recommendations
471 |         
    | ^^^^^^^^
472 |         Args:
473 |             benchmarks: Benchmark results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:475:1
    |
473 |             benchmarks: Benchmark results
474 |             cache_stats: Cache statistics
475 |             
    | ^^^^^^^^^^^^
476 |         Returns:
477 |             List of recommendation strings
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:525:1
    |
523 |     def _create_summary(self, benchmarks: list[BenchmarkResult]) -> dict[str, Any]:
524 |         """Create performance summary
525 |         
    | ^^^^^^^^
526 |         Args:
527 |             benchmarks: Benchmark results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:528:1
    |
526 |         Args:
527 |             benchmarks: Benchmark results
528 |             
    | ^^^^^^^^^^^^
529 |         Returns:
530 |             Summary dictionary
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:553:1
    |
551 |                             format: str = "json") -> str:
552 |     """Export performance report to string format
553 |     
    | ^^^^
554 |     Args:
555 |         report: Performance report to export
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\cache_performance.py:557:1
    |
555 |         report: Performance report to export
556 |         format: Export format ("json" or "csv")
557 |         
    | ^^^^^^^^
558 |     Returns:
559 |         Formatted report string
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
 --> pricing\calculate_per_engine.py:4:74
  |
3 | Comprehensive calculation method handler for different pricing calculation methods.
4 | Supports "per piece" (St├╝ck), "per meter" (Meter), "lump sum" (pauschal), 
  |                                                                          ^
5 | "per kWp" pricing, and integration with product features.
6 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> pricing\calculate_per_engine.py:143:1
    |
141 |         """
142 |         Calculate total price based on calculation method and context.
143 |         
    | ^^^^^^^^
144 |         Args:
145 |             base_price: Base unit price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\calculate_per_engine.py:149:1
    |
147 |             calculate_per: Calculation method string
148 |             context: Additional context for calculations
149 |             
    | ^^^^^^^^^^^^
150 |         Returns:
151 |             CalculationResult with detailed calculation information
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\calculate_per_engine.py:199:13
    |
197 |           except Exception as e:
198 |               self.logger.error(f"Error in calculate_price: {e}")
199 | /             raise CalculationError(
200 | |                 f"Failed to calculate price using method '{calculate_per}': {str(e)}",
201 | |                 context={
202 | |                     "base_price": base_price,
203 | |                     "quantity": quantity,
204 | |                     "calculate_per": calculate_per,
205 | |                     "context": context.__dict__ if context else None
206 | |                 }
207 | |             )
    | |_____________^
208 |
209 |       def _calculate_per_piece(self, base_price: float, quantity: float, context: CalculationContext) -> CalculationResult:
    |

W293 Blank line contains whitespace
   --> pricing\calculate_per_engine.py:578:1
    |
576 |     Legacy function for backward compatibility.
577 |     Calculate total price based on calculate_per method.
578 |     
    | ^^^^
579 |     Args:
580 |         base_price: Base unit price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\calculate_per_engine.py:584:1
    |
582 |         calculate_per: Calculation method ("St├╝ck", "Meter", "pauschal", "kWp", etc.)
583 |         product_specs: Additional product specifications
584 |         
    | ^^^^^^^^
585 |     Returns:
586 |         Total calculated price
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> pricing\calculate_per_engine.py:620:5
    |
618 |         CalculationMethod.from_string(calculate_per)
619 |         return True
620 |     except:
    |     ^^^^^^
621 |         return False
    |

W293 Blank line contains whitespace
  --> pricing\combined_pricing_engine.py:70:1
   |
68 |     def calculate_combined_system_price(self, system_config: dict[str, Any]) -> CombinedPricingResult:
69 |         """Calculate complete combined system pricing
70 |         
   | ^^^^^^^^
71 |         Args:
72 |             system_config: Combined system configuration with PV and heat pump components
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pricing\combined_pricing_engine.py:73:1
   |
71 |         Args:
72 |             system_config: Combined system configuration with PV and heat pump components
73 |             
   | ^^^^^^^^^^^^
74 |         Returns:
75 |             CombinedPricingResult with complete pricing breakdown
   |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `combined_result` before `return` statement
   --> pricing\combined_pricing_engine.py:100:20
    |
 98 |             )
 99 |
100 |             return combined_result
    |                    ^^^^^^^^^^^^^^^
101 |
102 |         except Exception as e:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pricing\combined_pricing_engine.py:565:1
    |
563 | def calculate_combined_system_pricing(system_config: dict[str, Any]) -> CombinedPricingResult:
564 |     """Calculate combined system pricing using the combined pricing engine
565 |     
    | ^^^^
566 |     Args:
567 |         system_config: Combined system configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\combined_pricing_engine.py:568:1
    |
566 |     Args:
567 |         system_config: Combined system configuration
568 |         
    | ^^^^^^^^
569 |     Returns:
570 |         CombinedPricingResult with complete combined system pricing
    |
help: Remove whitespace from blank line

SIM105 Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`
   --> pricing\database_optimization.py:104:21
    |
102 |                   except (sqlite3.Error, Empty):
103 |                       # Connection is invalid or pool is full, close it
104 | /                     try:
105 | |                         conn.close()
106 | |                     except:
107 | |                         pass
    | |____________________________^
108 |                       with self.lock:
109 |                           self.active_connections = max(0, self.active_connections - 1)
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(BaseException): ...`

E722 Do not use bare `except`
   --> pricing\database_optimization.py:106:21
    |
104 |                     try:
105 |                         conn.close()
106 |                     except:
    |                     ^^^^^^
107 |                         pass
108 |                     with self.lock:
    |

W291 Trailing whitespace
   --> pricing\database_optimization.py:325:28
    |
323 |             # Optimized product lookup by category with pricing info
324 |             'products_by_category_with_pricing': """
325 |                 SELECT p.*, 
    |                            ^
326 |                        CASE 
327 |                            WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:326:28
    |
324 |             'products_by_category_with_pricing': """
325 |                 SELECT p.*, 
326 |                        CASE 
    |                            ^
327 |                            WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
328 |                            THEN p.purchase_price_net * (1 + p.margin_value / 100.0)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:327:90
    |
325 |                 SELECT p.*, 
326 |                        CASE 
327 |                            WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
    |                                                                                          ^
328 |                            THEN p.purchase_price_net * (1 + p.margin_value / 100.0)
329 |                            WHEN p.purchase_price_net > 0 AND p.margin_type = 'fixed'
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:352:41
    |
350 |             # Fast category and brand lookup
351 |             'distinct_categories': """
352 |                 SELECT DISTINCT category 
    |                                         ^
353 |                 FROM products 
354 |                 WHERE category IS NOT NULL AND category != ''
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:353:30
    |
351 |             'distinct_categories': """
352 |                 SELECT DISTINCT category 
353 |                 FROM products 
    |                              ^
354 |                 WHERE category IS NOT NULL AND category != ''
355 |                 ORDER BY category
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:359:38
    |
358 |             'distinct_brands': """
359 |                 SELECT DISTINCT brand 
    |                                      ^
360 |                 FROM products 
361 |                 WHERE brand IS NOT NULL AND brand != ''
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:360:30
    |
358 |             'distinct_brands': """
359 |                 SELECT DISTINCT brand 
360 |                 FROM products 
    |                              ^
361 |                 WHERE brand IS NOT NULL AND brand != ''
362 |                 ORDER BY brand
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:367:77
    |
365 |             # Products with pricing issues (for maintenance)
366 |             'products_pricing_issues': """
367 |                 SELECT p.id, p.model_name, p.category, p.purchase_price_net, 
    |                                                                             ^
368 |                        p.margin_type, p.margin_value, p.price_euro
369 |                 FROM products p
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\database_optimization.py:380:54
    |
378 |                 SELECT p.id, p.model_name, p.last_price_update, p.purchase_price_net, p.margin_value
379 |                 FROM products p
380 |                 WHERE p.last_price_update IS NOT NULL 
    |                                                      ^
381 |                   AND p.last_price_update > datetime('now', '-30 days')
382 |                 ORDER BY p.last_price_update DESC
    |
help: Remove trailing whitespace

SIM108 Use ternary operator `full_key = f"{prefix}_{safe_key}" if prefix else safe_key` instead of `if`-`else`-block
  --> pricing\dynamic_key_manager.py:84:17
   |
83 |                   # Add prefix if provided
84 | /                 if prefix:
85 | |                     full_key = f"{prefix}_{safe_key}"
86 | |                 else:
87 | |                     full_key = safe_key
   | |_______________________________________^
88 |
89 |                   # Handle conflicts
   |
help: Replace `if`-`else`-block with `full_key = f"{prefix}_{safe_key}" if prefix else safe_key`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> pricing\dynamic_key_manager.py:414:13
    |
412 |         suggestions = []
413 |
414 |         for key in self.key_registry.keys():
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
415 |             if partial_upper in key:
416 |                 suggestions.append(key)
    |
help: Remove `.keys()`

C401 Unnecessary generator (rewrite as a set comprehension)
   --> pricing\dynamic_key_manager.py:568:39
    |
566 |               "total_conflicts_resolved": self.conflict_counter,
567 |               "current_registry_size": len(self.key_registry),
568 |               "categories_in_use": list(set(
    |  _______________________________________^
569 | |                 info["category"] for info in self.key_registry.values()
570 | |             )),
    | |_____________^
571 |               "most_recent_keys": list(self.key_registry.keys())[-10:] if self.key_registry else []
572 |           }
    |
help: Rewrite as a set comprehension

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:611:1
    |
609 |     ) -> dict[str, Any]:
610 |         """Generate keys following German pricing logic
611 |         
    | ^^^^^^^^
612 |         Args:
613 |             component_prices: Dictionary with component names and net prices
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:616:1
    |
614 |             vat_rate: Optional VAT rate (e.g., 0.19 for 19%)
615 |             prefix: Optional prefix for all keys
616 |             
    | ^^^^^^^^^^^^
617 |         Returns:
618 |             Dictionary with all pricing keys (components, net total, VAT, gross total)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:663:1
    |
661 |     ) -> dict[str, Any]:
662 |         """Generate VAT-related keys dynamically
663 |         
    | ^^^^^^^^
664 |         Args:
665 |             net_amount: Net amount before VAT
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:668:1
    |
666 |             vat_rate: VAT rate (e.g., 0.19 for 19%)
667 |             prefix: Optional prefix for keys
668 |             
    | ^^^^^^^^^^^^
669 |         Returns:
670 |             Dictionary with VAT keys
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `vat_keys` before `return` statement
   --> pricing\dynamic_key_manager.py:691:16
    |
689 |         )
690 |
691 |         return vat_keys
    |                ^^^^^^^^
692 |
693 |     def calculate_component_totals(
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:699:1
    |
697 |     ) -> dict[str, Any]:
698 |         """Calculate totals for components with individual VAT handling
699 |         
    | ^^^^^^^^
700 |         Args:
701 |             components: Dict with component data including price and optional vat_rate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\dynamic_key_manager.py:703:1
    |
701 |             components: Dict with component data including price and optional vat_rate
702 |             prefix: Optional prefix for keys
703 |             
    | ^^^^^^^^^^^^
704 |         Returns:
705 |             Dictionary with component total keys
    |
help: Remove whitespace from blank line

F821 Undefined name `VAT_RATE_DEFAULT`
   --> pricing\dynamic_key_manager.py:744:155
    |
743 | ÔÇª
744 | ÔÇªt_total == 0 else vat_total / net_total if net_total else VAT_RATE_DEFAULT), KeyCategory.GROSS_TOTALS.value)
    |                                                            ^^^^^^^^^^^^^^^^
745 | ÔÇªal == 0 else vat_total / net_total if net_total else VAT_RATE_DEFAULT)
746 | ÔÇª
    |

F821 Undefined name `VAT_RATE_DEFAULT`
   --> pricing\dynamic_key_manager.py:745:150
    |
743 | ÔÇª
744 | ÔÇªif vat_total == 0 else vat_total / net_total if net_total else VAT_RATE_DEFAULT), KeyCategory.GROSS_TOTALS.value)
745 | ÔÇªt_total == 0 else vat_total / net_total if net_total else VAT_RATE_DEFAULT)
    |                                                            ^^^^^^^^^^^^^^^^
746 | ÔÇª
    |

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:145:1
    |
143 |     def __init__(self, system_type: str = "pv"):
144 |         """Initialize economic analysis integration
145 |         
    | ^^^^^^^^
146 |         Args:
147 |             system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:164:1
    |
162 |     ) -> EconomicAnalysisResult:
163 |         """Calculate complete economic analysis using final pricing data
164 |         
    | ^^^^^^^^
165 |         Args:
166 |             final_pricing_result: Final pricing result from enhanced pricing engine
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:169:1
    |
167 |             system_performance: System performance data (production, consumption, etc.)
168 |             economic_parameters: Economic parameters (electricity price, feed-in tariff, etc.)
169 |             
    | ^^^^^^^^^^^^
170 |         Returns:
171 |             Complete economic analysis result
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\economic_analysis_integration.py:281:13
    |
279 |         except Exception as e:
280 |             logger.error(f"Economic analysis calculation failed: {str(e)}")
281 |             raise CalculationError(f"Economic analysis calculation failed: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
282 |
283 |     def _validate_economic_inputs(
    |

F402 Import `field` from line 10 shadowed by loop variable
   --> pricing\economic_analysis_integration.py:300:13
    |
298 |         # Validate system performance
299 |         required_performance_fields = ["annual_production_kwh", "self_consumption_kwh", "feed_in_kwh"]
300 |         for field in required_performance_fields:
    |             ^^^^^
301 |             if field not in system_performance:
302 |                 raise ValidationError(f"Missing required system performance field: {field}")
    |

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:356:1
    |
354 |     ) -> ProfitabilityReport:
355 |         """Create comprehensive profitability analysis report
356 |         
    | ^^^^^^^^
357 |         Args:
358 |             final_pricing_result: Final pricing result with component details
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:360:1
    |
358 |             final_pricing_result: Final pricing result with component details
359 |             historical_pricing_data: Optional historical pricing data for trend analysis
360 |             
    | ^^^^^^^^^^^^
361 |         Returns:
362 |             Comprehensive profitability report
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\economic_analysis_integration.py:454:13
    |
452 |         except Exception as e:
453 |             logger.error(f"Profitability report creation failed: {str(e)}")
454 |             raise CalculationError(f"Profitability report creation failed: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
455 |
456 |     def _analyze_pricing_trends(self, pricing_trends: dict[str, list[float]]) -> dict[str, str]:
    |

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:575:1
    |
573 | def get_economic_analysis_integration(system_type: str = "pv") -> EconomicAnalysisIntegration:
574 |     """Factory function to get economic analysis integration instance
575 |     
    | ^^^^
576 |     Args:
577 |         system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\economic_analysis_integration.py:578:1
    |
576 |     Args:
577 |         system_type: Type of system ("pv", "heatpump", "combined")
578 |         
    | ^^^^^^^^
579 |     Returns:
580 |         EconomicAnalysisIntegration instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:194:1
    |
192 |     def calculate_heatpump_system_price(self, system_config: dict[str, Any]) -> PricingResult:
193 |         """Calculate complete heat pump system pricing
194 |         
    | ^^^^^^^^
195 |         Args:
196 |             system_config: Heat pump system configuration with components and specifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:197:1
    |
195 |         Args:
196 |             system_config: Heat pump system configuration with components and specifications
197 |             
    | ^^^^^^^^^^^^
198 |         Returns:
199 |             PricingResult with heat pump system pricing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:263:1
    |
261 |                                      additional_costs: float = 0.0) -> dict[str, Any]:
262 |         """Calculate VAT for heat pump system with BEG subsidy handling
263 |         
    | ^^^^^^^^
264 |         Args:
265 |             components: List of heat pump price components
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:268:1
    |
266 |             beg_subsidy: BEG subsidy amount (typically VAT exempt)
267 |             additional_costs: Additional costs (accessories, services)
268 |             
    | ^^^^^^^^^^^^
269 |         Returns:
270 |             Dictionary with VAT calculation details
    |
help: Remove whitespace from blank line

SIM103 Return the condition `bool(cop_rating and cop_rating >= 3.5)` directly
   --> pricing\enhanced_heatpump_pricing.py:550:9
    |
548 |           # Check for efficiency requirements
549 |           cop_rating = self._extract_cop_rating(product)
550 | /         if cop_rating and cop_rating >= 3.5:
551 | |             return True
552 | |
553 | |         return False
    | |____________________^
554 |
555 |       def _calculate_heatpump_component_price(self, component: HeatPumpPriceComponent,
    |
help: Replace with `return bool(cop_rating and cop_rating >= 3.5)`

RET504 Unnecessary assignment to `total_price` before `return` statement
   --> pricing\enhanced_heatpump_pricing.py:579:16
    |
577 |         total_price = self._apply_refrigerant_adjustments(component, total_price)
578 |
579 |         return total_price
    |                ^^^^^^^^^^^
580 |
581 |     def _apply_cop_adjustments(self, component: HeatPumpPriceComponent,
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:818:1
    |
816 | def calculate_heatpump_system_pricing(system_config: dict[str, Any]) -> PricingResult:
817 |     """Calculate heat pump system pricing using the enhanced pricing engine
818 |     
    | ^^^^
819 |     Args:
820 |         system_config: Heat pump system configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_heatpump_pricing.py:821:1
    |
819 |     Args:
820 |         system_config: Heat pump system configuration
821 |         
    | ^^^^^^^^
822 |     Returns:
823 |         PricingResult with complete heat pump system pricing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:254:1
    |
252 |     def __init__(self, system_type: str = "pv", enable_caching: bool = True, country_code: str = "DE"):
253 |         """Initialize pricing engine for specific system type
254 |         
    | ^^^^^^^^
255 |         Args:
256 |             system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:282:1
    |
280 |     def calculate_base_price(self, components: list[dict[str, Any]]) -> PricingResult:
281 |         """Calculate base price from component list with intelligent caching
282 |         
    | ^^^^^^^^
283 |         Args:
284 |             components: List of component dictionaries with product info and quantities
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:285:1
    |
283 |         Args:
284 |             components: List of component dictionaries with product info and quantities
285 |             
    | ^^^^^^^^^^^^
286 |         Returns:
287 |             PricingResult with base pricing calculation
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:413:1
    |
411 |     def apply_modifications(self, base_price: float, modifications: dict[str, Any]) -> dict[str, Any]:
412 |         """Apply discounts, surcharges, and other modifications
413 |         
    | ^^^^^^^^
414 |         Args:
415 |             base_price: Base price before modifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:417:1
    |
415 |             base_price: Base price before modifications
416 |             modifications: Dictionary with discount/surcharge configuration
417 |             
    | ^^^^^^^^^^^^
418 |         Returns:
419 |             Dictionary with modification results and dynamic keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:486:1
    |
484 |     def generate_final_price(self, calculation_data: dict[str, Any]) -> FinalPricingResult:
485 |         """Generate final pricing result with all calculations and intelligent caching
486 |         
    | ^^^^^^^^
487 |         Args:
488 |             calculation_data: Complete calculation data including components and modifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:489:1
    |
487 |         Args:
488 |             calculation_data: Complete calculation data including components and modifications
489 |             
    | ^^^^^^^^^^^^
490 |         Returns:
491 |             FinalPricingResult with complete pricing information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:756:1
    |
754 |     def calculate_mixed_vat_for_components(self, components: list[PriceComponent]) -> VATCalculation:
755 |         """Calculate VAT for components with potentially different categories
756 |         
    | ^^^^^^^^
757 |         Args:
758 |             components: List of price components
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:759:1
    |
757 |         Args:
758 |             components: List of price components
759 |             
    | ^^^^^^^^^^^^
760 |         Returns:
761 |             VATCalculation with mixed category handling
    |
help: Remove whitespace from blank line

C401 Unnecessary generator (rewrite as a set comprehension)
   --> pricing\enhanced_pricing_engine.py:777:26
    |
776 |             # Use mixed VAT calculation if multiple categories, otherwise single calculation
777 |             categories = set(item["category"] for item in vat_items)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
778 |             if len(categories) > 1:
779 |                 return self.vat_manager.calculate_mixed_vat(vat_items)
    |
help: Rewrite as a set comprehension

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:793:1
    |
791 |     def validate_pricing_data(self, data: dict[str, Any]) -> bool:
792 |         """Validate pricing calculation input data
793 |         
    | ^^^^^^^^
794 |         Args:
795 |             data: Pricing calculation data to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:796:1
    |
794 |         Args:
795 |             data: Pricing calculation data to validate
796 |             
    | ^^^^^^^^^^^^
797 |         Returns:
798 |             True if data is valid, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:866:1
    |
864 |                         system_type: str | None = None) -> int:
865 |         """Invalidate pricing cache entries
866 |         
    | ^^^^^^^^
867 |         Args:
868 |             product_id: Specific product ID to invalidate (all if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:870:1
    |
868 |             product_id: Specific product ID to invalidate (all if None)
869 |             system_type: Specific system type to invalidate (current if None)
870 |             
    | ^^^^^^^^^^^^
871 |         Returns:
872 |             Number of cache entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:902:1
    |
900 |     def clear_all_cache(self) -> int:
901 |         """Clear all pricing cache entries
902 |         
    | ^^^^^^^^
903 |         Returns:
904 |             Number of cache entries cleared
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\enhanced_pricing_engine.py:920:1
    |
918 |     def get_cache_stats(self) -> dict[str, Any]:
919 |         """Get current cache statistics
920 |         
    | ^^^^^^^^
921 |         Returns:
922 |             Dictionary with cache statistics
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pricing\performance_monitor.py:259:36
    |
257 |                     # Get product with pricing info
258 |                     cursor.execute("""
259 |                         SELECT p.*, 
    |                                    ^
260 |                                CASE 
261 |                                    WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\performance_monitor.py:260:36
    |
258 |                     cursor.execute("""
259 |                         SELECT p.*, 
260 |                                CASE 
    |                                    ^
261 |                                    WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
262 |                                    THEN p.purchase_price_net * (1 + p.margin_value / 100.0)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\performance_monitor.py:261:98
    |
259 |                         SELECT p.*, 
260 |                                CASE 
261 |                                    WHEN p.purchase_price_net > 0 AND p.margin_type = 'percentage' 
    |                                                                                                  ^
262 |                                    THEN p.purchase_price_net * (1 + p.margin_value / 100.0)
263 |                                    WHEN p.purchase_price_net > 0 AND p.margin_type = 'fixed'
    |
help: Remove trailing whitespace

F841 Local variable `result` is assigned to but never used
   --> pricing\performance_monitor.py:317:25
    |
315 |                         cursor = conn.cursor()
316 |                         cursor.execute("SELECT COUNT(*) FROM products WHERE category = ?", ("Modul",))
317 |                         result = cursor.fetchone()
    |                         ^^^^^^
318 |                         self.monitor.set_result_count(1)
319 |                         conn.close()
    |
help: Remove assignment to unused variable `result`

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:143:1
    |
141 |                  max_log_size_mb: int = 100, retention_days: int = 90):
142 |         """Initialize audit logger
143 |         
    | ^^^^^^^^
144 |         Args:
145 |             db_path: Path to audit database
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:280:1
    |
278 |     def log_event(self, event: AuditEvent) -> bool:
279 |         """Log an audit event
280 |         
    | ^^^^^^^^
281 |         Args:
282 |             event: Audit event to log
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:283:1
    |
281 |         Args:
282 |             event: Audit event to log
283 |             
    | ^^^^^^^^^^^^
284 |         Returns:
285 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:376:1
    |
374 |     def query_events(self, query: AuditQuery) -> list[AuditEvent]:
375 |         """Query audit events
376 |         
    | ^^^^^^^^
377 |         Args:
378 |             query: Query parameters
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:379:1
    |
377 |         Args:
378 |             query: Query parameters
379 |             
    | ^^^^^^^^^^^^
380 |         Returns:
381 |             List of matching audit events
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:456:1
    |
454 |     def get_event_statistics(self, hours: int = 24) -> dict[str, Any]:
455 |         """Get audit event statistics
456 |         
    | ^^^^^^^^
457 |         Args:
458 |             hours: Number of hours to analyze
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:459:1
    |
457 |         Args:
458 |             hours: Number of hours to analyze
459 |             
    | ^^^^^^^^^^^^
460 |         Returns:
461 |             Dictionary with statistics
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pricing\pricing_audit.py:476:57
    |
474 |                 # Events by type
475 |                 cursor = conn.execute("""
476 |                     SELECT event_type, COUNT(*) as count 
    |                                                         ^
477 |                     FROM audit_events 
478 |                     WHERE timestamp >= ? 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:477:38
    |
475 |                 cursor = conn.execute("""
476 |                     SELECT event_type, COUNT(*) as count 
477 |                     FROM audit_events 
    |                                      ^
478 |                     WHERE timestamp >= ? 
479 |                     GROUP BY event_type
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:478:41
    |
476 |                     SELECT event_type, COUNT(*) as count 
477 |                     FROM audit_events 
478 |                     WHERE timestamp >= ? 
    |                                         ^
479 |                     GROUP BY event_type
480 |                 """, (start_time.isoformat(),))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:485:55
    |
483 |                 # Events by severity
484 |                 cursor = conn.execute("""
485 |                     SELECT severity, COUNT(*) as count 
    |                                                       ^
486 |                     FROM audit_events 
487 |                     WHERE timestamp >= ? 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:486:38
    |
484 |                 cursor = conn.execute("""
485 |                     SELECT severity, COUNT(*) as count 
486 |                     FROM audit_events 
    |                                      ^
487 |                     WHERE timestamp >= ? 
488 |                     GROUP BY severity
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:487:41
    |
485 |                     SELECT severity, COUNT(*) as count 
486 |                     FROM audit_events 
487 |                     WHERE timestamp >= ? 
    |                                         ^
488 |                     GROUP BY severity
489 |                 """, (start_time.isoformat(),))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:494:44
    |
492 |                 # Average duration
493 |                 cursor = conn.execute("""
494 |                     SELECT AVG(duration_ms) 
    |                                            ^
495 |                     FROM audit_events 
496 |                     WHERE timestamp >= ? AND duration_ms IS NOT NULL
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:495:38
    |
493 |                 cursor = conn.execute("""
494 |                     SELECT AVG(duration_ms) 
495 |                     FROM audit_events 
    |                                      ^
496 |                     WHERE timestamp >= ? AND duration_ms IS NOT NULL
497 |                 """, (start_time.isoformat(),))
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:502:36
    |
500 |                 # Error rate
501 |                 cursor = conn.execute("""
502 |                     SELECT COUNT(*) 
    |                                    ^
503 |                     FROM audit_events 
504 |                     WHERE timestamp >= ? AND severity IN ('error', 'critical')
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> pricing\pricing_audit.py:503:38
    |
501 |                 cursor = conn.execute("""
502 |                     SELECT COUNT(*) 
503 |                     FROM audit_events 
    |                                      ^
504 |                     WHERE timestamp >= ? AND severity IN ('error', 'critical')
505 |                 """, (start_time.isoformat(),))
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:526:1
    |
524 |     def add_event_listener(self, listener: Callable[[AuditEvent], None]):
525 |         """Add event listener for real-time notifications
526 |         
    | ^^^^^^^^
527 |         Args:
528 |             listener: Function to call when events are logged
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:534:1
    |
532 |     def remove_event_listener(self, listener: Callable[[AuditEvent], None]):
533 |         """Remove event listener
534 |         
    | ^^^^^^^^
535 |         Args:
536 |             listener: Function to remove
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:547:1
    |
545 |     def __init__(self, audit_logger: PricingAuditLogger):
546 |         """Initialize calculation logger
547 |         
    | ^^^^^^^^
548 |         Args:
549 |             audit_logger: Audit logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:558:1
    |
556 |                             correlation_id: str = None) -> str:
557 |         """Log start of pricing calculation
558 |         
    | ^^^^^^^^
559 |         Args:
560 |             calculation_data: Input data for calculation
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:564:1
    |
562 |             session_id: Session ID
563 |             correlation_id: Correlation ID for tracking
564 |             
    | ^^^^^^^^^^^^
565 |         Returns:
566 |             Event ID for correlation
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:591:1
    |
589 |                                session_id: str = None, correlation_id: str = None):
590 |         """Log completion of pricing calculation
591 |         
    | ^^^^^^^^
592 |         Args:
593 |             calculation_result: Result of calculation
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:623:1
    |
621 |                             correlation_id: str = None):
622 |         """Log pricing calculation error
623 |         
    | ^^^^^^^^
624 |         Args:
625 |             error: Exception that occurred
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:653:1
    |
651 |                          session_id: str = None):
652 |         """Log margin configuration change
653 |         
    | ^^^^^^^^
654 |         Args:
655 |             product_id: Product ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:679:1
    |
677 |                         user_id: str = None, session_id: str = None):
678 |         """Log product price update
679 |         
    | ^^^^^^^^
680 |         Args:
681 |             product_id: Product ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:708:1
    |
706 |     def __init__(self, audit_logger: PricingAuditLogger):
707 |         """Initialize pricing monitor
708 |         
    | ^^^^^^^^
709 |         Args:
710 |             audit_logger: Audit logger instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:808:1
    |
806 |     def add_alert_handler(self, handler: Callable[[str, dict[str, Any]], None]):
807 |         """Add alert handler
808 |         
    | ^^^^^^^^
809 |         Args:
810 |             handler: Function to call when alerts are triggered
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:816:1
    |
814 |     def remove_alert_handler(self, handler: Callable[[str, dict[str, Any]], None]):
815 |         """Remove alert handler
816 |         
    | ^^^^^^^^
817 |         Args:
818 |             handler: Function to remove
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:825:1
    |
823 |     def get_health_status(self) -> dict[str, Any]:
824 |         """Get current system health status
825 |         
    | ^^^^^^^^
826 |         Returns:
827 |             Dictionary with health metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:916:1
    |
914 |                           duration_ms: float, user_id: str = None, session_id: str = None):
915 |     """Audit a complete price calculation
916 |     
    | ^^^^
917 |     Args:
918 |         calculation_data: Input calculation data
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_audit.py:933:1
    |
931 |                        user_id: str = None, session_id: str = None):
932 |     """Audit a pricing error
933 |     
    | ^^^^
934 |     Args:
935 |         error: Exception that occurred
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:99:1
    |
 97 |                  enable_monitoring: bool = True):
 98 |         """Initialize pricing cache
 99 |         
    | ^^^^^^^^
100 |         Args:
101 |             max_size: Maximum number of cache entries
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:139:1
    |
137 |     def get(self, key: str, level: CacheLevel = CacheLevel.FINAL) -> Any | None:
138 |         """Get value from cache
139 |         
    | ^^^^^^^^
140 |         Args:
141 |             key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:143:1
    |
141 |             key: Cache key
142 |             level: Cache level
143 |             
    | ^^^^^^^^^^^^
144 |         Returns:
145 |             Cached value if found and valid, None otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:193:1
    |
191 |             ttl: int | None = None, dependencies: list[str] | None = None) -> None:
192 |         """Put value in cache
193 |         
    | ^^^^^^^^
194 |         Args:
195 |             key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:249:1
    |
247 |                   cascade: bool = True) -> int:
248 |         """Invalidate cache entry(ies)
249 |         
    | ^^^^^^^^
250 |         Args:
251 |             key: Cache key to invalidate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:254:1
    |
252 |             level: Specific cache level (all levels if None)
253 |             cascade: Whether to cascade invalidation to dependents
254 |             
    | ^^^^^^^^^^^^
255 |         Returns:
256 |             Number of entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:301:1
    |
299 |     def invalidate_by_pattern(self, pattern: str, level: CacheLevel | None = None) -> int:
300 |         """Invalidate cache entries matching pattern
301 |         
    | ^^^^^^^^
302 |         Args:
303 |             pattern: Pattern to match (simple string contains)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:305:1
    |
303 |             pattern: Pattern to match (simple string contains)
304 |             level: Specific cache level (all levels if None)
305 |             
    | ^^^^^^^^^^^^
306 |         Returns:
307 |             Number of entries invalidated
    |
help: Remove whitespace from blank line

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> pricing\pricing_cache.py:315:43
    |
313 |             for cache_level in levels_to_check:
314 |                 cache = self._caches[cache_level]
315 |                 keys_to_remove = [key for key in cache.keys() if pattern in key]
    |                                           ^^^^^^^^^^^^^^^^^^^
316 |
317 |                 for key in keys_to_remove:
    |
help: Remove `.keys()`

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:325:1
    |
323 |     def clear(self, level: CacheLevel | None = None) -> int:
324 |         """Clear cache entries
325 |         
    | ^^^^^^^^
326 |         Args:
327 |             level: Specific cache level (all levels if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:328:1
    |
326 |         Args:
327 |             level: Specific cache level (all levels if None)
328 |             
    | ^^^^^^^^^^^^
329 |         Returns:
330 |             Number of entries cleared
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:355:1
    |
353 |     def get_stats(self, level: CacheLevel | None = None) -> dict[str, CacheStats]:
354 |         """Get cache statistics
355 |         
    | ^^^^^^^^
356 |         Args:
357 |             level: Specific cache level (all levels if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:358:1
    |
356 |         Args:
357 |             level: Specific cache level (all levels if None)
358 |             
    | ^^^^^^^^^^^^
359 |         Returns:
360 |             Dictionary of cache statistics by level
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:371:1
    |
369 |                               limit: int = 100) -> list[PerformanceMetrics]:
370 |         """Get performance metrics
371 |         
    | ^^^^^^^^
372 |         Args:
373 |             operation_filter: Filter by operation name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:375:1
    |
373 |             operation_filter: Filter by operation name
374 |             limit: Maximum number of metrics to return
375 |             
    | ^^^^^^^^^^^^
376 |         Returns:
377 |             List of performance metrics
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:389:1
    |
387 |     def cleanup_expired(self) -> int:
388 |         """Clean up expired cache entries
389 |         
    | ^^^^^^^^
390 |         Returns:
391 |             Number of entries cleaned up
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\pricing_cache.py:423:9
    |
421 |                   stats.evictions += 1
422 |                   logger.debug(f"Evicted LRU entry: {key}")
423 | /         elif self.strategy == CacheStrategy.TTL:
424 | |             # Remove oldest entry
425 | |             if cache:
    | |_____________________^
426 |                   key, _ = cache.popitem(last=False)
427 |                   stats.evictions += 1
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:442:1
    |
440 |     def __init__(self, cache: PricingCache | None = None):
441 |         """Initialize cache manager
442 |         
    | ^^^^^^^^
443 |         Args:
444 |             cache: PricingCache instance (creates default if None)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:452:1
    |
450 |                              modifications: dict[str, Any] | None = None) -> str:
451 |         """Generate cache key for component pricing
452 |         
    | ^^^^^^^^
453 |         Args:
454 |             product_id: Product ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:457:1
    |
455 |             quantity: Quantity
456 |             modifications: Optional modifications
457 |             
    | ^^^^^^^^^^^^
458 |         Returns:
459 |             Cache key string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:472:1
    |
470 |                           system_type: str = "pv") -> str:
471 |         """Generate cache key for system pricing
472 |         
    | ^^^^^^^^
473 |         Args:
474 |             components: List of component data
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:476:1
    |
474 |             components: List of component data
475 |             system_type: Type of system
476 |             
    | ^^^^^^^^^^^^
477 |         Returns:
478 |             Cache key string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:495:1
    |
493 |     def generate_final_key(self, calculation_data: dict[str, Any]) -> str:
494 |         """Generate cache key for final pricing calculation
495 |         
    | ^^^^^^^^
496 |         Args:
497 |             calculation_data: Complete calculation data
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:498:1
    |
496 |         Args:
497 |             calculation_data: Complete calculation data
498 |             
    | ^^^^^^^^^^^^
499 |         Returns:
500 |             Cache key string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:518:1
    |
516 |                               dependencies: list[str] | None = None) -> None:
517 |         """Cache component pricing data
518 |         
    | ^^^^^^^^
519 |         Args:
520 |             key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:529:1
    |
527 |                            component_keys: list[str] | None = None) -> None:
528 |         """Cache system pricing data
529 |         
    | ^^^^^^^^
530 |         Args:
531 |             key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:540:1
    |
538 |                           system_key: str | None = None) -> None:
539 |         """Cache final pricing data
540 |         
    | ^^^^^^^^
541 |         Args:
542 |             key: Cache key
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:563:1
    |
561 |     def invalidate_product_cache(self, product_id: int) -> int:
562 |         """Invalidate all cache entries for a specific product
563 |         
    | ^^^^^^^^
564 |         Args:
565 |             product_id: Product ID to invalidate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:566:1
    |
564 |         Args:
565 |             product_id: Product ID to invalidate
566 |             
    | ^^^^^^^^^^^^
567 |         Returns:
568 |             Number of entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:575:1
    |
573 |     def invalidate_system_cache(self, system_type: str) -> int:
574 |         """Invalidate all cache entries for a system type
575 |         
    | ^^^^^^^^
576 |         Args:
577 |             system_type: System type to invalidate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:578:1
    |
576 |         Args:
577 |             system_type: System type to invalidate
578 |             
    | ^^^^^^^^^^^^
579 |         Returns:
580 |             Number of entries invalidated
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:587:1
    |
585 |     def _hash_key_data(self, key_data: dict[str, Any]) -> str:
586 |         """Generate hash from key data
587 |         
    | ^^^^^^^^
588 |         Args:
589 |             key_data: Data to hash
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_cache.py:590:1
    |
588 |         Args:
589 |             key_data: Data to hash
590 |             
    | ^^^^^^^^^^^^
591 |         Returns:
592 |             Hash string
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pricing\pricing_errors.py:24:1
   |
22 |                  suggestion: str = None, original_exception: Exception = None):
23 |         """Initialize pricing error
24 |         
   | ^^^^^^^^
25 |         Args:
26 |             message: Error message
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:306:1
    |
304 |                     reraise: bool = True) -> dict[str, Any] | None:
305 |         """Handle and log pricing errors
306 |         
    | ^^^^^^^^
307 |         Args:
308 |             error: Exception to handle
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:311:1
    |
309 |             context: Error context information
310 |             reraise: Whether to reraise the exception
311 |             
    | ^^^^^^^^^^^^
312 |         Returns:
313 |             Error information dictionary if not reraising
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\pricing_errors.py:344:17
    |
342 |             self.logger.error(f"Error in error handler: {handler_error}")
343 |             if reraise:
344 |                 raise error
    |                 ^^^^^^^^^^^
345 |             return {"error": "Error handler failed", "original_error": str(error)}
    |

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:472:1
    |
470 |     def get_recent_errors(self, hours: int = 24) -> list[dict[str, Any]]:
471 |         """Get recent errors within specified hours
472 |         
    | ^^^^^^^^
473 |         Args:
474 |             hours: Number of hours to look back
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:475:1
    |
473 |         Args:
474 |             hours: Number of hours to look back
475 |             
    | ^^^^^^^^^^^^
476 |         Returns:
477 |             List of recent error information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:507:1
    |
505 |                         component: str = "pricing", **context_data) -> None:
506 |     """Convenience function to handle pricing errors
507 |     
    | ^^^^
508 |     Args:
509 |         error: Exception to handle
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_errors.py:526:1
    |
524 | def safe_pricing_operation(operation_name: str, component_name: str = "pricing"):
525 |     """Decorator for safe pricing operations with error handling
526 |     
    | ^^^^
527 |     Args:
528 |         operation_name: Name of the operation
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pricing\pricing_modification_engine.py:228:74
    |
227 |         Advanced Formula Implementation:
228 |         (Matrix Price + Accessories) ├ù (1 - Discount%) ├ù (1 + Surcharge%) 
    |                                                                          ^
229 |         - Fixed Discounts + Fixed Surcharges
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> pricing\pricing_modification_engine.py:623:1
    |
621 |     ) -> dict[str, Any]:
622 |         """Calculate detailed pricing breakdown for transparency
623 |         
    | ^^^^^^^^
624 |         Returns step-by-step calculation details for audit and display purposes.
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_modification_engine.py:625:1
    |
624 |         Returns step-by-step calculation details for audit and display purposes.
625 |         
    | ^^^^^^^^
626 |         Args:
627 |             base_price: Base price before modifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_modification_engine.py:630:1
    |
628 |             selected_accessories: List of accessory IDs to include
629 |             context: Additional context for conditional modifications
630 |             
    | ^^^^^^^^^^^^
631 |         Returns:
632 |             Detailed breakdown dictionary with all calculation steps
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_modification_engine.py:795:1
    |
793 |     ) -> dict[str, Any]:
794 |         """Validate pricing calculation inputs
795 |         
    | ^^^^^^^^
796 |         Args:
797 |             base_price: Base price to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_modification_engine.py:799:1
    |
797 |             base_price: Base price to validate
798 |             selected_accessories: Accessory IDs to validate
799 |             
    | ^^^^^^^^^^^^
800 |         Returns:
801 |             Validation result with errors and warnings
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:152:1
    |
150 |     def validate_component_data(self, component_data: dict[str, Any]) -> ValidationResult:
151 |         """Validate component data for pricing calculations
152 |         
    | ^^^^^^^^
153 |         Args:
154 |             component_data: Component data to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:155:1
    |
153 |         Args:
154 |             component_data: Component data to validate
155 |             
    | ^^^^^^^^^^^^
156 |         Returns:
157 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:231:1
    |
229 |     def validate_product_data(self, product_data: dict[str, Any]) -> ValidationResult:
230 |         """Validate product data from database
231 |         
    | ^^^^^^^^
232 |         Args:
233 |             product_data: Product data to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:234:1
    |
232 |         Args:
233 |             product_data: Product data to validate
234 |             
    | ^^^^^^^^^^^^
235 |         Returns:
236 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:303:1
    |
301 |     def validate_margin_configuration(self, margin_config: dict[str, Any]) -> ValidationResult:
302 |         """Validate margin configuration
303 |         
    | ^^^^^^^^
304 |         Args:
305 |             margin_config: Margin configuration to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:306:1
    |
304 |         Args:
305 |             margin_config: Margin configuration to validate
306 |             
    | ^^^^^^^^^^^^
307 |         Returns:
308 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\pricing_validation.py:371:21
    |
369 |                                   suggestion="Verify this is correct"
370 |                               ))
371 | /                     elif margin_type == "fixed":
372 | |                         if margin_value < 0:
    | |____________________________________________^
373 |                               result.add_issue(ValidationIssue(
374 |                                   severity=ValidationSeverity.WARNING,
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:411:1
    |
409 |     def validate_modification_configuration(self, modification_config: dict[str, Any]) -> ValidationResult:
410 |         """Validate discount/surcharge modification configuration
411 |         
    | ^^^^^^^^
412 |         Args:
413 |             modification_config: Modification configuration to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:414:1
    |
412 |         Args:
413 |             modification_config: Modification configuration to validate
414 |             
    | ^^^^^^^^^^^^
415 |         Returns:
416 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\pricing_validation.py:501:21
    |
499 |                                       suggestion="Verify this is correct"
500 |                                   ))
501 | /                     elif config_type == "fixed":
502 | |                         if mod_value < 0:
    | |_________________________________________^
503 |                               result.add_issue(ValidationIssue(
504 |                                   severity=ValidationSeverity.WARNING,
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:554:1
    |
552 |     def validate_pricing_calculation_data(self, calculation_data: dict[str, Any]) -> ValidationResult:
553 |         """Validate complete pricing calculation data
554 |         
    | ^^^^^^^^
555 |         Args:
556 |             calculation_data: Complete calculation data to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:557:1
    |
555 |         Args:
556 |             calculation_data: Complete calculation data to validate
557 |             
    | ^^^^^^^^^^^^
558 |         Returns:
559 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\pricing_validation.py:629:25
    |
627 |                                       value=mod_value
628 |                                   ))
629 | /                         elif mod_key.endswith("_fixed") and isinstance(mod_value, (int, float)):
630 | |                             if mod_value < 0:
    | |_____________________________________________^
631 |                                   result.add_issue(ValidationIssue(
632 |                                       severity=ValidationSeverity.WARNING,
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:691:1
    |
689 |     def validate_final_pricing_result(self, pricing_result: dict[str, Any]) -> ValidationResult:
690 |         """Validate final pricing calculation result
691 |         
    | ^^^^^^^^
692 |         Args:
693 |             pricing_result: Final pricing result to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:694:1
    |
692 |         Args:
693 |             pricing_result: Final pricing result to validate
694 |             
    | ^^^^^^^^^^^^
695 |         Returns:
696 |             ValidationResult with validation issues
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:956:1
    |
954 |     def get_validation_rules(self) -> dict[str, Any]:
955 |         """Get current validation rules configuration
956 |         
    | ^^^^^^^^
957 |         Returns:
958 |             Dictionary with validation rules
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:964:1
    |
962 |     def update_validation_rules(self, new_rules: dict[str, Any]) -> bool:
963 |         """Update validation rules configuration
964 |         
    | ^^^^^^^^
965 |         Args:
966 |             new_rules: New rules to update
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pricing_validation.py:967:1
    |
965 |         Args:
966 |             new_rules: New rules to update
967 |             
    | ^^^^^^^^^^^^
968 |         Returns:
969 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:113:1
    |
111 |     def set_product_margin(self, product_id: int, margin_config: MarginConfig) -> bool:
112 |         """Set margin configuration for a specific product
113 |         
    | ^^^^^^^^
114 |         Args:
115 |             product_id: ID of the product
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:117:1
    |
115 |             product_id: ID of the product
116 |             margin_config: Margin configuration to apply
117 |             
    | ^^^^^^^^^^^^
118 |         Returns:
119 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:150:1
    |
148 |     def set_global_margin(self, margin_config: MarginConfig, category: str | None = None) -> bool:
149 |         """Set global or category-level margin configuration
150 |         
    | ^^^^^^^^
151 |         Args:
152 |             margin_config: Margin configuration to apply
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:154:1
    |
152 |             margin_config: Margin configuration to apply
153 |             category: Optional category to apply margin to (None for global)
154 |             
    | ^^^^^^^^^^^^
155 |         Returns:
156 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:193:1
    |
191 |                               quantity: float = 1.0) -> float:
192 |         """Calculate selling price based on purchase price and applicable margins
193 |         
    | ^^^^^^^^
194 |         Args:
195 |             purchase_price: Base purchase price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:200:1
    |
198 |             calculate_per: Calculation method for method-specific margins
199 |             quantity: Quantity for total price calculation
200 |             
    | ^^^^^^^^^^^^
201 |         Returns:
202 |             Calculated selling price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:223:1
    |
221 |                            quantity: float = 1.0) -> MarginBreakdown:
222 |         """Get detailed margin breakdown with priority resolution
223 |         
    | ^^^^^^^^
224 |         Args:
225 |             purchase_price: Base purchase price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:230:1
    |
228 |             calculate_per: Calculation method for method-specific margins
229 |             quantity: Quantity for total calculation
230 |             
    | ^^^^^^^^^^^^
231 |         Returns:
232 |             MarginBreakdown with detailed calculation information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:287:1
    |
285 |                                         category: str | None = None) -> dict[str, float]:
286 |         """Calculate total price including margin based on calculate_per method
287 |         
    | ^^^^^^^^
288 |         Args:
289 |             purchase_price: Unit purchase price
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:294:1
    |
292 |             product_id: Optional product ID for product-specific margins
293 |             category: Optional category for category-specific margins
294 |             
    | ^^^^^^^^^^^^
295 |         Returns:
296 |             Dictionary with detailed price breakdown
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:364:1
    |
362 |                               calculate_per: str | None = None) -> MarginConfig | None:
363 |         """Find applicable margin configuration based on priority
364 |         
    | ^^^^^^^^
365 |         Priority: product-specific > category-specific > global (method-specific) > global (default)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:366:1
    |
365 |         Priority: product-specific > category-specific > global (method-specific) > global (default)
366 |         
    | ^^^^^^^^
367 |         Args:
368 |             product_id: Product ID to check for product-specific margins
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:371:1
    |
369 |             category: Category to check for category-specific margins
370 |             calculate_per: Calculation method to check for method-specific margins
371 |             
    | ^^^^^^^^^^^^
372 |         Returns:
373 |             Applicable MarginConfig or None if no margin found
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:535:1
    |
533 |     def get_all_margins(self) -> dict[str, Any]:
534 |         """Get all configured margins for reporting/admin purposes
535 |         
    | ^^^^^^^^
536 |         Returns:
537 |             Dictionary with all margin configurations
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:563:1
    |
561 |     def set_category_margin(self, category: str, margin_config: MarginConfig) -> bool:
562 |         """Set margin configuration for a specific category
563 |         
    | ^^^^^^^^
564 |         Args:
565 |             category: Product category name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:567:1
    |
565 |             category: Product category name
566 |             margin_config: Margin configuration to apply
567 |             
    | ^^^^^^^^^^^^
568 |         Returns:
569 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:586:1
    |
584 |     def remove_category_margin(self, category: str) -> bool:
585 |         """Remove margin configuration for a specific category
586 |         
    | ^^^^^^^^
587 |         Args:
588 |             category: Product category name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:589:1
    |
587 |         Args:
588 |             category: Product category name
589 |             
    | ^^^^^^^^^^^^
590 |         Returns:
591 |             True if successful, False otherwise
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:611:1
    |
609 |     def get_available_categories(self) -> list[str]:
610 |         """Get list of available product categories
611 |         
    | ^^^^^^^^
612 |         Returns:
613 |             List of category names
    |
help: Remove whitespace from blank line

C414 Unnecessary `list()` call within `sorted()`
   --> pricing\profit_margin_manager.py:623:20
    |
621 |                     categories.add(product['category'])
622 |
623 |             return sorted(list(categories))
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^
624 |
625 |         except Exception as e:
    |
help: Remove the inner `list()` call

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:631:1
    |
629 |     def apply_margin_to_category_products(self, category: str, margin_config: MarginConfig) -> dict[str, Any]:
630 |         """Apply margin configuration to all products in a category
631 |         
    | ^^^^^^^^
632 |         Args:
633 |             category: Product category name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:635:1
    |
633 |             category: Product category name
634 |             margin_config: Margin configuration to apply
635 |             
    | ^^^^^^^^^^^^
636 |         Returns:
637 |             Dictionary with application results
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:705:1
    |
703 |                                calculate_per: str | None = None) -> dict[str, Any]:
704 |         """Get detailed information about margin priority resolution
705 |         
    | ^^^^^^^^
706 |         Args:
707 |             product_id: Product ID to check
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:710:1
    |
708 |             category: Category to check
709 |             calculate_per: Calculation method to check
710 |             
    | ^^^^^^^^^^^^
711 |         Returns:
712 |             Dictionary with priority resolution information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:796:1
    |
794 |     def validate_margin_config(self, margin_config: MarginConfig) -> bool:
795 |         """Validate margin configuration
796 |         
    | ^^^^^^^^
797 |         Args:
798 |             margin_config: Margin configuration to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profit_margin_manager.py:799:1
    |
797 |         Args:
798 |             margin_config: Margin configuration to validate
799 |             
    | ^^^^^^^^^^^^
800 |         Returns:
801 |             True if valid, False otherwise
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\profit_margin_manager.py:814:13
    |
812 |                       self.logger.warning(f"Very high percentage margin: {margin_config.margin_value}%")
813 |
814 | /             if margin_config.margin_type == 'fixed':
815 | |                 if margin_config.margin_value < 0:
    | |__________________________________________________^
816 |                       self.logger.error("Fixed margin cannot be negative")
817 |                       return False
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\profitability_reporting.py:120:1
    |
118 |     def __init__(self, system_type: str = "pv"):
119 |         """Initialize profitability reporting engine
120 |         
    | ^^^^^^^^
121 |         Args:
122 |             system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profitability_reporting.py:140:1
    |
138 |     ) -> ComprehensiveProfitabilityReport:
139 |         """Generate comprehensive profitability analysis report
140 |         
    | ^^^^^^^^
141 |         Args:
142 |             final_pricing_results: List of final pricing results to analyze
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profitability_reporting.py:145:1
    |
143 |             historical_data: Optional historical pricing and sales data
144 |             analysis_period: Analysis period identifier
145 |             
    | ^^^^^^^^^^^^
146 |         Returns:
147 |             Comprehensive profitability report
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\profitability_reporting.py:242:13
    |
240 |         except Exception as e:
241 |             logger.error(f"Comprehensive report generation failed: {str(e)}")
242 |             raise CalculationError(f"Comprehensive report generation failed: {str(e)}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
243 |
244 |     def _validate_report_inputs(
    |

B007 Loop control variable `comp_key` not used within loop body
   --> pricing\profitability_reporting.py:308:13
    |
306 |         analyses = []
307 |
308 |         for comp_key, comp_data in aggregated_data["components"].items():
    |             ^^^^^^^^
309 |             component = comp_data["component"]
310 |             total_quantity = comp_data["total_quantity"]
    |
help: Rename unused `comp_key` to `_comp_key`

RET504 Unnecessary assignment to `metrics` before `return` statement
   --> pricing\profitability_reporting.py:537:16
    |
535 |         }
536 |
537 |         return metrics
    |                ^^^^^^^
538 |
539 |     def _generate_market_insights(
    |
help: Remove unnecessary assignment

RET504 Unnecessary assignment to `benchmarks` before `return` statement
   --> pricing\profitability_reporting.py:710:16
    |
708 |         }
709 |
710 |         return benchmarks
    |                ^^^^^^^^^^
711 |
712 |     def _generate_report_keys(self, report_data: dict[str, Any]) -> dict[str, Any]:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pricing\profitability_reporting.py:737:1
    |
735 | def get_profitability_reporting_engine(system_type: str = "pv") -> ProfitabilityReportingEngine:
736 |     """Factory function to get profitability reporting engine instance
737 |     
    | ^^^^
738 |     Args:
739 |         system_type: Type of system ("pv", "heatpump", "combined")
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\profitability_reporting.py:740:1
    |
738 |     Args:
739 |         system_type: Type of system ("pv", "heatpump", "combined")
740 |         
    | ^^^^^^^^
741 |     Returns:
742 |         ProfitabilityReportingEngine instance
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:128:1
    |
126 |     def calculate_pv_system_price(self, system_config: dict[str, Any]) -> PricingResult:
127 |         """Calculate complete PV system pricing
128 |         
    | ^^^^^^^^
129 |         Args:
130 |             system_config: PV system configuration with components and specifications
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:131:1
    |
129 |         Args:
130 |             system_config: PV system configuration with components and specifications
131 |             
    | ^^^^^^^^^^^^
132 |         Returns:
133 |             PricingResult with PV system pricing
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:190:1
    |
188 |                                additional_costs: float = 0.0) -> dict[str, Any]:
189 |         """Calculate VAT for PV system with component-level breakdown
190 |         
    | ^^^^^^^^
191 |         Args:
192 |             components: List of PV price components
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:194:1
    |
192 |             components: List of PV price components
193 |             additional_costs: Additional costs (accessories, services)
194 |             
    | ^^^^^^^^^^^^
195 |         Returns:
196 |             Dictionary with VAT calculation details
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `total_price` before `return` statement
   --> pricing\pv_pricing_engine.py:430:16
    |
428 |         total_price = self._apply_efficiency_adjustments(component, total_price)
429 |
430 |         return total_price
    |                ^^^^^^^^^^^
431 |
432 |     def _apply_technology_adjustments(self, component: PVPriceComponent,
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:668:1
    |
666 | def calculate_pv_system_pricing(system_config: dict[str, Any]) -> PricingResult:
667 |     """Calculate PV system pricing using the PV pricing engine
668 |     
    | ^^^^
669 |     Args:
670 |         system_config: PV system configuration
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\pv_pricing_engine.py:671:1
    |
669 |     Args:
670 |         system_config: PV system configuration
671 |         
    | ^^^^^^^^
672 |     Returns:
673 |         PricingResult with complete PV system pricing
    |
help: Remove whitespace from blank line

B007 Loop control variable `sub_id` not used within loop body
   --> pricing\real_time_pricing_updates.py:486:27
    |
485 |             # Notify global subscribers
486 |             for callback, sub_id in self._global_subscribers:
    |                           ^^^^^^
487 |                 try:
488 |                     callback(notification_data)
    |
help: Rename unused `sub_id` to `_sub_id`

B007 Loop control variable `sub_id` not used within loop body
   --> pricing\real_time_pricing_updates.py:497:35
    |
496 |                 for key in matching_keys:
497 |                     for callback, sub_id in self._subscribers.get(key, []):
    |                                   ^^^^^^
498 |                         try:
499 |                             callback(notification_data)
    |
help: Rename unused `sub_id` to `_sub_id`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> pricing\real_time_pricing_updates.py:527:13
    |
525 |         matching_keys = []
526 |
527 |         for key in self._subscribers.keys():
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
528 |             if self._key_matches_event(key, event):
529 |                 matching_keys.append(key)
    |
help: Remove `.keys()`

SIM103 Return the negated condition directly
   --> pricing\real_time_pricing_updates.py:545:13
    |
544 |               # Check system type match
545 | /             if systems_part and event.system_type and event.system_type not in systems_part.split(","):
546 | |                 return False
547 | |
548 | |             return True
    | |_______________________^
549 |
550 |           except Exception:
    |
help: Inline condition

RET504 Unnecessary assignment to `max_priority` before `return` statement
   --> pricing\real_time_pricing_updates.py:688:16
    |
686 |         max_priority = max(
687 |             (event.priority for event in events), key=lambda p: p.value)
688 |         return max_priority
    |                ^^^^^^^^^^^^
689 |
690 |     def _default_update_callback(self, request: UpdateRequest) -> None:
    |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> pricing\vat_manager.py:71:1
   |
69 |     def __init__(self, country_code: str = "DE"):
70 |         """Initialize VAT manager for specific country
71 |         
   | ^^^^^^^^
72 |         Args:
73 |             country_code: ISO country code (default: DE for Germany)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:183:1
    |
181 |     def set_vat_rate(self, category: VATCategory, rate_percent: float, description: str = ""):
182 |         """Set VAT rate for a category
183 |         
    | ^^^^^^^^
184 |         Args:
185 |             category: VAT category
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:208:1
    |
206 |                                 override_rate: float | None = None):
207 |         """Map product category to VAT category
208 |         
    | ^^^^^^^^
209 |         Args:
210 |             product_category: Product category name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:233:1
    |
231 |     def get_vat_rate_for_category(self, product_category: str) -> float:
232 |         """Get VAT rate for a product category
233 |         
    | ^^^^^^^^
234 |         Args:
235 |             product_category: Product category name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:236:1
    |
234 |         Args:
235 |             product_category: Product category name
236 |             
    | ^^^^^^^^^^^^
237 |         Returns:
238 |             VAT rate as percentage
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:264:1
    |
262 |                      vat_rate_override: float | None = None) -> VATCalculation:
263 |         """Calculate VAT for a net amount
264 |         
    | ^^^^^^^^
265 |         Args:
266 |             net_amount: Net amount before VAT
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:269:1
    |
267 |             product_category: Product category for VAT rate lookup
268 |             vat_rate_override: Override VAT rate (percentage)
269 |             
    | ^^^^^^^^^^^^
270 |         Returns:
271 |             VATCalculation with detailed breakdown
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\vat_manager.py:324:13
    |
322 |         except Exception as e:
323 |             self.logger.error(f"Error calculating VAT: {e}")
324 |             raise CalculationError(f"VAT calculation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
325 |
326 |     def calculate_mixed_vat(self, items: list[dict[str, Any]]) -> VATCalculation:
    |

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:328:1
    |
326 |     def calculate_mixed_vat(self, items: list[dict[str, Any]]) -> VATCalculation:
327 |         """Calculate VAT for multiple items with different categories
328 |         
    | ^^^^^^^^
329 |         Args:
330 |             items: List of items with 'net_amount' and 'category' keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:331:1
    |
329 |         Args:
330 |             items: List of items with 'net_amount' and 'category' keys
331 |             
    | ^^^^^^^^^^^^
332 |         Returns:
333 |             VATCalculation with combined totals and detailed breakdown
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\vat_manager.py:418:13
    |
416 |         except Exception as e:
417 |             self.logger.error(f"Error calculating mixed VAT: {e}")
418 |             raise CalculationError(f"Mixed VAT calculation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
419 |
420 |     def calculate_net_from_gross(self, gross_amount: float, vat_rate_percent: float) -> dict[str, float]:
    |

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:422:1
    |
420 |     def calculate_net_from_gross(self, gross_amount: float, vat_rate_percent: float) -> dict[str, float]:
421 |         """Calculate net amount from gross amount
422 |         
    | ^^^^^^^^
423 |         Args:
424 |             gross_amount: Gross amount including VAT
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:426:1
    |
424 |             gross_amount: Gross amount including VAT
425 |             vat_rate_percent: VAT rate as percentage
426 |             
    | ^^^^^^^^^^^^
427 |         Returns:
428 |             Dictionary with net_amount, vat_amount, and gross_amount
    |
help: Remove whitespace from blank line

B904 Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling
   --> pricing\vat_manager.py:451:13
    |
449 |         except Exception as e:
450 |             self.logger.error(f"Error calculating net from gross: {e}")
451 |             raise CalculationError(f"Net from gross calculation failed: {e}")
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
452 |
453 |     def get_vat_summary(self) -> dict[str, Any]:
    |

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:455:1
    |
453 |     def get_vat_summary(self) -> dict[str, Any]:
454 |         """Get summary of VAT configuration
455 |         
    | ^^^^^^^^
456 |         Returns:
457 |             Dictionary with VAT rates and category mappings
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:481:1
    |
479 |     def validate_vat_configuration(self) -> list[str]:
480 |         """Validate VAT configuration and return any issues
481 |         
    | ^^^^^^^^
482 |         Returns:
483 |             List of validation issues (empty if valid)
    |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> pricing\vat_manager.py:502:17
    |
500 |                       issues.append(f"Category '{category}' mapped to undefined VAT category: {mapping.vat_category.value}")
501 |
502 | /                 if mapping.override_rate is not None:
503 | |                     if mapping.override_rate < 0 or mapping.override_rate > 100:
    | |________________________________________________________________________________^
504 |                           issues.append(f"Invalid override rate for category '{category}': {mapping.override_rate}%")
    |
help: Combine `if` statements using `and`

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:516:1
    |
514 | def get_vat_manager(country_code: str = "DE") -> VATManager:
515 |     """Get global VAT manager instance
516 |     
    | ^^^^
517 |     Args:
518 |         country_code: ISO country code
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pricing\vat_manager.py:519:1
    |
517 |     Args:
518 |         country_code: ISO country code
519 |         
    | ^^^^^^^^
520 |     Returns:
521 |         VATManager instance
    |
help: Remove whitespace from blank line

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> product_attributes.py:73:9
   |
71 |           print(f"product_attributes.upsert_attribute: Fehler: {e}")
72 |           traceback.print_exc()
73 | /         try:
74 | |             conn.rollback()
75 | |         except Exception:
76 | |             pass
   | |________________^
77 |           return None
78 |       finally:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> product_attributes.py:161:9
    |
159 |       except Exception as e:
160 |           print(f"product_attributes.delete_attribute: Fehler: {e}")
161 | /         try:
162 | |             conn.rollback()
163 | |         except Exception:
164 | |             pass
    | |________________^
165 |           return False
166 |       finally:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> product_attributes.py:262:17
    |
260 |   ÔÇª      except Exception:
261 |   ÔÇª          dord = 0
262 | / ÔÇª      if akey:
263 | | ÔÇª          if upsert_attribute(pid, category or (prod.get('category') if prod else '' ) or '', akey, aval or None, unit, dord):
    | |_______________________________________________________________________________________________________________________________^
264 |   ÔÇª              count += 1
265 |   ÔÇªturn count
    |
help: Combine `if` statements using `and`

F401 `database.init_db` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> product_db.py:17:45
   |
15 | # --- (Beginn des unver├ñnderten Codes bis zum if __name__ Block) ---
16 | try:
17 |     from database import get_db_connection, init_db
   |                                             ^^^^^^^
18 |     get_db_connection_safe_pd = get_db_connection
19 |     DB_AVAILABLE = True
   |
help: Remove unused import: `database.init_db`

F821 Undefined name `e`
  --> product_db.py:23:61
   |
21 |     def _dummy_get_db_connection_ie():
22 |         print(
23 |             f"product_db.py: Importfehler f├╝r database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                             ^
24 |         return
25 |     get_db_connection_safe_pd = _dummy_get_db_connection_ie
   |

F821 Undefined name `e`
  --> product_db.py:31:66
   |
29 |     def _dummy_get_db_connection_ex():
30 |         print(
31 |             f"product_db.py: Fehler beim Laden von database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                                  ^
32 |         return
33 |     get_db_connection_safe_pd = _dummy_get_db_connection_ex
   |

W291 Trailing whitespace
  --> product_db.py:62:55
   |
60 |             rating REAL,
61 |             image_base64 TEXT,
62 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
   |                                                       ^
63 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
64 |             datasheet_link_db_path TEXT, 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> product_db.py:63:55
   |
61 |             image_base64 TEXT,
62 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
63 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
   |                                                       ^
64 |             datasheet_link_db_path TEXT, 
65 |             additional_cost_netto REAL DEFAULT 0.0 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> product_db.py:64:41
   |
62 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
63 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
64 |             datasheet_link_db_path TEXT, 
   |                                         ^
65 |             additional_cost_netto REAL DEFAULT 0.0 
66 |         )
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> product_db.py:65:51
   |
63 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
64 |             datasheet_link_db_path TEXT, 
65 |             additional_cost_netto REAL DEFAULT 0.0 
   |                                                   ^
66 |         )
67 |     """)
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> product_db.py:485:1
    |
483 |     """
484 |     Calculate total price based on calculate_per method.
485 |     
    | ^^^^
486 |     This function now uses the enhanced CalculatePerEngine for comprehensive
487 |     calculation method support and feature integration.
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> product_db.py:599:28
    |
597 |         # Update product margin settings
598 |         cursor.execute("""
599 |             UPDATE products 
    |                            ^
600 |             SET margin_type = ?, margin_value = ?, margin_priority = ?, last_price_update = ?
601 |             WHERE id = ?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> product_db.py:727:28
    |
725 |         # Update purchase price
726 |         cursor.execute("""
727 |             UPDATE products 
    |                            ^
728 |             SET purchase_price_net = ?, last_price_update = ?
729 |             WHERE id = ?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> product_db.py:779:40
    |
777 |     try:
778 |         cursor.execute("""
779 |             INSERT INTO pricing_history 
    |                                        ^
780 |             (product_id, field_name, old_value, new_value, change_reason, changed_by, changed_at)
781 |             VALUES (?, ?, ?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> product_db.py:797:1
    |
795 |     """
796 |     Generate dynamic keys for all product fields for PDF integration.
797 |     
    | ^^^^
798 |     Args:
799 |         product: Product dictionary with all fields
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:801:1
    |
799 |         product: Product dictionary with all fields
800 |         category_specific: Whether to generate category-specific keys only
801 |         
    | ^^^^^^^^
802 |     Returns:
803 |         Dictionary with dynamic keys for PDF templates
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:914:1
    |
912 |     """
913 |     Get product by ID with generated dynamic keys for PDF integration.
914 |     
    | ^^^^
915 |     Args:
916 |         product_id: Product ID
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:918:1
    |
916 |         product_id: Product ID
917 |         category_specific: Whether to generate only category-specific keys
918 |         
    | ^^^^^^^^
919 |     Returns:
920 |         Product dictionary with dynamic_keys field added
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:937:1
    |
935 |     """
936 |     Get all products with generated dynamic keys for PDF integration.
937 |     
    | ^^^^
938 |     Args:
939 |         category: Filter by category
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:942:1
    |
940 |         company_id: Filter by company ID
941 |         category_specific: Whether to generate only category-specific keys
942 |         
    | ^^^^^^^^
943 |     Returns:
944 |         List of product dictionaries with dynamic_keys field added
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> product_db.py:959:1
    |
957 |     Clear all products from the database.
958 |     WARNING: This will delete ALL products permanently!
959 |     
    | ^^^^
960 |     Returns:
961 |         True if successful, False otherwise
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> product_db.py:1016:33
     |
1014 |         cursor.execute("""
1015 |             SELECT field_name, old_value, new_value, change_reason, changed_by, changed_at
1016 |             FROM pricing_history 
     |                                 ^
1017 |             WHERE product_id = ?
1018 |             ORDER BY changed_at DESC
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> product_db.py:1052:35
     |
1050 |     try:
1051 |         cursor.execute("""
1052 |             SELECT * FROM products 
     |                                   ^
1053 |             WHERE calculate_per = ? 
1054 |             ORDER BY category, model_name COLLATE NOCASE
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> product_db.py:1053:36
     |
1051 |         cursor.execute("""
1052 |             SELECT * FROM products 
1053 |             WHERE calculate_per = ? 
     |                                    ^
1054 |             ORDER BY category, model_name COLLATE NOCASE
1055 |         """, (calculate_per,))
     |
help: Remove trailing whitespace

B007 Loop control variable `i` not used within loop body
    --> product_db.py:1209:13
     |
1207 |         ]
1208 |         added_ids = []
1209 |         for i, p_data in enumerate(products_to_add):
     |             ^
1210 |             print(
1211 |                 f"\nVersuche Produkt hinzuzuf├╝gen: {p_data.get('model_name')}")
     |
help: Rename unused `i` to `_i`

W293 Blank line contains whitespace
    --> product_db.py:1301:1
     |
1299 |     """
1300 |     Calculate enhanced pricing for a product using all available features and calculate_per method.
1301 |     
     | ^^^^
1302 |     Args:
1303 |         product: Product dictionary with all fields
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1306:1
     |
1304 |         quantity: Quantity to calculate for
1305 |         system_context: Additional system context (system capacity, installation area, etc.)
1306 |         
     | ^^^^^^^^
1307 |     Returns:
1308 |         Dictionary with detailed pricing calculation results
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1409:1
     |
1407 |     """
1408 |     Get detailed pricing breakdown for a product by ID.
1409 |     
     | ^^^^
1410 |     Args:
1411 |         product_id: Product ID
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1414:1
     |
1412 |         quantity: Quantity to calculate for
1413 |         system_context: Additional system context
1414 |         
     | ^^^^^^^^
1415 |     Returns:
1416 |         Detailed pricing breakdown or None if product not found
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1429:1
     |
1427 |     """
1428 |     Calculate pricing for a complete system with multiple components.
1429 |     
     | ^^^^
1430 |     Args:
1431 |         components: List of component dictionaries with product_id/model_name and quantity
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1433:1
     |
1431 |         components: List of component dictionaries with product_id/model_name and quantity
1432 |         system_context: System-level context (total capacity, installation area, etc.)
1433 |         
     | ^^^^^^^^
1434 |     Returns:
1435 |         Complete system pricing breakdown
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> product_db.py:1499:1
     |
1497 |     """
1498 |     Validate that calculate_per integration is working correctly.
1499 |     
     | ^^^^
1500 |     Returns:
1501 |         Validation results with test cases
     |
help: Remove whitespace from blank line

F401 `pricing.calculate_per_engine.validate_calculation_method` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> product_db.py:1506:13
     |
1504 |         from pricing.calculate_per_engine import (
1505 |             get_supported_calculation_methods,
1506 |             validate_calculation_method,
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
1507 |         )
     |
help: Remove unused import: `pricing.calculate_per_engine.validate_calculation_method`

W291 Trailing whitespace
 --> pv_calculations_core.py:7:46
  |
5 | Umfassende Sammlung von PV-Berechnungsfunktionen f├╝r:
6 | - Grundberechnungen (Ertrag, Eigenverbrauch, Autarkie)
7 | - Wirtschaftlichkeit (ROI, NPV, Amortisation)  
  |                                              ^^
8 | - Technische Analysen (Degradation, Verschattung, Temperatur)
9 | - Speicherberechnungen und Optimierungen
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> pv_calculations_core.py:53:1
   |
51 |     """
52 |     Jahresenergieertrag in kWh pro Jahr.
53 |     
   | ^^^^
54 |     Args:
55 |         pv_peak_power_kwp: Installierte PV-Leistung in kWp
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pv_calculations_core.py:57:1
   |
55 |         pv_peak_power_kwp: Installierte PV-Leistung in kWp
56 |         specific_yield_kwh_per_kwp: Spezifischer Ertrag in kWh/kWp
57 |         
   | ^^^^^^^^
58 |     Returns:
59 |         J├ñhrlicher Energieertrag in kWh
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pv_calculations_core.py:69:1
   |
67 |     """
68 |     Eigenverbrauchsquote in %.
69 |     
   | ^^^^
70 |     Args:
71 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pv_calculations_core.py:73:1
   |
71 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
72 |         total_generation_kwh: Gesamte PV-Erzeugung
73 |         
   | ^^^^^^^^
74 |     Returns:
75 |         Eigenverbrauchsquote in Prozent
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pv_calculations_core.py:88:1
   |
86 |     """
87 |     Autarkiegrad in %.
88 |     
   | ^^^^
89 |     Args:
90 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> pv_calculations_core.py:92:1
   |
90 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
91 |         total_consumption_kwh: Gesamter Stromverbrauch
92 |         
   | ^^^^^^^^
93 |     Returns:
94 |         Autarkiegrad in Prozent
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:107:1
    |
105 |     """
106 |     Spezifischer Ertrag in kWh/kWp.
107 |     
    | ^^^^
108 |     Args:
109 |         annual_yield_kwh: Jahresertrag in kWh
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:111:1
    |
109 |         annual_yield_kwh: Jahresertrag in kWh
110 |         pv_peak_power_kwp: Installierte Leistung in kWp
111 |         
    | ^^^^^^^^
112 |     Returns:
113 |         Spezifischer Ertrag in kWh/kWp
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:125:1
    |
123 |     """
124 |     Performance Ratio der PV-Anlage.
125 |     
    | ^^^^
126 |     Args:
127 |         actual_yield_kwh: Tats├ñchlicher Ertrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:130:1
    |
128 |         global_radiation_kwh_per_m2: Globalstrahlung
129 |         pv_area_m2: PV-Modulfl├ñche
130 |         
    | ^^^^^^^^
131 |     Returns:
132 |         Performance Ratio (0-1)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:150:1
    |
148 |     """
149 |     Amortisationszeit in Jahren.
150 |     
    | ^^^^
151 |     Args:
152 |         investment_costs: Investitionskosten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:154:1
    |
152 |         investment_costs: Investitionskosten
153 |         annual_savings: J├ñhrliche Einsparungen
154 |         
    | ^^^^^^^^
155 |     Returns:
156 |         Amortisationszeit in Jahren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:167:1
    |
165 |     """
166 |     J├ñhrliche Stromkostenersparnis in Ôé¼.
167 |     
    | ^^^^
168 |     Args:
169 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:171:1
    |
169 |         self_consumed_kwh: Selbst verbrauchter PV-Strom
170 |         electricity_price: Strompreis in Ôé¼/kWh
171 |         
    | ^^^^^^^^
172 |     Returns:
173 |         J├ñhrliche Ersparnis in Ôé¼
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:184:1
    |
182 |     """
183 |     J├ñhrliche Einspeiseverg├╝tung in Ôé¼.
184 |     
    | ^^^^
185 |     Args:
186 |         feed_in_kwh: Eingespeiste Energiemenge
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:188:1
    |
186 |         feed_in_kwh: Eingespeiste Energiemenge
187 |         feed_in_rate_eur: Verg├╝tungssatz in Ôé¼/kWh
188 |         
    | ^^^^^^^^
189 |     Returns:
190 |         J├ñhrliche Einspeiseverg├╝tung in Ôé¼
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:203:1
    |
201 |     """
202 |     Kapitalwert (NPV) der PV-Investition.
203 |     
    | ^^^^
204 |     Args:
205 |         investment: Anfangsinvestition
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:209:1
    |
207 |         years: Betrachtungszeitraum
208 |         discount_rate: Kalkulationszinssatz
209 |         
    | ^^^^^^^^
210 |     Returns:
211 |         Nettobarwert (NPV)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:226:1
    |
224 |     """
225 |     Interner Zinsfu├ƒ (IRR) in %.
226 |     
    | ^^^^
227 |     Args:
228 |         investment: Anfangsinvestition
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> pv_calculations_core.py:229:47
    |
227 |     Args:
228 |         investment: Anfangsinvestition
229 |         annual_savings: J├ñhrliche Einsparungen  
    |                                               ^^
230 |         years: Betrachtungszeitraum
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> pv_calculations_core.py:231:1
    |
229 |         annual_savings: J├ñhrliche Einsparungen  
230 |         years: Betrachtungszeitraum
231 |         
    | ^^^^^^^^
232 |     Returns:
233 |         IRR in Prozent
    |
help: Remove whitespace from blank line

E722 Do not use bare `except`
   --> pv_calculations_core.py:247:5
    |
245 |         irr_result = npf.irr(cash_flows)
246 |         return safe_float(irr_result * 100, 0.0)
247 |     except:
    |     ^^^^^^
248 |         return 0.0
    |

W293 Blank line contains whitespace
   --> pv_calculations_core.py:255:1
    |
253 |     """
254 |     Gesamtrendite ├╝ber Lebensdauer in %.
255 |     
    | ^^^^
256 |     Args:
257 |         investment: Anfangsinvestition
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:260:1
    |
258 |         annual_savings: J├ñhrliche Einsparungen
259 |         years: Betrachtungszeitraum
260 |         
    | ^^^^^^^^
261 |     Returns:
262 |         ROI in Prozent
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:283:1
    |
281 |     """
282 |     Speicherdeckungsgrad in %.
283 |     
    | ^^^^
284 |     Args:
285 |         stored_self_consumption_kwh: Aus Speicher genutzter Eigenverbrauch
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:287:1
    |
285 |         stored_self_consumption_kwh: Aus Speicher genutzter Eigenverbrauch
286 |         total_self_consumption_kwh: Gesamter Eigenverbrauch
287 |         
    | ^^^^^^^^
288 |     Returns:
289 |         Speicherdeckungsgrad in Prozent
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:300:1
    |
298 |     """
299 |     Optimale Batteriespeichergr├Â├ƒe in kWh.
300 |     
    | ^^^^
301 |     Args:
302 |         daily_consumption_kwh: T├ñglicher Verbrauch
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:304:1
    |
302 |         daily_consumption_kwh: T├ñglicher Verbrauch
303 |         losses_percent: Verluste in Prozent
304 |         
    | ^^^^^^^^
305 |     Returns:
306 |         Empfohlene Speicherkapazit├ñt in kWh
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:318:1
    |
316 |     """
317 |     Notstromkapazit├ñt in kWh/Tag.
318 |     
    | ^^^^
319 |     Args:
320 |         storage_kwh: Speicherkapazit├ñt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:322:1
    |
320 |         storage_kwh: Speicherkapazit├ñt
321 |         usable_capacity_percent: Nutzbare Kapazit├ñt in Prozent
322 |         
    | ^^^^^^^^
323 |     Returns:
324 |         Notstromkapazit├ñt in kWh/Tag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:341:1
    |
339 |     """
340 |     J├ñhrliche CO2-Einsparung in kg.
341 |     
    | ^^^^
342 |     Args:
343 |         annual_yield_kwh: J├ñhrlicher PV-Ertrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:345:1
    |
343 |         annual_yield_kwh: J├ñhrlicher PV-Ertrag
344 |         co2_factor_kg_per_kwh: CO2-Faktor Strommix
345 |         
    | ^^^^^^^^
346 |     Returns:
347 |         CO2-Einsparung in kg/Jahr
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:358:1
    |
356 |     """
357 |     CO2-Amortisationszeit in Jahren.
358 |     
    | ^^^^
359 |     Args:
360 |         pv_size_kwp: PV-Anlagengr├Â├ƒe in kWp
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:362:1
    |
360 |         pv_size_kwp: PV-Anlagengr├Â├ƒe in kWp
361 |         annual_production_kwh: J├ñhrliche Produktion
362 |         
    | ^^^^^^^^
363 |     Returns:
364 |         CO2-Amortisationszeit in Jahren
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:383:1
    |
381 |     """
382 |     PV-Modulwirkungsgrad in %.
383 |     
    | ^^^^
384 |     Args:
385 |         module_power_wp: Modulleistung in Wp
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:387:1
    |
385 |         module_power_wp: Modulleistung in Wp
386 |         module_area_m2: Modulfl├ñche in m┬▓
387 |         
    | ^^^^^^^^
388 |     Returns:
389 |         Modulwirkungsgrad in Prozent
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:405:1
    |
403 |     """
404 |     DC/AC-├£berdimensionierungsfaktor.
405 |     
    | ^^^^
406 |     Args:
407 |         pv_power_kwp: PV-Leistung in kWp
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:409:1
    |
407 |         pv_power_kwp: PV-Leistung in kWp
408 |         inverter_power_kw: Wechselrichterleistung in kW
409 |         
    | ^^^^^^^^
410 |     Returns:
411 |         ├£berdimensionierungsfaktor
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:428:1
    |
426 |     """
427 |     Annuit├ñtendarlehen-Berechnung.
428 |     
    | ^^^^
429 |     Args:
430 |         principal: Darlehensbetrag
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:433:1
    |
431 |         annual_interest_rate: Jahreszins in Prozent
432 |         duration_years: Laufzeit in Jahren
433 |         
    | ^^^^^^^^
434 |     Returns:
435 |         Dict mit Kreditdetails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:470:1
    |
468 |     """
469 |     Leasingkostenberechnung.
470 |     
    | ^^^^
471 |     Args:
472 |         total_investment: Gesamtinvestition
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:476:1
    |
474 |         duration_months: Laufzeit in Monaten
475 |         residual_value_percent: Restwert in %
476 |         
    | ^^^^^^^^
477 |     Returns:
478 |         Dict mit Leasingdetails
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:518:1
    |
516 |         """
517 |         Detaillierte CO2-Bilanz ├╝ber die Lebensdauer.
518 |         
    | ^^^^^^^^
519 |         Args:
520 |             calc_results: Berechnungsergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:521:1
    |
519 |         Args:
520 |             calc_results: Berechnungsergebnisse
521 |             
    | ^^^^^^^^^^^^
522 |         Returns:
523 |             Dict mit detaillierter CO2-Bilanz
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:571:1
    |
569 |         """
570 |         Monte-Carlo-Simulation f├╝r Risikobewertung.
571 |         
    | ^^^^^^^^
572 |         Args:
573 |             calc_results: Berechnungsergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:576:1
    |
574 |             n_simulations: Anzahl Simulationen
575 |             confidence_level: Konfidenzlevel in %
576 |             
    | ^^^^^^^^^^^^
577 |         Returns:
578 |             Dict mit Simulationsergebnissen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:635:1
    |
633 |         """
634 |         Optimierungsvorschl├ñge f├╝r die PV-Anlage.
635 |         
    | ^^^^^^^^
636 |         Args:
637 |             calc_results: Berechnungsergebnisse
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:639:1
    |
637 |             calc_results: Berechnungsergebnisse
638 |             project_data: Projektdaten (optional)
639 |             
    | ^^^^^^^^^^^^
640 |         Returns:
641 |             Dict mit Optimierungsvorschl├ñgen
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:723:1
    |
721 |     """
722 |     Umfassende PV-Analyse mit allen verf├╝gbaren Berechnungen.
723 |     
    | ^^^^
724 |     Args:
725 |         project_data: Vollst├ñndige Projektdaten
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> pv_calculations_core.py:726:1
    |
724 |     Args:
725 |         project_data: Vollst├ñndige Projektdaten
726 |         
    | ^^^^^^^^
727 |     Returns:
728 |         Dict mit allen Berechnungsergebnissen
    |
help: Remove whitespace from blank line

RET504 Unnecessary assignment to `img_bytes` before `return` statement
  --> pv_visuals.py:62:16
   |
60 |         # Erh├Âhe die Skalierung und definiere eine Standardgr├Â├ƒe f├╝r bessere Qualit├ñt im PDF
61 |         img_bytes = fig.to_image(format="png", scale=2, width=900, height=550)
62 |         return img_bytes
   |                ^^^^^^^^^
63 |     except Exception:
64 |         # Fehlerbehandlung wurde aus der Originaldatei ├╝bernommen
   |
help: Remove unnecessary assignment

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:118:16
    |
116 |           x=month_labels,
117 |           y=production_values,
118 |           marker=dict(
    |  ________________^
119 | |             color=colors,
120 | |             line=dict(color='white', width=2)  # Task 4.1: Dickere Kanten
121 | |         ),
    | |_________^
122 |           text=[f'{val:.0f} kWh' for val in production_values],
123 |           textposition='outside',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:120:18
    |
118 |         marker=dict(
119 |             color=colors,
120 |             line=dict(color='white', width=2)  # Task 4.1: Dickere Kanten
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
121 |         ),
122 |         text=[f'{val:.0f} kWh' for val in production_values],
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:124:18
    |
122 |         text=[f'{val:.0f} kWh' for val in production_values],
123 |         textposition='outside',
124 |         textfont=dict(size=FONT_SIZE_DATA_LABEL, color='black', weight='bold'),  # Task 4.2
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
125 |         hovertemplate='<b>%{x}</b><br>Produktion: %{y:.0f} kWh<extra></extra>'
126 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:218:14
    |
216 |         mode='lines',
217 |         name='Break-Even Linie',
218 |         line=dict(color='red', width=2.5, dash='dash'),  # Task 4.1: Dickere Linie
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
219 |         hoverinfo='skip'
220 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:229:20
    |
227 |             mode='markers+text',
228 |             name='Break-Even',
229 |             marker=dict(size=18, color='red', symbol='star'),  # Task 4.1: Gr├Â├ƒerer Marker
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
230 |             text=[f'Break-Even<br>Jahr {break_even_year}'],
231 |             textposition='top center',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:232:22
    |
230 |             text=[f'Break-Even<br>Jahr {break_even_year}'],
231 |             textposition='top center',
232 |             textfont=dict(size=FONT_SIZE_DATA_LABEL, color='red', weight='bold'),  # Task 4.2
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
233 |             hovertemplate=f'<b>Break-Even erreicht</b><br>Jahr: {break_even_year}<extra></extra>'
234 |         ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:327:14
    |
325 |         mode='lines',
326 |         name=get_text_pv_viz(texts, "viz_cost_label", "Investitionskosten (Netto)"),
327 |         line=dict(color='red', width=2.5, dash='dash'),  # Task 4.1: Dickere Linie
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
328 |         hovertemplate='<b>Investition</b><br>%{y:,.0f} Ôé¼<extra></extra>'
329 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:352:20
    |
350 |             mode='markers+text',
351 |             name='Amortisation',
352 |             marker=dict(size=18, color='green', symbol='star'),  # Task 4.1: Gr├Â├ƒerer Marker
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
353 |             text=[f'Amortisiert<br>Jahr {amortisation_year}'],
354 |             textposition='top center',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:355:22
    |
353 | ÔÇª         text=[f'Amortisiert<br>Jahr {amortisation_year}'],
354 | ÔÇª         textposition='top center',
355 | ÔÇª         textfont=dict(size=FONT_SIZE_DATA_LABEL, color='green', weight='bold'),  # Task 4.2
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
356 | ÔÇª         hovertemplate=f'<b>Amortisation erreicht</b><br>Jahr: {amortisation_year}<br>Betrag: {total_investment:,.0f} Ôé¼<extra></extrÔÇª
357 | ÔÇª     ))
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> pv_visuals.py:392:1
    |
390 |     Erstellt eine ansprechende 2D-Visualisierung der COÔéé-Einsparungen mit Balkendiagramm
391 |     f├╝r Auto, Flugzeug und B├ñume.
392 |     
    | ^^^^
393 |     Args:
394 |         analysis_results (Dict[str, Any]): Die Analyseergebnisse mit COÔéé-Daten.
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:424:16
    |
422 |           x=categories,
423 |           y=values,
424 |           marker=dict(
    |  ________________^
425 | |             color=colors,
426 | |             line=dict(color='white', width=2)  # Task 4.1: Dickere Kanten
427 | |         ),
    | |_________^
428 |           text=[f'{val:,.0f}' for val in values],
429 |           textposition='outside',
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:426:18
    |
424 |         marker=dict(
425 |             color=colors,
426 |             line=dict(color='white', width=2)  # Task 4.1: Dickere Kanten
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
427 |         ),
428 |         text=[f'{val:,.0f}' for val in values],
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:430:18
    |
428 |         text=[f'{val:,.0f}' for val in values],
429 |         textposition='outside',
430 |         textfont=dict(size=FONT_SIZE_DATA_LABEL, color='black', weight='bold'),  # Task 4.2
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
431 |         hovertemplate='<b>%{x}</b><br>Wert: %{y:,.0f}<extra></extra>'
432 |     ))
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:446:15
    |
444 |       # Zus├ñtzliche Anpassungen f├╝r Titel-Farbe
445 |       fig_co2.update_layout(
446 |           title=dict(
    |  _______________^
447 | |             text=get_text_pv_viz(texts, "co2_2d_title", f"Ihre j├ñhrliche COÔéé-Einsparung: {co2_savings:,.0f} kg"),
448 | |             font=dict(size=16, color='darkgreen', family='Arial'),  # Task 4.1: Gr├Â├ƒerer Titel
449 | |             x=0.5,
450 | |             xanchor='center'
451 | |         )
    | |_________^
452 |       )
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> pv_visuals.py:448:18
    |
446 |         title=dict(
447 |             text=get_text_pv_viz(texts, "co2_2d_title", f"Ihre j├ñhrliche COÔéé-Einsparung: {co2_savings:,.0f} kg"),
448 |             font=dict(size=16, color='darkgreen', family='Arial'),  # Task 4.1: Gr├Â├ƒerer Titel
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
449 |             x=0.5,
450 |             xanchor='center'
    |
help: Rewrite as a literal

F841 Local variable `module_name` is assigned to but never used
  --> quick_calc.py:36:5
   |
34 |     """
35 |     # Der Header wird in gui.py gesetzt, aber hier kann der Modulname aus kwargs geholt werden, falls n├Âtig
36 |     module_name = kwargs.get('module_name', texts.get("menu_item_quick_calc", "A.G.E.N.T."))
   |     ^^^^^^^^^^^
37 |
38 |     # --- Hier kommt die Logik f├╝r die Schnellberechnung hin ---
   |
help: Remove assignment to unused variable `module_name`

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:99:119
    |
 98 | def _dummy_load_admin_setting(key, default=None):
 99 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
    |                                                                                                                       ^
100 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
101 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:100:36
    |
 98 | def _dummy_load_admin_setting(key, default=None):
 99 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
100 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
    |                                    ^
101 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
102 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:101:33
    |
 99 |     if key == 'pdf_title_image_templates' or key == 'pdf_offer_title_templates' or key == 'pdf_cover_letter_templates': return []
100 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
101 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
    |                                 ^
102 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
103 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:102:32
    |
100 |     if key == 'pdf_design_settings': return {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
101 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
102 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
    |                                ^
103 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
104 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:103:39
    |
101 |     if key == 'global_constants': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
102 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
103 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
    |                                       ^
104 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
105 |     return default
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:104:75
    |
102 |     if key == 'feed_in_tariffs': return _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
103 |     if key == 'visualization_settings': return _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.get('visualization_settings', {}).copy()
104 |     if key in ["Maps_api_key", "bing_maps_api_key", "osm_nominatim_email"]: return ""
    |                                                                           ^
105 |     return default
106 | def _dummy_save_admin_setting(key, value): return False
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\admin_panel.py:124:31
    |
122 | def _dummy_delete_company_document(document_id: int) -> bool: return False
123 | def _dummy_parse_price_matrix_csv(csv_data: str | io.StringIO, errors_list: list[str]) -> pd.DataFrame | None:
124 |     if errors_list is not None: errors_list.append("Dummy-Parser f├╝r Preis-Matrix CSV aktiv.")
    |                               ^
125 |     return None
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> repair_pdf\admin_panel.py:265:17
    |
263 |               current_logo_b64_form_crud = company_data_for_form.get("logo_base64")
264 |               if current_logo_b64_form_crud and not uploaded_logo_file_ui_crud and st.session_state.editing_company_id:
265 | /                 try:
266 | |                     st.image(base64.b64decode(current_logo_b64_form_crud), caption=get_text_local("admin_current_logo_caption","AktueÔÇª
267 | |                 except Exception:
268 | |                     pass
    | |________________________^
269 |
270 |               c_street = st.text_input(get_text_local("admin_company_street_label", "Stra├ƒe & Nr."), value=company_data_for_form.get("sÔÇª
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

N806 Variable `DOCUMENT_TYPES_AVAILABLE_CRUD` in function should be lowercase
   --> repair_pdf\admin_panel.py:357:17
    |
355 |                 st.subheader(get_text_local("admin_company_documents_header", "Dokumente f├╝r diese Firma verwalten"))
356 |
357 |                 DOCUMENT_TYPES_AVAILABLE_CRUD = ["AGB", "Datenschutz", "Vollmacht", "SEPA-Mandat", "Freistellungsbescheinigung", "SonÔÇª
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
358 |
359 |                 form_key_doc_upload_crud = f"company_document_upload_form_crud_{current_company_id_for_docs_crud}_v16_admin_definitiv"
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:514:46
    |
512 |                     row_cols_crud[7].markdown("*(Std/Aktiv)*")
513 |             else:
514 |                 row_cols_crud[5].caption("-"); row_cols_crud[6].caption("-"); row_cols_crud[7].caption("-")
    |                                              ^
515 |             st.markdown("---")
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:514:77
    |
512 |                     row_cols_crud[7].markdown("*(Std/Aktiv)*")
513 |             else:
514 |                 row_cols_crud[5].caption("-"); row_cols_crud[6].caption("-"); row_cols_crud[7].caption("-")
    |                                                                             ^
515 |             st.markdown("---")
    |

N806 Variable `PRODUCT_DATASHEETS_BASE_DIR_ADMIN` in function should be lowercase
   --> repair_pdf\admin_panel.py:529:5
    |
527 | ):
528 |     st.subheader(get_text_local("admin_product_management_header", "Produktverwaltung"))
529 |     PRODUCT_DATASHEETS_BASE_DIR_ADMIN = os.path.join(os.getcwd(), "data", "product_datasheets")
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
530 |     if not os.path.exists(PRODUCT_DATASHEETS_BASE_DIR_ADMIN):
531 |         try:
    |

F841 Local variable `results_area_pm` is assigned to but never used
   --> repair_pdf\admin_panel.py:548:9
    |
546 |         col_imp_pma, col_imp_pmb = st.columns([1, 2])
547 |         start_import_pm = col_imp_pma.button(get_text_local("admin_module_pdf_start_import_pm", "Import starten"), key=f"module_pdf_sÔÇª
548 |         results_area_pm = col_imp_pmb.empty()
    |         ^^^^^^^^^^^^^^^
549 |
550 |         if start_import_pm:
    |
help: Remove assignment to unused variable `results_area_pm`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> repair_pdf\admin_panel.py:669:5
    |
667 |       )
668 |
669 | /     if uploaded_product_file_bulk is not None:
670 | |         if st.button(get_text_local("admin_process_product_file_button", "Hochgeladene Produkt-Datei verarbeiten"), key=f"process_bulk_product_btn{WIDGET_KEY_SUFFIX}"):
    | |________________________________________________________________________________________________________________________________________________________________________^
671 |               try:
672 |                   df_products_import = None
    |
help: Combine `if` statements using `and`

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:678:45
    |
676 |                     uploaded_product_file_bulk.seek(0)
677 |                     csv_bytes_content = uploaded_product_file_bulk.getvalue()
678 |                     detected_encoding = None; encodings_to_try = ['utf-8', 'iso-8859-1', 'latin1', 'cp1252']
    |                                             ^
679 |                     for enc in encodings_to_try:
680 |                         try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:684:67
    |
682 | ÔÇª     if df_temp_auto is not None and not df_temp_auto.empty and len(df_temp_auto.columns) > 1 and all(isinstance(c, str) for c in dfÔÇª
683 | ÔÇª          st.info(f"CSV erfolgreich mit Kodierung '{enc}' und automatischem Trennzeichen gelesen.")
684 | ÔÇª          df_products_import = df_temp_auto; detected_encoding = enc; break
    |                                             ^
685 | ÔÇª     uploaded_product_file_bulk.seek(0)
686 | ÔÇª     df_temp_semicolon = pd.read_csv(io.BytesIO(csv_bytes_content), sep=';', decimal=',', encoding=enc, engine='python', thousands='ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:684:92
    |
682 | ÔÇª     if df_temp_auto is not None and not df_temp_auto.empty and len(df_temp_auto.columns) > 1 and all(isinstance(c, str) for c in dfÔÇª
683 | ÔÇª          st.info(f"CSV erfolgreich mit Kodierung '{enc}' und automatischem Trennzeichen gelesen.")
684 | ÔÇª          df_products_import = df_temp_auto; detected_encoding = enc; break
    |                                                                      ^
685 | ÔÇª     uploaded_product_file_bulk.seek(0)
686 | ÔÇª     df_temp_semicolon = pd.read_csv(io.BytesIO(csv_bytes_content), sep=';', decimal=',', encoding=enc, engine='python', thousands='ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:689:72
    |
687 |                             if df_temp_semicolon is not None and not df_temp_semicolon.empty and len(df_temp_semicolon.columns) > 1:
688 |                                  st.info(f"CSV erfolgreich mit Kodierung '{enc}' und Trennzeichen ';' gelesen.")
689 |                                  df_products_import = df_temp_semicolon; detected_encoding = enc; break
    |                                                                        ^
690 |                         except Exception:
691 |                             df_products_import = None
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:689:97
    |
687 |                             if df_temp_semicolon is not None and not df_temp_semicolon.empty and len(df_temp_semicolon.columns) > 1:
688 |                                  st.info(f"CSV erfolgreich mit Kodierung '{enc}' und Trennzeichen ';' gelesen.")
689 |                                  df_products_import = df_temp_semicolon; detected_encoding = enc; break
    |                                                                                                 ^
690 |                         except Exception:
691 |                             df_products_import = None
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\admin_panel.py:699:75
    |
697 |                     df_products_import.columns = [str(col).strip().lower().replace(' ', '_') for col in df_products_import.columns]
698 |                     st.write("Vorschau der importierten Daten (erste 5 Zeilen):", df_products_import.head())
699 |                     imported_count, updated_count, skipped_count = 0, 0, 0; error_rows = []
    |                                                                           ^
700 |                     db_columns_from_product_db = [
701 |                         'id', 'category', 'model_name', 'brand', 'price_euro',
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> repair_pdf\admin_panel.py:727:45
    |
725 |   ÔÇª                     try:
726 |   ÔÇª                         val_str = str(product_data_import_filtered[num_col])
727 | / ÔÇª                         if '.' in val_str and ',' in val_str:
728 | | ÔÇª                             if val_str.rfind('.') < val_str.rfind(','):
    | |_________________________________________________________________________^
729 |   ÔÇª                                 val_str = val_str.replace('.', '')
730 |   ÔÇª                         val_str = val_str.replace(',', '.')
    |
help: Combine `if` statements using `and`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> repair_pdf\admin_panel.py:934:17
    |
932 |               current_product_image_b64_form = product_data_for_manual_form.get("image_base64")
933 |               if current_product_image_b64_form and not uploaded_product_image_manual_file_form and st.session_state.product_to_edit_idÔÇª
934 | /                 try:
935 | |                     st.image(base64.b64decode(current_product_image_b64_form), caption=get_text_local("product_current_image_caption"ÔÇª
936 | |                 except Exception:
937 | |                     pass
    | |________________________^
938 |
939 |               st.markdown("**"+get_text_local("product_datasheet_header","Produktdatenblatt (PDF)")+"**")
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\admin_panel.py:1150:9
     |
1148 |   ÔÇª                     st.error(get_text_local("product_error_removing_datasheet_path","Fehler beim Entfernen des Datenblatt-Pfads aus der DB."))
1149 |   ÔÇª
1150 | / ÔÇª     if st.session_state.product_to_edit_id_manual:
1151 | | ÔÇª         if st.button(get_text_local("admin_finish_edit_product_button", "Produktbearbeitung abschlie├ƒen/Neues Produkt"), key=f"finish_edit_prod_btn_manual_man{WIDGET_KEY_SUFFIX}_key_end"):
     | |______________________________________________________________________________________________________________________________________________________________________________________________^
1152 |   ÔÇª             st.session_state.product_to_edit_id_manual = None
1153 |   ÔÇª             st.session_state.selected_page_key_sui = "admin"
     |
help: Combine `if` statements using `and`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\admin_panel.py:1172:21
     |
1170 |         list_cols_h = st.columns([0.4, 2, 0.8, 0.8, 1, 0.8, 0.4, 0.4])
1171 |         list_headers = ["ID", "Modell", "Bild", "Datenblatt?", "Kategorie", "Preis (Ôé¼)", "", ""]
1172 |         for c, h in zip(list_cols_h, list_headers):
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1173 |             c.markdown(f"**{h}**")
     |
help: Add explicit value for parameter `strict=`

SIM105 Use `contextlib.suppress(ValueError, TypeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\admin_panel.py:1193:13
     |
1191 |               price_euro_val = prod_item_in_list.get('price_euro')
1192 |               price_display_val = 0.0
1193 | /             try:
1194 | |                 price_display_val = float(price_euro_val if price_euro_val is not None else 0.0)
1195 | |             except (ValueError, TypeError):
1196 | |                 pass
     | |____________________^
1197 |               list_cols_r[5].caption(f"{price_display_val:.2f}")
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(ValueError, TypeError): ...`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\admin_panel.py:1199:13
     |
1197 |               list_cols_r[5].caption(f"{price_display_val:.2f}")
1198 |
1199 | /             if list_cols_r[6].button("", key=f"edit_prod_list_btn_man_final_key_admin_item_{key_suffix_in_list}", help="Produkt bearÔÇª
1200 | |                 if prod_id_in_list is not None:
     | |_______________________________________________^
1201 |                       st.session_state.product_to_edit_id_manual = prod_id_in_list
1202 |                       st.session_state.selected_page_key_sui = "admin"
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\admin_panel.py:1206:13
     |
1205 |   ÔÇª     confirm_del_key_prod_item_list_final = f"confirm_del_prod_item_list_man_final_key_admin_item_{key_suffix_in_list}"
1206 | / ÔÇª     if list_cols_r[7].button("", key=f"delete_prod_list_btn_man_final_key_admin_item_{key_suffix_in_list}", help="Produkt l├Âschen"ÔÇª
1207 | | ÔÇª         if prod_id_in_list is not None:
     | |_________________________________________^
1208 |   ÔÇª             if st.session_state.get(confirm_del_key_prod_item_list_final, False):
1209 |   ÔÇª                 if delete_product_func(prod_id_in_list):
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1240:50
     |
1238 |     current_global_constants = load_admin_setting_func('global_constants', {})
1239 |     temp_merged_constants = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.copy()
1240 |     if isinstance(current_global_constants, dict): temp_merged_constants.update(current_global_constants)
     |                                                  ^
1241 |     current_global_constants = temp_merged_constants
1242 |     with st.form(f"global_constants_form{WIDGET_KEY_SUFFIX}"):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1253:27
     |
1251 | ÔÇª         new_maint_var = st.number_input(label=get_text_local("maintenance_variable_eur_per_kwp_pa", "Variable Wartungskosten (Ôé¼ prÔÇª
1252 | ÔÇª         new_alt_invest_interest = st.number_input(label=get_text_local("alternative_investment_interest_rate_percent", "VergleichsÔÇª
1253 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_yield_settings_header", "Ertragseinstellungen f├╝r PV-Anlage"))
     |                         ^
1254 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1255 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1255:24
     |
1253 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_yield_settings_header", "Ertragseinstellungen f├╝r PV-Anlage"))
1254 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1255 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
     |                      ^
1256 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1257 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1256:24
     |
1254 | ÔÇª     col_yield1, col_yield2 = st.columns(2)
1255 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
1256 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
     |                      ^
1257 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
1258 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1257:27
     |
1255 | ÔÇª     with col_yield1: new_global_yield_adj = st.number_input(label=get_text_local("global_yield_adjustment_percent", "Globale ErtraÔÇª
1256 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1257 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
     |                         ^
1258 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
1259 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1257:142
     |
1255 | ÔÇªxt_local("global_yield_adjustment_percent", "Globale Ertragsanpassung (%)"), value=float(current_global_constants.get('global_yieldÔÇª
1256 | ÔÇªocal("reference_specific_yield_pr", "Referenz-Spezialertrag f├╝r PR (kWh/kWp/a)"), value=float(current_global_constants.get('referenÔÇª
1257 | ÔÇªields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/a)...")); st.caption(get_text_local("admin_orientation_yields_info_v2", "BÔÇª
     |                                                                   ^
1258 | ÔÇª_yields_by_orientation_tilt', {}); default_yield_map_template = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_orientation_ÔÇª
1259 | ÔÇªNordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tilts_ordered = ["0", "15", "30", "45", "60"]
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1258:110
     |
1256 | ÔÇª     with col_yield2: new_ref_yield_pr = st.number_input(label=get_text_local("reference_specific_yield_pr", "Referenz-SpezialertraÔÇª
1257 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_orientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/aÔÇª
1258 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
     |                                                                                                            ^
1259 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1260 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1258:214
     |
1256 | ÔÇªkWp/a)"), value=float(current_global_constants.get('reference_specific_yield_pr', 1100.0)), key=f"gc_ref_yield_pr{WIDGET_KEY_SUFFIXÔÇª
1257 | ÔÇªption(get_text_local("admin_orientation_yields_info_v2", "Basis-Ertragswerte..."))
1258 | ÔÇª_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_orientation_tilt']; updated_specific_yields_map = {}
     |                                                                   ^
1259 | ÔÇª["0", "15", "30", "45", "60"]
1260 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1259:131
     |
1257 | ÔÇªientation_yields_subheader_v2", "Spezifische Jahresertr├ñge (kWh/kWp/a)...")); st.caption(get_text_local("admin_orientation_yields_iÔÇª
1258 | ÔÇªt('specific_yields_by_orientation_tilt', {}); default_yield_map_template = _DEFAULT_GLOBAL_CONSTANTS_FALLBACK['specific_yields_by_oÔÇª
1259 | ÔÇª, "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tilts_ordered = ["0", "15", "30", "45", "60"]
     |                                                                   ^
1260 | ÔÇª header_cols[0].markdown("**Ausrichtung**")
1261 | ÔÇªols[i+1].markdown(f"**{tilt_val_str}┬░**")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1260:65
     |
1258 | ÔÇª     current_specific_yields_map = current_global_constants.get('specific_yields_by_orientation_tilt', {}); default_yield_map_templÔÇª
1259 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1260 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
     |                                                               ^
1261 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1262 | ÔÇª     for ori in orientations_ordered:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1261:56
     |
1259 | ÔÇª     orientations_ordered = ["S├╝d", "S├╝dost", "S├╝dwest", "Ost", "West", "Nordost", "Nordwest", "Nord", "Flachdach", "Sonstige"]; tiÔÇª
1260 | ÔÇª     header_cols = st.columns([2] + [1] * len(tilts_ordered)); header_cols[0].markdown("**Ausrichtung**")
1261 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
     |                                                      ^
1262 | ÔÇª     for ori in orientations_ordered:
1263 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1263:66
     |
1261 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1262 | ÔÇª     for ori in orientations_ordered:
1263 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |                                                                ^
1264 | ÔÇª         for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1265 | ÔÇª             current_val_for_field = 900.0
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1263:100
     |
1261 | ÔÇª     for i, tilt_val_str in enumerate(tilts_ordered): header_cols[i+1].markdown(f"**{tilt_val_str}┬░**")
1262 | ÔÇª     for ori in orientations_ordered:
1263 | ÔÇª         row_cols = st.columns([2] + [1] * len(tilts_ordered)); row_cols[0].markdown(f"*{ori}*"); updated_specific_yields_map[ori] ÔÇª
     |                                                                                                  ^
1264 | ÔÇª         for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1265 | ÔÇª             current_val_for_field = 900.0
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1266:132
     |
1264 | ÔÇª     for i_tilt, tilt_val_str_loop in enumerate(tilts_ordered):
1265 | ÔÇª         current_val_for_field = 900.0
1266 | ÔÇª         if isinstance(current_specific_yields_map.get(ori), dict) and tilt_val_str_loop in current_specific_yields_map[ori]: curreÔÇª
     |                                                                                                                              ^
1267 | ÔÇª         elif isinstance(default_yield_map_template.get(ori), dict) and tilt_val_str_loop in default_yield_map_template[ori]: curreÔÇª
1268 | ÔÇª         updated_specific_yields_map[ori][tilt_val_str_loop] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loop}", ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1267:132
     |
1265 | ÔÇª
1266 | ÔÇª, dict) and tilt_val_str_loop in current_specific_yields_map[ori]: current_val_for_field = float(current_specific_yields_map[ori][tÔÇª
1267 | ÔÇª), dict) and tilt_val_str_loop in default_yield_map_template[ori]: current_val_for_field = float(default_yield_map_template[ori][tiÔÇª
     |                                                                   ^
1268 | ÔÇª] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loop}", value=current_val_for_field, min_value=0.0, max_value=2000.ÔÇª
1269 | ÔÇªilt'] = updated_specific_yields_map
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1270:27
     |
1268 | ÔÇª             updated_specific_yields_map[ori][tilt_val_str_loop] = row_cols[i_tilt+1].number_input(label=f"{ori}-{tilt_val_str_loopÔÇª
1269 | ÔÇª     current_global_constants['specific_yields_by_orientation_tilt'] = updated_specific_yields_map
1270 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_multiyear_settings_header", "Parameter f├╝r Mehrjahressimulation"))
     |                         ^
1271 | ÔÇª     col_my1, col_my2 = st.columns(2)
1272 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1272:21
     |
1270 | ÔÇª     st.markdown("---"); st.subheader(get_text_local("admin_multiyear_settings_header", "Parameter f├╝r Mehrjahressimulation"))
1271 | ÔÇª     col_my1, col_my2 = st.columns(2)
1272 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
     |                   ^
1273 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
1274 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1273:21
     |
1271 | ÔÇª     col_my1, col_my2 = st.columns(2)
1272 | ÔÇª     with col_my1: new_sim_period = col_my1.number_input(label=get_text_local("simulation_period_years", "Simulationsdauer (Jahre)"ÔÇª
1273 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
     |                   ^
1274 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
1275 | ÔÇª         current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent']ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:72
     |
1273 | ÔÇª     with col_my2: new_elec_price_increase = col_my2.number_input(label=get_text_local("electricity_price_increase_annual_percent",ÔÇª
1274 | ÔÇª     if st.form_submit_button(get_text_local("admin_save_economic_yield_settings_button", "Alle Wirtschafts- und Ertragsparameter sÔÇª
1275 | ÔÇª         current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent']ÔÇª
     |                                                                      ^
1276 | ÔÇª         for key_gc, default_val_gc in _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.items():
1277 | ÔÇª             if key_gc not in current_global_constants: current_global_constants[key_gc] = default_val_gc
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:153
     |
1273 | ÔÇªal("electricity_price_increase_annual_percent", "Strompreissteigerung (% p.a.)"), value=float(current_global_constants.get('electriÔÇª
1274 | ÔÇªton", "Alle Wirtschafts- und Ertragsparameter speichern")):
1275 | ÔÇª_constants['annual_module_degradation_percent'] = new_degradation; current_global_constants['maintenance_fixed_eur_pa'] = new_maintÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª_gc] = default_val_gc
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:231
     |
1273 | ÔÇª"), value=float(current_global_constants.get('electricity_price_increase_annual_percent', 3.0)), min_value=0.0, max_value=20.0, steÔÇª
1274 | ÔÇª
1275 | ÔÇªbal_constants['maintenance_fixed_eur_pa'] = new_maintenance_fixed; current_global_constants['inflation_rate_percent'] = new_inflatiÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:299
     |
1273 | ÔÇªease_annual_percent', 3.0)), min_value=0.0, max_value=20.0, step=0.1, format="%.2f", key=f"gc_elec_increase{WIDGET_KEY_SUFFIX}")
1274 | ÔÇª
1275 | ÔÇªurrent_global_constants['inflation_rate_percent'] = new_inflation; current_global_constants['maintenance_increase_percent_pa'] = neÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:387
     |
1273 | ÔÇª=f"gc_elec_increase{WIDGET_KEY_SUFFIX}")
1274 | ÔÇª
1275 | ÔÇªnts['maintenance_increase_percent_pa'] = new_maintenance_increase; current_global_constants['maintenance_variable_eur_per_kwp_pa'] ÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:468
     |
1273 | ÔÇª
1274 | ÔÇª
1275 | ÔÇª_constants['maintenance_variable_eur_per_kwp_pa'] = new_maint_var; current_global_constants['alternative_investment_interest_rate_pÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:568
     |
1273 | ÔÇª
1274 | ÔÇª
1275 | ÔÇªtive_investment_interest_rate_percent'] = new_alt_invest_interest; current_global_constants['global_yield_adjustment_percent'] = neÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:652
     |
1273 | ÔÇª
1274 | ÔÇª
1275 | ÔÇªnstants['global_yield_adjustment_percent'] = new_global_yield_adj; current_global_constants['reference_specific_yield_pr'] = new_reÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:728
     |
1273 | ÔÇª
1274 | ÔÇª
1275 | ÔÇªlobal_constants['reference_specific_yield_pr'] = new_ref_yield_pr; current_global_constants['simulation_period_years'] = new_sim_peÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1275:798
     |
1273 | ÔÇª
1274 | ÔÇª
1275 | ÔÇªrent_global_constants['simulation_period_years'] = new_sim_period; current_global_constants['electricity_price_increase_annual_percÔÇª
     |                                                                   ^
1276 | ÔÇª
1277 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1277:58
     |
1275 | ÔÇª     current_global_constants['vat_rate_percent'] = new_vat_rate; current_global_constants['annual_module_degradation_percent'] = nÔÇª
1276 | ÔÇª     for key_gc, default_val_gc in _DEFAULT_GLOBAL_CONSTANTS_FALLBACK.items():
1277 | ÔÇª         if key_gc not in current_global_constants: current_global_constants[key_gc] = default_val_gc
     |                                                    ^
1278 | ÔÇª         elif isinstance(default_val_gc, dict) and isinstance(current_global_constants.get(key_gc), dict):
1279 | ÔÇª             for sub_key_gc, sub_default_val_gc in default_val_gc.items():
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1280:78
     |
1278 | ÔÇª         elif isinstance(default_val_gc, dict) and isinstance(current_global_constants.get(key_gc), dict):
1279 | ÔÇª             for sub_key_gc, sub_default_val_gc in default_val_gc.items():
1280 | ÔÇª                 if sub_key_gc not in current_global_constants[key_gc]: current_global_constants[key_gc][sub_key_gc] = sub_default_ÔÇª
     |                                                                        ^
1281 | ÔÇª     if save_admin_setting_func('global_constants', current_global_constants):
1282 | ÔÇª         st.success(get_text_local("admin_economic_yield_settings_save_success", "Einstellungen erfolgreich gespeichert."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1283:65
     |
1281 |             if save_admin_setting_func('global_constants', current_global_constants):
1282 |                 st.success(get_text_local("admin_economic_yield_settings_save_success", "Einstellungen erfolgreich gespeichert."))
1283 |                 st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                 ^
1284 |             else: st.error(get_text_local("admin_economic_yield_settings_save_error", "Fehler beim Speichern der Einstellungen."))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1284:17
     |
1282 |                 st.success(get_text_local("admin_economic_yield_settings_save_success", "Einstellungen erfolgreich gespeichert."))
1283 |                 st.session_state.selected_page_key_sui = "admin"; st.rerun()
1284 |             else: st.error(get_text_local("admin_economic_yield_settings_save_error", "Fehler beim Speichern der Einstellungen."))
     |                 ^
1285 |
1286 |     # Abschnitt: Cheat-Amortisationszeit
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1305:65
     |
1303 |             if save_admin_setting_func('amortization_cheat_settings', to_save):
1304 |                 st.success("Cheat-Amortisationszeit gespeichert.")
1305 |                 st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                 ^
1306 |             else:
1307 |                 st.error("Fehler beim Speichern der Cheat-Einstellung.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1310:69
     |
1309 | def render_price_matrix(load_admin_setting_func: Callable, save_admin_setting_func: Callable, parse_csv_func_from_calculations: CallÔÇª
1310 |     if 'uploaded_excel_bytes_for_save_admin' not in st.session_state: st.session_state.uploaded_excel_bytes_for_save_admin = None
     |                                                                     ^
1311 |     if 'parsed_excel_df_for_preview_admin' not in st.session_state: st.session_state.parsed_excel_df_for_preview_admin = None
1312 |     if 'uploaded_csv_content_for_save_admin' not in st.session_state: st.session_state.uploaded_csv_content_for_save_admin = None
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1311:67
     |
1309 | def render_price_matrix(load_admin_setting_func: Callable, save_admin_setting_func: Callable, parse_csv_func_from_calculations: CallÔÇª
1310 |     if 'uploaded_excel_bytes_for_save_admin' not in st.session_state: st.session_state.uploaded_excel_bytes_for_save_admin = None
1311 |     if 'parsed_excel_df_for_preview_admin' not in st.session_state: st.session_state.parsed_excel_df_for_preview_admin = None
     |                                                                   ^
1312 |     if 'uploaded_csv_content_for_save_admin' not in st.session_state: st.session_state.uploaded_csv_content_for_save_admin = None
1313 |     if 'parsed_csv_df_for_preview_admin' not in st.session_state: st.session_state.parsed_csv_df_for_preview_admin = None
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1312:69
     |
1310 |     if 'uploaded_excel_bytes_for_save_admin' not in st.session_state: st.session_state.uploaded_excel_bytes_for_save_admin = None
1311 |     if 'parsed_excel_df_for_preview_admin' not in st.session_state: st.session_state.parsed_excel_df_for_preview_admin = None
1312 |     if 'uploaded_csv_content_for_save_admin' not in st.session_state: st.session_state.uploaded_csv_content_for_save_admin = None
     |                                                                     ^
1313 |     if 'parsed_csv_df_for_preview_admin' not in st.session_state: st.session_state.parsed_csv_df_for_preview_admin = None
1314 |     st.subheader(get_text_local("admin_price_matrix_header", "Preis-Matrix Verwaltung"))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1313:65
     |
1311 |     if 'parsed_excel_df_for_preview_admin' not in st.session_state: st.session_state.parsed_excel_df_for_preview_admin = None
1312 |     if 'uploaded_csv_content_for_save_admin' not in st.session_state: st.session_state.uploaded_csv_content_for_save_admin = None
1313 |     if 'parsed_csv_df_for_preview_admin' not in st.session_state: st.session_state.parsed_csv_df_for_preview_admin = None
     |                                                                 ^
1314 |     st.subheader(get_text_local("admin_price_matrix_header", "Preis-Matrix Verwaltung"))
1315 |     st.info(get_text_local("admin_price_matrix_info_detailed_xlsx", "Laden Sie hier die Grundpreis-Matrix als Excel-Datei (.xlsx) hoÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1320:65
     |
1318 |     if uploaded_file_excel is not None:
1319 |         try:
1320 |             excel_bytes_content = uploaded_file_excel.getvalue(); parser_errors_matrix_upload_excel: list[str] = []
     |                                                                 ^
1321 |             parsed_df_temp_excel = parse_excel_func_local_admin(excel_bytes_content, parser_errors_matrix_upload_excel)
1322 |             if parser_errors_matrix_upload_excel:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1323:68
     |
1321 | ÔÇª     parsed_df_temp_excel = parse_excel_func_local_admin(excel_bytes_content, parser_errors_matrix_upload_excel)
1322 | ÔÇª     if parser_errors_matrix_upload_excel:
1323 | ÔÇª         for err_matrix in parser_errors_matrix_upload_excel: st.warning(f"Parser-Warnung (Excel): {err_matrix}")
     |                                                              ^
1324 | ÔÇª     if parsed_df_temp_excel is not None and not parsed_df_temp_excel.empty:
1325 | ÔÇª         st.session_state.uploaded_excel_bytes_for_save_admin = excel_bytes_content; st.session_state.parsed_excel_df_for_preview_aÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1325:91
     |
1323 | ÔÇª         for err_matrix in parser_errors_matrix_upload_excel: st.warning(f"Parser-Warnung (Excel): {err_matrix}")
1324 | ÔÇª     if parsed_df_temp_excel is not None and not parsed_df_temp_excel.empty:
1325 | ÔÇª         st.session_state.uploaded_excel_bytes_for_save_admin = excel_bytes_content; st.session_state.parsed_excel_df_for_preview_aÔÇª
     |                                                                                     ^
1326 | ÔÇª         st.success(get_text_local("admin_xlsx_parse_success", "Excel geparst."))
1327 | ÔÇª     else:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1328:102
     |
1326 |                 st.success(get_text_local("admin_xlsx_parse_success", "Excel geparst."))
1327 |             else:
1328 |                 st.error(get_text_local("admin_xlsx_parse_error_empty", "Excel geparst, aber leer.")); st.session_state.uploaded_excÔÇª
     |                                                                                                      ^
1329 |         except Exception as e_upload_process_excel: st.error(f"Fehler Verarbeitung Excel: {e_upload_process_excel}"); traceback.prinÔÇª
1330 |     if st.session_state.get('parsed_excel_df_for_preview_admin') is not None:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1328:163
     |
1326 | ÔÇª
1327 | ÔÇª
1328 | ÔÇª.")); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.session_state.parsed_excel_df_for_preview_admin = None
     |                                                                   ^
1329 | ÔÇªad_process_excel}"); traceback.print_exc(); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.session_state.parsed_exÔÇª
1330 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1329:51
     |
1327 |             else:
1328 |                 st.error(get_text_local("admin_xlsx_parse_error_empty", "Excel geparst, aber leer.")); st.session_state.uploaded_excÔÇª
1329 |         except Exception as e_upload_process_excel: st.error(f"Fehler Verarbeitung Excel: {e_upload_process_excel}"); traceback.prinÔÇª
     |                                                   ^
1330 |     if st.session_state.get('parsed_excel_df_for_preview_admin') is not None:
1331 |         st.markdown("---"); st.markdown("**Vorschau Excel Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parseÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1329:117
     |
1327 |             else:
1328 |                 st.error(get_text_local("admin_xlsx_parse_error_empty", "Excel geparst, aber leer.")); st.session_state.uploaded_excÔÇª
1329 |         except Exception as e_upload_process_excel: st.error(f"Fehler Verarbeitung Excel: {e_upload_process_excel}"); traceback.prinÔÇª
     |                                                                                                                     ^
1330 |     if st.session_state.get('parsed_excel_df_for_preview_admin') is not None:
1331 |         st.markdown("---"); st.markdown("**Vorschau Excel Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parseÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1329:140
     |
1327 | ÔÇª
1328 | ÔÇªxcel geparst, aber leer.")); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.session_state.parsed_excel_df_for_prevÔÇª
1329 | ÔÇªrbeitung Excel: {e_upload_process_excel}"); traceback.print_exc(); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.ÔÇª
     |                                                                   ^
1330 | ÔÇªne:
1331 | ÔÇªcht gespeichert):**"); st.dataframe(st.session_state.parsed_excel_df_for_preview_admin, use_container_width=True)
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1329:201
     |
1327 | ÔÇª
1328 | ÔÇªbytes_for_save_admin = None; st.session_state.parsed_excel_df_for_preview_admin = None
1329 | ÔÇªxc(); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.session_state.parsed_excel_df_for_preview_admin = None
     |                                                                   ^
1330 | ÔÇª
1331 | ÔÇªxcel_df_for_preview_admin, use_container_width=True)
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1331:27
     |
1329 |         except Exception as e_upload_process_excel: st.error(f"Fehler Verarbeitung Excel: {e_upload_process_excel}"); traceback.prinÔÇª
1330 |     if st.session_state.get('parsed_excel_df_for_preview_admin') is not None:
1331 |         st.markdown("---"); st.markdown("**Vorschau Excel Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parseÔÇª
     |                           ^
1332 |         if st.button(get_text_local("admin_save_price_matrix_button_xlsx", "...Excel...speichern"), key=f"save_uploaded_price_matrixÔÇª
1333 |             if st.session_state.uploaded_excel_bytes_for_save_admin:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1331:96
     |
1329 |         except Exception as e_upload_process_excel: st.error(f"Fehler Verarbeitung Excel: {e_upload_process_excel}"); traceback.prinÔÇª
1330 |     if st.session_state.get('parsed_excel_df_for_preview_admin') is not None:
1331 |         st.markdown("---"); st.markdown("**Vorschau Excel Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parseÔÇª
     |                                                                                                ^
1332 |         if st.button(get_text_local("admin_save_price_matrix_button_xlsx", "...Excel...speichern"), key=f"save_uploaded_price_matrixÔÇª
1333 |             if st.session_state.uploaded_excel_bytes_for_save_admin:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1335:68
     |
1333 | ÔÇª     if st.session_state.uploaded_excel_bytes_for_save_admin:
1334 | ÔÇª         if save_admin_setting_func('price_matrix_excel_bytes', st.session_state.uploaded_excel_bytes_for_save_admin):
1335 | ÔÇª             st.success("Preis-Matrix (Excel) gespeichert!"); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.sessiÔÇª
     |                                                              ^
1336 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1337 | ÔÇª         else: st.error("Fehler beim Speichern der Excel Preis-Matrix.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1335:129
     |
1333 | ÔÇª     if st.session_state.uploaded_excel_bytes_for_save_admin:
1334 | ÔÇª         if save_admin_setting_func('price_matrix_excel_bytes', st.session_state.uploaded_excel_bytes_for_save_admin):
1335 | ÔÇª             st.success("Preis-Matrix (Excel) gespeichert!"); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.sessiÔÇª
     |                                                                                                                           ^
1336 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1337 | ÔÇª         else: st.error("Fehler beim Speichern der Excel Preis-Matrix.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1336:69
     |
1334 | ÔÇª         if save_admin_setting_func('price_matrix_excel_bytes', st.session_state.uploaded_excel_bytes_for_save_admin):
1335 | ÔÇª             st.success("Preis-Matrix (Excel) gespeichert!"); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.sessiÔÇª
1336 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                               ^
1337 | ÔÇª         else: st.error("Fehler beim Speichern der Excel Preis-Matrix.")
1338 | ÔÇª     else: st.warning("Kein Excel-Inhalt zum Speichern.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1337:21
     |
1335 | ÔÇª                 st.success("Preis-Matrix (Excel) gespeichert!"); st.session_state.uploaded_excel_bytes_for_save_admin = None; st.sÔÇª
1336 | ÔÇª                 st.session_state.selected_page_key_sui = "admin"; st.rerun()
1337 | ÔÇª             else: st.error("Fehler beim Speichern der Excel Preis-Matrix.")
     |                   ^
1338 | ÔÇª         else: st.warning("Kein Excel-Inhalt zum Speichern.")
1339 | ÔÇª     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1338:17
     |
1336 |                     st.session_state.selected_page_key_sui = "admin"; st.rerun()
1337 |                 else: st.error("Fehler beim Speichern der Excel Preis-Matrix.")
1338 |             else: st.warning("Kein Excel-Inhalt zum Speichern.")
     |                 ^
1339 |         st.markdown("---")
1340 |     st.subheader(get_text_local("admin_current_saved_price_matrix_header_xlsx", "Gespeicherte Preis-Matrix (Excel):"))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1343:62
     |
1341 |     current_price_matrix_excel_bytes_from_db = load_admin_setting_func('price_matrix_excel_bytes', None)
1342 |     if current_price_matrix_excel_bytes_from_db and isinstance(current_price_matrix_excel_bytes_from_db, bytes):
1343 |         display_errors_stored_matrix_pm_excel: list[str] = []; parsed_stored_df_pm_excel = parse_excel_func_local_admin(current_pricÔÇª
     |                                                              ^
1344 |         if display_errors_stored_matrix_pm_excel:
1345 |             for err_pm_stored_excel in display_errors_stored_matrix_pm_excel: st.warning(f"Hinweis Laden Excel-Matrix: {err_pm_storeÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1345:77
     |
1343 | ÔÇª     display_errors_stored_matrix_pm_excel: list[str] = []; parsed_stored_df_pm_excel = parse_excel_func_local_admin(current_price_ÔÇª
1344 | ÔÇª     if display_errors_stored_matrix_pm_excel:
1345 | ÔÇª         for err_pm_stored_excel in display_errors_stored_matrix_pm_excel: st.warning(f"Hinweis Laden Excel-Matrix: {err_pm_stored_ÔÇª
     |                                                                           ^
1346 | ÔÇª     if parsed_stored_df_pm_excel is not None and not parsed_stored_df_pm_excel.empty:
1347 | ÔÇª         st.dataframe(parsed_stored_df_pm_excel, use_container_width=True)
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1349:77
     |
1347 | ÔÇª         st.dataframe(parsed_stored_df_pm_excel, use_container_width=True)
1348 | ÔÇª         if st.button(get_text_local("admin_delete_saved_price_matrix_button_xlsx", "Excel Preis-Matrix l├Âschen"), key=f"delete_priÔÇª
1349 | ÔÇª             if save_admin_setting_func('price_matrix_excel_bytes', None): st.success("Excel Preis-Matrix gel├Âscht."); st.session_sÔÇª
     |                                                                           ^
1350 | ÔÇª             else: st.error("Fehler L├Âschen Excel Preis-Matrix.")
1351 | ÔÇª     else: st.warning("Gespeicherte Excel Preis-Matrix ung├╝ltig.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1349:121
     |
1347 | ÔÇª         st.dataframe(parsed_stored_df_pm_excel, use_container_width=True)
1348 | ÔÇª         if st.button(get_text_local("admin_delete_saved_price_matrix_button_xlsx", "Excel Preis-Matrix l├Âschen"), key=f"delete_priÔÇª
1349 | ÔÇª             if save_admin_setting_func('price_matrix_excel_bytes', None): st.success("Excel Preis-Matrix gel├Âscht."); st.session_sÔÇª
     |                                                                                                                       ^
1350 | ÔÇª             else: st.error("Fehler L├Âschen Excel Preis-Matrix.")
1351 | ÔÇª     else: st.warning("Gespeicherte Excel Preis-Matrix ung├╝ltig.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1349:171
     |
1347 | ÔÇª
1348 | ÔÇªx l├Âschen"), key=f"delete_price_matrix_excel_final{WIDGET_KEY_SUFFIX}"):
1349 | ÔÇªrix gel├Âscht."); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1350 | ÔÇª
1351 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1350:21
     |
1348 |             if st.button(get_text_local("admin_delete_saved_price_matrix_button_xlsx", "Excel Preis-Matrix l├Âschen"), key=f"delete_pÔÇª
1349 |                 if save_admin_setting_func('price_matrix_excel_bytes', None): st.success("Excel Preis-Matrix gel├Âscht."); st.sessionÔÇª
1350 |                 else: st.error("Fehler L├Âschen Excel Preis-Matrix.")
     |                     ^
1351 |         else: st.warning("Gespeicherte Excel Preis-Matrix ung├╝ltig.")
1352 |     else: st.info("Keine Excel Preis-Matrix gespeichert.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1351:13
     |
1349 |                 if save_admin_setting_func('price_matrix_excel_bytes', None): st.success("Excel Preis-Matrix gel├Âscht."); st.sessionÔÇª
1350 |                 else: st.error("Fehler L├Âschen Excel Preis-Matrix.")
1351 |         else: st.warning("Gespeicherte Excel Preis-Matrix ung├╝ltig.")
     |             ^
1352 |     else: st.info("Keine Excel Preis-Matrix gespeichert.")
1353 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1352:9
     |
1350 |                 else: st.error("Fehler L├Âschen Excel Preis-Matrix.")
1351 |         else: st.warning("Gespeicherte Excel Preis-Matrix ung├╝ltig.")
1352 |     else: st.info("Keine Excel Preis-Matrix gespeichert.")
     |         ^
1353 |     st.markdown("---")
1354 |     st.info(get_text_local("admin_price_matrix_info_detailed_csv", "Laden Sie hier die Grundpreis-Matrix als CSV-Datei hoch..."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1359:53
     |
1357 |     if uploaded_file_csv is not None:
1358 |         try:
1359 |             csv_bytes = uploaded_file_csv.getvalue(); csv_content_temp = None
     |                                                     ^
1360 |             try: csv_content_temp = csv_bytes.decode("utf-8")
1361 |             except UnicodeDecodeError:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1360:16
     |
1358 |         try:
1359 |             csv_bytes = uploaded_file_csv.getvalue(); csv_content_temp = None
1360 |             try: csv_content_temp = csv_bytes.decode("utf-8")
     |                ^
1361 |             except UnicodeDecodeError:
1362 |                 try: csv_content_temp = csv_bytes.decode("iso-8859-1"); st.info("CSV mit ISO-8859-1 gelesen.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1362:20
     |
1360 |             try: csv_content_temp = csv_bytes.decode("utf-8")
1361 |             except UnicodeDecodeError:
1362 |                 try: csv_content_temp = csv_bytes.decode("iso-8859-1"); st.info("CSV mit ISO-8859-1 gelesen.")
     |                    ^
1363 |                 except UnicodeDecodeError as e_decode: st.error(f"CSV Dekodierfehler: {e_decode}")
1364 |             if csv_content_temp is not None:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1362:71
     |
1360 |             try: csv_content_temp = csv_bytes.decode("utf-8")
1361 |             except UnicodeDecodeError:
1362 |                 try: csv_content_temp = csv_bytes.decode("iso-8859-1"); st.info("CSV mit ISO-8859-1 gelesen.")
     |                                                                       ^
1363 |                 except UnicodeDecodeError as e_decode: st.error(f"CSV Dekodierfehler: {e_decode}")
1364 |             if csv_content_temp is not None:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1363:54
     |
1361 | ÔÇª     except UnicodeDecodeError:
1362 | ÔÇª         try: csv_content_temp = csv_bytes.decode("iso-8859-1"); st.info("CSV mit ISO-8859-1 gelesen.")
1363 | ÔÇª         except UnicodeDecodeError as e_decode: st.error(f"CSV Dekodierfehler: {e_decode}")
     |                                                ^
1364 | ÔÇª     if csv_content_temp is not None:
1365 | ÔÇª         parser_errors_matrix_upload_csv: list[str] = []; parsed_df_temp_csv = parse_csv_func_from_calculations(io.StringIO(csv_conÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1365:64
     |
1363 | ÔÇª         except UnicodeDecodeError as e_decode: st.error(f"CSV Dekodierfehler: {e_decode}")
1364 | ÔÇª     if csv_content_temp is not None:
1365 | ÔÇª         parser_errors_matrix_upload_csv: list[str] = []; parsed_df_temp_csv = parse_csv_func_from_calculations(io.StringIO(csv_conÔÇª
     |                                                          ^
1366 | ÔÇª         if parser_errors_matrix_upload_csv:
1367 | ÔÇª             for err_matrix_csv in parser_errors_matrix_upload_csv: st.warning(f"Parser-Warnung (CSV): {err_matrix_csv}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1367:74
     |
1365 | ÔÇª     parser_errors_matrix_upload_csv: list[str] = []; parsed_df_temp_csv = parse_csv_func_from_calculations(io.StringIO(csv_contentÔÇª
1366 | ÔÇª     if parser_errors_matrix_upload_csv:
1367 | ÔÇª         for err_matrix_csv in parser_errors_matrix_upload_csv: st.warning(f"Parser-Warnung (CSV): {err_matrix_csv}")
     |                                                                ^
1368 | ÔÇª     if parsed_df_temp_csv is not None and not parsed_df_temp_csv.empty:
1369 | ÔÇª         st.session_state.uploaded_csv_content_for_save_admin = csv_content_temp; st.session_state.parsed_csv_df_for_preview_admin ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1369:92
     |
1367 | ÔÇª         for err_matrix_csv in parser_errors_matrix_upload_csv: st.warning(f"Parser-Warnung (CSV): {err_matrix_csv}")
1368 | ÔÇª     if parsed_df_temp_csv is not None and not parsed_df_temp_csv.empty:
1369 | ÔÇª         st.session_state.uploaded_csv_content_for_save_admin = csv_content_temp; st.session_state.parsed_csv_df_for_preview_admin ÔÇª
     |                                                                                  ^
1370 | ÔÇª         st.success(get_text_local("admin_csv_parse_success", "CSV geparst."))
1371 | ÔÇª     else: st.error(get_text_local("admin_csv_parse_error_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_csv_contenÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1371:21
     |
1369 |                     st.session_state.uploaded_csv_content_for_save_admin = csv_content_temp; st.session_state.parsed_csv_df_for_prevÔÇª
1370 |                     st.success(get_text_local("admin_csv_parse_success", "CSV geparst."))
1371 |                 else: st.error(get_text_local("admin_csv_parse_error_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_ÔÇª
     |                     ^
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1371:105
     |
1369 |                     st.session_state.uploaded_csv_content_for_save_admin = csv_content_temp; st.session_state.parsed_csv_df_for_prevÔÇª
1370 |                     st.success(get_text_local("admin_csv_parse_success", "CSV geparst."))
1371 |                 else: st.error(get_text_local("admin_csv_parse_error_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_ÔÇª
     |                                                                                                         ^
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1371:166
     |
1369 | ÔÇªion_state.parsed_csv_df_for_preview_admin = parsed_df_temp_csv
1370 | ÔÇª
1371 | ÔÇª.")); st.session_state.uploaded_csv_content_for_save_admin = None; st.session_state.parsed_csv_df_for_preview_admin = None
     |                                                                   ^
1372 | ÔÇªess_csv}"); traceback.print_exc(); st.session_state.uploaded_csv_content_for_save_admin = None; st.session_state.parsed_csv_df_for_ÔÇª
1373 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1372:49
     |
1370 |                     st.success(get_text_local("admin_csv_parse_success", "CSV geparst."))
1371 |                 else: st.error(get_text_local("admin_csv_parse_error_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_ÔÇª
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
     |                                                 ^
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
1374 |         st.markdown("---"); st.markdown("**Vorschau CSV Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parsed_ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1372:111
     |
1370 |                     st.success(get_text_local("admin_csv_parse_success", "CSV geparst."))
1371 |                 else: st.error(get_text_local("admin_csv_parse_error_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_ÔÇª
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
     |                                                                                                               ^
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
1374 |         st.markdown("---"); st.markdown("**Vorschau CSV Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parsed_ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1372:134
     |
1370 | ÔÇªss", "CSV geparst."))
1371 | ÔÇª_empty", "CSV geparst, aber leer.")); st.session_state.uploaded_csv_content_for_save_admin = None; st.session_state.parsed_csv_df_fÔÇª
1372 | ÔÇªVerarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(); st.session_state.uploaded_csv_content_for_save_admin = None; st.ÔÇª
     |                                                                   ^
1373 | ÔÇªt None:
1374 | ÔÇª (nicht gespeichert):**"); st.dataframe(st.session_state.parsed_csv_df_for_preview_admin, use_container_width=True)
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1372:195
     |
1370 | ÔÇª
1371 | ÔÇªed_csv_content_for_save_admin = None; st.session_state.parsed_csv_df_for_preview_admin = None
1372 | ÔÇªxc(); st.session_state.uploaded_csv_content_for_save_admin = None; st.session_state.parsed_csv_df_for_preview_admin = None
     |                                                                   ^
1373 | ÔÇª
1374 | ÔÇªed_csv_df_for_preview_admin, use_container_width=True)
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1374:27
     |
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
1374 |         st.markdown("---"); st.markdown("**Vorschau CSV Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parsed_ÔÇª
     |                           ^
1375 |         if st.button(get_text_local("admin_save_price_matrix_button_csv", "...CSV...speichern"), key=f"save_uploaded_price_matrix_csÔÇª
1376 |             if st.session_state.uploaded_csv_content_for_save_admin:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1374:94
     |
1372 |         except Exception as e_upload_process_csv: st.error(f"Fehler Verarbeitung CSV: {e_upload_process_csv}"); traceback.print_exc(ÔÇª
1373 |     if st.session_state.get('parsed_csv_df_for_preview_admin') is not None:
1374 |         st.markdown("---"); st.markdown("**Vorschau CSV Preis-Matrix (nicht gespeichert):**"); st.dataframe(st.session_state.parsed_ÔÇª
     |                                                                                              ^
1375 |         if st.button(get_text_local("admin_save_price_matrix_button_csv", "...CSV...speichern"), key=f"save_uploaded_price_matrix_csÔÇª
1376 |             if st.session_state.uploaded_csv_content_for_save_admin:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1378:66
     |
1376 | ÔÇª     if st.session_state.uploaded_csv_content_for_save_admin:
1377 | ÔÇª         if save_admin_setting_func('price_matrix_csv_data', st.session_state.uploaded_csv_content_for_save_admin):
1378 | ÔÇª             st.success("Preis-Matrix (CSV) gespeichert!"); st.session_state.uploaded_csv_content_for_save_admin = None; st.sessionÔÇª
     |                                                            ^
1379 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1380 | ÔÇª         else: st.error("Fehler beim Speichern der CSV Preis-Matrix.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1378:127
     |
1376 | ÔÇª     if st.session_state.uploaded_csv_content_for_save_admin:
1377 | ÔÇª         if save_admin_setting_func('price_matrix_csv_data', st.session_state.uploaded_csv_content_for_save_admin):
1378 | ÔÇª             st.success("Preis-Matrix (CSV) gespeichert!"); st.session_state.uploaded_csv_content_for_save_admin = None; st.sessionÔÇª
     |                                                                                                                         ^
1379 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1380 | ÔÇª         else: st.error("Fehler beim Speichern der CSV Preis-Matrix.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1379:69
     |
1377 | ÔÇª         if save_admin_setting_func('price_matrix_csv_data', st.session_state.uploaded_csv_content_for_save_admin):
1378 | ÔÇª             st.success("Preis-Matrix (CSV) gespeichert!"); st.session_state.uploaded_csv_content_for_save_admin = None; st.sessionÔÇª
1379 | ÔÇª             st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                               ^
1380 | ÔÇª         else: st.error("Fehler beim Speichern der CSV Preis-Matrix.")
1381 | ÔÇª     else: st.warning("Kein CSV-Inhalt zum Speichern.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1380:21
     |
1378 | ÔÇª                 st.success("Preis-Matrix (CSV) gespeichert!"); st.session_state.uploaded_csv_content_for_save_admin = None; st.sesÔÇª
1379 | ÔÇª                 st.session_state.selected_page_key_sui = "admin"; st.rerun()
1380 | ÔÇª             else: st.error("Fehler beim Speichern der CSV Preis-Matrix.")
     |                   ^
1381 | ÔÇª         else: st.warning("Kein CSV-Inhalt zum Speichern.")
1382 | ÔÇª     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1381:17
     |
1379 |                     st.session_state.selected_page_key_sui = "admin"; st.rerun()
1380 |                 else: st.error("Fehler beim Speichern der CSV Preis-Matrix.")
1381 |             else: st.warning("Kein CSV-Inhalt zum Speichern.")
     |                 ^
1382 |         st.markdown("---")
1383 |     st.subheader(get_text_local("admin_current_saved_price_matrix_header_csv", "Gespeicherte Preis-Matrix (CSV):"))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1386:60
     |
1384 |     current_price_matrix_csv_from_db = load_admin_setting_func('price_matrix_csv_data', "")
1385 |     if current_price_matrix_csv_from_db and isinstance(current_price_matrix_csv_from_db, str) and current_price_matrix_csv_from_db.sÔÇª
1386 |         display_errors_stored_matrix_pm_csv: list[str] = []; parsed_stored_df_pm_csv = parse_csv_func_from_calculations(io.StringIO(ÔÇª
     |                                                            ^
1387 |         if display_errors_stored_matrix_pm_csv:
1388 |             for err_pm_stored_csv in display_errors_stored_matrix_pm_csv: st.warning(f"Hinweis Laden CSV-Matrix: {err_pm_stored_csv}ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1388:73
     |
1386 | ÔÇª     display_errors_stored_matrix_pm_csv: list[str] = []; parsed_stored_df_pm_csv = parse_csv_func_from_calculations(io.StringIO(cuÔÇª
1387 | ÔÇª     if display_errors_stored_matrix_pm_csv:
1388 | ÔÇª         for err_pm_stored_csv in display_errors_stored_matrix_pm_csv: st.warning(f"Hinweis Laden CSV-Matrix: {err_pm_stored_csv}")
     |                                                                       ^
1389 | ÔÇª     if parsed_stored_df_pm_csv is not None and not parsed_stored_df_pm_csv.empty:
1390 | ÔÇª         st.dataframe(parsed_stored_df_pm_csv, use_container_width=True)
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1392:74
     |
1390 | ÔÇª         st.dataframe(parsed_stored_df_pm_csv, use_container_width=True)
1391 | ÔÇª         if st.button(get_text_local("admin_delete_saved_price_matrix_button_csv", "...CSV...l├Âschen"), key=f"delete_price_matrix_cÔÇª
1392 | ÔÇª             if save_admin_setting_func('price_matrix_csv_data', None): st.success("CSV Preis-Matrix gel├Âscht."); st.session_state.ÔÇª
     |                                                                        ^
1393 | ÔÇª             else: st.error("Fehler L├Âschen CSV Preis-Matrix.")
1394 | ÔÇª     else:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1392:116
     |
1390 | ÔÇª         st.dataframe(parsed_stored_df_pm_csv, use_container_width=True)
1391 | ÔÇª         if st.button(get_text_local("admin_delete_saved_price_matrix_button_csv", "...CSV...l├Âschen"), key=f"delete_price_matrix_cÔÇª
1392 | ÔÇª             if save_admin_setting_func('price_matrix_csv_data', None): st.success("CSV Preis-Matrix gel├Âscht."); st.session_state.ÔÇª
     |                                                                                                                  ^
1393 | ÔÇª             else: st.error("Fehler L├Âschen CSV Preis-Matrix.")
1394 | ÔÇª     else:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1392:166
     |
1390 | ÔÇª
1391 | ÔÇªhen"), key=f"delete_price_matrix_csv_final{WIDGET_KEY_SUFFIX}"):
1392 | ÔÇªrix gel├Âscht."); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1393 | ÔÇª
1394 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1393:21
     |
1391 | ÔÇª         if st.button(get_text_local("admin_delete_saved_price_matrix_button_csv", "...CSV...l├Âschen"), key=f"delete_price_matrix_cÔÇª
1392 | ÔÇª             if save_admin_setting_func('price_matrix_csv_data', None): st.success("CSV Preis-Matrix gel├Âscht."); st.session_state.ÔÇª
1393 | ÔÇª             else: st.error("Fehler L├Âschen CSV Preis-Matrix.")
     |                   ^
1394 | ÔÇª     else:
1395 | ÔÇª         st.warning("Gespeicherte CSV Preis-Matrix ung├╝ltig."); st.text_area("Rohdaten CSV (max. 500 Z.)", value=current_price_matrÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1395:66
     |
1393 |                 else: st.error("Fehler L├Âschen CSV Preis-Matrix.")
1394 |         else:
1395 |             st.warning("Gespeicherte CSV Preis-Matrix ung├╝ltig."); st.text_area("Rohdaten CSV (max. 500 Z.)", value=current_price_maÔÇª
     |                                                                  ^
1396 |     else: st.info("Keine CSV Preis-Matrix gespeichert.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1396:9
     |
1394 |         else:
1395 |             st.warning("Gespeicherte CSV Preis-Matrix ung├╝ltig."); st.text_area("Rohdaten CSV (max. 500 Z.)", value=current_price_maÔÇª
1396 |     else: st.info("Keine CSV Preis-Matrix gespeichert.")
     |         ^
1397 |
1398 | def render_tariff_management(load_admin_setting_func: Callable, save_admin_setting_func: Callable):
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1402:59
     |
1400 |     st.info(get_text_local("admin_tariff_management_info", "Verwalten Sie hier die Einspeiseverg├╝tungen..."))
1401 |     current_feed_in_tariffs_block = load_admin_setting_func('feed_in_tariffs', _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy())
1402 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
     |                                                           ^
1403 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
1404 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1403:116
     |
1401 |     current_feed_in_tariffs_block = load_admin_setting_func('feed_in_tariffs', _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy())
1402 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
1403 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
     |                                                                                                                    ^
1404 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
1405 |     form_key_parts = f"tariff_form_parts{WIDGET_KEY_SUFFIX}"
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1404:114
     |
1402 |     if not isinstance(current_feed_in_tariffs_block, dict): current_feed_in_tariffs_block = _DEFAULT_FEED_IN_TARIFFS_FALLBACK.copy()
1403 |     if 'parts' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['parts'], list): current_feed_inÔÇª
1404 |     if 'full' not in current_feed_in_tariffs_block or not isinstance(current_feed_in_tariffs_block['full'], list): current_feed_in_tÔÇª
     |                                                                                                                  ^
1405 |     form_key_parts = f"tariff_form_parts{WIDGET_KEY_SUFFIX}"
1406 |     st.markdown(f"#### {get_text_local('admin_partial_feed_in_header', 'Teileinspeisung')}")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1411:70
     |
1409 | ÔÇª     submitted_parts = st.form_submit_button(get_text_local("admin_save_tariffs_button_parts", "Tarife f├╝r Teileinspeisung speicherÔÇª
1410 | ÔÇª     if submitted_parts:
1411 | ÔÇª         final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
     |                                                                    ^
1412 | ÔÇª         for item_tariff in final_processed_tariffs_parts:
1413 | ÔÇª             if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1413:86
     |
1411 |             final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
1412 |             for item_tariff in final_processed_tariffs_parts:
1413 |                 if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |                                                                                      ^
1414 |             if final_valid_parts_form:
1415 |                 current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1413:118
     |
1411 |             final_processed_tariffs_parts = rendered_tariffs_parts_ui; final_valid_parts_form = True
1412 |             for item_tariff in final_processed_tariffs_parts:
1413 |                 if item_tariff.get("kwp_min", 0.0) >= item_tariff.get("kwp_max", 0.0): final_valid_parts_form = False; break
     |                                                                                                                      ^
1414 |             if final_valid_parts_form:
1415 |                 current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1417:123
     |
1415 | ÔÇª         current_feed_in_tariffs_block['parts'] = final_processed_tariffs_parts
1416 | ÔÇª         if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1417 | ÔÇª             st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); st.session_staÔÇª
     |                                                                                                                     ^
1418 | ÔÇª         else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1419 | ÔÇª     else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1417:173
     |
1415 | ÔÇª
1416 | ÔÇª
1417 | ÔÇªgespeichert.")); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1418 | ÔÇª."))
1419 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1418:21
     |
1416 |                 if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1417 |                     st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); st.sessiÔÇª
1418 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
     |                     ^
1419 |             else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
1420 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1419:17
     |
1417 |                     st.success(get_text_local("admin_tariffs_saved_success_parts", "Teileinspeisungstarife gespeichert.")); st.sessiÔÇª
1418 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1419 |             else: st.error("Einige Tarifstufen f├╝r Teileinspeisung sind ung├╝ltig...")
     |                 ^
1420 |     st.markdown("---")
1421 |     form_key_full = f"tariff_form_full{WIDGET_KEY_SUFFIX}"
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1427:68
     |
1425 | ÔÇª     submitted_full = st.form_submit_button(get_text_local("admin_save_tariffs_button_full", "Tarife f├╝r Volleinspeisung speichern"ÔÇª
1426 | ÔÇª     if submitted_full:
1427 | ÔÇª         final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
     |                                                                  ^
1428 | ÔÇª         for item_tariff_f in final_processed_tariffs_full:
1429 | ÔÇª             if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1429:90
     |
1427 |             final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
1428 |             for item_tariff_f in final_processed_tariffs_full:
1429 |                 if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |                                                                                          ^
1430 |             if final_valid_full_form:
1431 |                 current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1429:121
     |
1427 |             final_processed_tariffs_full = rendered_tariffs_full_ui; final_valid_full_form = True
1428 |             for item_tariff_f in final_processed_tariffs_full:
1429 |                 if item_tariff_f.get("kwp_min", 0.0) >= item_tariff_f.get("kwp_max", 0.0): final_valid_full_form = False; break
     |                                                                                                                         ^
1430 |             if final_valid_full_form:
1431 |                 current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1433:122
     |
1431 | ÔÇª         current_feed_in_tariffs_block['full'] = final_processed_tariffs_full
1432 | ÔÇª         if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1433 | ÔÇª             st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); st.session_statÔÇª
     |                                                                                                                    ^
1434 | ÔÇª         else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1435 | ÔÇª     else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1433:172
     |
1431 | ÔÇª
1432 | ÔÇª
1433 | ÔÇªgespeichert.")); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1434 | ÔÇªe."))
1435 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1434:21
     |
1432 |                 if save_admin_setting_func('feed_in_tariffs', current_feed_in_tariffs_block):
1433 |                     st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); st.sessioÔÇª
1434 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
     |                     ^
1435 |             else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
1436 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1435:17
     |
1433 |                     st.success(get_text_local("admin_tariffs_saved_success_full", "Volleinspeisungstarife gespeichert.")); st.sessioÔÇª
1434 |                 else: st.error(get_text_local("admin_tariffs_save_error", "Fehler beim Speichern der Tarife."))
1435 |             else: st.error("Einige Tarifstufen f├╝r Volleinspeisung sind ung├╝ltig...")
     |                 ^
1436 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1442:84
     |
1440 |     st.info(get_text_local("admin_visualization_settings_info", "Passen Sie hier die Standardfarben... an."))
1441 |     current_global_constants = load_admin_setting_func('global_constants', _DEFAULT_GLOBAL_CONSTANTS_FALLBACK)
1442 |     if not isinstance(current_global_constants.get('visualization_settings'), dict): current_global_constants['visualization_settingÔÇª
     |                                                                                    ^
1443 |     viz_settings = current_global_constants['visualization_settings']; default_viz_settings_fallback = _DEFAULT_GLOBAL_CONSTANTS_FALÔÇª
1444 |     plotly_palettes = ["Plotly", "D3", "G10", "T10", "Alphabet", "Dark24", "Light24", "Set1", "Set2", "Set3", "Pastel", "Pastel1", "ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1443:70
     |
1441 |     current_global_constants = load_admin_setting_func('global_constants', _DEFAULT_GLOBAL_CONSTANTS_FALLBACK)
1442 |     if not isinstance(current_global_constants.get('visualization_settings'), dict): current_global_constants['visualization_settingÔÇª
1443 |     viz_settings = current_global_constants['visualization_settings']; default_viz_settings_fallback = _DEFAULT_GLOBAL_CONSTANTS_FALÔÇª
     |                                                                      ^
1444 |     plotly_palettes = ["Plotly", "D3", "G10", "T10", "Alphabet", "Dark24", "Light24", "Set1", "Set2", "Set3", "Pastel", "Pastel1", "ÔÇª
1445 |     with st.form(f"visualization_settings_form{WIDGET_KEY_SUFFIX}"):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1463:61
     |
1461 | ÔÇª     if save_admin_setting_func('global_constants', current_global_constants):
1462 | ÔÇª         st.success(get_text_local("admin_visualization_settings_saved_success", "Visualisierungs-Einstellungen gespeichert."))
1463 | ÔÇª         st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                           ^
1464 | ÔÇª     else: st.error(get_text_local("admin_visualization_settings_save_error", "Fehler beim Speichern der Visualisierungs-EinstellunÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1464:13
     |
1462 |             st.success(get_text_local("admin_visualization_settings_saved_success", "Visualisierungs-Einstellungen gespeichert."))
1463 |             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1464 |         else: st.error(get_text_local("admin_visualization_settings_save_error", "Fehler beim Speichern der Visualisierungs-EinstellÔÇª
     |             ^
1465 |
1466 | def render_advanced_settings(load_admin_setting_func: Callable, save_admin_setting_func: Callable ):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1469:23
     |
1467 |     st.subheader(get_text_local("admin_advanced_header", "Erweiterte Einstellungen"))
1468 |     render_api_key_settings(load_admin_setting_func, save_admin_setting_func)
1469 |     st.markdown("---"); st.subheader(get_text_local("admin_localization_settings_header", "Lokalisierung"))
     |                       ^
1470 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1471 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1471:72
     |
1469 |     st.markdown("---"); st.subheader(get_text_local("admin_localization_settings_header", "Lokalisierung"))
1470 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1471 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
     |                                                                        ^
1472 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1473 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1472:49
     |
1470 |     st.info(get_text_local("admin_localization_info", "Bearbeiten Sie hier die Texte der Anwendung (JSON-Format)..."))
1471 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
1472 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
     |                                                 ^
1473 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
1474 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1473:8
     |
1471 |     current_locale_data = load_admin_setting_func('de_locale_data', {}); locale_json_string = "{}"
1472 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1473 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
     |        ^
1474 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
1475 |     edited_locale_json_string = st.text_area(get_text_local("admin_locale_json_editor_label", "Texte (JSON-Editor)"), value=locale_jÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1474:36
     |
1472 |     if not isinstance(current_locale_data, dict): current_locale_data = {}
1473 |     try: locale_json_string = json.dumps(current_locale_data, indent=2, ensure_ascii=False)
1474 |     except Exception as e_json_dump: st.error(f"Fehler Konvertierung JSON: {e_json_dump}")
     |                                    ^
1475 |     edited_locale_json_string = st.text_area(get_text_local("admin_locale_json_editor_label", "Texte (JSON-Editor)"), value=locale_jÔÇª
1476 |     if st.button(get_text_local("admin_save_locale_button", "Lokalisierungstexte speichern"), key=f"save_locale_btn_final{WIDGET_KEYÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1479:52
     |
1477 |       try:
1478 |         parsed_locale_data = json.loads(edited_locale_json_string)
1479 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
     |                                                    ^
1480 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1481 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1480:75
     |
1478 |         parsed_locale_data = json.loads(edited_locale_json_string)
1479 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
1480 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
     |                                                                           ^
1481 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1482 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1481:13
     |
1479 |         if not isinstance(parsed_locale_data, dict): st.error("Eingegebene Lokalisierungsdaten kein g├╝ltiges JSON-Objekt.")
1480 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1481 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
     |             ^
1482 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1483 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1482:51
     |
1480 |         elif save_admin_setting_func('de_locale_data', parsed_locale_data): st.success("Lokalisierungstexte gespeichert. Bitte App nÔÇª
1481 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1482 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
     |                                                   ^
1483 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
1484 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1483:43
     |
1481 |         else: st.error("Fehler beim Speichern der Lokalisierungstexte.")
1482 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1483 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
     |                                           ^
1484 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
1485 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1484:23
     |
1482 |       except json.JSONDecodeError as e_json_decode: st.error(f"Ung├╝ltiges JSON: {e_json_decode}")
1483 |       except Exception as e_locale_general: st.error(f"Fehler Speichern Locale: {e_locale_general}")
1484 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
     |                       ^
1485 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
1486 |     if not isinstance(current_debug_mode_for_display, bool): current_debug_mode_for_display = False
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1486:60
     |
1484 |     st.markdown("---"); st.subheader(get_text_local("admin_debugging_settings_header", "Debugging-Einstellungen"))
1485 |     current_debug_mode_for_display = load_admin_setting_func('app_debug_mode_enabled', False)
1486 |     if not isinstance(current_debug_mode_for_display, bool): current_debug_mode_for_display = False
     |                                                            ^
1487 |     with st.form(f"debug_settings_form_final{WIDGET_KEY_SUFFIX}"):
1488 |         app_debug_mode_new_val = st.checkbox(get_text_local("admin_enable_debug_mode_label", "App-weiten Debug-Modus aktivieren...")ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1493:61
     |
1491 |         if save_admin_setting_func('app_debug_mode_enabled', app_debug_mode_new_val):
1492 |             st.success(get_text_local("admin_debug_settings_saved_success", "Debugging-Einstellungen gespeichert."))
1493 |             st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                             ^
1494 |         else: st.error(get_text_local("admin_debug_settings_save_error", "Fehler beim Speichern der Debugging-Einstellungen."))
1495 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1494:13
     |
1492 |             st.success(get_text_local("admin_debug_settings_saved_success", "Debugging-Einstellungen gespeichert."))
1493 |             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1494 |         else: st.error(get_text_local("admin_debug_settings_save_error", "Fehler beim Speichern der Debugging-Einstellungen."))
     |             ^
1495 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
1496 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1495:23
     |
1493 |             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1494 |         else: st.error(get_text_local("admin_debug_settings_save_error", "Fehler beim Speichern der Debugging-Einstellungen."))
1495 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
     |                       ^
1496 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
1497 |         st.warning(get_text_local("admin_reset_warning_text", "ACHTUNG: Das Zur├╝cksetzen...nicht r├╝ckg├ñngig...")); confirm_text_reseÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1497:114
     |
1495 |     st.markdown("---"); st.subheader(get_text_local("admin_reset_data_header", "Daten zur├╝cksetzen"))
1496 |     if st.checkbox(get_text_local("admin_show_reset_options_label", "Optionen zum Zur├╝cksetzen anzeigen..."), key=f"show_reset_optioÔÇª
1497 |         st.warning(get_text_local("admin_reset_warning_text", "ACHTUNG: Das Zur├╝cksetzen...nicht r├╝ckg├ñngig...")); confirm_text_reseÔÇª
     |                                                                                                                  ^
1498 |         user_confirm_text = st.text_input(f"Geben Sie exakt '{confirm_text_reset}' ein...", key=f"confirm_delete_text_input_final{WIÔÇª
1499 |         if st.button(get_text_local("admin_reset_app_data_button", " App-Daten jetzt endg├╝ltig zur├╝cksetzen"), key=f"reset_all_app_dÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1502:85
     |
1500 | ÔÇª     if user_confirm_text == confirm_text_reset:
1501 | ÔÇª         try:
1502 | ÔÇª             _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_resÔÇª
     |                                                                               ^
1503 | ÔÇª             if os.path.exists(_db_path_for_reset):
1504 | ÔÇª                 os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1502:150
     |
1500 | ÔÇª
1501 | ÔÇª
1502 | ÔÇª; _data_dir_for_reset = os.path.join(_base_dir_for_reset, 'data'); _db_path_for_reset = os.path.join(_data_dir_for_reset, 'app_dataÔÇª
     |                                                                   ^
1503 | ÔÇª
1504 | ÔÇªaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1504:54
     |
1502 | ÔÇª     _base_dir_for_reset = os.path.dirname(os.path.abspath(__file__)); _data_dir_for_reset = os.path.join(_base_dir_for_reset, 'datÔÇª
1503 | ÔÇª     if os.path.exists(_db_path_for_reset):
1504 | ÔÇª         os.remove(_db_path_for_reset); st.success(f"Alle Anwendungsdaten ({_db_path_for_reset}) wurden gel├Âscht.")
     |                                        ^
1505 | ÔÇª         st.info("Bitte starten Sie die Streamlit-Anwendung vollst├ñndig neu...")
1506 | ÔÇª         for k_to_del in list(st.session_state.keys()):
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1507:95
     |
1505 |                         st.info("Bitte starten Sie die Streamlit-Anwendung vollst├ñndig neu...")
1506 |                         for k_to_del in list(st.session_state.keys()):
1507 |                             if k_to_del not in ['_admin_panel_texts', 'selected_page_key_sui']: del st.session_state[k_to_del]
     |                                                                                               ^
1508 |                         st.session_state.selected_page_key_sui = "admin"
1509 |                         st.experimental_rerun()
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1510:25
     |
1508 |                         st.session_state.selected_page_key_sui = "admin"
1509 |                         st.experimental_rerun()
1510 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
     |                         ^
1511 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
1512 |             else: st.error("Falscher Best├ñtigungstext...")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1511:54
     |
1509 |                         st.experimental_rerun()
1510 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
1511 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
     |                                                      ^
1512 |             else: st.error("Falscher Best├ñtigungstext...")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1512:17
     |
1510 |                     else: st.warning(f"Keine Datenbankdatei unter '{_db_path_for_reset}' zum L├Âschen gefunden.")
1511 |                 except Exception as e_reset_final_exc: st.error(f"Fehler beim Zur├╝cksetzen der Daten: {e_reset_final_exc}")
1512 |             else: st.error("Falscher Best├ñtigungstext...")
     |                 ^
1513 |
1514 | def render_pdf_design_settings(load_admin_setting_func: Callable, save_admin_setting_func: Callable):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1517:72
     |
1515 |     st.subheader(get_text_local("admin_pdf_company_branding_expander", "Firmen-Branding f├╝r PDF-Dokumente"))
1516 |     active_company_id = load_admin_setting_func('active_company_id', None)
1517 |     company_info_for_pdf = {"name": "Ihre Firma (Platzhalter)", "id":0}; company_logo_b64_for_pdf = None
     |                                                                        ^
1518 |     if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1519 |         active_company_data = _get_company_by_id_safe(int(active_company_id))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1520:31
     |
1518 |     if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1519 |         active_company_data = _get_company_by_id_safe(int(active_company_id))
1520 |         if active_company_data: company_info_for_pdf = active_company_data; company_logo_b64_for_pdf = active_company_data.get('logoÔÇª
     |                               ^
1521 |     col_pdf_logo, col_pdf_info = st.columns([1,2])
1522 |     with col_pdf_logo:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1520:75
     |
1518 |     if _get_company_by_id_safe and callable(_get_company_by_id_safe) and active_company_id:
1519 |         active_company_data = _get_company_by_id_safe(int(active_company_id))
1520 |         if active_company_data: company_info_for_pdf = active_company_data; company_logo_b64_for_pdf = active_company_data.get('logoÔÇª
     |                                                                           ^
1521 |     col_pdf_logo, col_pdf_info = st.columns([1,2])
1522 |     with col_pdf_logo:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1525:16
     |
1523 | ÔÇª     st.markdown("<h6>" + get_text_local("admin_pdf_logo_header_short", "Logo f├╝r PDF") + "</h6>", unsafe_allow_html=True)
1524 | ÔÇª     if company_logo_b64_for_pdf:
1525 | ÔÇª         try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_captioÔÇª
     |              ^
1526 | ÔÇª         except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
1527 | ÔÇª     else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1526:29
     |
1524 | ÔÇª     if company_logo_b64_for_pdf:
1525 | ÔÇª         try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_captioÔÇª
1526 | ÔÇª         except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
     |                           ^
1527 | ÔÇª     else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
1528 | ÔÇª     st.caption(get_text_local("admin_pdf_logo_manage_in_companies", "Logo wird in der 'Firmenverwaltung'... verwendet."))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1527:13
     |
1525 |             try: st.image(base64.b64decode(company_logo_b64_for_pdf), width=150, caption=get_text_local("admin_pdf_current_logo_captÔÇª
1526 |             except Exception: st.warning(get_text_local("admin_pdf_logo_display_error", "Fehler Anzeige Logo"))
1527 |         else: st.caption(get_text_local("admin_pdf_no_active_logo", "Kein Logo f├╝r aktive Firma gesetzt."))
     |             ^
1528 |         st.caption(get_text_local("admin_pdf_logo_manage_in_companies", "Logo wird in der 'Firmenverwaltung'... verwendet."))
1529 |     with col_pdf_info:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1533:39
     |
1531 | ÔÇª     for field_key, label_key_suffix in [("name","name"), ("street","address1"), ("zip_code","address2_zip"), ("city","address2_citÔÇª
1532 | ÔÇª         val_disp = company_info_for_pdf.get(field_key, '')
1533 | ÔÇª         if field_key == "zip_code": val_disp = f"{company_info_for_pdf.get('zip_code', '')} {company_info_for_pdf.get('city', '')}ÔÇª
     |                                     ^
1534 | ÔÇª         if field_key == "city" and "zip_code" in [f[0] for f in [("name","name"), ("street","address1"), ("zip_code","address2_zipÔÇª
1535 | ÔÇª         st.text_input(get_text_local(f"admin_pdf_company_{label_key_suffix}", field_key.replace("_"," ").title()), value=val_disp,ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1534:294
     |
1532 | ÔÇª
1533 | ÔÇª
1534 | ÔÇªax_id","tax_id"), ("commercial_register","commercial_register")]]: continue
     |                                                                   ^
1535 | ÔÇª
1536 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1537:23
     |
1535 |             st.text_input(get_text_local(f"admin_pdf_company_{label_key_suffix}", field_key.replace("_"," ").title()), value=val_disÔÇª
1536 |         st.caption(get_text_local("admin_pdf_company_info_manage_in_companies", "Firmeninformationen werden in 'Firmenverwaltung' geÔÇª
1537 |     st.markdown("---"); st.subheader(get_text_local("admin_pdf_design_colors_header", "PDF Design Farben"))
     |                       ^
1538 |     PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
1539 |     current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
     |

N806 Variable `PDF_DESIGN_SETTINGS_DEFAULT` in function should be lowercase
    --> repair_pdf\admin_panel.py:1538:5
     |
1536 |         st.caption(get_text_local("admin_pdf_company_info_manage_in_companies", "Firmeninformationen werden in 'Firmenverwaltung' geÔÇª
1537 |     st.markdown("---"); st.subheader(get_text_local("admin_pdf_design_colors_header", "PDF Design Farben"))
1538 |     PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
1539 |     current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
1540 |     if not isinstance(current_design_settings, dict): current_design_settings = PDF_DESIGN_SETTINGS_DEFAULT.copy()
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1540:53
     |
1538 |     PDF_DESIGN_SETTINGS_DEFAULT = {'primary_color': '#4F81BD', 'secondary_color': '#C0C0C0'}
1539 |     current_design_settings = load_admin_setting_func('pdf_design_settings', PDF_DESIGN_SETTINGS_DEFAULT.copy())
1540 |     if not isinstance(current_design_settings, dict): current_design_settings = PDF_DESIGN_SETTINGS_DEFAULT.copy()
     |                                                     ^
1541 |     with st.form(f"pdf_design_form{WIDGET_KEY_SUFFIX}"):
1542 |       primary_color = st.color_picker(get_text_local("admin_pdf_primary_color_label", "PDF Haupt-/Akzentfarbe"), value=current_desigÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1549:59
     |
1547 |         if save_admin_setting_func('pdf_design_settings', updated_design_settings):
1548 |           st.success(get_text_local("admin_pdf_design_settings_saved_success", "PDF Design gespeichert."))
1549 |           st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                           ^
1550 |         else: st.error(get_text_local("admin_pdf_design_settings_save_error", "Fehler Speichern PDF Design."))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1550:13
     |
1548 |           st.success(get_text_local("admin_pdf_design_settings_saved_success", "PDF Design gespeichert."))
1549 |           st.session_state.selected_page_key_sui = "admin"; st.rerun()
1550 |         else: st.error(get_text_local("admin_pdf_design_settings_save_error", "Fehler Speichern PDF Design."))
     |             ^
1551 |
1552 | def manage_templates_local(template_type_key: str, template_list_setting_key: str, item_name_label_key: str, item_content_label_key:ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1555:39
     |
1553 |     st.subheader(get_text_local(f"admin_{template_type_key}_header", f"{template_type_key.replace('_', ' ').title()} Vorlagen"))
1554 |     templates: list[dict[str, Any]] = _load_admin_setting_safe(template_list_setting_key, [])
1555 |     if not isinstance(templates, list): st.error(f"Fehler: Vorlagendaten f├╝r '{template_list_setting_key}' nicht im Listenformat.");ÔÇª
     |                                       ^
1556 |     form_key_mt = f"{template_type_key}_form_mt_local_tpl{WIDGET_KEY_SUFFIX}"
1557 |     edit_mode_session_key = f"edit_mode_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1555:132
     |
1553 | ÔÇª", f"{template_type_key.replace('_', ' ').title()} Vorlagen"))
1554 | ÔÇªplate_list_setting_key, [])
1555 | ÔÇªndaten f├╝r '{template_list_setting_key}' nicht im Listenformat."); templates = []
     |                                                                   ^
1556 | ÔÇªEY_SUFFIX}"
1557 | ÔÇªy}{WIDGET_KEY_SUFFIX}"
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1559:53
     |
1557 |     edit_mode_session_key = f"edit_mode_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1558 |     edit_index_session_key = f"edit_index_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1559 |     if edit_mode_session_key not in st.session_state: st.session_state[edit_mode_session_key] = False
     |                                                     ^
1560 |     if edit_index_session_key not in st.session_state: st.session_state[edit_index_session_key] = -1
1561 |     options_for_select = [get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---")] + [f"{t.get('name', f'VÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1560:54
     |
1558 |     edit_index_session_key = f"edit_index_template_{template_type_key}{WIDGET_KEY_SUFFIX}"
1559 |     if edit_mode_session_key not in st.session_state: st.session_state[edit_mode_session_key] = False
1560 |     if edit_index_session_key not in st.session_state: st.session_state[edit_index_session_key] = -1
     |                                                      ^
1561 |     options_for_select = [get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---")] + [f"{t.get('name', f'VÔÇª
1562 |     current_selection_index = 0
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1564:74
     |
1562 |     current_selection_index = 0
1563 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1564 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
     |                                                                          ^
1565 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1566 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1565:13
     |
1563 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1564 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
1565 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |             ^
1566 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
1567 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1565:62
     |
1563 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1564 |         if 0 <= st.session_state[edit_index_session_key] < len(templates): current_selection_index = st.session_state[edit_index_sesÔÇª
1565 |         else: st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |                                                              ^
1566 |     selected_template_display_name = st.selectbox(get_text_local("admin_select_template_to_edit_or_add_new", "Vorlage bearbeiten..."ÔÇª
1567 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1569:60
     |
1567 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
1568 |         if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1569 |             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selecteÔÇª
     |                                                            ^
1570 |     else:
1571 |         try:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1569:107
     |
1567 |     if selected_template_display_name == get_text_local("admin_template_add_new_option", "--- Neue Vorlage erstellen ---"):
1568 |         if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1569 |             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selecteÔÇª
     |                                                                                                           ^
1570 |     else:
1571 |         try:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1569:157
     |
1567 | ÔÇª-- Neue Vorlage erstellen ---"):
1568 | ÔÇªey] != -1:
1569 | ÔÇªssion_key] = -1; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1570 | ÔÇª
1571 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1574:63
     |
1572 | ÔÇª         selected_idx = int(selected_template_display_name.split("(ID: ")[1].replace(")", ""))
1573 | ÔÇª         if not st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != selected_idx:
1574 | ÔÇª             st.session_state[edit_mode_session_key] = True; st.session_state[edit_index_session_key] = selected_idx; st.session_stÔÇª
     |                                                             ^
1575 | ÔÇª     except (IndexError, ValueError):
1576 | ÔÇª         st.error(get_text_local("admin_template_selection_error", "Fehler bei der Auswahl der Vorlage..."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1574:120
     |
1572 | ÔÇª         selected_idx = int(selected_template_display_name.split("(ID: ")[1].replace(")", ""))
1573 | ÔÇª         if not st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != selected_idx:
1574 | ÔÇª             st.session_state[edit_mode_session_key] = True; st.session_state[edit_index_session_key] = selected_idx; st.session_stÔÇª
     |                                                                                                                      ^
1575 | ÔÇª     except (IndexError, ValueError):
1576 | ÔÇª         st.error(get_text_local("admin_template_selection_error", "Fehler bei der Auswahl der Vorlage..."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1574:170
     |
1572 | ÔÇª
1573 | ÔÇª= selected_idx:
1574 | ÔÇª = selected_idx; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1575 | ÔÇª
1576 | ÔÇªe..."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1578:64
     |
1576 |             st.error(get_text_local("admin_template_selection_error", "Fehler bei der Auswahl der Vorlage..."))
1577 |             if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1578 |                 st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selÔÇª
     |                                                                ^
1579 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
1580 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1578:111
     |
1576 |             st.error(get_text_local("admin_template_selection_error", "Fehler bei der Auswahl der Vorlage..."))
1577 |             if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1578 |                 st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selÔÇª
     |                                                                                                               ^
1579 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
1580 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1578:161
     |
1576 | ÔÇªer Vorlage..."))
1577 | ÔÇªey] != -1:
1578 | ÔÇªssion_key] = -1; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1579 | ÔÇª
1580 | ÔÇª-1:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1579:26
     |
1577 |             if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1578 |                 st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selÔÇª
1579 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
     |                          ^
1580 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1581 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1579:52
     |
1577 |             if st.session_state[edit_mode_session_key] or st.session_state[edit_index_session_key] != -1:
1578 |                 st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selÔÇª
1579 |     current_name_val = ""; current_content_val = ""; current_image_data_b64 = None
     |                                                    ^
1580 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1581 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1582:83
     |
1580 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1581 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
1582 |             template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', ÔÇª
     |                                                                                   ^
1583 |             if is_image_template: current_image_data_b64 = template_to_edit.get('data')
1584 |             else: current_content_val = template_to_edit.get('content', '')
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1583:33
     |
1581 | ÔÇª     if 0 <= st.session_state[edit_index_session_key] < len(templates):
1582 | ÔÇª         template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', '')
1583 | ÔÇª         if is_image_template: current_image_data_b64 = template_to_edit.get('data')
     |                               ^
1584 | ÔÇª         else: current_content_val = template_to_edit.get('content', '')
1585 | ÔÇª     else:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1584:17
     |
1582 | ÔÇª         template_to_edit = templates[st.session_state[edit_index_session_key]]; current_name_val = template_to_edit.get('name', '')
1583 | ÔÇª         if is_image_template: current_image_data_b64 = template_to_edit.get('data')
1584 | ÔÇª         else: current_content_val = template_to_edit.get('content', '')
     |               ^
1585 | ÔÇª     else:
1586 | ÔÇª         st.warning(get_text_local("admin_template_edit_invalid_index_warning", "Die ausgew├ñhlte Vorlage...existiert nicht mehr..."ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1586:137
     |
1584 | ÔÇª '')
1585 | ÔÇª
1586 | ÔÇªx_warning", "Die ausgew├ñhlte Vorlage...existiert nicht mehr...")); st.session_state[edit_mode_session_key] = False; st.session_statÔÇª
     |                                                                   ^
1587 | ÔÇª hier auf False, um Werte bei Validierungsfehlern zu behalten
1588 | ÔÇª', 'Vorlage erstellen / bearbeiten')}**")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1586:186
     |
1584 | ÔÇª
1585 | ÔÇª
1586 | ÔÇªnicht mehr...")); st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.ÔÇª
     |                                                                   ^
1587 | ÔÇª zu behalten
1588 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1586:233
     |
1584 | ÔÇª
1585 | ÔÇª
1586 | ÔÇªssion_key] = False; st.session_state[edit_index_session_key] = -1; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1587 | ÔÇª
1588 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1586:283
     |
1584 | ÔÇª
1585 | ÔÇª
1586 | ÔÇªssion_key] = -1; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1587 | ÔÇª
1588 | ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1590:46
     |
1588 | ÔÇª     st.markdown(f"**{get_text_local('admin_template_edit_add_header', 'Vorlage erstellen / bearbeiten')}**")
1589 | ÔÇª     new_template_name = st.text_input(get_text_local(item_name_label_key, "Vorlagenname"), value=current_name_val, key=f"{templateÔÇª
1590 | ÔÇª     new_template_data_b64_for_save = None; new_template_content_input = ""
     |                                            ^
1591 | ÔÇª     if is_image_template:
1592 | ÔÇª         uploaded_image_file = st.file_uploader(get_text_local("admin_upload_title_image", "Bild hochladen..."), type=["png", "jpg"ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1593:35
     |
1591 | ÔÇª     if is_image_template:
1592 | ÔÇª         uploaded_image_file = st.file_uploader(get_text_local("admin_upload_title_image", "Bild hochladen..."), type=["png", "jpg"ÔÇª
1593 | ÔÇª         if uploaded_image_file: new_template_data_b64_for_save = base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8');ÔÇª
     |                                 ^
1594 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1595 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1593:134
     |
1591 | ÔÇª
1592 | ÔÇªdmin_upload_title_image", "Bild hochladen..."), type=["png", "jpg", "jpeg"], key=f"{template_type_key}_upload_fu_mt{WIDGET_KEY_SUFFÔÇª
1593 | ÔÇª base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8'); st.image(uploaded_image_file, caption=get_text_local("admin_imagÔÇª
     |                                                                   ^
1594 | ÔÇªde_session_key]:
1595 | ÔÇª4), caption=get_text_local("admin_current_image", "Aktuelles Bild"), width=200); new_template_data_b64_for_save = current_image_datÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1595:20
     |
1593 | ÔÇª         if uploaded_image_file: new_template_data_b64_for_save = base64.b64encode(uploaded_image_file.getvalue()).decode('utf-8');ÔÇª
1594 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1595 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
     |                  ^
1596 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
1597 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1595:148
     |
1593 | ÔÇªode(uploaded_image_file.getvalue()).decode('utf-8'); st.image(uploaded_image_file, caption=get_text_local("admin_image_preview", "VÔÇª
1594 | ÔÇª]:
1595 | ÔÇªt_text_local("admin_current_image", "Aktuelles Bild"), width=200); new_template_data_b64_for_save = current_image_data_b64
     |                                                                   ^
1596 | ÔÇªcurrent_image", "Fehler beim Anzeigen..."))
1597 | ÔÇªt_label_key or "admin_template_content_label", "Inhalt..."), value=current_content_val, height=200, key=f"{template_type_key}_conteÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1596:33
     |
1594 | ÔÇª         elif current_image_data_b64 and st.session_state[edit_mode_session_key]:
1595 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
1596 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
     |                               ^
1597 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
1598 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1597:13
     |
1595 | ÔÇª             try: st.image(base64.b64decode(current_image_data_b64), caption=get_text_local("admin_current_image", "Aktuelles Bild"ÔÇª
1596 | ÔÇª             except Exception: st.error(get_text_local("admin_error_displaying_current_image", "Fehler beim Anzeigen..."))
1597 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
     |           ^
1598 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
1599 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1: submit_button_text = get_text_lÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1599:102
     |
1597 | ÔÇª     else: new_template_content_input = st.text_area(get_text_local(item_content_label_key or "admin_template_content_label", "InhaÔÇª
1598 | ÔÇª     submit_button_text = get_text_local("admin_save_template_button", "Vorlage speichern")
1599 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1: submit_button_text = get_text_lÔÇª
     |                                                                                                    ^
1600 | ÔÇª     submitted = st.form_submit_button(submit_button_text)
1601 | ÔÇª     if submitted:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1602:45
     |
1600 | ÔÇª     submitted = st.form_submit_button(submit_button_text)
1601 | ÔÇª     if submitted:
1602 | ÔÇª         if not new_template_name.strip(): st.error(get_text_local("admin_template_name_required", "Vorlagenname ist erforderlich."ÔÇª
     |                                           ^
1603 | ÔÇª         else:
1604 | ÔÇª             new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1604:73
     |
1602 | ÔÇª     if not new_template_name.strip(): st.error(get_text_local("admin_template_name_required", "Vorlagenname ist erforderlich."))
1603 | ÔÇª     else:
1604 | ÔÇª         new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
     |                                                                   ^
1605 | ÔÇª         if is_image_template:
1606 | ÔÇª             if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1606:54
     |
1604 | ÔÇª     new_template_entry = {"name": new_template_name.strip()}; valid_to_save = True
1605 | ÔÇª     if is_image_template:
1606 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
     |                                            ^
1607 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
1608 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1607:69
     |
1605 | ÔÇª     if is_image_template:
1606 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
1607 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
     |                                                           ^
1608 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
1609 | ÔÇª     if valid_to_save:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1607:168
     |
1605 | ÔÇª
1606 | ÔÇªb64_for_save
1607 | ÔÇªmage_required_for_new_template", "F├╝r eine neue Bildvorlage...")); valid_to_save = False
     |                                                                   ^
1608 | ÔÇª
1609 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1608:21
     |
1606 | ÔÇª         if new_template_data_b64_for_save: new_template_entry["data"] = new_template_data_b64_for_save
1607 | ÔÇª         elif not st.session_state[edit_mode_session_key]: st.error(get_text_local("admin_image_required_for_new_template", "F├╝r eiÔÇª
1608 | ÔÇª     else: new_template_entry["content"] = new_template_content_input
     |           ^
1609 | ÔÇª     if valid_to_save:
1610 | ÔÇª         temp_templates_list = templates[:]
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1612:100
     |
1610 | ÔÇª     temp_templates_list = templates[:]
1611 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1612 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
     |                                                                                      ^
1613 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
1614 | ÔÇª     else: temp_templates_list.append(new_template_entry)
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1613:29
     |
1611 | ÔÇª     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1612 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
1613 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
     |               ^
1614 | ÔÇª     else: temp_templates_list.append(new_template_entry)
1615 | ÔÇª     if valid_to_save:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1613:145
     |
1611 | ÔÇªtate[edit_index_session_key] != -1:
1612 | ÔÇªtemp_templates_list): temp_templates_list[st.session_state[edit_index_session_key]] = new_template_entry
1613 | ÔÇªror_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); valid_to_save = False
     |                                                                   ^
1614 | ÔÇª
1615 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1614:25
     |
1612 | ÔÇª         if 0 <= st.session_state[edit_index_session_key] < len(temp_templates_list): temp_templates_list[st.session_state[edit_indÔÇª
1613 | ÔÇª         else: st.error(get_text_local("admin_template_update_error_invalid_index", "Fehler: Die zu aktualisierende Vorlage...")); ÔÇª
1614 | ÔÇª     else: temp_templates_list.append(new_template_entry)
     |           ^
1615 | ÔÇª     if valid_to_save:
1616 | ÔÇª         if _save_admin_setting_safe(template_list_setting_key, temp_templates_list):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1617:111
     |
1615 |                     if valid_to_save:
1616 |                         if _save_admin_setting_safe(template_list_setting_key, temp_templates_list):
1617 |                             st.success(get_text_local("admin_template_saved_success", "Vorlage gespeichert.")); st.session_state.selÔÇª
     |                                                                                                               ^
1618 |                         else: st.error(get_text_local("admin_template_save_error", "Fehler beim Speichern der Vorlage."))
1619 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1617:161
     |
1615 | ÔÇª
1616 | ÔÇªist):
1617 | ÔÇªgespeichert.")); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1618 | ÔÇª Speichern der Vorlage."))
1619 | ÔÇª-1:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1618:29
     |
1616 |                         if _save_admin_setting_safe(template_list_setting_key, temp_templates_list):
1617 |                             st.success(get_text_local("admin_template_saved_success", "Vorlage gespeichert.")); st.session_state.selÔÇª
1618 |                         else: st.error(get_text_local("admin_template_save_error", "Fehler beim Speichern der Vorlage."))
     |                             ^
1619 |     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1620 |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\admin_panel.py:1619:5
     |
1617 |                               st.success(get_text_local("admin_template_saved_success", "Vorlage gespeichert.")); st.session_state.selÔÇª
1618 |                           else: st.error(get_text_local("admin_template_save_error", "Fehler beim Speichern der Vorlage."))
1619 | /     if st.session_state[edit_mode_session_key] and st.session_state[edit_index_session_key] != -1:
1620 | |         if 0 <= st.session_state[edit_index_session_key] < len(templates):
     | |__________________________________________________________________________^
1621 |               delete_button_key = f"delete_template_{template_type_key}{WIDGET_KEY_SUFFIX}_outer_btn"
1622 |               confirm_delete_session_key = f"confirm_delete_tpl_{template_type_key}_{st.session_state[edit_index_session_key]}{WIDGET_ÔÇª
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1630:78
     |
1628 |                         if _save_admin_setting_safe(template_list_setting_key, temp_templates_list_del):
1629 |                             st.success(get_text_local("admin_template_deleted_success", "Vorlage gel├Âscht."))
1630 |                             if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
     |                                                                              ^
1631 |                             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1632 |                             st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1631:76
     |
1629 |                             st.success(get_text_local("admin_template_deleted_success", "Vorlage gel├Âscht."))
1630 |                             if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1631 |                             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |                                                                            ^
1632 |                             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1633 |                         else: st.error(get_text_local("admin_template_delete_error", "Fehler beim Speichern nach dem L├Âschen..."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1632:77
     |
1630 |                             if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1631 |                             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1632 |                             st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                             ^
1633 |                         else: st.error(get_text_local("admin_template_delete_error", "Fehler beim Speichern nach dem L├Âschen..."))
1634 |                     except IndexError:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1633:29
     |
1631 |                             st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1632 |                             st.session_state.selected_page_key_sui = "admin"; st.rerun()
1633 |                         else: st.error(get_text_local("admin_template_delete_error", "Fehler beim Speichern nach dem L├Âschen..."))
     |                             ^
1634 |                     except IndexError:
1635 |                         st.error("Fehler: Vorlage zum L├Âschen nicht im Index gefunden (IndexError).")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1636:74
     |
1634 |                     except IndexError:
1635 |                         st.error("Fehler: Vorlage zum L├Âschen nicht im Index gefunden (IndexError).")
1636 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
     |                                                                          ^
1637 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1638 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1637:72
     |
1635 |                         st.error("Fehler: Vorlage zum L├Âschen nicht im Index gefunden (IndexError).")
1636 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1637 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |                                                                        ^
1638 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
1639 |                     except Exception as e:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1638:73
     |
1636 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1637 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1638 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                         ^
1639 |                     except Exception as e:
1640 |                         st.error(f"Ein unerwarteter Fehler ist beim L├Âschen aufgetreten: {e}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1641:74
     |
1639 |                     except Exception as e:
1640 |                         st.error(f"Ein unerwarteter Fehler ist beim L├Âschen aufgetreten: {e}")
1641 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
     |                                                                          ^
1642 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1643 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1642:72
     |
1640 |                         st.error(f"Ein unerwarteter Fehler ist beim L├Âschen aufgetreten: {e}")
1641 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1642 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
     |                                                                        ^
1643 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
1644 |                 else:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1643:73
     |
1641 |                         if confirm_delete_session_key in st.session_state: del st.session_state[confirm_delete_session_key]
1642 |                         st.session_state[edit_mode_session_key] = False; st.session_state[edit_index_session_key] = -1
1643 |                         st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                         ^
1644 |                 else:
1645 |                     st.warning(get_text_local("admin_confirm_delete_template", "Sicher? Erneut klicken zum L├Âschen."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1646:72
     |
1644 |                 else:
1645 |                     st.warning(get_text_local("admin_confirm_delete_template", "Sicher? Erneut klicken zum L├Âschen."))
1646 |                     st.session_state[confirm_delete_session_key] = True; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                        ^
1647 |     st.markdown("---")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1646:122
     |
1644 |                 else:
1645 |                     st.warning(get_text_local("admin_confirm_delete_template", "Sicher? Erneut klicken zum L├Âschen."))
1646 |                     st.session_state[confirm_delete_session_key] = True; st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                                                                          ^
1647 |     st.markdown("---")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1668:59
     |
1666 | ÔÇª     if save_admin_setting_func(key_name, value_to_save):
1667 | ÔÇª         reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1668 | ÔÇª         if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); something_ÔÇª
     |                                             ^
1669 | ÔÇª         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloaded_valÔÇª
1670 | ÔÇª     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."))
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1668:135
     |
1666 | ÔÇª     if save_admin_setting_func(key_name, value_to_save):
1667 | ÔÇª         reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1668 | ÔÇª         if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); something_ÔÇª
     |                                                                                                                         ^
1669 | ÔÇª         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloaded_valÔÇª
1670 | ÔÇª     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."))
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1669:29
     |
1667 | ÔÇª                 reloaded_value = load_admin_setting_func(key_name, "FEHLER_BEIM_NEULADEN")
1668 | ÔÇª                 if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); soÔÇª
1669 | ÔÇª                 else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloÔÇª
     |                       ^
1670 | ÔÇª             else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."ÔÇª
1671 | ÔÇª     if something_changed_and_saved: st.info("├änderungen verarbeitet..."); st.session_state.selected_page_key_sui = "admin"; st.rerÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1670:25
     |
1668 | ÔÇª                 if reloaded_value == value_to_save: st.success(f"'{api_keys_to_manage[key_name]}' erfolgreich gespeichert..."); soÔÇª
1669 | ÔÇª                 else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloÔÇª
1670 | ÔÇª             else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."ÔÇª
     |                   ^
1671 | ÔÇª     if something_changed_and_saved: st.info("├änderungen verarbeitet..."); st.session_state.selected_page_key_sui = "admin"; st.rerÔÇª
1672 | ÔÇª     elif not any(new_api_key_inputs.values()): st.info("Keine neuen API-Schl├╝ssel eingegeben...")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1671:43
     |
1669 |                         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: ÔÇª
1670 |                     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_naÔÇª
1671 |             if something_changed_and_saved: st.info("├änderungen verarbeitet..."); st.session_state.selected_page_key_sui = "admin"; ÔÇª
     |                                           ^
1672 |             elif not any(new_api_key_inputs.values()): st.info("Keine neuen API-Schl├╝ssel eingegeben...")
1673 |     st.markdown("---")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1671:81
     |
1669 |                         else: st.error(f"Fehler Verifizierung von '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: ÔÇª
1670 |                     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_naÔÇª
1671 |             if something_changed_and_saved: st.info("├änderungen verarbeitet..."); st.session_state.selected_page_key_sui = "admin"; ÔÇª
     |                                                                                 ^
1672 |             elif not any(new_api_key_inputs.values()): st.info("Keine neuen API-Schl├╝ssel eingegeben...")
1673 |     st.markdown("---")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1671:131
     |
1669 | ÔÇª '{api_keys_to_manage[key_name]}'. Gesp.: '{value_to_save}', Gel.: '{reloaded_value}'.")
1670 | ÔÇªsave_error", f"Fehler beim Speichern von {api_keys_to_manage[key_name]}."))
1671 | ÔÇªerarbeitet..."); st.session_state.selected_page_key_sui = "admin"; st.rerun()
     |                                                                   ^
1672 | ÔÇªeine neuen API-Schl├╝ssel eingegeben...")
1673 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1672:54
     |
1670 |                     else: st.error(get_text_local("admin_api_key_save_error", f"Fehler beim Speichern von {api_keys_to_manage[key_naÔÇª
1671 |             if something_changed_and_saved: st.info("├änderungen verarbeitet..."); st.session_state.selected_page_key_sui = "admin"; ÔÇª
1672 |             elif not any(new_api_key_inputs.values()): st.info("Keine neuen API-Schl├╝ssel eingegeben...")
     |                                                      ^
1673 |     st.markdown("---")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1676:35
     |
1675 | def manage_tariff_list_ui(tariff_list_input: list[dict[str, Any]], form_element_key_suffix: str) -> tuple[list[dict[str, Any]], boolÔÇª
1676 |     collected_tariffs_from_ui = []; all_entries_valid = True
     |                                   ^
1677 |     actual_tariff_list_for_ui = tariff_list_input[:]
1678 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1678:38
     |
1676 |     collected_tariffs_from_ui = []; all_entries_valid = True
1677 |     actual_tariff_list_for_ui = tariff_list_input[:]
1678 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
     |                                      ^
1679 |     for i, tariff_entry_db_like in enumerate(actual_tariff_list_for_ui):
1680 |         cols_tariff_ui = st.columns([2, 2, 2, 1]); key_base = f"tariff_entry_{form_element_key_suffix}_{i}{WIDGET_KEY_SUFFIX}_ui" # ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1680:50
     |
1678 |     if not actual_tariff_list_for_ui : actual_tariff_list_for_ui = [{"kwp_min": 0.0, "kwp_max": 10.0, "ct_per_kwh": 0.0}]
1679 |     for i, tariff_entry_db_like in enumerate(actual_tariff_list_for_ui):
1680 |         cols_tariff_ui = st.columns([2, 2, 2, 1]); key_base = f"tariff_entry_{form_element_key_suffix}_{i}{WIDGET_KEY_SUFFIX}_ui" # ÔÇª
     |                                                  ^
1681 |         kwp_min_current_value = st.session_state.get(f"{key_base}_min", float(tariff_entry_db_like.get("kwp_min", 0.0)))
1682 |         kwp_min_ui_val = cols_tariff_ui[0].number_input(label=f"kWp Min #{i+1}", min_value=0.0, value=kwp_min_current_value, step=0.ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1691:73
     |
1689 |         collected_tariffs_from_ui.append({"kwp_min": kwp_min_ui_val, "kwp_max": kwp_max_ui_val, "ct_per_kwh": ct_per_kwh_ui_val})
1690 |         if kwp_min_ui_val is not None and kwp_max_ui_val is not None and kwp_min_ui_val >= kwp_max_ui_val:
1691 |             cols_tariff_ui[1].error("Max kWp muss gr├Â├ƒer Min kWp sein!"); all_entries_valid = False
     |                                                                         ^
1692 |     return collected_tariffs_from_ui, all_entries_valid
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1726:55
     |
1724 |     global _parse_price_matrix_excel_func
1725 |
1726 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
     |                                                       ^
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1728:45
     |
1726 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                             ^
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1728:83
     |
1726 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                                                                   ^
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1728:127
     |
1726 |     _load_admin_setting_safe = load_admin_setting_func; _save_admin_setting_safe = save_admin_setting_func
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
     |                                                                                                                               ^
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1729:53
     |
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
     |                                                     ^
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1729:119
     |
1727 |     _parse_price_matrix_csv_safe = parse_price_matrix_csv_func
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
     |                                                                                                                       ^
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1730:50
     |
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |                                                  ^
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1732 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1730:91
     |
1728 |     _list_products_safe = list_products_func; _add_product_safe = add_product_func; _update_product_safe = update_product_func; _delÔÇª
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
     |                                                                                           ^
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1732 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1730:144
     |
1728 | ÔÇªfunc; _update_product_safe = update_product_func; _delete_product_safe = delete_product_func
1729 | ÔÇªme_safe = get_product_by_model_name_func; _list_product_categories_safe = list_product_categories_func
1730 | ÔÇªcompany_func; _get_company_by_id_safe = db_get_company_by_id_func; _update_company_safe = db_update_company_func
     |                                                                   ^
1731 | ÔÇª db_set_default_company_func; _add_company_document_safe = db_add_company_document_func
1732 | ÔÇªpany_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1731:50
     |
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |                                                  ^
1732 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1731:107
     |
1729 |     _get_product_by_id_safe = get_product_by_id_func; _get_product_by_model_name_safe = get_product_by_model_name_func; _list_producÔÇª
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
     |                                                                                                           ^
1732 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\admin_panel.py:1732:66
     |
1730 |     _list_companies_safe = db_list_companies_func; _add_company_safe = db_add_company_func; _get_company_by_id_safe = db_get_companyÔÇª
1731 |     _delete_company_safe = db_delete_company_func; _set_default_company_safe = db_set_default_company_func; _add_company_document_saÔÇª
1732 |     _list_company_documents_safe = db_list_company_documents_func; _delete_company_document_safe = db_delete_company_document_func
     |                                                                  ^
1733 |
1734 |     passed_excel_parser = kwargs.get('parse_price_matrix_excel_func')
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1735:61
     |
1734 |     passed_excel_parser = kwargs.get('parse_price_matrix_excel_func')
1735 |     if passed_excel_parser and callable(passed_excel_parser): _parse_price_matrix_excel_func = passed_excel_parser
     |                                                             ^
1736 |     elif callable(parse_module_price_matrix_excel): _parse_price_matrix_excel_func = parse_module_price_matrix_excel
1737 |     else:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1736:51
     |
1734 |     passed_excel_parser = kwargs.get('parse_price_matrix_excel_func')
1735 |     if passed_excel_parser and callable(passed_excel_parser): _parse_price_matrix_excel_func = passed_excel_parser
1736 |     elif callable(parse_module_price_matrix_excel): _parse_price_matrix_excel_func = parse_module_price_matrix_excel
     |                                                   ^
1737 |     else:
1738 |         def _dummy_parse_excel_admin_final(excel_bytes, errors_list_local):
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1739:45
     |
1737 |     else:
1738 |         def _dummy_parse_excel_admin_final(excel_bytes, errors_list_local):
1739 |             if errors_list_local is not None: errors_list_local.append("Admin: Dummy Excel-Parser (final) aktiv.")
     |                                             ^
1740 |             return
1741 |         _parse_price_matrix_excel_func = _dummy_parse_excel_admin_final
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1797:28
     |
1795 |                     render_func = tab_functions_map[tab_key_loop]
1796 |                     if callable(render_func):
1797 |                         try: render_func()
     |                            ^
1798 |                         except Exception as e_tab_render_loop:
1799 |                             st.error(f"Fehler beim Rendern des Tabs '{admin_tab_labels_definition[i]}': {e_tab_render_loop}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1801:25
     |
1799 |                             st.error(f"Fehler beim Rendern des Tabs '{admin_tab_labels_definition[i]}': {e_tab_render_loop}")
1800 |                             st.text(traceback.format_exc())
1801 |                     else: st.warning(f"Render-Funktion f├╝r Tab '{admin_tab_labels_definition[i]}' ist nicht aufrufbar.")
     |                         ^
1802 |                 else: st.warning(f"Tab-Funktion f├╝r '{admin_tab_labels_definition[i]}' nicht implementiert.")
1803 |         elif i < len(admin_tab_labels_definition): # Fallback, falls admin_tabs_rendered_ui k├╝rzer ist
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\admin_panel.py:1802:21
     |
1800 |                             st.text(traceback.format_exc())
1801 |                     else: st.warning(f"Render-Funktion f├╝r Tab '{admin_tab_labels_definition[i]}' ist nicht aufrufbar.")
1802 |                 else: st.warning(f"Tab-Funktion f├╝r '{admin_tab_labels_definition[i]}' nicht implementiert.")
     |                     ^
1803 |         elif i < len(admin_tab_labels_definition): # Fallback, falls admin_tabs_rendered_ui k├╝rzer ist
1804 |              st.error(f"Fehler: Konnte Tab-Container f├╝r '{admin_tab_labels_definition[i]}' nicht erstellen.")
     |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> repair_pdf\admin_panel.py:1836:5
     |
1835 |       # Textvorlage hinzuf├╝gen
1836 | /     with st.expander(" Neue Textvorlage erstellen", expanded=False):
1837 | |         with st.form(f"add_text_template_{company_id}", clear_on_submit=True):
     | |______________________________________________________________________________^
1838 |               template_name = st.text_input(
1839 |                   "Name der Vorlage",
     |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> repair_pdf\admin_panel.py:1900:21
     |
1898 |                       col1, col2 = st.columns([3, 1])
1899 |
1900 | /                     with col1:
1901 | |                         # Bearbeitung
1902 | |                         with st.form(f"edit_text_template_{template['id']}"):
     | |_____________________________________________________________________________^
1903 |                               new_name = st.text_input(
1904 |                                   "Name",
     |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> repair_pdf\admin_panel.py:1951:5
     |
1950 |       # Bildvorlage hinzuf├╝gen
1951 | /     with st.expander(" Neue Bildvorlage hochladen", expanded=False):
1952 | |         with st.form(f"add_image_template_{company_id}", clear_on_submit=True):
     | |_______________________________________________________________________________^
1953 |               template_name = st.text_input(
1954 |                   "Name der Bildvorlage",
     |
help: Combine `with` statements

F401 `base64` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\admin_panel.py:2006:16
     |
2004 |     # Vorhandene Bildvorlagen auflisten
2005 |     try:
2006 |         import base64
     |                ^^^^^^
2007 |
2008 |         from database import (
     |
help: Remove unused import: `base64`

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    --> repair_pdf\admin_panel.py:2041:25
     |
2040 |                           # Bearbeitung und L├Âschung
2041 | /                         with st.expander(" Bearbeiten"):
2042 | |                             with st.form(f"edit_image_template_{template['id']}"):
     | |__________________________________________________________________________________^
2043 |                                   new_name = st.text_input(
2044 |                                       "Name ├ñndern",
     |
help: Combine `with` statements

E402 Module level import not at top of file
   --> repair_pdf\analysis.py:279:1
    |
277 | """
278 |
279 | from typing import Any
    | ^^^^^^^^^^^^^^^^^^^^^^
280 |
281 | import streamlit as st
    |

E402 Module level import not at top of file
   --> repair_pdf\analysis.py:281:1
    |
279 | from typing import Any
280 |
281 | import streamlit as st
    | ^^^^^^^^^^^^^^^^^^^^^^
    |

F841 Local variable `discount_percent` is assigned to but never used
   --> repair_pdf\analysis.py:296:13
    |
294 |             st.subheader("Rabatte & Nachl├ñsse")
295 |
296 |             discount_percent = st.slider(
    |             ^^^^^^^^^^^^^^^^
297 |                 "Rabatt (%)",
298 |                 min_value=0.0, max_value=50.0, value=0.0, step=0.5,
    |
help: Remove assignment to unused variable `discount_percent`

F841 Local variable `rebates_eur` is assigned to but never used
   --> repair_pdf\analysis.py:303:13
    |
301 |             )
302 |
303 |             rebates_eur = st.number_input(
    |             ^^^^^^^^^^^
304 |                 "Pauschale Rabatte (Ôé¼)",
305 |                 min_value=0.0, max_value=50000.0, value=0.0, step=50.0,
    |
help: Remove assignment to unused variable `rebates_eur`

F841 Local variable `surcharge_percent` is assigned to but never used
   --> repair_pdf\analysis.py:313:13
    |
311 |             st.subheader(" Aufpreise & Zusatzkosten")
312 |
313 |             surcharge_percent = st.slider(
    |             ^^^^^^^^^^^^^^^^^
314 |                 "Aufpreis (%)",
315 |                 min_value=0.0, max_value=50.0, value=0.0, step=0.5,
    |
help: Remove assignment to unused variable `surcharge_percent`

F841 Local variable `special_costs_eur` is assigned to but never used
   --> repair_pdf\analysis.py:320:13
    |
318 |             )
319 |
320 |             special_costs_eur = st.number_input(
    |             ^^^^^^^^^^^^^^^^^
321 |                 "Sonderkosten (Ôé¼)",
322 |                 min_value=0.0, max_value=50000.0, value=0.0, step=50.0,
    |
help: Remove assignment to unused variable `special_costs_eur`

F841 Local variable `miscellaneous_eur` is assigned to but never used
   --> repair_pdf\analysis.py:327:13
    |
325 |             )
326 |
327 |             miscellaneous_eur = st.number_input(
    |             ^^^^^^^^^^^^^^^^^
328 |                 "Sonstiges (Ôé¼)",
329 |                 min_value=0.0, max_value=50000.0, value=0.0, step=50.0,
    |
help: Remove assignment to unused variable `miscellaneous_eur`

F821 Undefined name `_get_pricing_modifications_from_session`
   --> repair_pdf\analysis.py:414:41
    |
413 |     if results_for_display:
414 |         pricing_modifications_preview = _get_pricing_modifications_from_session()
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
415 |         netto_betrag_preview = results_for_display.get('total_investment_netto', 0.0)
    |

F821 Undefined name `_calculate_final_price_with_modifications`
   --> repair_pdf\analysis.py:418:84
    |
417 |         if netto_betrag_preview > 0:
418 |             final_price_preview, total_rebates_preview, total_surcharges_preview = _calculate_final_price_with_modifications(
    |                                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
419 |                 netto_betrag_preview, pricing_modifications_preview
420 |             )
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:442:48
    |
440 |             annual_savings = results_for_display.get('annual_savings_total_euro', 0.0)
441 |             if annual_savings <= 0:
442 |                 electricity_costs_without_pv = _calculate_electricity_costs_projection(results_for_display, 1, 0.0)
    |                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
443 |                 electricity_costs_with_pv = _calculate_electricity_costs_with_pv_projection(results_for_display, 1, 0.0)
444 |                 annual_savings = electricity_costs_without_pv - electricity_costs_with_pv + annual_feed_in_revenue
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:443:45
    |
441 |             if annual_savings <= 0:
442 |                 electricity_costs_without_pv = _calculate_electricity_costs_projection(results_for_display, 1, 0.0)
443 |                 electricity_costs_with_pv = _calculate_electricity_costs_with_pv_projection(results_for_display, 1, 0.0)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
444 |                 annual_savings = electricity_costs_without_pv - electricity_costs_with_pv + annual_feed_in_revenue
    |

F821 Undefined name `_calculate_amortization_time`
   --> repair_pdf\analysis.py:446:34
    |
444 |                 annual_savings = electricity_costs_without_pv - electricity_costs_with_pv + annual_feed_in_revenue
445 |
446 |             amortization_years = _calculate_amortization_time(final_price_preview, annual_savings)
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
447 |
448 |             # Dynamische Stromkostenberechnung
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:452:50
    |
450 |             duration_years = sim_duration_user_input if 'sim_duration_user_input' in locals() else 20
451 |
452 |             electricity_costs_without_pv_total = _calculate_electricity_costs_projection(results_for_display, int(duration_years), prÔÇª
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
453 |             electricity_costs_with_pv_total = _calculate_electricity_costs_with_pv_projection(results_for_display, int(duration_yearsÔÇª
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:453:47
    |
452 |             electricity_costs_without_pv_total = _calculate_electricity_costs_projection(results_for_display, int(duration_years), prÔÇª
453 |             electricity_costs_with_pv_total = _calculate_electricity_costs_with_pv_projection(results_for_display, int(duration_yearsÔÇª
    |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
454 |
455 |             # Live-Vorschau mit kleinerer, einheitlicher Schriftgr├Â├ƒe
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:461:37
    |
460 |             if total_surcharges_preview > 0:
461 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Aufpreise:** +{_format_german_number(total_surcharges_preview, 'Ôé¼')}")
    |                                     ^^^^^^^^^^
462 |             if total_rebates_preview > 0:
463 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Nachl├ñsse:** -{_format_german_number(total_rebates_preview, 'Ôé¼')}")
    |

F821 Undefined name `_format_german_number`
   --> repair_pdf\analysis.py:461:76
    |
460 |             if total_surcharges_preview > 0:
461 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Aufpreise:** +{_format_german_number(total_surcharges_preview, 'Ôé¼')}")
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^
462 |             if total_rebates_preview > 0:
463 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Nachl├ñsse:** -{_format_german_number(total_rebates_preview, 'Ôé¼')}")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:463:37
    |
461 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Aufpreise:** +{_format_german_number(total_surcharges_preview, 'Ôé¼')}")
462 |             if total_rebates_preview > 0:
463 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Nachl├ñsse:** -{_format_german_number(total_rebates_preview, 'Ôé¼')}")
    |                                     ^^^^^^^^^^
464 |
465 |             if amortization_years > 0 and amortization_years < 100:
    |

F821 Undefined name `_format_german_number`
   --> repair_pdf\analysis.py:463:76
    |
461 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Aufpreise:** +{_format_german_number(total_surcharges_preview, 'Ôé¼')}")
462 |             if total_rebates_preview > 0:
463 |                 st.sidebar.write(f"{_get_emoji('')} **Summe Nachl├ñsse:** -{_format_german_number(total_rebates_preview, 'Ôé¼')}")
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^
464 |
465 |             if amortization_years > 0 and amortization_years < 100:
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:466:37
    |
465 |             if amortization_years > 0 and amortization_years < 100:
466 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** {_format_german_number(amortization_years, 'Jahre')}")
    |                                     ^^^^^^^^^^
467 |             else:
468 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** n/a")
    |

F821 Undefined name `_format_german_number`
   --> repair_pdf\analysis.py:466:77
    |
465 |             if amortization_years > 0 and amortization_years < 100:
466 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** {_format_german_number(amortization_years, 'Jahre')}")
    |                                                                             ^^^^^^^^^^^^^^^^^^^^^
467 |             else:
468 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** n/a")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:468:37
    |
466 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** {_format_german_number(amortization_years, 'Jahre')}")
467 |             else:
468 |                 st.sidebar.write(f"{_get_emoji('')} **Amortisationszeit:** n/a")
    |                                     ^^^^^^^^^^
469 |
470 |             # Korrekte Werte aus Berechnungsergebnissen verwenden
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:474:33
    |
472 |             annual_feed_in_revenue_correct = results_for_display.get('annual_feedin_revenue_euro', 0.0)
473 |
474 |             st.sidebar.write(f"{_get_emoji('')} **J├ñhrliche Einspeiseverg├╝tung:** {format_kpi_value(annual_feed_in_revenue_correct, 'ÔÇª
    |                                 ^^^^^^^^^^
475 |             st.sidebar.write(f"{_get_emoji('')} **Autarkiegrad:** {format_kpi_value(autarkie_grad_correct, '%')}")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:475:33
    |
474 |             st.sidebar.write(f"{_get_emoji('')} **J├ñhrliche Einspeiseverg├╝tung:** {format_kpi_value(annual_feed_in_revenue_correct, 'ÔÇª
475 |             st.sidebar.write(f"{_get_emoji('')} **Autarkiegrad:** {format_kpi_value(autarkie_grad_correct, '%')}")
    |                                 ^^^^^^^^^^
476 |
477 |             # Batteriegr├Â├ƒe aus Produktdatenbank holen - priorisiere selected_storage_storage_power_kw
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:497:37
    |
496 | ÔÇª     if battery_capacity_kwh_correct > 0:
497 | ÔÇª         st.sidebar.write(f"{_get_emoji('')} **Batteriekapazit├ñt in kWh:** {format_kpi_value(battery_capacity_kwh_correct, 'kWh')}")
    |                               ^^^^^^^^^^
498 | ÔÇª     else:
499 | ÔÇª         st.sidebar.write(f"{_get_emoji('')} **Batteriekapazit├ñt:** Keine Batterie")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:499:37
    |
497 |                 st.sidebar.write(f"{_get_emoji('')} **Batteriekapazit├ñt in kWh:** {format_kpi_value(battery_capacity_kwh_correct, 'kWÔÇª
498 |             else:
499 |                 st.sidebar.write(f"{_get_emoji('')} **Batteriekapazit├ñt:** Keine Batterie")
    |                                     ^^^^^^^^^^
500 |
501 |             st.sidebar.markdown("**Dynamische Stromkostenkalkulation:**")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:502:33
    |
501 | ÔÇª     st.sidebar.markdown("**Dynamische Stromkostenkalkulation:**")
502 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Simulationsdauer:** {format_kpi_value(duration_years, 'Jahre', 0)}")
    |                           ^^^^^^^^^^
503 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Strompreissteigerung:** {format_kpi_value(price_increase, '% p.a.')}")
504 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten OHNE PV:** {format_kpi_value(electricity_costs_without_pv_total, 'Ôé¼', 0)}")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:503:33
    |
501 | ÔÇª     st.sidebar.markdown("**Dynamische Stromkostenkalkulation:**")
502 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Simulationsdauer:** {format_kpi_value(duration_years, 'Jahre', 0)}")
503 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Strompreissteigerung:** {format_kpi_value(price_increase, '% p.a.')}")
    |                           ^^^^^^^^^^
504 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten OHNE PV:** {format_kpi_value(electricity_costs_without_pv_total, 'Ôé¼', 0)}")
505 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten MIT PV:** {format_kpi_value(electricity_costs_with_pv_total, 'Ôé¼', 0)}")
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:504:33
    |
502 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Simulationsdauer:** {format_kpi_value(duration_years, 'Jahre', 0)}")
503 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Strompreissteigerung:** {format_kpi_value(price_increase, '% p.a.')}")
504 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten OHNE PV:** {format_kpi_value(electricity_costs_without_pv_total, 'Ôé¼', 0)}")
    |                           ^^^^^^^^^^
505 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten MIT PV:** {format_kpi_value(electricity_costs_with_pv_total, 'Ôé¼', 0)}")
506 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Gesamtersparnis:** {format_kpi_value(electricity_costs_without_pv_total - electricity_cosÔÇª
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:505:33
    |
503 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Strompreissteigerung:** {format_kpi_value(price_increase, '% p.a.')}")
504 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten OHNE PV:** {format_kpi_value(electricity_costs_without_pv_total, 'Ôé¼', 0)}")
505 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Stromkosten MIT PV:** {format_kpi_value(electricity_costs_with_pv_total, 'Ôé¼', 0)}")
    |                           ^^^^^^^^^^
506 | ÔÇª     st.sidebar.write(f"{_get_emoji('')} **Gesamtersparnis:** {format_kpi_value(electricity_costs_without_pv_total - electricity_cosÔÇª
    |

F821 Undefined name `_get_emoji`
   --> repair_pdf\analysis.py:506:33
    |
504 |             st.sidebar.write(f"{_get_emoji('')} **Stromkosten OHNE PV:** {format_kpi_value(electricity_costs_without_pv_total, 'Ôé¼', 0ÔÇª
505 |             st.sidebar.write(f"{_get_emoji('')} **Stromkosten MIT PV:** {format_kpi_value(electricity_costs_with_pv_total, 'Ôé¼', 0)}")
506 |             st.sidebar.write(f"{_get_emoji('')} **Gesamtersparnis:** {format_kpi_value(electricity_costs_without_pv_total - electriciÔÇª
    |                                 ^^^^^^^^^^
507 |
508 |         else:
    |

F821 Undefined name `_get_pricing_modifications_from_session`
   --> repair_pdf\analysis.py:582:29
    |
581 |     # Preismodifikationen aus Session State abrufen
582 |     pricing_modifications = _get_pricing_modifications_from_session()
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
583 |
584 |     # Preis-KPIs berechnen
    |

F821 Undefined name `_calculate_final_price_with_modifications`
   --> repair_pdf\analysis.py:589:52
    |
588 |     # Live-Vorschau der Preismodifikationen berechnen
589 |     final_price, total_rebates, total_surcharges = _calculate_final_price_with_modifications(
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
590 |         netto_betrag, pricing_modifications
591 |     )
    |

F821 Undefined name `_calculate_amortization_time`
   --> repair_pdf\analysis.py:619:26
    |
617 |     st.sidebar.write(f"Gesamteinsparung: {annual_savings:.2f}Ôé¼")
618 |
619 |     amortisation_years = _calculate_amortization_time(final_price, annual_savings)
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
620 |     # Admin-Cheat f├╝r Amortisationszeit anwenden (Anzeige)
621 |     try:
    |

F841 Local variable `simulation_years` is assigned to but never used
   --> repair_pdf\analysis.py:741:5
    |
739 |     # Langzeit-Stromkosten in 3 Spalten - mit korrekter Berechnung aus Bedarfsanalyse
740 |     st.subheader(" Stromkosten-Prognose")
741 |     simulation_years = results.get('simulation_period_years_effective', 20)
    |     ^^^^^^^^^^^^^^^^
742 |     electricity_price_increase = results.get('electricity_price_increase_rate_effective_percent', 3.0)
    |
help: Remove assignment to unused variable `simulation_years`

W291 Trailing whitespace
   --> repair_pdf\analysis.py:760:85
    |
758 |     st.info(f"""
759 |      **Bedarfsanalyse-Daten:**
760 |     ÔÇó Monatliche Stromkosten: {household_costs_monthly + heating_costs_monthly:.2f}Ôé¼ 
    |                                                                                     ^
761 |     ÔÇó J├ñhrliche Stromkosten (ohne PV): {annual_total_costs_without_pv:.2f}Ôé¼
762 |     ÔÇó Gesamtverbrauch: {annual_consumption_total:.2f} kWh
    |
help: Remove trailing whitespace

F841 Local variable `costs_without_pv_10_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:770:9
    |
768 |     with fcol1:
769 |         # Kosten OHNE PV-Anlage (Referenz)
770 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
771 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_10_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:770:43
    |
768 |     with fcol1:
769 |         # Kosten OHNE PV-Anlage (Referenz)
770 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
771 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:771:45
    |
769 |         # Kosten OHNE PV-Anlage (Referenz)
770 |         costs_without_pv_10_no_increase = _calculate_electricity_costs_projection(results, 10, 0.0)
771 |         costs_without_pv_10_with_increase = _calculate_electricity_costs_projection(results, 10, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
772 |
773 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_10_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:774:9
    |
773 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
774 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
775 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_10_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:774:40
    |
773 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
774 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
775 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:775:42
    |
773 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
774 |         costs_with_pv_10_no_increase = _calculate_electricity_costs_with_pv_projection(results, 10, 0.0)
775 |         costs_with_pv_10_with_increase = _calculate_electricity_costs_with_pv_projection(results, 10, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
776 |
777 |         # Einsparung berechnen
    |

F841 Local variable `costs_without_pv_20_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:789:9
    |
787 |     with fcol2:
788 |         # Kosten OHNE PV-Anlage (Referenz)
789 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
790 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_20_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:789:43
    |
787 |     with fcol2:
788 |         # Kosten OHNE PV-Anlage (Referenz)
789 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
790 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:790:45
    |
788 |         # Kosten OHNE PV-Anlage (Referenz)
789 |         costs_without_pv_20_no_increase = _calculate_electricity_costs_projection(results, 20, 0.0)
790 |         costs_without_pv_20_with_increase = _calculate_electricity_costs_projection(results, 20, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
791 |
792 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_20_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:793:9
    |
792 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
793 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
794 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_20_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:793:40
    |
792 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
793 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
794 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:794:42
    |
792 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
793 |         costs_with_pv_20_no_increase = _calculate_electricity_costs_with_pv_projection(results, 20, 0.0)
794 |         costs_with_pv_20_with_increase = _calculate_electricity_costs_with_pv_projection(results, 20, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
795 |
796 |         # Einsparung berechnen
    |

F841 Local variable `costs_without_pv_30_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:808:9
    |
806 |     with fcol3:
807 |         # Kosten OHNE PV-Anlage (Referenz)
808 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
809 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_without_pv_30_no_increase`

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:808:43
    |
806 |     with fcol3:
807 |         # Kosten OHNE PV-Anlage (Referenz)
808 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
809 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_projection`
   --> repair_pdf\analysis.py:809:45
    |
807 |         # Kosten OHNE PV-Anlage (Referenz)
808 |         costs_without_pv_30_no_increase = _calculate_electricity_costs_projection(results, 30, 0.0)
809 |         costs_without_pv_30_with_increase = _calculate_electricity_costs_projection(results, 30, electricity_price_increase)
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
810 |
811 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
    |

F841 Local variable `costs_with_pv_30_no_increase` is assigned to but never used
   --> repair_pdf\analysis.py:812:9
    |
811 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
812 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
813 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |
help: Remove assignment to unused variable `costs_with_pv_30_no_increase`

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:812:40
    |
811 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
812 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
813 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |

F821 Undefined name `_calculate_electricity_costs_with_pv_projection`
   --> repair_pdf\analysis.py:813:42
    |
811 |         # Kosten MIT PV-Anlage (tats├ñchliche Kosten)
812 |         costs_with_pv_30_no_increase = _calculate_electricity_costs_with_pv_projection(results, 30, 0.0)
813 |         costs_with_pv_30_with_increase = _calculate_electricity_costs_with_pv_projection(results, 30, electricity_price_increase)
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
814 |
815 |         # Einsparung berechnen
    |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1358:18
     |
1356 |             yanchor="middle",
1357 |             showarrow=False,
1358 |             font=dict(size=14, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1359 |         )
1360 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1360:59
     |
1358 |             font=dict(size=14, color="red"),
1359 |         )
1360 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1361 |         st.error(f"Fehler bei der Diagrammerstellung: {str(e)}")
1362 |         return fig
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1514:18
     |
1512 |             yanchor="middle",
1513 |             showarrow=False,
1514 |             font=dict(size=16, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1515 |         )
1516 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1516:59
     |
1514 |             font=dict(size=16, color="red"),
1515 |         )
1516 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1517 |         st.error("Datenformat nicht unterst├╝tzt f├╝r Diagrammerstellung")
1518 |         return fig
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:1521:5
     |
1520 |       # Interne Plotly-Titel unterdr├╝cken ÔÇô die ├£berschrift steht bereits ├╝ber dem Chart
1521 | /     try:
1522 | |         fig.update_layout(title_text="")
1523 | |     except Exception:
1524 | |         pass
     | |____________^
1525 |
1526 |       # Basis-Layout (Feinheiten ├╝bernimmt _apply_shadcn_like_theme)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1531:14
     |
1529 |         plot_bgcolor="rgba(0,0,0,0)",
1530 |         paper_bgcolor="rgba(0,0,0,0)",
1531 |         font=dict(size=12),
     |              ^^^^^^^^^^^^^
1532 |         height=400,
1533 |         margin=dict(l=40, r=30, t=60, b=40),
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1533:16
     |
1531 |         font=dict(size=12),
1532 |         height=400,
1533 |         margin=dict(l=40, r=30, t=60, b=40),
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1534 |     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1583:22
     |
1581 |                 text="Unbekanntes Datenformat f├╝r vier-Typ-Chart",
1582 |                 xref="paper", yref="paper", x=0.5, y=0.5, showarrow=False,
1583 |                 font=dict(size=14, color="red"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
1584 |             )
1585 |             fig.update_layout(title=title)
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1768:22
     |
1766 |                 yanchor="middle",
1767 |                 showarrow=False,
1768 |                 font=dict(size=16, color="red"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
1769 |             )
1770 |             fig.update_layout(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1771:49
     |
1769 |             )
1770 |             fig.update_layout(
1771 |                 title=title, height=400, margin=dict(l=50, r=50, t=80, b=50)
     |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1772 |             )
1773 |             st.error("Datenformat nicht unterst├╝tzt f├╝r Multi-Series Diagramm")
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:1777:9
     |
1776 |           # Interne Plotly-Titel unterdr├╝cken ÔÇô die ├£berschrift steht bereits ├╝ber dem Chart
1777 | /         try:
1778 | |             fig.update_layout(title_text="")
1779 | |         except Exception:
1780 | |             pass
     | |________________^
1781 |
1782 |           # Layout anpassen und shadcn-├ñhnliches Theme anwenden
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1787:18
     |
1785 |             plot_bgcolor="rgba(0,0,0,0)",
1786 |             paper_bgcolor="rgba(0,0,0,0)",
1787 |             font=dict(size=12),
     |                  ^^^^^^^^^^^^^
1788 |             height=400,
1789 |             margin=dict(l=40, r=30, t=60, b=40),
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1789:20
     |
1787 |             font=dict(size=12),
1788 |             height=400,
1789 |             margin=dict(l=40, r=30, t=60, b=40),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1790 |             legend=dict(
1791 |                 orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1790:20
     |
1788 |               height=400,
1789 |               margin=dict(l=40, r=30, t=60, b=40),
1790 |               legend=dict(
     |  ____________________^
1791 | |                 orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
1792 | |             ),
     | |_____________^
1793 |           )
1794 |           _apply_shadcn_like_theme(fig)
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1812:18
     |
1810 |             yanchor="middle",
1811 |             showarrow=False,
1812 |             font=dict(size=14, color="red"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
1813 |         )
1814 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1814:59
     |
1812 |             font=dict(size=14, color="red"),
1813 |         )
1814 |         fig.update_layout(title=title, height=400, margin=dict(l=50, r=50, t=80, b=50))
     |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1815 |         st.error(f"Fehler bei der Diagrammerstellung: {str(e)}")
1816 |         return fig
     |
help: Rewrite as a literal

F821 Undefined name `gc`
    --> repair_pdf\analysis.py:1819:9
     |
1818 |     loaded_viz_settings = (
1819 |         gc.get("visualization_settings") if isinstance(gc, dict) else None
     |         ^^
1820 |     )
1821 |     if isinstance(loaded_viz_settings, dict):
     |

F821 Undefined name `gc`
    --> repair_pdf\analysis.py:1819:56
     |
1818 |     loaded_viz_settings = (
1819 |         gc.get("visualization_settings") if isinstance(gc, dict) else None
     |                                                        ^^
1820 |     )
1821 |     if isinstance(loaded_viz_settings, dict):
     |

F821 Undefined name `default_viz_settings`
    --> repair_pdf\analysis.py:1822:26
     |
1820 |     )
1821 |     if isinstance(loaded_viz_settings, dict):
1822 |         final_settings = default_viz_settings.copy()
     |                          ^^^^^^^^^^^^^^^^^^^^
1823 |         final_settings.update(loaded_viz_settings)
1824 |         return final_settings
     |

F821 Undefined name `default_viz_settings`
    --> repair_pdf\analysis.py:1825:12
     |
1823 |         final_settings.update(loaded_viz_settings)
1824 |         return final_settings
1825 |     return default_viz_settings.copy()
     |            ^^^^^^^^^^^^^^^^^^^^
     |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:1878:14
     |
1876 |     )
1877 |     fig.update_layout(
1878 |         font=dict(family=font_family),
     |              ^^^^^^^^^^^^^^^^^^^^^^^^
1879 |         title_font_size=font_size_title,
1880 |         legend_font_size=font_size_tick_label,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2014:19
     |
2012 |             paper_bgcolor="rgba(0,0,0,0)",
2013 |             plot_bgcolor="rgba(0,0,0,0)",
2014 |             title=dict(x=0.02, y=0.98, xanchor="left", yanchor="top"),
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2015 |             margin=dict(l=40, r=30, t=60, b=40),
2016 |             hovermode="x unified",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2015:20
     |
2013 |             plot_bgcolor="rgba(0,0,0,0)",
2014 |             title=dict(x=0.02, y=0.98, xanchor="left", yanchor="top"),
2015 |             margin=dict(l=40, r=30, t=60, b=40),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2016 |             hovermode="x unified",
2017 |             legend=dict(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2017:20
     |
2015 |               margin=dict(l=40, r=30, t=60, b=40),
2016 |               hovermode="x unified",
2017 |               legend=dict(
     |  ____________________^
2018 | |                 bgcolor="rgba(0,0,0,0)",
2019 | |                 bordercolor="rgba(0,0,0,0)",
2020 | |                 orientation="h",
2021 | |                 yanchor="bottom",
2022 | |                 y=1.02,
2023 | |                 xanchor="right",
2024 | |                 x=1,
2025 | |             ),
     | |_____________^
2026 |           )
2027 |           # Achsen: dezente Linien und Gitter
     |
help: Rewrite as a literal

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:2052:21
     |
2050 |                   if getattr(tr, "type", "") == "bar":
2051 |                       any_bar = True
2052 | /                     try:
2053 | |                         tr.update(marker_line_color="rgba(17,24,39,0.10)", marker_line_width=1.2)
2054 | |                     except Exception:
2055 | |                         pass
     | |____________________________^
2056 |               if any_bar:
2057 |                   fig.update_layout(bargap=0.28, bargroupgap=0.18)
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2060:24
     |
2058 |           # Hoverlabel dezent
2059 |           fig.update_layout(
2060 |               hoverlabel=dict(
     |  ________________________^
2061 | |                 bgcolor="rgba(255,255,255,0.95)",
2062 | |                 bordercolor="rgba(0,0,0,0.1)",
2063 | |                 font=dict(color="#111827"),
2064 | |             )
     | |_____________^
2065 |           )
2066 |       except Exception:
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2063:22
     |
2061 |                 bgcolor="rgba(255,255,255,0.95)",
2062 |                 bordercolor="rgba(0,0,0,0.1)",
2063 |                 font=dict(color="#111827"),
     |                      ^^^^^^^^^^^^^^^^^^^^^
2064 |             )
2065 |         )
     |
help: Rewrite as a literal

F821 Undefined name `re`
    --> repair_pdf\analysis.py:2094:17
     |
2092 |                 return float(val)
2093 |             s = str(val).strip()
2094 |             s = re.sub(r"[^0-9,\.\-]", "", s).replace(",", ".")
     |                 ^^
2095 |             return float(s) if s not in {"", "-", "."} else None
2096 |         except Exception:
     |

F841 Local variable `df_day` is assigned to but never used
    --> repair_pdf\analysis.py:2280:5
     |
2278 |     ]
2279 |
2280 |     df_day = pd.DataFrame({
     |     ^^^^^^
2281 |         "Stunde": hours,
2282 |         get_text(texts, "pv_power_label_switcher", "PV-Leistung (kW)"): power,
     |
help: Remove assignment to unused variable `df_day`

F841 Local variable `years_to_break_even` is assigned to but never used
    --> repair_pdf\analysis.py:2562:9
     |
2560 |     for factor in factors:
2561 |         adjusted_benefit = annual_financial_benefit_year1_val * factor
2562 |         years_to_break_even = (
     |         ^^^^^^^^^^^^^^^^^^^
2563 |             total_investment_netto_val / adjusted_benefit
2564 |             if adjusted_benefit > 0
     |
help: Remove assignment to unused variable `years_to_break_even`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2896:22
     |
2894 |                 mode="lines+markers",
2895 |                 name="Verbrauch (kWh)",
2896 |                 line=dict(color=colors[0]),
     |                      ^^^^^^^^^^^^^^^^^^^^^
2897 |             )
2898 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:2905:22
     |
2903 |                 mode="lines+markers",
2904 |                 name="Produktion (kWh)",
2905 |                 line=dict(color=colors[1]),
     |                      ^^^^^^^^^^^^^^^^^^^^^
2906 |             )
2907 |         )
     |
help: Rewrite as a literal

F811 Redefinition of unused `render_tariff_cube_switcher` from line 2333
    --> repair_pdf\analysis.py:2951:5
     |
2949 |         )
2950 |
2951 | def render_tariff_cube_switcher(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_tariff_cube_switcher` redefined here
2952 |     analysis_results: dict[str, Any],
2953 |     texts: dict[str, str],
     |
    ::: repair_pdf\analysis.py:2333:5
     |
2331 |     analysis_results["daily_production_switcher_chart_bytes"] = _export_plotly_fig_to_bytes(fig, texts)
2332 |
2333 | def render_tariff_cube_switcher(
     |     --------------------------- previous definition of `render_tariff_cube_switcher` here
2334 |     analysis_results: dict[str, Any],
2335 |     texts: dict[str, str],
     |
help: Remove definition: `render_tariff_cube_switcher`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:2990:51
     |
2988 |         aktueller_preis_kwh * 1.05,
2989 |     ]
2990 |     gesamt = [g + a * jahresverbrauch for g, a in zip(grundgebuehr, arbeitspreis)]
     |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2991 |
2992 |     chart_data = {
     |
help: Add explicit value for parameter `strict=`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3437:26
     |
3435 |               data=[
3436 |                   go.Sankey(
3437 |                       node=dict(
     |  __________________________^
3438 | |                         pad=15,
3439 | |                         thickness=20,
3440 | |                         line=dict(color="black", width=0.5),
3441 | |                         label=[
3442 | |                             "PV-Erzeugung",
3443 | |                             "Eigenverbrauch",
3444 | |                             "Netzeinspeisung",
3445 | |                             "Netzbezug",
3446 | |                             "Gesamtverbrauch",
3447 | |                         ],
3448 | |                         color=["#F59E0B", "#10B981", "#3B82F6", "#EF4444", "#6B7280"],
3449 | |                     ),
     | |_____________________^
3450 |                       link=dict(
3451 |                           source=[0, 0, 3, 1],
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3440:30
     |
3438 |                         pad=15,
3439 |                         thickness=20,
3440 |                         line=dict(color="black", width=0.5),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3441 |                         label=[
3442 |                             "PV-Erzeugung",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3450:26
     |
3448 |                           color=["#F59E0B", "#10B981", "#3B82F6", "#EF4444", "#6B7280"],
3449 |                       ),
3450 |                       link=dict(
     |  __________________________^
3451 | |                         source=[0, 0, 3, 1],
3452 | |                         target=[1, 2, 4, 4],
3453 | |                         value=[
3454 | |                             system_data["self_consumption_kwh"],
3455 | |                             grid_results["grid_feed_in_kwh"],
3456 | |                             grid_results["grid_purchase_kwh"],
3457 | |                             system_data["self_consumption_kwh"],
3458 | |                         ],
3459 | |                     ),
     | |_____________________^
3460 |                   )
3461 |               ]
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3520:22
     |
3518 |                 mode="lines+markers",
3519 |                 name="Anlagenleistung",
3520 |                 line=dict(color="#EF4444", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3521 |                 marker=dict(size=8),
3522 |             )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3521:24
     |
3519 |                 name="Anlagenleistung",
3520 |                 line=dict(color="#EF4444", width=3),
3521 |                 marker=dict(size=8),
     |                        ^^^^^^^^^^^^
3522 |             )
3523 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:3669:22
     |
3667 |                 fill="tozeroy",
3668 |                 name="COÔéé-Einsparungen",
3669 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3670 |             )
3671 |         )
     |
help: Rewrite as a literal

F811 Redefinition of unused `render_co2_savings_value_switcher` from line 3051
    --> repair_pdf\analysis.py:3763:5
     |
3763 | def render_co2_savings_value_switcher(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_co2_savings_value_switcher` redefined here
3764 |     analysis_results: dict[str, Any],
3765 |     texts: dict[str, str],
     |
    ::: repair_pdf\analysis.py:3051:5
     |
3051 | def render_co2_savings_value_switcher(
     |     --------------------------------- previous definition of `render_co2_savings_value_switcher` here
3052 |     analysis_results: dict[str, Any],
3053 |     texts: dict[str, str],
     |
help: Remove definition: `render_co2_savings_value_switcher`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:3969:21
     |
3967 |     effizienz_roi = [
3968 |         (n - k) / k * 100 if k != 0 else 0
3969 |         for k, n in zip(kosten_abs, nutzwert_simuliert_abs)
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
3970 |     ]
3971 |     #  PROFESSIONELLER 2D INVESTITIONSNUTZWERT
     |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:3982:48
     |
3980 |   ÔÇª     "customdata": [
3981 |   ÔÇª         [kosten, nutzen, roi]
3982 |   ÔÇª         for kosten, nutzen, roi in zip(
     |  ______________________________________^
3983 | | ÔÇª             kosten_abs, nutzwert_simuliert_abs, effizienz_roi
3984 | | ÔÇª         )
     | |___________^
3985 |   ÔÇª     ],
3986 |   ÔÇª     "hovertemplate": "<b>Ma├ƒnahme:</b> %{x}<br><b>Kosten:</b> %{customdata[0]:.2f} Ôé¼<br><b>Nutzen:</b> %{customdata[1]:.2f} Ôé¼<br><ÔÇª
     |
help: Add explicit value for parameter `strict=`

C414 Unnecessary `list()` call within `sorted()`
    --> repair_pdf\analysis.py:4246:30
     |
4244 |           analysis_results.get("electricity_price_increase_rate_effective_percent", 3.0)
4245 |       )
4246 |       szenarien_prozent_vals = sorted(
     |  ______________________________^
4247 | |         list(
4248 | |             set(
4249 | |                 round(s, 1)
4250 | |                 for s in [
4251 | |                     max(0, current_increase_rate_percent - 1.5),
4252 | |                     current_increase_rate_percent,
4253 | |                     current_increase_rate_percent + 1.5,
4254 | |                 ]
4255 | |             )
4256 | |         )
4257 | |     )
     | |_____^
4258 |
4259 |       # Daten f├╝r Multi-Series Chart vorbereiten
     |
help: Remove the inner `list()` call

C401 Unnecessary generator (rewrite as a set comprehension)
    --> repair_pdf\analysis.py:4248:13
     |
4246 |       szenarien_prozent_vals = sorted(
4247 |           list(
4248 | /             set(
4249 | |                 round(s, 1)
4250 | |                 for s in [
4251 | |                     max(0, current_increase_rate_percent - 1.5),
4252 | |                     current_increase_rate_percent,
4253 | |                     current_increase_rate_percent + 1.5,
4254 | |                 ]
4255 | |             )
     | |_____________^
4256 |           )
4257 |       )
     |
help: Rewrite as a set comprehension

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:4366:53
     |
4364 |         analysis_results["selfuse_ratio_switcher_chart_bytes"] = None
4365 |         return
4366 |     ev_monat_kwh = [(d or 0) + (s or 0) for d, s in zip(m_direct_sc, m_storage_sc)]
     |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4367 |     ev_monat_grad = [
4368 |         (ekwh / (c_tot if c_tot > 0 else 1) * 100)
     |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:4369:28
     |
4367 |     ev_monat_grad = [
4368 |         (ekwh / (c_tot if c_tot > 0 else 1) * 100)
4369 |         for ekwh, c_tot in zip(ev_monat_kwh, m_total_cons)
     |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4370 |     ]
4371 |     max_ev_kwh = max(ev_monat_kwh) if any(ev_monat_kwh) else 1.0
     |
help: Add explicit value for parameter `strict=`

F841 Local variable `bubble_sizes` is assigned to but never used
    --> repair_pdf\analysis.py:4372:5
     |
4370 |     ]
4371 |     max_ev_kwh = max(ev_monat_kwh) if any(ev_monat_kwh) else 1.0
4372 |     bubble_sizes = [(v / max_ev_kwh * 30) + 10 for v in ev_monat_kwh]
     |     ^^^^^^^^^^^^
4373 |     #  PROFESSIONELLES 2D SHADCN CHART F├£R EIGENVERBRAUCH
4374 |     chart_data = {"x": month_labels, "y": ev_monat_grad}
     |
help: Remove assignment to unused variable `bubble_sizes`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:4430:51
     |
4428 |     benefit_opts = [curr_benefit, curr_benefit * 0.75, curr_benefit * 1.2]
4429 |     roi_opts = [
4430 |         (b / i * 100) if i > 0 else 0 for i, b in zip(invest_opts, benefit_opts)
     |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4431 |     ]
4432 |     #  MODERNES 2D ROI VERGLEICHS-CHART
     |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:4443:42
     |
4441 | ÔÇª     "customdata": [
4442 | ÔÇª         [inv, ben, roi]
4443 | ÔÇª         for inv, ben, roi in zip(invest_opts, benefit_opts, roi_opts)
     |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
4444 | ÔÇª     ],
4445 | ÔÇª     "hovertemplate": "<b>Projekt:</b> %{x}<br><b>Investition:</b> %{customdata[0]:.2f} Ôé¼<br><b>J├ñhrl. Nutzen:</b> %{customdata[1]:ÔÇª
     |
help: Add explicit value for parameter `strict=`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:4829:13
     |
4827 |           )
4828 |           if palette_name != "Plotly":
4829 | /             try:
4830 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
4831 | |             except AttributeError:
4832 | |                 pass
     | |____________________^
4833 |       fig = go.Figure()
4834 |       prod_label_fig = get_text(
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:4991:13
     |
4989 |           )
4990 |           if palette_name != "Plotly":
4991 | /             try:
4992 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
4993 | |             except AttributeError:
4994 | |                 pass
     | |____________________^
4995 |
4996 |       if selected_chart_type == "line":
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:5091:13
     |
5089 |           )
5090 |           if palette_name != "Plotly":
5091 | /             try:
5092 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
5093 | |             except AttributeError:
5094 | |                 pass
     | |____________________^
5095 |
5096 |       if selected_chart_type == "area":
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:5233:13
     |
5231 |           )
5232 |           if palette_name != "Plotly":
5233 | /             try:
5234 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
5235 | |             except AttributeError:
5236 | |                 pass
     | |____________________^
5237 |       if not dynamic_color_list:
5238 |           default_color_1 = _safe_viz_get(
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

E741 Ambiguous variable name: `l`
    --> repair_pdf\analysis.py:5259:32
     |
5257 |         values = [self_supply_float, grid_cons_float]
5258 |         # Filter raus sehr kleine Anteile
5259 |         filtered = [(l, v) for l, v in zip(labels, values) if v >= 0.01]
     |                                ^
5260 |         if not filtered:
5261 |             st.info(
     |

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:5259:40
     |
5257 |         values = [self_supply_float, grid_cons_float]
5258 |         # Filter raus sehr kleine Anteile
5259 |         filtered = [(l, v) for l, v in zip(labels, values) if v >= 0.01]
     |                                        ^^^^^^^^^^^^^^^^^^^
5260 |         if not filtered:
5261 |             st.info(
     |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:5270:26
     |
5268 |             analysis_results_local[f"{chart_key_prefix}_chart_bytes"] = None
5269 |             return
5270 |         labels, values = zip(*filtered)
     |                          ^^^^^^^^^^^^^^
5271 |         chart_data = {"labels": list(labels), "values": list(values)}
5272 |         title = get_text(
     |
help: Add explicit value for parameter `strict=`

SIM105 Use `contextlib.suppress(AttributeError)` instead of `try`-`except`-`pass`
    --> repair_pdf\analysis.py:5380:13
     |
5378 |           )
5379 |           if palette_name != "Plotly":
5380 | /             try:
5381 | |                 dynamic_color_list = getattr(px.colors.qualitative, palette_name, None)
5382 | |             except AttributeError:
5383 | |                 pass
     | |____________________^
5384 |
5385 |       if not dynamic_color_list or len(dynamic_color_list) < 3:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(AttributeError): ...`

E741 Ambiguous variable name: `l`
    --> repair_pdf\analysis.py:5411:32
     |
5409 |         ]
5410 |         values = [direct_cons_float, storage_cons_float, feed_in_prod_perc]
5411 |         filtered = [(l, v) for l, v in zip(labels, values) if v >= 0.01]
     |                                ^
5412 |         if not filtered:
5413 |             st.info(
     |

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:5411:40
     |
5409 |         ]
5410 |         values = [direct_cons_float, storage_cons_float, feed_in_prod_perc]
5411 |         filtered = [(l, v) for l, v in zip(labels, values) if v >= 0.01]
     |                                        ^^^^^^^^^^^^^^^^^^^
5412 |         if not filtered:
5413 |             st.info(
     |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
    --> repair_pdf\analysis.py:5422:26
     |
5420 |             analysis_results_local[f"{chart_key_prefix}_chart_bytes"] = None
5421 |             return
5422 |         labels, values = zip(*filtered)
     |                          ^^^^^^^^^^^^^^
5423 |         chart_data = {"labels": list(labels), "values": list(values)}
5424 |         title = get_text(
     |
help: Add explicit value for parameter `strict=`

F811 Redefinition of unused `integrate_advanced_calculations` from line 1172
    --> repair_pdf\analysis.py:5514:5
     |
5514 | def integrate_advanced_calculations(texts: dict[str, str]):
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `integrate_advanced_calculations` redefined here
5515 |     """Haupt-Integration der erweiterten Berechnungen"""
     |
    ::: repair_pdf\analysis.py:1172:5
     |
1172 | def integrate_advanced_calculations(texts: dict[str, str]):
     |     ------------------------------- previous definition of `integrate_advanced_calculations` here
1173 |     """Integrator f├╝r erweiterte Berechnungen und Analysen"""
     |
help: Remove definition: `integrate_advanced_calculations`

F401 `analysis_chart_modern_enhancement.get_modern_chart_color_sequence` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\analysis.py:5607:13
     |
5605 |         from analysis_chart_modern_enhancement import (
5606 |             create_sample_modern_charts_for_analysis,
5607 |             get_modern_chart_color_sequence,
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5608 |         )
5609 |         from pdf_ui_design_enhancement import (
     |
help: Remove unused import: `analysis_chart_modern_enhancement.get_modern_chart_color_sequence`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5709:22
     |
5707 |                 mode="lines+markers",
5708 |                 name="LCOE",
5709 |                 line=dict(color="#1E3A8A", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5710 |             )
5711 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5721:22
     |
5719 |                 mode="lines",
5720 |                 name="Netzstrompreis",
5721 |                 line=dict(color="#DC2626", width=2, dash="dash"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5722 |             )
5723 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5753:22
     |
5751 |                 fill="tozeroy",
5752 |                 name="NPV",
5753 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5754 |             )
5755 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5832:26
     |
5830 |               data=[
5831 |                   go.Sankey(
5832 |                       node=dict(
     |  __________________________^
5833 | |                         pad=15,
5834 | |                         thickness=20,
5835 | |                         line=dict(color="black", width=0.5),
5836 | |                         label=[
5837 | |                             "PV-Erzeugung",
5838 | |                             "Direktverbrauch",
5839 | |                             "Batterieladung",
5840 | |                             "Netzeinspeisung",
5841 | |                             "Batterieentladung",
5842 | |                             "Netzbezug",
5843 | |                             "Hausverbrauch",
5844 | |                             "Verluste",
5845 | |                         ],
5846 | |                         color=[
5847 | |                             "#F59E0B",  # PV-Erzeugung
5848 | |                             "#10B981",  # Direktverbrauch
5849 | |                             "#3B82F6",  # Batterieladung
5850 | |                             "#6366F1",  # Netzeinspeisung
5851 | |                             "#8B5CF6",  # Batterieentladung
5852 | |                             "#EF4444",  # Netzbezug
5853 | |                             "#6B7280",  # Hausverbrauch
5854 | |                             "#DC2626",  # Verluste
5855 | |                         ],
5856 | |                     ),
     | |_____________________^
5857 |                       link=dict(
5858 |                           source=energy_flows["sources"],
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5835:30
     |
5833 |                         pad=15,
5834 |                         thickness=20,
5835 |                         line=dict(color="black", width=0.5),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5836 |                         label=[
5837 |                             "PV-Erzeugung",
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5857:26
     |
5855 |                           ],
5856 |                       ),
5857 |                       link=dict(
     |  __________________________^
5858 | |                         source=energy_flows["sources"],
5859 | |                         target=energy_flows["targets"],
5860 | |                         value=energy_flows["values"],
5861 | |                         color=energy_flows["colors"],
5862 | |                     ),
     | |_____________________^
5863 |                   )
5864 |               ]
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5914:22
     |
5912 |                 name="Verbrauch",
5913 |                 fill="tozeroy",
5914 |                 line=dict(color="#EF4444", width=2),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5915 |             )
5916 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:5926:22
     |
5924 |                 name="PV-Erzeugung",
5925 |                 fill="tozeroy",
5926 |                 line=dict(color="#F59E0B", width=2),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5927 |             )
5928 |         )
     |
help: Rewrite as a literal

F841 Local variable `unique_id` is assigned to but never used
    --> repair_pdf\analysis.py:6045:9
     |
6043 |         import uuid
6044 |
6045 |         unique_id = str(uuid.uuid4())[:8]
     |         ^^^^^^^^^
6046 |         st.plotly_chart(
6047 |             fig,
     |
help: Remove assignment to unused variable `unique_id`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6104:22
     |
6102 |                 mode="lines+markers",
6103 |                 name="Modultemperatur",
6104 |                 line=dict(color="#EF4444", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6105 |             ),
6106 |             row=1,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6117:22
     |
6115 |                 mode="lines",
6116 |                 name="Umgebungstemperatur",
6117 |                 line=dict(color="#3B82F6", width=2, dash="dash"),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6118 |             ),
6119 |             row=1,
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6187:22
     |
6185 |                 mode="lines+markers",
6186 |                 name="Wirkungsgrad",
6187 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6188 |             )
6189 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6198:24
     |
6196 |                 mode="markers",
6197 |                 name="H├ñufige Betriebspunkte",
6198 |                 marker=dict(size=10, color="#EF4444"),
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6199 |             )
6200 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6206:19
     |
6204 |             xaxis_title="Auslastung (%)",
6205 |             yaxis_title="Wirkungsgrad (%)",
6206 |             yaxis=dict(range=[90, 100]),
     |                   ^^^^^^^^^^^^^^^^^^^^^
6207 |             hovermode="x unified",
6208 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6412:26
     |
6410 |                     mode="lines+markers",
6411 |                     name=scenario,
6412 |                     line=dict(width=3),
     |                          ^^^^^^^^^^^^^
6413 |                 )
6414 |             )
     |
help: Rewrite as a literal

F841 Local variable `styled_df` is assigned to but never used
    --> repair_pdf\analysis.py:6436:13
     |
6434 |         # Szenario-Vergleich Tabelle mit sicherer Formatierung
6435 |         try:
6436 |             styled_df = comparison_df.copy()
     |             ^^^^^^^^^
6437 |
6438 |             # Sichere Formatierung f├╝r numerische Spalten
     |
help: Remove assignment to unused variable `styled_df`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6500:22
     |
6498 |                 name="Kumulative COÔéé-Einsparung",
6499 |                 fill="tozeroy",
6500 |                 line=dict(color="#10B981", width=3),
     |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6501 |             )
6502 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6690:18
     |
6688 |             x1=50,
6689 |             y1=potentials_df["benefit_potential"].max(),
6690 |             line=dict(color="gray", width=1, dash="dash"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6691 |         )
6692 |         fig.add_shape(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:6698:18
     |
6696 |             x1=100,
6697 |             y1=potentials_df["benefit_potential"].mean(),
6698 |             line=dict(color="gray", width=1, dash="dash"),
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6699 |         )
     |
help: Rewrite as a literal

F841 Local variable `total_investment` is assigned to but never used
    --> repair_pdf\analysis.py:6915:13
     |
6913 |         # Berechne aktuelle Finanzierungskosten wenn Daten verf├╝gbar
6914 |         if financing_summary["financing_requested"]:
6915 |             total_investment = results.get("total_investment_netto", 0)
     |             ^^^^^^^^^^^^^^^^
6916 |             financing_amount = financing_summary["financing_amount"]
     |
help: Remove assignment to unused variable `total_investment`

B007 Loop control variable `section` not used within loop body
    --> repair_pdf\analysis.py:6986:9
     |
6985 |     # Z├ñhle verf├╝gbare Charts
6986 |     for section, data in financing_data.items():
     |         ^^^^^^^
6987 |         if isinstance(data, dict):
6988 |             chart_keys = [k for k in data.keys() if "chart" in k.lower()]
     |
help: Rename unused `section` to `_section`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> repair_pdf\analysis.py:6988:33
     |
6986 |     for section, data in financing_data.items():
6987 |         if isinstance(data, dict):
6988 |             chart_keys = [k for k in data.keys() if "chart" in k.lower()]
     |                                 ^^^^^^^^^^^^^^^^
6989 |             summary["total_charts"] += len(chart_keys)
     |
help: Remove `.keys()`

F811 Redefinition of unused `render_pricing_modifications_ui` from line 284
    --> repair_pdf\analysis.py:7003:5
     |
7003 | def render_pricing_modifications_ui():
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `render_pricing_modifications_ui` redefined here
7004 |     st.markdown("## Preis├ñnderungen (Rabatte, Zuschl├ñge, Sondervereinbarungen)")
7005 |     if "pricing_modifications" not in st.session_state:
     |
    ::: repair_pdf\analysis.py:284:5
     |
 284 | def render_pricing_modifications_ui():
     |     ------------------------------- previous definition of `render_pricing_modifications_ui` here
 285 |     """Zeigt die UI f├╝r Preismodifikationen (Rabatte, Aufschl├ñge etc.)"""
     |
help: Remove definition: `render_pricing_modifications_ui`

F811 Redefinition of unused `render_analysis` from line 334
    --> repair_pdf\analysis.py:7100:5
     |
7099 | # --- Haupt-Render-Funktion ---
7100 | def render_analysis(
     |     ^^^^^^^^^^^^^^^ `render_analysis` redefined here
7101 |     texts: dict[str, str], results: dict[str, Any] | None = None
7102 | ) -> None:
     |
    ::: repair_pdf\analysis.py:334:5
     |
 332 |             )
 333 |
 334 | def render_analysis(texts: dict[str, str], results: dict[str, Any] | None = None) -> None:
     |     --------------- previous definition of `render_analysis` here
 335 |     """Hauptfunktion f├╝r das Analyse-Dashboard"""
 336 |     if not _ANALYSIS_DEPENDENCIES_AVAILABLE:
     |
help: Remove definition: `render_analysis`

N806 Variable `LIVE_PREVIEW_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7119:9
     |
7117 |             render_modern_kpi_section,
7118 |         )
7119 |         LIVE_PREVIEW_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^
7120 |     except ImportError:
7121 |         LIVE_PREVIEW_AVAILABLE = False
     |

N806 Variable `LIVE_PREVIEW_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7121:9
     |
7119 |         LIVE_PREVIEW_AVAILABLE = True
7120 |     except ImportError:
7121 |         LIVE_PREVIEW_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^
7122 |         st.warning(" Erweiterte Live-Vorschau nicht verf├╝gbar")
     |

F401 `universal_chart_modernizer.modernize_existing_chart` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\analysis.py:7389:13
     |
7387 |         from universal_chart_modernizer import (
7388 |             apply_modern_style_to_figure,
7389 |             modernize_existing_chart,
     |             ^^^^^^^^^^^^^^^^^^^^^^^^
7390 |         )
7391 |         MODERN_CHARTS_AVAILABLE = True
     |
help: Remove unused import: `universal_chart_modernizer.modernize_existing_chart`

N806 Variable `MODERN_CHARTS_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7391:9
     |
7389 |             modernize_existing_chart,
7390 |         )
7391 |         MODERN_CHARTS_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^^
7392 |         CHART_MODERNIZER_AVAILABLE = True
7393 |     except ImportError:
     |

N806 Variable `CHART_MODERNIZER_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7392:9
     |
7390 |         )
7391 |         MODERN_CHARTS_AVAILABLE = True
7392 |         CHART_MODERNIZER_AVAILABLE = True
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
7393 |     except ImportError:
7394 |         MODERN_CHARTS_AVAILABLE = False
     |

N806 Variable `MODERN_CHARTS_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7394:9
     |
7392 |         CHART_MODERNIZER_AVAILABLE = True
7393 |     except ImportError:
7394 |         MODERN_CHARTS_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^^
7395 |         CHART_MODERNIZER_AVAILABLE = False
7396 |         st.warning(" Moderne Diagramme nicht verf├╝gbar - verwende Standard-Charts")
     |

N806 Variable `CHART_MODERNIZER_AVAILABLE` in function should be lowercase
    --> repair_pdf\analysis.py:7395:9
     |
7393 |     except ImportError:
7394 |         MODERN_CHARTS_AVAILABLE = False
7395 |         CHART_MODERNIZER_AVAILABLE = False
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
7396 |         st.warning(" Moderne Diagramme nicht verf├╝gbar - verwende Standard-Charts")
     |

B023 Function definition does not bind loop variable `unit_in_table`
    --> repair_pdf\analysis.py:7872:42
     |
7870 | ÔÇª                     format_kpi_value(
7871 | ÔÇª                         x,
7872 | ÔÇª                         unit=unit_in_table,
     |                                ^^^^^^^^^^^^^
7873 | ÔÇª                         precision=precision_in_table,
7874 | ÔÇª                         texts_dict=texts,
     |

B023 Function definition does not bind loop variable `precision_in_table`
    --> repair_pdf\analysis.py:7873:47
     |
7871 | ÔÇª                         x,
7872 | ÔÇª                         unit=unit_in_table,
7873 | ÔÇª                         precision=precision_in_table,
     |                                     ^^^^^^^^^^^^^^^^^^
7874 | ÔÇª                         texts_dict=texts,
7875 | ÔÇª                     )
     |

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8134:30
     |
8132 |                         fill="tozeroy",
8133 |                         stackgroup="one",
8134 |                         line=dict(color="#EF4444", width=2),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8135 |                     )
8136 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8145:30
     |
8143 |                         fill="tonexty",
8144 |                         stackgroup="one",
8145 |                         line=dict(color="#10B981", width=2),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8146 |                     )
8147 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8157:30
     |
8155 |                         name="Restschuld",
8156 |                         yaxis="y2",
8157 |                         line=dict(color="#3B82F6", width=3, dash="dash"),
     |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8158 |                     )
8159 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8165:28
     |
8163 |                       xaxis_title="Monat",
8164 |                       yaxis_title="Monatliche Belastung (Ôé¼)",
8165 |                       yaxis2=dict(
     |  ____________________________^
8166 | |                         title="Restschuld (Ôé¼)",
8167 | |                         overlaying="y",
8168 | |                         side="right",
8169 | |                         showgrid=False,
8170 | |                     ),
     | |_____________________^
8171 |                       hovermode="x unified",
8172 |                       legend=dict(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8172:28
     |
8170 |                       ),
8171 |                       hovermode="x unified",
8172 |                       legend=dict(
     |  ____________________________^
8173 | |                         orientation="h", yanchor="bottom", y=1.02, xanchor="right", x=1
8174 | |                     ),
     | |_____________________^
8175 |                   )
8176 |                   st.plotly_chart(
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8234:34
     |
8232 |                             mode="lines",
8233 |                             name="Kumulierte Zinsen",
8234 |                             line=dict(color="#EF4444", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8235 |                         )
8236 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8243:34
     |
8241 |                             mode="lines",
8242 |                             name="Kumulierte Tilgung",
8243 |                             line=dict(color="#10B981", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8244 |                         )
8245 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8350:34
     |
8348 |                             mode="lines",
8349 |                             name="Kumulierter Cashflow (Leasing)",
8350 |                             line=dict(color="#3B82F6", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8351 |                         )
8352 |                     )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8359:34
     |
8357 |                             mode="lines",
8358 |                             name="Kumulierter Cashflow (Kauf)",
8359 |                             line=dict(color="#10B981", width=3),
     |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8360 |                         )
8361 |                     )
     |
help: Rewrite as a literal

B007 Loop control variable `year` not used within loop body
    --> repair_pdf\analysis.py:8613:21
     |
8611 |                 cumulative = -roi_item["initial_investment"]
8612 |
8613 |                 for year in years:
     |                     ^^^^
8614 |                     cumulative += roi_item["net_benefit"]
8615 |                     cumulative_cashflow.append(cumulative)
     |
help: Rename unused `year` to `_year`

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:8623:30
     |
8621 |                         mode="lines+markers",
8622 |                         name=roi_item["option"],
8623 |                         line=dict(width=3),
     |                              ^^^^^^^^^^^^^
8624 |                     )
8625 |                 )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:9054:20
     |
9052 |             xaxis_title='Jahr',
9053 |             yaxis_title='J├ñhrlicher Cashflow (Ôé¼)',
9054 |             yaxis2=dict(title='Kumulativer Cashflow (Ôé¼)', side='right', overlaying='y'),
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
9055 |             height=400
9056 |         )
     |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
    --> repair_pdf\analysis.py:9220:18
     |
9218 |             fill='tozeroy',
9219 |             name='COÔéé-Einsparungen',
9220 |             line=dict(color='green', width=3)
     |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
9221 |         ))
     |
help: Rewrite as a literal

N801 Class name `sidebar` should use CapWords convention
  --> repair_pdf\calculations.py:33:15
   |
31 |         @staticmethod
32 |         def error(msg): print(f"ERROR: {msg}")
33 |         class sidebar:
   |               ^^^^^^^
34 |             @staticmethod
35 |             def info(msg): print(f"SIDEBAR INFO: {msg}")
   |

N802 Function name `Dummy_load_admin_setting_calc` should be lowercase
  --> repair_pdf\calculations.py:42:5
   |
41 | # --- DUMMY FUNKTIONEN UND FALLBACKS ---
42 | def Dummy_load_admin_setting_calc(key, default=None):
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |     if key == "price_matrix_csv_data":
44 |         return ""
   |

N802 Function name `Dummy_list_products_calc` should be lowercase
   --> repair_pdf\calculations.py:182:5
    |
182 | def Dummy_list_products_calc(category=None):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^
183 |     return []
    |

N802 Function name `Dummy_get_product_by_id_calc` should be lowercase
   --> repair_pdf\calculations.py:186:5
    |
186 | def Dummy_get_product_by_id_calc(product_id):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
187 |     return None
    |

N802 Function name `Dummy_get_product_by_model_name_calc` should be lowercase
   --> repair_pdf\calculations.py:190:5
    |
190 | def Dummy_get_product_by_model_name_calc(model_name):
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
191 |     return None
    |

B905 `zip()` without an explicit `strict=` parameter
   --> repair_pdf\calculations.py:651:27
    |
649 |         self_consumption = []
650 |
651 |         for prod, cons in zip(monthly_production, monthly_consumption):
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
652 |             if prod > cons:
653 |                 grid_feed_in.append(prod - cons)
    |
help: Add explicit value for parameter `strict=`

E722 Do not use bare `except`
    --> repair_pdf\calculations.py:1333:9
     |
1331 |                     irr = rate
1332 |                     break
1333 |         except:
     |         ^^^^^^
1334 |             irr = 0.05  # Fallback
     |

F841 Local variable `finance_rate` is assigned to but never used
    --> repair_pdf\calculations.py:1337:9
     |
1336 |         # MIRR (vereinfacht)
1337 |         finance_rate = 0.04
     |         ^^^^^^^^^^^^
1338 |         reinvest_rate = 0.03
1339 |         mirr = ((annual_benefit * lifetime / investment) ** (1 / lifetime)) - 1
     |
help: Remove assignment to unused variable `finance_rate`

F841 Local variable `reinvest_rate` is assigned to but never used
    --> repair_pdf\calculations.py:1338:9
     |
1336 |         # MIRR (vereinfacht)
1337 |         finance_rate = 0.04
1338 |         reinvest_rate = 0.03
     |         ^^^^^^^^^^^^^
1339 |         mirr = ((annual_benefit * lifetime / investment) ** (1 / lifetime)) - 1
     |
help: Remove assignment to unused variable `reinvest_rate`

F811 Redefinition of unused `calculate_shading_analysis` from line 1045
    --> repair_pdf\calculations.py:1515:9
     |
1513 |         }
1514 |
1515 |     def calculate_shading_analysis(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_shading_analysis` redefined here
1516 |         self, project_data: dict[str, Any]
1517 |     ) -> dict[str, Any]:
     |
    ::: repair_pdf\calculations.py:1045:9
     |
1043 |         }
1044 |
1045 |     def calculate_shading_analysis(
     |         -------------------------- previous definition of `calculate_shading_analysis` here
1046 |         self, project_data: dict[str, Any]
1047 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_shading_analysis`

F811 Redefinition of unused `calculate_subsidy_scenarios` from line 1068
    --> repair_pdf\calculations.py:1747:9
     |
1745 |         }
1746 |
1747 |     def calculate_subsidy_scenarios(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_subsidy_scenarios` redefined here
1748 |         self, calc_results: dict[str, Any]
1749 |     ) -> dict[str, Any]:
     |
    ::: repair_pdf\calculations.py:1068:9
     |
1066 |         }
1067 |
1068 |     def calculate_subsidy_scenarios(
     |         --------------------------- previous definition of `calculate_subsidy_scenarios` here
1069 |         self, calc_results: dict[str, Any]
1070 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_subsidy_scenarios`

F811 Redefinition of unused `calculate_detailed_co2_analysis` from line 1167
    --> repair_pdf\calculations.py:1846:9
     |
1844 |         return {"scenarios": scenarios, "comparison": comparison}
1845 |
1846 |     def calculate_detailed_co2_analysis(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `calculate_detailed_co2_analysis` redefined here
1847 |         self, calc_results: dict[str, Any]
1848 |     ) -> dict[str, Any]:
     |
    ::: repair_pdf\calculations.py:1167:9
     |
1165 |         }
1166 |
1167 |     def calculate_detailed_co2_analysis(
     |         ------------------------------- previous definition of `calculate_detailed_co2_analysis` here
1168 |         self, calc_results: dict[str, Any]
1169 |     ) -> dict[str, Any]:
     |
help: Remove definition: `calculate_detailed_co2_analysis`

F811 Redefinition of unused `generate_optimization_suggestions` from line 1104
    --> repair_pdf\calculations.py:1903:9
     |
1901 |         }
1902 |
1903 |     def generate_optimization_suggestions(
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `generate_optimization_suggestions` redefined here
1904 |         self, calc_results: dict[str, Any], project_data: dict[str, Any]
1905 |     ) -> dict[str, Any]:
     |
    ::: repair_pdf\calculations.py:1104:9
     |
1102 |         }
1103 |
1104 |     def generate_optimization_suggestions(
     |         --------------------------------- previous definition of `generate_optimization_suggestions` here
1105 |         self, calc_results: dict[str, Any], project_data: dict[str, Any]
1106 |     ) -> dict[str, Any]:
     |
help: Remove definition: `generate_optimization_suggestions`

N806 Variable `DEFAULT_YIELD_KWH_PER_KWP_ANNUAL` in function should be lowercase
    --> repair_pdf\calculations.py:2331:5
     |
2330 |     # Globale Konstanten extrahieren mit robusten Fallbacks
2331 |     DEFAULT_YIELD_KWH_PER_KWP_ANNUAL = float(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2332 |         global_constants.get("default_specific_yield_kwh_kwp", 950.0) or 950.0
2333 |     )
     |

F823 Local variable `st` referenced before assignment
    --> repair_pdf\calculations.py:2440:17
     |
2438 |             print(debug_msg)
2439 |             if STREAMLIT_AVAILABLE:
2440 |                 st.sidebar.info(debug_msg)
     |                 ^^
2441 |
2442 |     except ImportError:
     |

N806 Variable `SYSTEM_LOSS_PVGIS` in function should be lowercase
    --> repair_pdf\calculations.py:2487:17
     |
2485 |                 orientation_text_val = project_details.get("roof_orientation", "S├╝d")
2486 |                 azimuth_val = convert_orientation_to_pvgis_azimuth(orientation_text_val)
2487 |                 SYSTEM_LOSS_PVGIS = float(
     |                 ^^^^^^^^^^^^^^^^^
2488 |                     global_constants.get("pvgis_system_loss_default_percent", 14.0)
2489 |                     or 14.0
     |

E722 Do not use bare `except`
    --> repair_pdf\calculations.py:2557:13
     |
2555 |                 import streamlit as st_local
2556 |                 st_local.info("Ôä╣ PV GIS ist in den Einstellungen DEAKTIVIERT. Verwende manuelle Ertragsberechnung.")
2557 |             except:
     |             ^^^^^^
2558 |                 pass  # Streamlit nicht verf├╝gbar, ignoriere Meldung
     |

F841 Local variable `direct_sc_from_production_factor` is assigned to but never used
    --> repair_pdf\calculations.py:2681:5
     |
2680 |     # Eigenverbrauchsberechnung (vereinfacht, kann detaillierter werden)
2681 |     direct_sc_from_production_factor = float(
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2682 |         global_constants.get("direct_self_consumption_factor_of_production", 0.25)
2683 |         or 0.25
     |
help: Remove assignment to unused variable `direct_sc_from_production_factor`

F821 Undefined name `BreakEvenAnalysis`
    --> repair_pdf\calculations.py:3613:31
     |
3611 |     # Break-Even Analyse
3612 |     try:
3613 |         break_even_analyzer = BreakEvenAnalysis(
     |                               ^^^^^^^^^^^^^^^^^
3614 |             investment=total_investment_brutto,
3615 |             annual_savings=annual_financial_benefit_year1,
     |

F841 Local variable `pv_savings` is assigned to but never used
    --> repair_pdf\calculations.py:3893:9
     |
3891 |     ) -> dict[str, list[dict[str, float]]]:
3892 |         base_cost = self.current_consumption * self.current_price
3893 |         pv_savings = self.self_consumption * self.current_price
     |         ^^^^^^^^^^
3894 |         feed_in_revenue = (
3895 |             self.pv_production - self.self_consumption
     |
help: Remove assignment to unused variable `pv_savings`

RET504 Unnecessary assignment to `offer_details` before `return` statement
    --> repair_pdf\calculations.py:4093:16
     |
4091 |         }
4092 |
4093 |         return offer_details
     |                ^^^^^^^^^^^^^
4094 |
4095 |     except Exception as e:
     |
help: Remove unnecessary assignment

E701 Multiple statements on one line (colon)
  --> repair_pdf\calculations_extended.py:47:22
   |
45 |         current_annual_savings *= (1 + price_increase_percent / 100)
46 |         years += 1
47 |         if years > 50: return float('inf') # Sicherheitsabbruch
   |                      ^
48 |     # Feinjustierung f├╝r unterj├ñhrige Amortisation
49 |     return years - (cumulative_savings - investment) / (current_annual_savings / (1 + price_increase_percent / 100))
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\calculations_extended.py:60:23
   |
58 | def calculate_internal_rate_of_return(investment: float, annual_savings: float) -> float:
59 |     """Berechnet den internen Zinsfu├ƒ (IRR)."""
60 |     if investment <= 0: return 0.0
   |                       ^
61 |     cash_flows = [-investment] + [annual_savings] * LIFESPAN_YEARS
62 |     try:
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\calculations_extended.py:91:32
   |
89 | def calculate_lcoe(total_costs: float, total_generated_kwh: float) -> float:
90 |     """2. Stromgestehungskosten (LCOE) in Ôé¼/kWh"""
91 |     if total_generated_kwh == 0: return float('inf')
   |                                ^
92 |     return total_costs / total_generated_kwh
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\calculations_extended.py:96:33
   |
94 | def calculate_self_consumption_quote(self_consumed_kwh: float, total_generation_kwh: float) -> float:
95 |     """3. Eigenverbrauchsquote (%)"""
96 |     if total_generation_kwh == 0: return 0.0
   |                                 ^
97 |     return (self_consumed_kwh / total_generation_kwh) * 100
   |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:101:34
    |
 99 | def calculate_autarky_degree(self_consumed_kwh: float, total_consumption_kwh: float) -> float:
100 |     """4. Autarkiegrad (%) """
101 |     if total_consumption_kwh == 0: return 0.0
    |                                  ^
102 |     return (self_consumed_kwh / total_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:106:27
    |
104 | def calculate_payback_period(investment_costs: float, annual_savings: float) -> float:
105 |     """5. Amortisationsdauer (Jahre) """
106 |     if annual_savings == 0: return float('inf')
    |                           ^
107 |     return investment_costs / annual_savings
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:127:32
    |
125 | def calculate_effective_pv_electricity_price(total_costs: float, total_generated_kwh: float) -> float:
126 |     """10. Effektiver Strompreis durch PV (ct/kWh) """
127 |     if total_generated_kwh == 0: return float('inf')
    |                                ^
128 |     return (total_costs / total_generated_kwh) * 100
    |

E722 Do not use bare `except`
   --> repair_pdf\calculations_extended.py:142:5
    |
140 |     try:
141 |         return npf.irr(cashflows) * 100
142 |     except:
    |     ^^^^^^
143 |         return 0.0
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:155:39
    |
153 | def calculate_storage_coverage_degree(stored_self_consumption_kwh: float, total_self_consumption_kwh: float) -> float:
154 |     """15. Speicherdeckungsgrad (%)"""
155 |     if total_self_consumption_kwh == 0: return 0.0
    |                                       ^
156 |     return (stored_self_consumption_kwh / total_self_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:169:24
    |
167 |     """18. Berechnung Dachfl├ñchennutzung - Anzahl Module """
168 |     module_area = module_length_m * module_width_m
169 |     if module_area == 0: return 0
    |                        ^
170 |     return int(roof_area_m2 / module_area)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:174:27
    |
172 | def calculate_break_even_year(investment: float, annual_savings: float) -> int:
173 |     """19. Break-Even-Analyse - Im wievielten Jahr """
174 |     if annual_savings == 0: return float('inf')
    |                           ^
175 |     return int(investment // annual_savings) + 1
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:200:30
    |
198 |     # Annahme: 'global_radiation' ist die Einstrahlung auf die Modulfl├ñche (kWh).
199 |     theoretical_yield = global_radiation_kwh_per_m2 * pv_area_m2
200 |     if theoretical_yield == 0: return 0.0
    |                              ^
201 |     return actual_yield_kwh / theoretical_yield
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:205:30
    |
203 | def calculate_specific_yield(annual_yield_kwh: float, pv_peak_power_kwp: float) -> float:
204 |     """22. Spezifischer Ertrag (kWh/kWp) """
205 |     if pv_peak_power_kwp == 0: return 0.0
    |                              ^
206 |     return annual_yield_kwh / pv_peak_power_kwp
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:210:29
    |
208 | def calculate_area_specific_yield(annual_yield_kwh: float, occupied_area_m2: float) -> float:
209 |     """23. Fl├ñchenspezifischer Ertrag (kWh/m┬▓) """
210 |     if occupied_area_m2 == 0: return 0.0
    |                             ^
211 |     return annual_yield_kwh / occupied_area_m2
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:215:27
    |
213 | def calculate_pv_module_efficiency(module_power_wp: float, module_area_m2: float) -> float:
214 |     """24. Effizienz der PV-Module (%) """
215 |     if module_area_m2 == 0: return 0.0
    |                           ^
216 |     # 1000 W/m┬▓ ist die Standard-Testbedingung (STC)
217 |     return (module_power_wp / (module_area_m2 * 1000)) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:221:26
    |
219 | def calculate_shading_loss(yield_with_shading: float, optimal_yield: float) -> float:
220 |     """25. Verschattungsverlust (%) """
221 |     if optimal_yield == 0: return 0.0
    |                          ^
222 |     return (1 - (yield_with_shading / optimal_yield)) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:226:30
    |
224 | def calculate_dc_ac_oversizing_factor(pv_power_kwp: float, inverter_power_kw: float) -> float:
225 |     """26. DC/AC-├£berdimensionierungsfaktor """
226 |     if inverter_power_kw == 0: return float('inf')
    |                              ^
227 |     return pv_power_kwp / inverter_power_kw
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:260:44
    |
258 | def calculate_pv_coverage_for_heatpump(pv_surplus_to_hp_kwh: float, heatpump_annual_consumption_kwh: float) -> float:
259 |     """33. PV-Deckungsgrad f├╝r W├ñrmepumpe (%) """
260 |     if heatpump_annual_consumption_kwh == 0: return 0.0
    |                                            ^
261 |     return (pv_surplus_to_hp_kwh / heatpump_annual_consumption_kwh) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:265:27
    |
263 | def calculate_roe(profit: float, equity_capital: float) -> float:
264 |     """34. Eigenkapitalrendite (ROE) (%) """
265 |     if equity_capital == 0: return float('inf')
    |                           ^
266 |     return (profit / equity_capital) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:270:20
    |
268 | def check_debt_service_capability(annual_surplus: float, annuity: float) -> float:
269 |     """35. Kapitaldienstf├ñhigkeitspr├╝fung (als Faktor) """
270 |     if annuity == 0: return float('inf')
    |                    ^
271 |     # Ein Wert > 1.2 wird oft als sicher angesehen.
272 |     return annual_surplus / annuity
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:280:31
    |
278 | def calculate_linear_depreciation(investment: float, depreciation_years: int) -> float:
279 |     """37. Steuerliche Abschreibung (linear) """
280 |     if depreciation_years == 0: return 0.0
    |                               ^
281 |     return investment / depreciation_years
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:310:28
    |
308 | def calculate_battery_lifespan_years(max_cycles: int, cycles_per_year: int) -> float:
309 |     """43. Batteriezyklus-Kalkulation (Lebensdauer in Jahren) """
310 |     if cycles_per_year == 0: return float('inf')
    |                            ^
311 |     return max_cycles / cycles_per_year
    |

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> repair_pdf\calculations_extended.py:329:12
    |
327 |     # Platzhalter-Funktion, die die Struktur zur├╝ckgibt.
328 |     # Hier w├╝rde f├╝r jedes Szenario eine KPI-Berechnung stattfinden.
329 |     return {name: kpis for name, kpis in scenarios.items()}
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
330 |
331 | def calculate_plant_expansion(old_kpis: dict, new_kpis: dict) -> dict:
    |
help: Rewrite using `dict()`

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:345:23
    |
343 | def calculate_profitability_index(investment: float, annual_savings: float) -> float:
344 |     """Berechnet den Rentabilit├ñtsindex."""
345 |     if investment <= 0: return 0.0
    |                       ^
346 |     npv_of_future_cash_flows = npf.npv(DISCOUNT_RATE, [annual_savings] * LIFESPAN_YEARS)
347 |     return npv_of_future_cash_flows / investment
    |

F811 Redefinition of unused `calculate_lcoe` from line 89
   --> repair_pdf\calculations_extended.py:350:5
    |
350 | def calculate_lcoe(investment: float, annual_production_kwh: float) -> float:
    |     ^^^^^^^^^^^^^^ `calculate_lcoe` redefined here
351 |     """Berechnet die Energiegestehungskosten (LCOE) in ct/kWh."""
352 |     if annual_production_kwh <= 0: return float('inf')
    |
   ::: repair_pdf\calculations_extended.py:89:5
    |
 87 |     return pv_peak_power_kwp * specific_yield_kwh_per_kwp
 88 |
 89 | def calculate_lcoe(total_costs: float, total_generated_kwh: float) -> float:
    |     -------------- previous definition of `calculate_lcoe` here
 90 |     """2. Stromgestehungskosten (LCOE) in Ôé¼/kWh"""
 91 |     if total_generated_kwh == 0: return float('inf')
    |
help: Remove definition: `calculate_lcoe`

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:352:34
    |
350 | def calculate_lcoe(investment: float, annual_production_kwh: float) -> float:
351 |     """Berechnet die Energiegestehungskosten (LCOE) in ct/kWh."""
352 |     if annual_production_kwh <= 0: return float('inf')
    |                                  ^
353 |     # Vereinfachte Formel (ohne Betriebskosten, die hier in der Ersparnis stecken)
354 |     # Annuit├ñtenfaktor berechnen
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:367:34
    |
365 | def calculate_energy_payback_time(total_embodied_energy_kwh: float, annual_production_kwh: float) -> float:
366 |     """Berechnet die energetische Amortisationszeit."""
367 |     if annual_production_kwh <= 0: return float('inf')
    |                                  ^
368 |     return total_embodied_energy_kwh / annual_production_kwh
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:375:34
    |
373 |     total_embodied_co2 = pv_size_kwp * CO2_EMBODIED_PV_KWP
374 |     annual_co2_savings_kg = annual_production_kwh * CO2_EMISSIONS_GRID_KWH
375 |     if annual_co2_savings_kg <= 0: return float('inf')
    |                                  ^
376 |     return total_embodied_co2 / annual_co2_savings_kg
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:381:23
    |
379 | def calculate_total_roi(investment: float, annual_savings: float) -> float:
380 |     """Berechnet die Gesamtrendite ├╝ber die gesamte Lebensdauer."""
381 |     if investment <= 0: return 0.0
    |                       ^
382 |     total_profit = (annual_savings * LIFESPAN_YEARS) - investment
383 |     return (total_profit / investment) * 100
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\calculations_extended.py:388:23
    |
386 | def calculate_annual_equity_return(investment: float, annual_savings: float) -> float:
387 |     """Berechnet die durchschnittliche j├ñhrliche Eigenkapitalrendite."""
388 |     if investment <= 0: return 0.0
    |                       ^
389 |     return (annual_savings / investment) * 100
    |

RET504 Unnecessary assignment to `results` before `return` statement
   --> repair_pdf\calculations_extended.py:424:12
    |
422 |         "profit_after_20_years": calculate_profit_after_x_years(investment, annual_savings, 20),
423 |     }
424 |     return results
    |            ^^^^^^^
    |
help: Remove unnecessary assignment

F841 Local variable `test_generator` is assigned to but never used
   --> repair_pdf\central_pdf_system.py:108:13
    |
106 |             )
107 |             # Teste ob das Mega Hybrid System verf├╝gbar ist
108 |             test_generator = MegaTOM90HybridPDFGenerator
    |             ^^^^^^^^^^^^^^
109 |             self.available_systems['mega_hybrid'] = generate_mega_hybrid_pdf
110 |             st.session_state.pdf_mega_hybrid_available = True
    |
help: Remove assignment to unused variable `test_generator`

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:124:13
    |
122 |                 st.session_state.pdf_mega_hybrid_available = True
123 |                 print(" Mega Hybrid System verf├╝gbar (trotz Warnungen)")
124 |             except:
    |             ^^^^^^
125 |                 self.available_systems['mega_hybrid'] = self._dummy_mega_hybrid_pdf
126 |                 st.session_state.pdf_mega_hybrid_available = False
    |

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:147:9
    |
145 |             from pdf_generator import generate_offer_pdf
146 |             return generate_offer_pdf(*args, **kwargs)
147 |         except:
    |         ^^^^^^
148 |             try:
149 |                 # Fallback auf Business-Sections
    |

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:155:13
    |
153 |                     st.info(" Verwende Business-Sections als Standard-Fallback...")
154 |                     return generate_business_sections_pdf(company_info)
155 |             except:
    |             ^^^^^^
156 |                 st.error(" Standard PDF-Generator nicht verf├╝gbar!")
157 |                 return None
    |

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:196:17
    |
194 |                         st.info(" Verwende Business-Sections PDF als TOM-90 Fallback...")
195 |                         return generate_business_sections_pdf(company_info)
196 |                 except:
    |                 ^^^^^^
197 |                     st.error(" TOM-90 PDF-System nicht verf├╝gbar!")
198 |                     return None
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> repair_pdf\central_pdf_system.py:289:42
    |
288 | ÔÇª     # Deaktiviere alle Business-Sektionen (k├Ânnen XML-Probleme verursachen)
289 | ÔÇª     business_keys = [key for key in safe_inclusion_options.keys() if 'business' in key.lower() or 'warranty' in key.lower()]
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
290 | ÔÇª     for key in business_keys:
291 | ÔÇª         safe_inclusion_options[key] = False
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> repair_pdf\central_pdf_system.py:427:53
    |
425 |                         safe_inclusion_options = kwargs.get('inclusion_options', {}).copy()
426 |                         # Entferne alle problematischen Optionen
427 |                         xml_problem_keys = [key for key in safe_inclusion_options.keys()
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
428 |                                           if 'warranty' in key.lower() or 'insurance' in key.lower()
429 |                                           or 'maintenance' in key.lower()]
    |
help: Remove `.keys()`

F401 `tom90_renderer.generate_tom90_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> repair_pdf\central_pdf_system.py:626:40
    |
624 |         try:
625 |             # Pr├╝fe den RICHTIGEN TOM-90 Renderer
626 |             from tom90_renderer import generate_tom90_offer_pdf
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^
627 |             status['tom90'] = True
628 |             print(" TOM90 Renderer (mit Business-Sections) verf├╝gbar")
    |
help: Remove unused import: `tom90_renderer.generate_tom90_offer_pdf`

F401 `tom90_exact_renderer.TOM90ExactRenderer` imported but unused; consider using `importlib.util.find_spec` to test for availability
   --> repair_pdf\central_pdf_system.py:633:50
    |
631 |             try:
632 |                 # Fallback auf tom90_exact_renderer
633 |                 from tom90_exact_renderer import TOM90ExactRenderer
    |                                                  ^^^^^^^^^^^^^^^^^^
634 |                 status['tom90'] = True
635 |                 print(" TOM90ExactRenderer (Fallback) verf├╝gbar")
    |
help: Remove unused import: `tom90_exact_renderer.TOM90ExactRenderer`

F841 Local variable `test_generator` is assigned to but never used
   --> repair_pdf\central_pdf_system.py:646:13
    |
644 |             )
645 |             # Zus├ñtzliche Validierung - teste ob die Klasse funktional ist
646 |             test_generator = MegaTOM90HybridPDFGenerator
    |             ^^^^^^^^^^^^^^
647 |             test_function = generate_mega_hybrid_pdf
648 |             status['mega_hybrid'] = True
    |
help: Remove assignment to unused variable `test_generator`

F841 Local variable `test_function` is assigned to but never used
   --> repair_pdf\central_pdf_system.py:647:13
    |
645 |             # Zus├ñtzliche Validierung - teste ob die Klasse funktional ist
646 |             test_generator = MegaTOM90HybridPDFGenerator
647 |             test_function = generate_mega_hybrid_pdf
    |             ^^^^^^^^^^^^^
648 |             status['mega_hybrid'] = True
649 |             print(" MegaTOM90HybridPDFGenerator vollst├ñndig verf├╝gbar")
    |
help: Remove assignment to unused variable `test_function`

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:660:13
    |
658 |                 status['mega_hybrid'] = True
659 |                 print(" MegaTOM90HybridPDFGenerator teilweise verf├╝gbar")
660 |             except:
    |             ^^^^^^
661 |                 status['mega_hybrid'] = False
    |

SIM105 Use `contextlib.suppress(BaseException)` instead of `try`-`except`-`pass`
   --> repair_pdf\central_pdf_system.py:664:9
    |
663 |           # Preview pr├╝fen
664 | /         try:
665 | |             status['preview'] = st.session_state.get('pdf_preview_available', False)
666 | |         except:
667 | |             pass
    | |________________^
668 |
669 |           return status
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(BaseException): ...`

E722 Do not use bare `except`
   --> repair_pdf\central_pdf_system.py:666:9
    |
664 |         try:
665 |             status['preview'] = st.session_state.get('pdf_preview_available', False)
666 |         except:
    |         ^^^^^^
667 |             pass
    |

E722 Do not use bare `except`
    --> repair_pdf\central_pdf_system.py:1164:21
     |
1162 |                         current_options["selected_company_text_templates"] = [t['id'] for t in all_text_templates]
1163 |                         current_options["selected_company_image_templates"] = [t['id'] for t in all_image_templates]
1164 |                     except:
     |                     ^^^^^^
1165 |                         pass
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\central_pdf_system.py:1312:29
     |
1311 |   ÔÇª                     # Nach oben verschieben
1312 | / ÔÇª                     if st.button("", key=f"move_up_{i}", disabled=(i == 0), help="Nach oben verschieben"):
1313 | | ÔÇª                         if i > 0:
     | |___________________________________^
1314 |   ÔÇª                             custom_items[i], custom_items[i-1] = custom_items[i-1], custom_items[i]
1315 |   ÔÇª                             st.session_state["custom_content_items"] = custom_items
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\central_pdf_system.py:1319:29
     |
1318 |   ÔÇª                     # Nach unten verschieben
1319 | / ÔÇª                     if st.button("", key=f"move_down_{i}", disabled=(i == len(custom_items)-1), help="Nach unten verschieben"):
1320 | | ÔÇª                         if i < len(custom_items)-1:
     | |_____________________________________________________^
1321 |   ÔÇª                             custom_items[i], custom_items[i+1] = custom_items[i+1], custom_items[i]
1322 |   ÔÇª                             st.session_state["custom_content_items"] = custom_items
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\central_pdf_system.py:1423:29
     |
1421 |                       for i, (section_id, section_name, section_desc) in enumerate(group_sections):
1422 |                           with group_cols[i % 2]:
1423 | /                             if st.checkbox(
1424 | |                                 section_name,
1425 | |                                 value=section_id in selected_main_sections,
1426 | |                                 key=f"section_{section_id}",
1427 | |                                 help=section_desc
1428 | |                             ):
1429 | |                                 if section_id not in updated_sections:
     | |______________________________________________________________________^
1430 |                                       updated_sections.append(section_id)
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\central_pdf_system.py:1465:29
     |
1464 |                           with reorder_col3:
1465 | /                             if st.button("", key=f"up_{section}_{i}", disabled=(i == 0), help="Nach oben verschieben"):
1466 | |                                 if i > 0:
     | |_________________________________________^
1467 |                                       ordered_selected[i], ordered_selected[i-1] = ordered_selected[i-1], ordered_selected[i]
1468 |                                       st.session_state[f"{self.session_prefix}selected_main_sections"] = ordered_selected
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\central_pdf_system.py:1472:29
     |
1471 |   ÔÇª     with reorder_col4:
1472 | / ÔÇª         if st.button("", key=f"down_{section}_{i}", disabled=(i == len(ordered_selected)-1), help="Nach unten verschieben"):
1473 | | ÔÇª             if i < len(ordered_selected)-1:
     | |_____________________________________________^
1474 |   ÔÇª                 ordered_selected[i], ordered_selected[i+1] = ordered_selected[i+1], ordered_selected[i]
1475 |   ÔÇª                 st.session_state[f"{self.session_prefix}selected_main_sections"] = ordered_selected
     |
help: Combine `if` statements using `and`

F401 `financial_tools` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\central_pdf_system.py:1673:24
     |
1671 |             # Pr├╝fe ob financial_tools verf├╝gbar ist
1672 |             try:
1673 |                 import financial_tools
     |                        ^^^^^^^^^^^^^^^
1674 |                 st.success(" Financial Tools verf├╝gbar - Berechnungen werden automatisch aus bestehenden Ergebnissen ├╝bernommen")
     |
help: Remove unused import: `financial_tools`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> repair_pdf\central_pdf_system.py:2093:40
     |
2091 |         "ui_initialized": CENTRAL_PDF_UI is not None,
2092 |         "available_systems": PDF_MANAGER.get_system_status() if PDF_MANAGER else {},
2093 |         "session_state_keys": [key for key in st.session_state.keys() if "central_pdf_" in key]
     |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2094 |     }
     |
help: Remove `.keys()`

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:42:42
   |
40 | # (Diese bleiben unver├ñndert)
41 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
42 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
   |                                          ^
43 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
44 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:43:42
   |
41 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
42 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
43 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
   |                                          ^
44 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
45 |     if key == 'active_company_id': return None
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:44:43
   |
42 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
43 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
44 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |                                           ^
45 |     if key == 'active_company_id': return None
46 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:45:34
   |
43 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
44 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
45 |     if key == 'active_company_id': return None
   |                                  ^
46 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
47 |     if key == 'company_logo_base64': return None
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:46:36
   |
44 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
45 |     if key == 'active_company_id': return None
46 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
   |                                    ^
47 |     if key == 'company_logo_base64': return None
48 |     return default
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:47:36
   |
45 |     if key == 'active_company_id': return None
46 |     if key == 'company_information': return {"name": "Ihre Firma (Fallback)", "id": 0, "logo_base64": None}
47 |     if key == 'company_logo_base64': return None
   |                                    ^
48 |     return default
49 | def _dummy_save_admin_setting_pdf_ui(key, value): return False
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:53:20
   |
51 |     st.error("PDF-Generierungsfunktion (pdf_generator.py) nicht verf├╝gbar oder fehlerhaft (Dummy in pdf_ui.py aktiv).")
52 |     missing_args = [k for k in ['load_admin_setting_func', 'save_admin_setting_func', 'list_products_func', 'get_product_by_id_func'] ÔÇª
53 |     if missing_args: st.error(f"Dummy PDF Generator: Fehlende Kernfunktionen: {', '.join(missing_args)}")
   |                    ^
54 |     return
55 | def _dummy_get_active_company_details() -> dict[str, Any] | None:
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:71:42
   |
69 |     from pdf_generator import generate_offer_pdf
70 |     _generate_offer_pdf_safe = generate_offer_pdf
71 | except (ImportError, ModuleNotFoundError): pass
   |                                          ^
72 | except Exception: pass
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\doc_output.py:72:17
   |
70 |     _generate_offer_pdf_safe = generate_offer_pdf
71 | except (ImportError, ModuleNotFoundError): pass
72 | except Exception: pass
   |                 ^
73 |
74 | # --- Hilfsfunktionen ---
   |

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:173:79
    |
171 |     #  PREMIUM PDF UI HEADER
172 |     st.markdown("""
173 |     <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                               ^
174 |                 border-radius: 20px; padding: 30px; margin: 20px 0; 
175 |                 box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:174:68
    |
172 |     st.markdown("""
173 |     <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
174 |                 border-radius: 20px; padding: 30px; margin: 20px 0; 
    |                                                                    ^
175 |                 box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center;">
176 |         <h1 style="color: white; margin: 0; font-weight: 700; font-size: 32px;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:215:79
    |
213 |     st.markdown("---")
214 |     st.markdown("""
215 |     <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
    |                                                                               ^
216 |                 border-radius: 15px; padding: 20px; margin: 15px 0; 
217 |                 box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:216:68
    |
214 |     st.markdown("""
215 |     <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
216 |                 border-radius: 15px; padding: 20px; margin: 15px 0; 
    |                                                                    ^
217 |                 box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
218 |         <h3 style="color: white; margin: 0; font-weight: 600; text-align: center;">
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:313:83
    |
311 |     with st.expander(" DIAGRAMM-KONFIGURATION", expanded=False):
312 |         st.markdown("""
313 |         <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                                   ^
314 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
315 |             <h4 style="margin: 0; color: white;"> ERWEITERTE DIAGRAMM-FEATURES</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:432:87
    |
430 |         if include_financing:
431 |             st.markdown("""
432 |             <div style="background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); 
    |                                                                                       ^
433 |                         border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
434 |                 <h4 style="margin: 0; color: white;"> FINANZIERUNGSOPTIONEN</h4>
    |
help: Remove trailing whitespace

F841 Local variable `show_irradiance_map` is assigned to but never used
   --> repair_pdf\doc_output.py:577:21
    |
575 |                 with pvgis_col1:
576 |                     st.markdown("** Standort-Daten:**")
577 |                     show_irradiance_map = st.checkbox(" Einstrahlungskarte", value=True, key="pdf_irradiance_map")
    |                     ^^^^^^^^^^^^^^^^^^^
578 |                     show_weather_data = st.checkbox(" Wetterdaten", value=True, key="pdf_weather_data")
    |
help: Remove assignment to unused variable `show_irradiance_map`

F841 Local variable `show_weather_data` is assigned to but never used
   --> repair_pdf\doc_output.py:578:21
    |
576 |                     st.markdown("** Standort-Daten:**")
577 |                     show_irradiance_map = st.checkbox(" Einstrahlungskarte", value=True, key="pdf_irradiance_map")
578 |                     show_weather_data = st.checkbox(" Wetterdaten", value=True, key="pdf_weather_data")
    |                     ^^^^^^^^^^^^^^^^^
579 |
580 |                 with pvgis_col2:
    |
help: Remove assignment to unused variable `show_weather_data`

F841 Local variable `show_monthly_data` is assigned to but never used
   --> repair_pdf\doc_output.py:582:21
    |
580 |                 with pvgis_col2:
581 |                     st.markdown("** PV GIS Analysen:**")
582 |                     show_monthly_data = st.checkbox(" Monatliche Daten", value=True, key="pdf_monthly_data")
    |                     ^^^^^^^^^^^^^^^^^
583 |                     show_optimal_tilt = st.checkbox(" Optimaler Neigungswinkel", value=False, key="pdf_optimal_tilt")
    |
help: Remove assignment to unused variable `show_monthly_data`

F841 Local variable `show_optimal_tilt` is assigned to but never used
   --> repair_pdf\doc_output.py:583:21
    |
581 |                     st.markdown("** PV GIS Analysen:**")
582 |                     show_monthly_data = st.checkbox(" Monatliche Daten", value=True, key="pdf_monthly_data")
583 |                     show_optimal_tilt = st.checkbox(" Optimaler Neigungswinkel", value=False, key="pdf_optimal_tilt")
    |                     ^^^^^^^^^^^^^^^^^
584 |
585 |     #  UNLIMITED CUSTOM TEXTS & IMAGES
    |
help: Remove assignment to unused variable `show_optimal_tilt`

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:588:83
    |
586 |     with st.expander(" UNLIMITED CUSTOM TEXTS & IMAGES", expanded=False):
587 |         st.markdown("""
588 |         <div style="background: linear-gradient(135deg, #ff7b7b 0%, #667eea 100%); 
    |                                                                                   ^
589 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
590 |             <h4 style="margin: 0; color: white;"> UNBEGRENZTE ANPASSUNGSM├ûGLICHKEITEN</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:829:83
    |
827 |     with st.expander(" PDF DRAG & DROP EDITOR (REAL-TIME)", expanded=False):
828 |         st.markdown("""
829 |         <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    |                                                                                   ^
830 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
831 |             <h4 style="margin: 0; color: white;"> INTERAKTIVER PDF EDITOR</h4>
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> repair_pdf\doc_output.py:950:34
    |
948 |                 ** Standard Charts:**
949 |                 -  Balkendiagramm
950 |                 -  Liniendiagramm  
    |                                  ^^
951 |                 - ­ƒÑº Kreisdiagramm
952 |                 -  Fl├ñchendiagramm
    |
help: Remove trailing whitespace

SIM102 Use a single `if` statement instead of nested `if` statements
   --> repair_pdf\doc_output.py:985:13
    |
983 |                   """)
984 |
985 | /             if uploaded_image:
986 | |                 if st.button(" Bild zur Drag & Drop Zone", use_container_width=True):
    | |_____________________________________________________________________________________^
987 |                       st.success(f" Bild '{uploaded_image.name}' hinzugef├╝gt")
    |
help: Combine `if` statements using `and`

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1055:36
     |
1053 |                 st.markdown("""
1054 |                 ** Templates:**
1055 |                 -  Angebot-Template  
     |                                    ^^
1056 |                 -  Report-Template
1057 |                 -  Pr├ñsentation
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1070:81
     |
1068 |         # Simulated Canvas
1069 |         st.markdown("""
1070 |         <div style="border: 2px dashed #ccc; border-radius: 10px; padding: 30px; 
     |                                                                                 ^
1071 |                     min-height: 300px; background: #f8f9fa; text-align: center;">
1072 |             <h3 style="color: #666; margin-top: 50px;"> DRAG & DROP CANVAS</h3>
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> repair_pdf\doc_output.py:1075:1
     |
1073 | ÔÇª     <p style="color: #888;">Ziehen Sie Elemente aus der Bibliothek hierher</p>
1074 | ÔÇª     <p style="color: #888;"> Real-Time Vorschau |  Auto-Save |  Grid-Snap</p>
1075 | ÔÇª     
 ^^^^^^^^^^^^
1076 | ÔÇª     <div style="margin: 20px 0; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
1077 | ÔÇª         <h4> BEISPIEL PDF-SEITE</h4>
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1142:83
     |
1140 |     with st.expander(" PDF UI VERSCH├ûNERUNG (ADVANCED STYLING)", expanded=False):
1141 |         st.markdown("""
1142 |         <div style="background: linear-gradient(135deg, #ff9a56 0%, #ff6b95 100%); 
     |                                                                                   ^
1143 |                     border-radius: 10px; padding: 15px; margin: 10px 0; color: white;">
1144 |             <h4 style="margin: 0; color: white;"> ERWEITERTE PDF-GESTALTUNG</h4>
     |
help: Remove trailing whitespace

F841 Local variable `accent_style` is assigned to but never used
    --> repair_pdf\doc_output.py:1263:17
     |
1261 |             with accent_col1:
1262 |                 st.markdown("** AKZENT-STILE:**")
1263 |                 accent_style = st.selectbox(
     |                 ^^^^^^^^^^^^
1264 |                     "Stil w├ñhlen:",
1265 |                     ["minimal", "bold", "elegant", "playful", "corporate"]
     |
help: Remove assignment to unused variable `accent_style`

F841 Local variable `accent_intensity` is assigned to but never used
    --> repair_pdf\doc_output.py:1268:17
     |
1266 |                 )
1267 |
1268 |                 accent_intensity = st.slider(
     |                 ^^^^^^^^^^^^^^^^
1269 |                     "Intensit├ñt:",
1270 |                     min_value=10, max_value=100, value=70, step=10
     |
help: Remove assignment to unused variable `accent_intensity`

F841 Local variable `accent_areas` is assigned to but never used
    --> repair_pdf\doc_output.py:1275:17
     |
1273 |             with accent_col2:
1274 |                 st.markdown("** AKZENT-BEREICHE:**")
1275 |                 accent_areas = st.multiselect(
     |                 ^^^^^^^^^^^^
1276 |                     "Bereiche hervorheben:",
1277 |                     ["Headers", "Charts", "Tables", "Callouts", "Buttons", "Borders"],
     |
help: Remove assignment to unused variable `accent_areas`

F841 Local variable `chart_palette` is assigned to but never used
    --> repair_pdf\doc_output.py:1288:17
     |
1286 |             with palette_col1:
1287 |                 st.markdown("** Vordefiniert:**")
1288 |                 chart_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^
1289 |                     "Palette:",
1290 |                     ["viridis", "plasma", "inferno", "magma", "coolwarm", "seismic"]
     |
help: Remove assignment to unused variable `chart_palette`

F841 Local variable `categorical_palette` is assigned to but never used
    --> repair_pdf\doc_output.py:1295:17
     |
1293 |             with palette_col2:
1294 |                 st.markdown("** Kategorisch:**")
1295 |                 categorical_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^^^^^^^
1296 |                     "Kategorien:",
1297 |                     ["tab10", "tab20", "set1", "set2", "set3", "paired"]
     |
help: Remove assignment to unused variable `categorical_palette`

F841 Local variable `diverging_palette` is assigned to but never used
    --> repair_pdf\doc_output.py:1302:17
     |
1300 |             with palette_col3:
1301 |                 st.markdown("** Divergierend:**")
1302 |                 diverging_palette = st.selectbox(
     |                 ^^^^^^^^^^^^^^^^^
1303 |                     "Divergenz:",
1304 |                     ["RdYlBu", "RdBu", "BrBG", "PiYG", "PRGn", "RdYlGn"]
     |
help: Remove assignment to unused variable `diverging_palette`

F841 Local variable `heading_style` is assigned to but never used
    --> repair_pdf\doc_output.py:1325:13
     |
1324 |         with typo_col2:
1325 |             heading_style = st.selectbox(
     |             ^^^^^^^^^^^^^
1326 |                 " ├£berschriften-Stil:",
1327 |                 ["bold", "light", "medium", "black", "condensed"]
     |
help: Remove assignment to unused variable `heading_style`

F841 Local variable `line_height` is assigned to but never used
    --> repair_pdf\doc_output.py:1330:13
     |
1328 |             )
1329 |
1330 |             line_height = st.slider(
     |             ^^^^^^^^^^^
1331 |                 " Zeilenh├Âhe:",
1332 |                 min_value=1.0, max_value=2.0, value=1.4, step=0.1
     |
help: Remove assignment to unused variable `line_height`

F841 Local variable `letter_spacing` is assigned to but never used
    --> repair_pdf\doc_output.py:1341:13
     |
1339 |             )
1340 |
1341 |             letter_spacing = st.slider(
     |             ^^^^^^^^^^^^^^
1342 |                 " Buchstabenabstand:",
1343 |                 min_value=0.0, max_value=2.0, value=0.0, step=0.1
     |
help: Remove assignment to unused variable `letter_spacing`

F841 Local variable `margin_top` is assigned to but never used
    --> repair_pdf\doc_output.py:1354:13
     |
1352 |         with layout_col1:
1353 |             st.markdown("** SEITENR├äNDER:**")
1354 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
     |             ^^^^^^^^^^
1355 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1356 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_top`

F841 Local variable `margin_bottom` is assigned to but never used
    --> repair_pdf\doc_output.py:1355:13
     |
1353 |             st.markdown("** SEITENR├äNDER:**")
1354 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
1355 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
     |             ^^^^^^^^^^^^^
1356 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
1357 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_bottom`

F841 Local variable `margin_left` is assigned to but never used
    --> repair_pdf\doc_output.py:1356:13
     |
1354 |             margin_top = st.slider("Oben (mm):", 10, 50, 25)
1355 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1356 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
     |             ^^^^^^^^^^^
1357 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |
help: Remove assignment to unused variable `margin_left`

F841 Local variable `margin_right` is assigned to but never used
    --> repair_pdf\doc_output.py:1357:13
     |
1355 |             margin_bottom = st.slider("Unten (mm):", 10, 50, 25)
1356 |             margin_left = st.slider("Links (mm):", 10, 50, 20)
1357 |             margin_right = st.slider("Rechts (mm):", 10, 50, 20)
     |             ^^^^^^^^^^^^
1358 |
1359 |         with layout_col2:
     |
help: Remove assignment to unused variable `margin_right`

F841 Local variable `section_spacing` is assigned to but never used
    --> repair_pdf\doc_output.py:1361:13
     |
1359 |         with layout_col2:
1360 |             st.markdown("** ELEMENT-ABST├äNDE:**")
1361 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
     |             ^^^^^^^^^^^^^^^
1362 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
1363 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |
help: Remove assignment to unused variable `section_spacing`

F841 Local variable `paragraph_spacing` is assigned to but never used
    --> repair_pdf\doc_output.py:1362:13
     |
1360 |             st.markdown("** ELEMENT-ABST├äNDE:**")
1361 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
1362 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
     |             ^^^^^^^^^^^^^^^^^
1363 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |
help: Remove assignment to unused variable `paragraph_spacing`

F841 Local variable `chart_spacing` is assigned to but never used
    --> repair_pdf\doc_output.py:1363:13
     |
1361 |             section_spacing = st.slider("Abschnitte:", 10, 50, 25)
1362 |             paragraph_spacing = st.slider("Abs├ñtze:", 5, 25, 12)
1363 |             chart_spacing = st.slider("Charts:", 10, 40, 20)
     |             ^^^^^^^^^^^^^
1364 |
1365 |         with layout_col3:
     |
help: Remove assignment to unused variable `chart_spacing`

F841 Local variable `column_count` is assigned to but never used
    --> repair_pdf\doc_output.py:1369:17
     |
1367 |             multi_column = st.checkbox(" Mehrspaltig")
1368 |             if multi_column:
1369 |                 column_count = st.slider("Spalten:", 2, 4, 2)
     |                 ^^^^^^^^^^^^
1370 |                 column_gap = st.slider("Spalten-Abstand:", 5, 20, 10)
     |
help: Remove assignment to unused variable `column_count`

F841 Local variable `column_gap` is assigned to but never used
    --> repair_pdf\doc_output.py:1370:17
     |
1368 |             if multi_column:
1369 |                 column_count = st.slider("Spalten:", 2, 4, 2)
1370 |                 column_gap = st.slider("Spalten-Abstand:", 5, 20, 10)
     |                 ^^^^^^^^^^
1371 |
1372 |             watermark = st.checkbox(" Wasserzeichen")
     |
help: Remove assignment to unused variable `column_gap`

F841 Local variable `watermark_text` is assigned to but never used
    --> repair_pdf\doc_output.py:1374:17
     |
1372 |             watermark = st.checkbox(" Wasserzeichen")
1373 |             if watermark:
1374 |                 watermark_text = st.text_input("Text:", "SOLAR ANALYSE")
     |                 ^^^^^^^^^^^^^^
1375 |                 watermark_opacity = st.slider("Transparenz:", 0.1, 0.5, 0.1)
     |
help: Remove assignment to unused variable `watermark_text`

F841 Local variable `watermark_opacity` is assigned to but never used
    --> repair_pdf\doc_output.py:1375:17
     |
1373 |             if watermark:
1374 |                 watermark_text = st.text_input("Text:", "SOLAR ANALYSE")
1375 |                 watermark_opacity = st.slider("Transparenz:", 0.1, 0.5, 0.1)
     |                 ^^^^^^^^^^^^^^^^^
1376 |
1377 |         # Advanced Design Features
     |
help: Remove assignment to unused variable `watermark_opacity`

F841 Local variable `bg_gradient` is assigned to but never used
    --> repair_pdf\doc_output.py:1395:21
     |
1393 |                     bg_color = st.color_picker("Farbe:", "#ffffff")
1394 |                 elif background_type == "gradient":
1395 |                     bg_gradient = st.selectbox("Gradient:", ["linear", "radial", "diagonal"])
     |                     ^^^^^^^^^^^
1396 |                 elif background_type == "pattern":
1397 |                     bg_pattern = st.selectbox("Muster:", ["dots", "lines", "grid", "waves"])
     |
help: Remove assignment to unused variable `bg_gradient`

F841 Local variable `bg_pattern` is assigned to but never used
    --> repair_pdf\doc_output.py:1397:21
     |
1395 |                     bg_gradient = st.selectbox("Gradient:", ["linear", "radial", "diagonal"])
1396 |                 elif background_type == "pattern":
1397 |                     bg_pattern = st.selectbox("Muster:", ["dots", "lines", "grid", "waves"])
     |                     ^^^^^^^^^^
1398 |
1399 |             with bg_col2:
     |
help: Remove assignment to unused variable `bg_pattern`

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1425:53
     |
1423 |                 # Border-Vorschau
1424 |                 st.markdown(f"""
1425 |                 <div style="width:100%; height:80px; 
     |                                                     ^
1426 |                            border: {border_width}px {border_style} {border_color}; 
1427 |                            border-radius: {border_radius}px; 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1426:83
     |
1424 |                 st.markdown(f"""
1425 |                 <div style="width:100%; height:80px; 
1426 |                            border: {border_width}px {border_style} {border_color}; 
     |                                                                                   ^
1427 |                            border-radius: {border_radius}px; 
1428 |                            background: #f9f9f9; 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1427:61
     |
1425 |                 <div style="width:100%; height:80px; 
1426 |                            border: {border_width}px {border_style} {border_color}; 
1427 |                            border-radius: {border_radius}px; 
     |                                                             ^
1428 |                            background: #f9f9f9; 
1429 |                            display: flex; align-items: center; justify-content: center;
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1428:48
     |
1426 | ÔÇª                     border: {border_width}px {border_style} {border_color}; 
1427 | ÔÇª                     border-radius: {border_radius}px; 
1428 | ÔÇª                     background: #f9f9f9; 
     |                                           ^
1429 | ÔÇª                     display: flex; align-items: center; justify-content: center;
1430 | ÔÇª                     color: #666;">
     |
help: Remove trailing whitespace

F841 Local variable `shadow_blur` is assigned to but never used
    --> repair_pdf\doc_output.py:1442:21
     |
1440 |                 shadow_enabled = st.checkbox("Schatten aktivieren")
1441 |                 if shadow_enabled:
1442 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
     |                     ^^^^^^^^^^^
1443 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1444 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
     |
help: Remove assignment to unused variable `shadow_blur`

F841 Local variable `shadow_offset_x` is assigned to but never used
    --> repair_pdf\doc_output.py:1443:21
     |
1441 |                 if shadow_enabled:
1442 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
1443 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
     |                     ^^^^^^^^^^^^^^^
1444 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
1445 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |
help: Remove assignment to unused variable `shadow_offset_x`

F841 Local variable `shadow_offset_y` is assigned to but never used
    --> repair_pdf\doc_output.py:1444:21
     |
1442 |                     shadow_blur = st.slider("Unsch├ñrfe:", 0, 20, 5)
1443 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1444 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
     |                     ^^^^^^^^^^^^^^^
1445 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |
help: Remove assignment to unused variable `shadow_offset_y`

F841 Local variable `shadow_color` is assigned to but never used
    --> repair_pdf\doc_output.py:1445:21
     |
1443 |                     shadow_offset_x = st.slider("X-Versatz:", -10, 10, 2)
1444 |                     shadow_offset_y = st.slider("Y-Versatz:", -10, 10, 2)
1445 |                     shadow_color = st.color_picker("Schatten-Farbe:", "#00000040")
     |                     ^^^^^^^^^^^^
1446 |
1447 |             with effects_col2:
     |
help: Remove assignment to unused variable `shadow_color`

F841 Local variable `glow_effect` is assigned to but never used
    --> repair_pdf\doc_output.py:1449:17
     |
1447 |             with effects_col2:
1448 |                 st.markdown("** SPEZIAL-EFFEKTE:**")
1449 |                 glow_effect = st.checkbox(" Glow-Effekt")
     |                 ^^^^^^^^^^^
1450 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1451 |                 glass_effect = st.checkbox(" Glas-Effekt")
     |
help: Remove assignment to unused variable `glow_effect`

F841 Local variable `emboss_effect` is assigned to but never used
    --> repair_pdf\doc_output.py:1450:17
     |
1448 |                 st.markdown("** SPEZIAL-EFFEKTE:**")
1449 |                 glow_effect = st.checkbox(" Glow-Effekt")
1450 |                 emboss_effect = st.checkbox(" Pr├ñgung")
     |                 ^^^^^^^^^^^^^
1451 |                 glass_effect = st.checkbox(" Glas-Effekt")
1452 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |
help: Remove assignment to unused variable `emboss_effect`

F841 Local variable `glass_effect` is assigned to but never used
    --> repair_pdf\doc_output.py:1451:17
     |
1449 |                 glow_effect = st.checkbox(" Glow-Effekt")
1450 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1451 |                 glass_effect = st.checkbox(" Glas-Effekt")
     |                 ^^^^^^^^^^^^
1452 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |
help: Remove assignment to unused variable `glass_effect`

F841 Local variable `neon_effect` is assigned to but never used
    --> repair_pdf\doc_output.py:1452:17
     |
1450 |                 emboss_effect = st.checkbox(" Pr├ñgung")
1451 |                 glass_effect = st.checkbox(" Glas-Effekt")
1452 |                 neon_effect = st.checkbox(" Neon-Effekt")
     |                 ^^^^^^^^^^^
1453 |
1454 |         with advanced_design_tabs[3]:  # Responsive
     |
help: Remove assignment to unused variable `neon_effect`

F841 Local variable `auto_scaling` is assigned to but never used
    --> repair_pdf\doc_output.py:1460:17
     |
1459 |             with responsive_col1:
1460 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
     |                 ^^^^^^^^^^^^
1461 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
1462 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |
help: Remove assignment to unused variable `auto_scaling`

F841 Local variable `mobile_optimized` is assigned to but never used
    --> repair_pdf\doc_output.py:1461:17
     |
1459 |             with responsive_col1:
1460 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
1461 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
     |                 ^^^^^^^^^^^^^^^^
1462 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |
help: Remove assignment to unused variable `mobile_optimized`

F841 Local variable `print_optimized` is assigned to but never used
    --> repair_pdf\doc_output.py:1462:17
     |
1460 |                 auto_scaling = st.checkbox(" Auto-Skalierung")
1461 |                 mobile_optimized = st.checkbox(" Mobil-optimiert")
1462 |                 print_optimized = st.checkbox(" Druck-optimiert")
     |                 ^^^^^^^^^^^^^^^
1463 |
1464 |             with responsive_col2:
     |
help: Remove assignment to unused variable `print_optimized`

F841 Local variable `custom_width` is assigned to but never used
    --> repair_pdf\doc_output.py:1471:21
     |
1470 |                 if page_format == "Custom":
1471 |                     custom_width = st.number_input("Breite (mm):", value=210)
     |                     ^^^^^^^^^^^^
1472 |                     custom_height = st.number_input("H├Âhe (mm):", value=297)
     |
help: Remove assignment to unused variable `custom_width`

F841 Local variable `custom_height` is assigned to but never used
    --> repair_pdf\doc_output.py:1472:21
     |
1470 |                 if page_format == "Custom":
1471 |                     custom_width = st.number_input("Breite (mm):", value=210)
1472 |                     custom_height = st.number_input("H├Âhe (mm):", value=297)
     |                     ^^^^^^^^^^^^^
1473 |
1474 |         # Design Preview
     |
help: Remove assignment to unused variable `custom_height`

W293 Blank line contains whitespace
    --> repair_pdf\doc_output.py:1486:1
     |
1484 |                 <p style="margin: 5px 0 0 0; opacity: 0.9;">Live-Vorschau Ihres PDF-Designs</p>
1485 |             </div>
1486 |             
     | ^^^^^^^^^^^^
1487 |             <div style="margin: 15px 0;">
1488 |                 <h4 style="color: #333; margin-bottom: 10px;"> Beispiel-Chart</h4>
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\doc_output.py:1493:1
     |
1491 |                 </div>
1492 |             </div>
1493 |             
     | ^^^^^^^^^^^^
1494 |             <div style="margin: 15px 0;">
1495 |                 <h4 style="color: #333;"> Beispiel-Text</h4>
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1497:124
     |
1495 |                 <h4 style="color: #333;"> Beispiel-Text</h4>
1496 |                 <p style="color: #666; line-height: 1.6;">
1497 |                     Dies ist ein Beispieltext, der zeigt, wie Ihr PDF mit den aktuellen Design-Einstellungen aussehen wird. 
     |                                                                                                                            ^
1498 |                     Schriftart: {font_family}, Gr├Â├ƒe: {font_size_base}pt, Ausrichtung: {text_alignment}
1499 |                 </p>
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> repair_pdf\doc_output.py:1501:1
     |
1499 |                 </p>
1500 |             </div>
1501 |             
     | ^^^^^^^^^^^^
1502 |             <div style="background: #f8f9fa; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea;">
1503 |                 <strong> Design-Status:</strong> {current_theme.title()} Theme aktiv mit erweiterten Styling-Optionen
     |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\doc_output.py:1546:13
     |
1544 |           with text_col2:
1545 |               st.markdown("<br>", unsafe_allow_html=True)
1546 | /             if st.button(" Text hinzuf├╝gen", key="add_custom_text"):
1547 | |                 if new_text_title and new_text_content:
     | |_______________________________________________________^
1548 |                       st.session_state.pdf_custom_texts.append({
1549 |                           'title': new_text_title,
     |
help: Combine `if` statements using `and`

F841 Local variable `image_position` is assigned to but never used
    --> repair_pdf\doc_output.py:1582:13
     |
1581 |             # Bild-Positionierung
1582 |             image_position = st.selectbox(
     |             ^^^^^^^^^^^^^^
1583 |                 "Bild-Position im PDF",
1584 |                 options=["TOP", "MIDDLE", "BOTTOM", "SIDEBAR"],
     |
help: Remove assignment to unused variable `image_position`

F841 Local variable `page_orientation` is assigned to but never used
    --> repair_pdf\doc_output.py:1600:13
     |
1598 |         with layout_col1:
1599 |             st.markdown("** Seitenlayout:**")
1600 |             page_orientation = st.selectbox(
     |             ^^^^^^^^^^^^^^^^
1601 |                 "Seitenausrichtung",
1602 |                 options=["PORTRAIT", "LANDSCAPE"],
     |
help: Remove assignment to unused variable `page_orientation`

F841 Local variable `margins` is assigned to but never used
    --> repair_pdf\doc_output.py:1607:13
     |
1605 |             )
1606 |
1607 |             margins = st.selectbox(
     |             ^^^^^^^
1608 |                 "Seitenr├ñnder",
1609 |                 options=["NORMAL", "NARROW", "WIDE", "CUSTOM"],
     |
help: Remove assignment to unused variable `margins`

F841 Local variable `header_style` is assigned to but never used
    --> repair_pdf\doc_output.py:1621:13
     |
1619 |         with layout_col2:
1620 |             st.markdown("** Styling:**")
1621 |             header_style = st.selectbox(
     |             ^^^^^^^^^^^^
1622 |                 "Kopfzeilen-Stil",
1623 |                 options=["MODERN", "CLASSIC", "MINIMAL", "BOLD"],
     |
help: Remove assignment to unused variable `header_style`

F841 Local variable `add_watermark` is assigned to but never used
    --> repair_pdf\doc_output.py:1641:13
     |
1639 |         with layout_col3:
1640 |             st.markdown("** Effekte:**")
1641 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
     |             ^^^^^^^^^^^^^
1642 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
1643 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |
help: Remove assignment to unused variable `add_watermark`

F841 Local variable `add_page_numbers` is assigned to but never used
    --> repair_pdf\doc_output.py:1642:13
     |
1640 |             st.markdown("** Effekte:**")
1641 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
1642 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
     |             ^^^^^^^^^^^^^^^^
1643 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |
help: Remove assignment to unused variable `add_page_numbers`

F841 Local variable `add_footer` is assigned to but never used
    --> repair_pdf\doc_output.py:1643:13
     |
1641 |             add_watermark = st.checkbox(" Wasserzeichen", value=False, key="pdf_watermark")
1642 |             add_page_numbers = st.checkbox(" Seitenzahlen", value=True, key="pdf_page_numbers")
1643 |             add_footer = st.checkbox(" Fu├ƒzeile", value=True, key="pdf_footer")
     |             ^^^^^^^^^^
1644 |
1645 |     #  DRAG & DROP BEARBEITUNG
     |
help: Remove assignment to unused variable `add_footer`

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1658:29
     |
1656 |                 st.markdown("""
1657 |                 -  Text-Bl├Âcke
1658 |                 -  Diagramme  
     |                             ^^
1659 |                 -  Bilder
1660 |                 -  Tabellen
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:1667:74
     |
1665 |                 st.markdown("** Drag & Drop Zone:**")
1666 |                 st.markdown("""
1667 |                 <div style="border: 2px dashed #ccc; border-radius: 10px; 
     |                                                                          ^
1668 |                            padding: 40px; text-align: center; margin: 10px 0;">
1669 |                     <p> Ziehen Sie Elemente hierher</p>
     |
help: Remove trailing whitespace

F841 Local variable `show_data_labels` is assigned to but never used
    --> repair_pdf\doc_output.py:1697:13
     |
1695 |         with col2:
1696 |             st.markdown("**Erweiterte Chart-Optionen:**")
1697 |             show_data_labels = st.checkbox(" Datenbeschriftungen anzeigen", value=True)
     |             ^^^^^^^^^^^^^^^^
1698 |             show_legend = st.checkbox(" Legende anzeigen", value=True)
1699 |             animated_charts = st.checkbox(" Animierte Diagramme", value=False)
     |
help: Remove assignment to unused variable `show_data_labels`

F841 Local variable `animated_charts` is assigned to but never used
    --> repair_pdf\doc_output.py:1699:13
     |
1697 |             show_data_labels = st.checkbox(" Datenbeschriftungen anzeigen", value=True)
1698 |             show_legend = st.checkbox(" Legende anzeigen", value=True)
1699 |             animated_charts = st.checkbox(" Animierte Diagramme", value=False)
     |             ^^^^^^^^^^^^^^^
1700 |
1701 |             if color_scheme == "Benutzerdefiniert":
     |
help: Remove assignment to unused variable `animated_charts`

F841 Local variable `pvgis_detail_level` is assigned to but never used
    --> repair_pdf\doc_output.py:1793:17
     |
1791 |             include_pvgis = st.checkbox(" PV GIS Daten einbinden", value=True, key="pdf_include_pvgis")
1792 |             if include_pvgis:
1793 |                 pvgis_detail_level = st.select_slider(
     |                 ^^^^^^^^^^^^^^^^^^
1794 |                     "PV GIS Detailgrad",
1795 |                     options=["Basis", "Standard", "Erweitert", "Vollst├ñndig"],
     |
help: Remove assignment to unused variable `pvgis_detail_level`

F841 Local variable `show_dragdrop_later` is assigned to but never used
    --> repair_pdf\doc_output.py:1815:25
     |
1813 |                     with st.container():
1814 |                         st.info(" Drag & Drop Manager aktiviert - Scrollen Sie nach unten f├╝r die Bearbeitungsoberfl├ñche")
1815 |                         show_dragdrop_later = True
     |                         ^^^^^^^^^^^^^^^^^^^
1816 |                 except ImportError:
1817 |                     st.warning(" Drag & Drop System nicht verf├╝gbar")
     |
help: Remove assignment to unused variable `show_dragdrop_later`

F841 Local variable `pdf_quality` is assigned to but never used
    --> repair_pdf\doc_output.py:1821:13
     |
1819 |         with col2:
1820 |             st.markdown("**PDF-Format Optionen:**")
1821 |             pdf_quality = st.select_slider(
     |             ^^^^^^^^^^^
1822 |                 "PDF-Qualit├ñt",
1823 |                 options=["Standard", "Hoch", "Premium", "Ultra"],
     |
help: Remove assignment to unused variable `pdf_quality`

F841 Local variable `page_layout` is assigned to but never used
    --> repair_pdf\doc_output.py:1827:13
     |
1825 |             )
1826 |
1827 |             page_layout = st.selectbox(
     |             ^^^^^^^^^^^
1828 |                 "Seitenlayout",
1829 |                 options=["A4 Hochformat", "A4 Querformat", "A3 Hochformat"],
     |
help: Remove assignment to unused variable `page_layout`

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\doc_output.py:1862:107
     |
1860 |         st.caption(f"Angebot f├╝r Firma: **{active_company.get('name', 'Unbekannt')}** (ID: {active_company_id_for_docs})")
1861 |     else:
1862 |         st.warning("Keine aktive Firma ausgew├ñhlt. PDF verwendet Fallback-Daten f├╝r Firmeninformationen."); company_info_for_pdf = {ÔÇª
     |                                                                                                           ^
1863 |
1864 |     try:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\doc_output.py:1862:165
     |
1860 | ÔÇªcompany_id_for_docs})")
1861 | ÔÇª
1862 | ÔÇªonen."); company_info_for_pdf = {"name": "Ihre Firma (Fallback)"}; active_company_id_for_docs = 0
     |                                                                   ^
1863 | ÔÇª
1864 | ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1868:55
     |
1866 |         offer_title_templates = load_admin_setting_func('pdf_offer_title_templates', [])
1867 |         cover_letter_templates = load_admin_setting_func('pdf_cover_letter_templates', [])
1868 |         if not isinstance(title_image_templates, list): title_image_templates = []
     |                                                       ^
1869 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
1870 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1869:55
     |
1867 |         cover_letter_templates = load_admin_setting_func('pdf_cover_letter_templates', [])
1868 |         if not isinstance(title_image_templates, list): title_image_templates = []
1869 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
     |                                                       ^
1870 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
1871 |     except Exception as e_load_tpl:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1870:56
     |
1868 |         if not isinstance(title_image_templates, list): title_image_templates = []
1869 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
1870 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
     |                                                        ^
1871 |     except Exception as e_load_tpl:
1872 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\doc_output.py:1872:61
     |
1870 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
1871 |     except Exception as e_load_tpl:
1872 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
     |                                                             ^
1873 |
1874 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1874:70
     |
1872 |         st.error(f"Fehler Laden PDF-Vorlagen: {e_load_tpl}"); title_image_templates, offer_title_templates, cover_letter_templates =ÔÇª
1873 |
1874 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
     |                                                                      ^
1875 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1876 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1875:74
     |
1874 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
1875 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
     |                                                                          ^
1876 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1877 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1876:70
     |
1874 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = None
1875 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1876 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
     |                                                                      ^
1877 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1878 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1877:78
     |
1875 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_outputÔÇª
1876 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1877 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
     |                                                                              ^
1878 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
1879 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1878:71
     |
1876 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = None
1877 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1878 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
     |                                                                       ^
1879 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:1879:79
     |
1877 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_doÔÇª
1878 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = None
1879 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_ÔÇª
     |                                                                               ^
1880 |
1881 |     if 'pdf_inclusion_options' not in st.session_state:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\doc_output.py:2025:29
     |
2023 |   ÔÇª                 doc_label_item = f"{doc_item.get('display_name', doc_item.get('file_name', 'Unbenannt'))} ({doc_item.get('documentÔÇª
2024 |   ÔÇª                 is_doc_checked_by_default_col1 = doc_id_item in st.session_state.pdf_inclusion_options.get("company_document_ids_tÔÇª
2025 | / ÔÇª                 if st.checkbox(doc_label_item, value=is_doc_checked_by_default_col1, key=f"pdf_cb_company_doc_{doc_id_item}_v12_foÔÇª
2026 | | ÔÇª                     if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(doc_ÔÇª
     | |__________________________________________________________________________________^
2027 |   ÔÇª         st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2028 |   ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese Firma hiÔÇª
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2026:92
     |
2024 | ÔÇª                 is_doc_checked_by_default_col1 = doc_id_item in st.session_state.pdf_inclusion_options.get("company_document_ids_tÔÇª
2025 | ÔÇª                 if st.checkbox(doc_label_item, value=is_doc_checked_by_default_col1, key=f"pdf_cb_company_doc_{doc_id_item}_v12_foÔÇª
2026 | ÔÇª                     if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(doc_ÔÇª
     |                                                                                  ^
2027 | ÔÇª         st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2028 | ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese Firma hiÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2028:21
     |
2026 | ÔÇª                         if doc_id_item not in selected_doc_ids_for_pdf_temp_ui_col1: selected_doc_ids_for_pdf_temp_ui_col1.append(ÔÇª
2027 | ÔÇª             st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2028 | ÔÇª         else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diese FirmÔÇª
     |               ^
2029 | ÔÇª     else: st.caption(get_text_pdf_ui(texts, "pdf_select_active_company_for_docs", "Aktive Firma nicht korrekt f├╝r DokumentenauswahÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2029:17
     |
2027 |                     st.session_state.pdf_inclusion_options["company_document_ids_to_include"] = selected_doc_ids_for_pdf_temp_ui_col1
2028 |                 else: st.caption(get_text_pdf_ui(texts, "pdf_no_company_documents_available", "Keine spezifischen Dokumente f├╝r diesÔÇª
2029 |             else: st.caption(get_text_pdf_ui(texts, "pdf_select_active_company_for_docs", "Aktive Firma nicht korrekt f├╝r DokumentenÔÇª
     |                 ^
2030 |
2031 |         with col_pdf_content2:
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\doc_output.py:2047:17
     |
2045 |   ÔÇª     for section_key, section_label_from_map in default_pdf_sections_map.items():
2046 |   ÔÇª         is_section_checked_by_default_col2 = section_key in current_selected_in_state_col2
2047 | / ÔÇª         if st.checkbox(section_label_from_map, value=is_section_checked_by_default_col2, key=f"pdf_section_cb_{section_key}_v12_foÔÇª
2048 | | ÔÇª             if section_key not in temp_selected_main_sections_ui_col2: temp_selected_main_sections_ui_col2.append(section_key)
     | |________________________________________________________________________^
2049 |   ÔÇª     st.session_state.pdf_selected_main_sections = temp_selected_main_sections_ui_col2
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2048:78
     |
2046 | ÔÇª         is_section_checked_by_default_col2 = section_key in current_selected_in_state_col2
2047 | ÔÇª         if st.checkbox(section_label_from_map, value=is_section_checked_by_default_col2, key=f"pdf_section_cb_{section_key}_v12_foÔÇª
2048 | ÔÇª             if section_key not in temp_selected_main_sections_ui_col2: temp_selected_main_sections_ui_col2.append(section_key)
     |                                                                        ^
2049 | ÔÇª     st.session_state.pdf_selected_main_sections = temp_selected_main_sections_ui_col2
     |

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> repair_pdf\doc_output.py:2102:47
     |
2100 | ÔÇª         'amortisation_chart_bytes': get_text_pdf_ui(texts, "pdf_chart_label_pvvis_amort", "PV Visuals: Amortisation"),
2101 | ÔÇª     }
2102 | ÔÇª     available_chart_keys = [k for k in analysis_results.keys() if k.endswith('_chart_bytes') and analysis_results[k] is not None]
     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2103 | ÔÇª     ordered_display_keys = [k_map for k_map in chart_key_to_friendly_name_map if k_map in available_chart_keys]
2104 | ÔÇª     for k_avail in available_chart_keys:
     |
help: Remove `.keys()`

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2105:59
     |
2103 |                 ordered_display_keys = [k_map for k_map in chart_key_to_friendly_name_map if k_map in available_chart_keys]
2104 |                 for k_avail in available_chart_keys:
2105 |                     if k_avail not in ordered_display_keys: ordered_display_keys.append(k_avail)
     |                                                           ^
2106 |
2107 |                 current_selected_charts_in_state = st.session_state.pdf_inclusion_options.get("selected_charts_for_pdf", [])
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\doc_output.py:2111:21
     |
2109 |   ÔÇª             friendly_name = chart_key_to_friendly_name_map.get(chart_key, chart_key.replace('_chart_bytes', '').replace('_', ' ').ÔÇª
2110 |   ÔÇª             is_selected_by_default = chart_key in current_selected_charts_in_state
2111 | / ÔÇª             if st.checkbox(friendly_name, value=is_selected_by_default, key=f"pdf_include_chart_{chart_key}_v12_form"):
2112 | | ÔÇª                 if chart_key not in selected_chart_keys_for_pdf_ui_col3: selected_chart_keys_for_pdf_ui_col3.append(chart_key)
     | |__________________________________________________________________________^
2113 |   ÔÇª     else:
2114 |   ÔÇª         st.caption(get_text_pdf_ui(texts, "pdf_no_charts_to_select", "Keine Diagrammdaten f├╝r PDF-Auswahl."))
     |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2112:80
     |
2110 | ÔÇª             is_selected_by_default = chart_key in current_selected_charts_in_state
2111 | ÔÇª             if st.checkbox(friendly_name, value=is_selected_by_default, key=f"pdf_include_chart_{chart_key}_v12_form"):
2112 | ÔÇª                 if chart_key not in selected_chart_keys_for_pdf_ui_col3: selected_chart_keys_for_pdf_ui_col3.append(chart_key)
     |                                                                          ^
2113 | ÔÇª     else:
2114 | ÔÇª         st.caption(get_text_pdf_ui(texts, "pdf_no_charts_to_select", "Keine Diagrammdaten f├╝r PDF-Auswahl."))
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2161:13
     |
2159 |         wow_col1, wow_col2 = st.columns(2)
2160 |         with wow_col1:
2161 |             extended_features['wow_features']['shadows'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2162 |                 " Schatten-Effekte",
2163 |                 value=extended_features['wow_features'].get('shadows', False),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2163:23
     |
2161 |             extended_features['wow_features']['shadows'] = st.checkbox(
2162 |                 " Schatten-Effekte",
2163 |                 value=extended_features['wow_features'].get('shadows', False),
     |                       ^^^^^^^^^^^^^^^^^
2164 |                 help="F├╝gt professionelle Schatten-Effekte hinzu"
2165 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2166:13
     |
2164 |                 help="F├╝gt professionelle Schatten-Effekte hinzu"
2165 |             )
2166 |             extended_features['wow_features']['gradients'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2167 |                 " Gradient-Effekte",
2168 |                 value=extended_features['wow_features'].get('gradients', True),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2168:23
     |
2166 |             extended_features['wow_features']['gradients'] = st.checkbox(
2167 |                 " Gradient-Effekte",
2168 |                 value=extended_features['wow_features'].get('gradients', True),
     |                       ^^^^^^^^^^^^^^^^^
2169 |                 help="Moderne Farbverl├ñufe f├╝r bessere Visualisierung"
2170 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2171:13
     |
2169 |                 help="Moderne Farbverl├ñufe f├╝r bessere Visualisierung"
2170 |             )
2171 |             extended_features['wow_features']['rounded_corners'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2172 |                 " Abgerundete Ecken",
2173 |                 value=extended_features['wow_features'].get('rounded_corners', True),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2173:23
     |
2171 |             extended_features['wow_features']['rounded_corners'] = st.checkbox(
2172 |                 " Abgerundete Ecken",
2173 |                 value=extended_features['wow_features'].get('rounded_corners', True),
     |                       ^^^^^^^^^^^^^^^^^
2174 |                 help="Moderne abgerundete Ecken f├╝r bessere Optik"
2175 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2178:13
     |
2177 |         with wow_col2:
2178 |             extended_features['wow_features']['cinematic_transitions'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2179 |                 " Kinematische ├£berg├ñnge",
2180 |                 value=extended_features['wow_features'].get('cinematic_transitions', False),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2180:23
     |
2178 |             extended_features['wow_features']['cinematic_transitions'] = st.checkbox(
2179 |                 " Kinematische ├£berg├ñnge",
2180 |                 value=extended_features['wow_features'].get('cinematic_transitions', False),
     |                       ^^^^^^^^^^^^^^^^^
2181 |                 help="Professionelle Seiten├╝berg├ñnge (experimentell)"
2182 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2183:13
     |
2181 |                 help="Professionelle Seiten├╝berg├ñnge (experimentell)"
2182 |             )
2183 |             extended_features['wow_features']['interactive_widgets'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2184 |                 " Interaktive Widgets",
2185 |                 value=extended_features['wow_features'].get('interactive_widgets', False),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2185:23
     |
2183 |             extended_features['wow_features']['interactive_widgets'] = st.checkbox(
2184 |                 " Interaktive Widgets",
2185 |                 value=extended_features['wow_features'].get('interactive_widgets', False),
     |                       ^^^^^^^^^^^^^^^^^
2186 |                 help="Interaktive PDF-Elemente (experimentell)"
2187 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2188:13
     |
2186 |                 help="Interaktive PDF-Elemente (experimentell)"
2187 |             )
2188 |             extended_features['wow_features']['ai_layout_optimization'] = st.checkbox(
     |             ^^^^^^^^^^^^^^^^^
2189 |                 "­ƒñû AI Layout-Optimierung",
2190 |                 value=extended_features['wow_features'].get('ai_layout_optimization', False),
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2190:23
     |
2188 |             extended_features['wow_features']['ai_layout_optimization'] = st.checkbox(
2189 |                 "­ƒñû AI Layout-Optimierung",
2190 |                 value=extended_features['wow_features'].get('ai_layout_optimization', False),
     |                       ^^^^^^^^^^^^^^^^^
2191 |                 help="Automatische Layout-Optimierung (experimentell)"
2192 |             )
     |

F821 Undefined name `extended_features`
    --> repair_pdf\doc_output.py:2195:57
     |
2194 |         # Aktivierte Features Anzeige
2195 |         active_wow_features = [name for name, active in extended_features['wow_features'].items() if active]
     |                                                         ^^^^^^^^^^^^^^^^^
2196 |         if active_wow_features:
2197 |             st.success(f" **{len(active_wow_features)} experimentelle Features aktiv:** {', '.join(active_wow_features)}")
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\doc_output.py:2367:85
     |
2365 |         if pdf_bytes_to_download and isinstance(pdf_bytes_to_download, bytes):
2366 |             customer_name_for_file = customer_data_pdf.get('last_name', 'Angebot')
2367 |             if not customer_name_for_file or not str(customer_name_for_file).strip(): customer_name_for_file = "Photovoltaik_Angebot"
     |                                                                                     ^
2368 |             timestamp_file = base64.b32encode(os.urandom(5)).decode('utf-8').lower()
2369 |             file_name = f"Angebot_{str(customer_name_for_file).replace(' ', '_')}_{timestamp_file}.pdf"
     |

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:2385:83
     |
2383 |         st.markdown("---")
2384 |         st.markdown("""
2385 |         <div style="background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%); 
     |                                                                                   ^
2386 |                     border-radius: 15px; padding: 25px; margin: 20px 0; 
2387 |                     box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> repair_pdf\doc_output.py:2386:72
     |
2384 |         st.markdown("""
2385 |         <div style="background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%); 
2386 |                     border-radius: 15px; padding: 25px; margin: 20px 0; 
     |                                                                        ^
2387 |                     box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
2388 |             <h3 style="color: white; margin: 0; font-weight: 600;">
     |
help: Remove trailing whitespace

W291 Trailing whitespace
 --> repair_pdf\financial_tools.py:3:71
  |
1 | # financial_tools.py - Vollst├ñndige Finanzberechnungen f├╝r PV-Anlagen
2 | """
3 | Finanzberechnungsmodul f├╝r PV-Anlagen mit Leasing, Annuit├ñtenkrediten, 
  |                                                                       ^
4 | Abschreibungen und Wirtschaftlichkeitsanalysen.
5 | """
  |
help: Remove trailing whitespace

W293 Blank line contains whitespace
  --> repair_pdf\financial_tools.py:13:1
   |
11 |     """
12 |     Echte Berechnung einer Annuit├ñt (Kredit mit gleichbleibenden Raten).
13 |     
   | ^^^^
14 |     Args:
15 |         principal: Darlehenssumme in Euro
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> repair_pdf\financial_tools.py:18:1
   |
16 |         annual_interest_rate: J├ñhrlicher Zinssatz in Prozent
17 |         duration_years: Laufzeit in Jahren
18 |     
   | ^^^^
19 |     Returns:
20 |         Dict mit monatlicher Rate, Gesamtzinsen, Tilgungsplan etc.
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> repair_pdf\financial_tools.py:71:1
   |
69 |     """
70 |     Echte Leasingkostenberechnung mit verschiedenen Modellen.
71 |     
   | ^^^^
72 |     Args:
73 |         total_investment: Investitionssumme
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> repair_pdf\financial_tools.py:77:1
   |
75 |         duration_months: Laufzeit in Monaten
76 |         residual_value_percent: Restwert in Prozent (f├╝r Kilometerleasing)
77 |     
   | ^^^^
78 |     Returns:
79 |         Dict mit Leasingraten, Gesamtkosten, Kostenvergleich
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:110:1
    |
108 |     """
109 |     Echte Abschreibungsberechnung mit verschiedenen Methoden.
110 |     
    | ^^^^
111 |     Args:
112 |         initial_value: Anschaffungswert
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:115:1
    |
113 |         useful_life_years: Nutzungsdauer
114 |         method: "linear" oder "degressive"
115 |     
    | ^^^^
116 |     Returns:
117 |         Dict mit Abschreibungstabelle und Steuerersparnis
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:148:1
    |
146 |     """
147 |     Vergleich verschiedener Finanzierungsoptionen.
148 |     
    | ^^^^
149 |     Returns:
150 |         Comprehensive comparison of financing options
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:197:1
    |
195 |     """
196 |     Echte KESt-Berechnung f├╝r PV-Anlagen.
197 |     
    | ^^^^
198 |     Args:
199 |         profit: Gewinn aus PV-Anlage
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:201:1
    |
199 |         profit: Gewinn aus PV-Anlage
200 |         tax_rate: Steuersatz in Prozent (Standard: 26.375% in AT)
201 |     
    | ^^^^
202 |     Returns:
203 |         Dict mit Steuerberechnung
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\financial_tools.py:227:1
    |
225 |     """
226 |     Echte Contracting-Kostenberechnung.
227 |     
    | ^^^^
228 |     Returns:
229 |         Detailed contracting cost analysis
    |
help: Remove whitespace from blank line

E731 Do not assign a `lambda` expression, use a `def`
  --> repair_pdf\multi_offer_generator.py:21:5
   |
19 |     # Fallback, falls tqdm nicht installiert ist
20 |     print("Hinweis: F├╝r eine Fortschrittsanzeige installieren Sie 'tqdm' via 'pip install tqdm'.")
21 |     tqdm = lambda x, **kwargs: x
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |
23 | # Import der bestehenden Module
   |
help: Rewrite `tqdm` as a `def`

F401 `calculations.calculate_offer_details` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\multi_offer_generator.py:25:30
   |
23 | # Import der bestehenden Module
24 | try:
25 |     from calculations import calculate_offer_details, perform_calculations
   |                              ^^^^^^^^^^^^^^^^^^^^^^^
26 |     from database import (
27 |         get_company,
   |
help: Remove unused import

F401 `calculations.perform_calculations` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\multi_offer_generator.py:25:55
   |
23 | # Import der bestehenden Module
24 | try:
25 |     from calculations import calculate_offer_details, perform_calculations
   |                                                       ^^^^^^^^^^^^^^^^^^^^
26 |     from database import (
27 |         get_company,
   |
help: Remove unused import

F401 `database.get_db_connection` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\multi_offer_generator.py:28:9
   |
26 |     from database import (
27 |         get_company,
28 |         get_db_connection,
   |         ^^^^^^^^^^^^^^^^^
29 |         list_companies,
30 |         list_company_documents,
   |
help: Remove unused import: `database.get_db_connection`

F401 `pdf_generator.create_offer_pdf` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\multi_offer_generator.py:34:31
   |
32 |         save_admin_setting,
33 |     )
34 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                               ^^^^^^^^^^^^^^^^
35 |     from pdf_generator import (
36 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

F401 `pdf_generator.merge_pdfs` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\multi_offer_generator.py:34:49
   |
32 |         save_admin_setting,
33 |     )
34 |     from pdf_generator import create_offer_pdf, merge_pdfs
   |                                                 ^^^^^^^^^^
35 |     from pdf_generator import (
36 |         generate_offer_pdf_with_main_templates as generate_offer_pdf,
   |
help: Remove unused import

E722 Do not use bare `except`
   --> repair_pdf\multi_offer_generator.py:245:21
    |
243 |                             st.markdown(f"**{i+1}. {company.get('name', 'Unbekannt')}**")
244 |                             st.caption(f"ID: {company_id}")
245 |                     except:
    |                     ^^^^^^
246 |                         with preview_cols[col_index]:
247 |                             st.markdown(f"**{i+1}. Firma {company_id}**")
    |

E722 Do not use bare `except`
   --> repair_pdf\multi_offer_generator.py:393:29
    |
391 | ÔÇª                         factors = json.loads(settings.get("custom_price_factors", "[1.0]"))
392 | ÔÇª                         price_factor = factors[i] if i < len(factors) else factors[-1]
393 | ÔÇª                     except:
    |                       ^^^^^^
394 | ÔÇª                         price_factor = 1.0 + (i * 0.03)
    |

E722 Do not use bare `except`
   --> repair_pdf\multi_offer_generator.py:844:17
    |
842 |                     custom_factors = json.loads(base_settings.get("custom_price_factors", "[1.0]"))
843 |                     price_factor = custom_factors[company_index] if company_index < len(custom_factors) else custom_factors[-1]
844 |                 except:
    |                 ^^^^^^
845 |                     # Fallback auf linear
846 |                     price_factor = 1.0 + (company_index * price_increment / 100.0)
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> repair_pdf\multi_offer_generator.py:1099:41
     |
1097 |                 if calc_results and isinstance(calc_results, dict):
1098 |                     # Chart-Keys aus analysis_results finden
1099 |                     chart_keys = [k for k in calc_results.keys() if k.endswith('_chart_bytes') and calc_results[k] is not None]
     |                                         ^^^^^^^^^^^^^^^^^^^^^^^^
1100 |                     available_charts = chart_keys
1101 |                     logging.info(f"Multi-Offer PDF: {len(available_charts)} Charts gefunden: {chart_keys}")
     |
help: Remove `.keys()`

RET504 Unnecessary assignment to `pdf_content` before `return` statement
    --> repair_pdf\multi_offer_generator.py:1199:24
     |
1197 |                     active_company_id=company.get("id", 1)
1198 |                 )
1199 |                 return pdf_content
     |                        ^^^^^^^^^^^
1200 |             st.error("PDF-Generator nicht verf├╝gbar")
1201 |             return None
     |
help: Remove unnecessary assignment

SIM102 Use a single `if` statement instead of nested `if` statements
    --> repair_pdf\multi_offer_generator.py:1265:5
     |
1264 |       # Projektdaten ├╝bernehmen falls vorhanden
1265 | /     if project_data_doc and "customer_data" in project_data_doc:
1266 | |         if not st.session_state.multi_offer_customer_data.get("last_name"):
     | |___________________________________________________________________________^
1267 |               st.session_state.multi_offer_customer_data = project_data_doc["customer_data"]
1268 |               st.session_state.multi_offer_project_data = project_data_doc
     |
help: Combine `if` statements using `and`

F401 `reportlab.platypus.Frame` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\pdf_generator.py:49:9
   |
47 |     from reportlab.platypus import (
48 |         Flowable,
49 |         Frame,
   |         ^^^^^
50 |         Image,
51 |         KeepInFrame,
   |
help: Remove unused import

F401 `reportlab.platypus.PageTemplate` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\pdf_generator.py:54:9
   |
52 |         KeepTogether,
53 |         PageBreak,
54 |         PageTemplate,
   |         ^^^^^^^^^^^^
55 |         Paragraph,
56 |         SimpleDocTemplate,
   |
help: Remove unused import

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:260:20
    |
258 |         content_type = content.get("type", "text")
259 |         data = content.get("data")
260 |         if not data: return
    |                    ^
261 |
262 |         if content_type == "image":
    |

W293 Blank line contains whitespace
   --> repair_pdf\pdf_generator.py:271:1
    |
269 |         """
270 |         F├╝hrt mehrere PDF-Dateien zu einer einzigen zusammen.
271 |         
    | ^^^^^^^^
272 |         Args:
273 |             pdf_files: Liste von PDF-Dateien (Pfade, Bytes oder BytesIO-Objekte)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> repair_pdf\pdf_generator.py:274:1
    |
272 |         Args:
273 |             pdf_files: Liste von PDF-Dateien (Pfade, Bytes oder BytesIO-Objekte)
274 |             
    | ^^^^^^^^^^^^
275 |         Returns:
276 |             bytes: Die zusammengef├╝hrte PDF als Bytes
    |
help: Remove whitespace from blank line

F841 Local variable `tri` is assigned to but never used
   --> repair_pdf\pdf_generator.py:472:21
    |
470 |                     tri = _rl_canvas.Path()
471 |                 except Exception:
472 |                     tri = None
    |                     ^^^
473 |                 accent = Color(27/255.0, 54/255.0, 112/255.0)
474 |                 try:
    |
help: Remove assignment to unused variable `tri`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> repair_pdf\pdf_generator.py:487:21
    |
485 |                       canv.drawPath(p, stroke=0, fill=1)
486 |                   finally:
487 | /                     try:
488 | |                         canv.restoreState()
489 | |                     except Exception:
490 | |                         pass
    | |____________________________^
491 |
492 |                   # Footer-Hintergrundleiste (minimal bl├ñulicher als Prim├ñrfarbe)
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:498:47
    |
496 |                     _hex = str(PRIMARY_COLOR_HEX).strip()
497 |                     if _hex.startswith('#') and len(_hex) == 7:
498 |                         r = int(_hex[1:3], 16); g = int(_hex[3:5], 16); b = int(_hex[5:7], 16)
    |                                               ^
499 |                         b = min(255, b + 16)  # +16 Blauanteil
500 |                         footer_hex = f"#{r:02X}{g:02X}{b:02X}"
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:498:71
    |
496 |                     _hex = str(PRIMARY_COLOR_HEX).strip()
497 |                     if _hex.startswith('#') and len(_hex) == 7:
498 |                         r = int(_hex[1:3], 16); g = int(_hex[3:5], 16); b = int(_hex[5:7], 16)
    |                                                                       ^
499 |                         b = min(255, b + 16)  # +16 Blauanteil
500 |                         footer_hex = f"#{r:02X}{g:02X}{b:02X}"
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:510:45
    |
508 |                 canv.rect(0, 0, pw, bar_height, stroke=0, fill=1)
509 |                 # Footer-Text-Style (wei├ƒ)
510 |                 font_name = "Helvetica-Bold"; font_size = 9
    |                                             ^
511 |                 canv.setFillColor(white)
512 |                 canv.setFont(font_name, font_size)
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> repair_pdf\pdf_generator.py:529:21
    |
527 |                   # Linker Footer-Text: Kundenname, falls vorhanden
528 |                   if footer_left_text:
529 | /                     try:
530 | |                         canv.drawString(20, center_y, str(footer_left_text))
531 | |                     except Exception:
532 | |                         pass
    | |____________________________^
533 |                   # Rechte Nummer "Seite x von XX"
534 |                   page_num = start_number + idx
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:538:32
    |
536 |                 tw_r = canv.stringWidth(right_text, font_name, font_size)
537 |                 canv.drawString(pw - 18 - tw_r, center_y, right_text)
538 |                 canv.showPage(); canv.save()
    |                                ^
539 |                 # Overlay zur├╝ck an den Anfang und mergen
540 |                 overlay_buf.seek(0)
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:549:35
    |
547 |                     page.mergePage(ov_page)  # type: ignore
548 |                 writer.add_page(page)
549 |             out_buf = io.BytesIO(); writer.write(out_buf)
    |                                   ^
550 |             return out_buf.getvalue()
551 |         except Exception:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:558:35
    |
556 |         base_reader = PdfReader(io.BytesIO(main6))
557 |         writer = PdfWriter()
558 |         for p in base_reader.pages: writer.add_page(p)
    |                                   ^
559 |         if additional_pdf:
560 |             # Seitenanzahl ermitteln (gesamt = 6 + n)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:582:38
    |
580 | ÔÇª         additional_pdf = _overlay_footer_page_numbers(additional_pdf, start_number=7, total_pages=total_pages, logo_b64=logo_b64, fÔÇª
581 | ÔÇª         add_reader = PdfReader(io.BytesIO(additional_pdf))
582 | ÔÇª         for p in add_reader.pages: writer.add_page(p)
    |                                    ^
583 | ÔÇª     buf = io.BytesIO(); writer.write(buf)
584 | ÔÇª     return buf.getvalue()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:583:27
    |
581 |             add_reader = PdfReader(io.BytesIO(additional_pdf))
582 |             for p in add_reader.pages: writer.add_page(p)
583 |         buf = io.BytesIO(); writer.write(buf)
    |                           ^
584 |         return buf.getvalue()
585 |     except Exception:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:620:40
    |
619 | def get_text(texts_dict: dict[str, str], key: str, fallback_text_value: str | None = None) -> str:
620 |     if not isinstance(texts_dict, dict): return fallback_text_value if fallback_text_value is not None else key
    |                                        ^
621 |     if fallback_text_value is None: fallback_text_value = key.replace("_", " ").title() + " (PDF-Text fehlt)"
622 |     retrieved = texts_dict.get(key, fallback_text_value)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:621:35
    |
619 | def get_text(texts_dict: dict[str, str], key: str, fallback_text_value: str | None = None) -> str:
620 |     if not isinstance(texts_dict, dict): return fallback_text_value if fallback_text_value is not None else key
621 |     if fallback_text_value is None: fallback_text_value = key.replace("_", " ").title() + " (PDF-Text fehlt)"
    |                                   ^
622 |     retrieved = texts_dict.get(key, fallback_text_value)
623 |     return str(retrieved)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:628:80
    |
626 |     current_texts = texts_dict if texts_dict is not None else {}
627 |     na_text = get_text(current_texts, na_text_key, "k.A.")
628 |     if value is None or (isinstance(value, (float, int)) and math.isnan(value)): return na_text
    |                                                                                ^
629 |     if isinstance(value, str) and value == na_text: return value
630 |     if isinstance(value, str):
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:629:51
    |
627 |     na_text = get_text(current_texts, na_text_key, "k.A.")
628 |     if value is None or (isinstance(value, (float, int)) and math.isnan(value)): return na_text
629 |     if isinstance(value, str) and value == na_text: return value
    |                                                   ^
630 |     if isinstance(value, str):
631 |         try:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:634:56
    |
632 |             cleaned_value_str = value
633 |             if '.' in value and ',' in value:
634 |                  if value.rfind('.') > value.rfind(','): cleaned_value_str = value.replace(',', '')
    |                                                        ^
635 |                  elif value.rfind(',') > value.rfind('.'): cleaned_value_str = value.replace('.', '')
636 |             cleaned_value_str = cleaned_value_str.replace(',', '.')
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:635:58
    |
633 |             if '.' in value and ',' in value:
634 |                  if value.rfind('.') > value.rfind(','): cleaned_value_str = value.replace(',', '')
635 |                  elif value.rfind(',') > value.rfind('.'): cleaned_value_str = value.replace('.', '')
    |                                                          ^
636 |             cleaned_value_str = cleaned_value_str.replace(',', '.')
637 |             value = float(cleaned_value_str)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:638:26
    |
636 |             cleaned_value_str = cleaned_value_str.replace(',', '.')
637 |             value = float(cleaned_value_str)
638 |         except ValueError: return value
    |                          ^
639 |
640 |     if isinstance(value, (int, float)):
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:641:29
    |
640 |     if isinstance(value, (int, float)):
641 |         if math.isinf(value): return get_text(current_texts, "value_infinite", "Nicht berechenbar")
    |                             ^
642 |         if unit == "Jahre": return get_text(current_texts, "years_format_string_pdf", "{val:.1f} Jahre").format(val=value)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:642:27
    |
640 |     if isinstance(value, (int, float)):
641 |         if math.isinf(value): return get_text(current_texts, "value_infinite", "Nicht berechenbar")
642 |         if unit == "Jahre": return get_text(current_texts, "years_format_string_pdf", "{val:.1f} Jahre").format(val=value)
    |                           ^
643 |
644 |         formatted_num_en = f"{value:,.{precision}f}"
    |

RET504 Unnecessary assignment to `cleaned` before `return` statement
   --> repair_pdf\pdf_generator.py:658:16
    |
656 |         # Mehrfache Leerzeichen normalisieren
657 |         cleaned = re.sub(r"\s+", " ", cleaned).strip()
658 |         return cleaned
    |                ^^^^^^^
659 |     except Exception:
660 |         return raw_title
    |
help: Remove unnecessary assignment

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:740:26
    |
739 | STYLES: Any = {}
740 | FONT_NORMAL = "Helvetica"; FONT_BOLD = "Helvetica-Bold"; FONT_ITALIC = "Helvetica-Oblique"
    |                          ^
741 | # KORREKTUR: Standardfarben gem├ñ├ƒ neuen Designrichtlinien
742 | PRIMARY_COLOR_HEX = "#1B365D"  # Dunkelblau - Professionell und vertrauensvoll
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:740:56
    |
739 | STYLES: Any = {}
740 | FONT_NORMAL = "Helvetica"; FONT_BOLD = "Helvetica-Bold"; FONT_ITALIC = "Helvetica-Oblique"
    |                                                        ^
741 | # KORREKTUR: Standardfarben gem├ñ├ƒ neuen Designrichtlinien
742 | PRIMARY_COLOR_HEX = "#1B365D"  # Dunkelblau - Professionell und vertrauensvoll
    |

N802 Function name `showPage` should be lowercase
   --> repair_pdf\pdf_generator.py:879:9
    |
877 |         self.total_pages = 0
878 |         self.current_chapter_title_for_header = ''
879 |     def showPage(self):
    |         ^^^^^^^^
880 |         self._saved_page_states.append(dict(self.__dict__))
881 |         super().showPage()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:893:55
    |
892 | class SetCurrentChapterTitle(Flowable):
893 |     def __init__(self, title): Flowable.__init__(self); self.title = title
    |                                                       ^
894 |     def wrap(self, availWidth, availHeight): return 0,0
895 |     def draw(self):
    |

N803 Argument name `availWidth` should be lowercase
   --> repair_pdf\pdf_generator.py:894:20
    |
892 | class SetCurrentChapterTitle(Flowable):
893 |     def __init__(self, title): Flowable.__init__(self); self.title = title
894 |     def wrap(self, availWidth, availHeight): return 0,0
    |                    ^^^^^^^^^^
895 |     def draw(self):
896 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |

N803 Argument name `availHeight` should be lowercase
   --> repair_pdf\pdf_generator.py:894:32
    |
892 | class SetCurrentChapterTitle(Flowable):
893 |     def __init__(self, title): Flowable.__init__(self); self.title = title
894 |     def wrap(self, availWidth, availHeight): return 0,0
    |                                ^^^^^^^^^^^
895 |     def draw(self):
896 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:896:33
    |
894 |     def wrap(self, availWidth, availHeight): return 0,0
895 |     def draw(self):
896 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |                                 ^
897 |
898 | # Einfache HRFlowable f├╝r Trennlinien, falls die ReportLab Version sie nicht direkt hat
    |

N803 Argument name `spaceBefore` should be lowercase
   --> repair_pdf\pdf_generator.py:900:102
    |
898 | # Einfache HRFlowable f├╝r Trennlinien, falls die ReportLab Version sie nicht direkt hat
899 | class SimpleHRFlowable(Flowable):
900 |     def __init__(self, width="100%", thickness=0.5, color=colors.HexColor(SEPARATOR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=0ÔÇª
    |                                                                                                      ^^^^^^^^^^^^^^^^^^
901 |         Flowable.__init__(self)
902 |         self.width_spec = width
    |

N803 Argument name `spaceAfter` should be lowercase
   --> repair_pdf\pdf_generator.py:900:122
    |
898 | ÔÇªon sie nicht direkt hat
899 | ÔÇª
900 | ÔÇª.HexColor(SEPARATOR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=0.2*cm, vAlign='BOTTOM'):
    |                                                           ^^^^^^^^^^^^^^^^^
901 | ÔÇª
902 | ÔÇª
    |

N803 Argument name `vAlign` should be lowercase
   --> repair_pdf\pdf_generator.py:900:141
    |
898 | ÔÇªt hat
899 | ÔÇª
900 | ÔÇªR_LINE_COLOR_HEX), spaceBefore=0.2*cm, spaceAfter=0.2*cm, vAlign='BOTTOM'):
    |                                                            ^^^^^^^^^^^^^^^
901 | ÔÇª
902 | ÔÇª
    |

N803 Argument name `availWidth` should be lowercase
   --> repair_pdf\pdf_generator.py:924:20
    |
922 |         self.canv.restoreState()
923 |
924 |     def wrap(self, availWidth, availHeight):
    |                    ^^^^^^^^^^
925 |         self.drawWidth = availWidth # Nutze die verf├╝gbare Breite
926 |         if isinstance(self.width_spec, str) and self.width_spec.endswith('%'):
    |

N803 Argument name `availHeight` should be lowercase
   --> repair_pdf\pdf_generator.py:924:32
    |
922 |         self.canv.restoreState()
923 |
924 |     def wrap(self, availWidth, availHeight):
    |                                ^^^^^^^^^^^
925 |         self.drawWidth = availWidth # Nutze die verf├╝gbare Breite
926 |         if isinstance(self.width_spec, str) and self.width_spec.endswith('%'):
    |

N802 Function name `getSpaceBefore` should be lowercase
   --> repair_pdf\pdf_generator.py:932:9
    |
930 |         return self.drawWidth, self.thickness + self.spaceBefore + self.spaceAfter
931 |
932 |     def getSpaceBefore(self):
    |         ^^^^^^^^^^^^^^
933 |         return self.spaceBefore
    |

N802 Function name `getSpaceAfter` should be lowercase
   --> repair_pdf\pdf_generator.py:935:9
    |
933 |         return self.spaceBefore
934 |
935 |     def getSpaceAfter(self):
    |         ^^^^^^^^^^^^^
936 |         return self.spaceAfter
    |

F811 Redefinition of unused `SetCurrentChapterTitle` from line 892
   --> repair_pdf\pdf_generator.py:938:7
    |
936 |         return self.spaceAfter
937 |
938 | class SetCurrentChapterTitle(Flowable):
    |       ^^^^^^^^^^^^^^^^^^^^^^ `SetCurrentChapterTitle` redefined here
939 |     def __init__(self, title): Flowable.__init__(self); self.title = title
940 |     def wrap(self, availWidth, availHeight): return 0,0
    |
   ::: repair_pdf\pdf_generator.py:892:7
    |
890 |         super().save()
891 |
892 | class SetCurrentChapterTitle(Flowable):
    |       ---------------------- previous definition of `SetCurrentChapterTitle` here
893 |     def __init__(self, title): Flowable.__init__(self); self.title = title
894 |     def wrap(self, availWidth, availHeight): return 0,0
    |
help: Remove definition: `SetCurrentChapterTitle`

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:939:55
    |
938 | class SetCurrentChapterTitle(Flowable):
939 |     def __init__(self, title): Flowable.__init__(self); self.title = title
    |                                                       ^
940 |     def wrap(self, availWidth, availHeight): return 0,0
941 |     def draw(self):
    |

N803 Argument name `availWidth` should be lowercase
   --> repair_pdf\pdf_generator.py:940:20
    |
938 | class SetCurrentChapterTitle(Flowable):
939 |     def __init__(self, title): Flowable.__init__(self); self.title = title
940 |     def wrap(self, availWidth, availHeight): return 0,0
    |                    ^^^^^^^^^^
941 |     def draw(self):
942 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |

N803 Argument name `availHeight` should be lowercase
   --> repair_pdf\pdf_generator.py:940:32
    |
938 | class SetCurrentChapterTitle(Flowable):
939 |     def __init__(self, title): Flowable.__init__(self); self.title = title
940 |     def wrap(self, availWidth, availHeight): return 0,0
    |                                ^^^^^^^^^^^
941 |     def draw(self):
942 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:942:33
    |
940 |     def wrap(self, availWidth, availHeight): return 0,0
941 |     def draw(self):
942 |         if hasattr(self, 'canv'): self.canv.current_chapter_title_for_header = self.title
    |                                 ^
943 |
944 | def _update_styles_with_dynamic_colors(design_settings: dict[str, str]):
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:946:32
    |
944 | def _update_styles_with_dynamic_colors(design_settings: dict[str, str]):
945 |     global PRIMARY_COLOR_HEX, SECONDARY_COLOR_HEX, SEPARATOR_LINE_COLOR_HEX, STYLES, DATA_TABLE_STYLE
946 |     if not _REPORTLAB_AVAILABLE: return
    |                                ^
947 |
948 |     PRIMARY_COLOR_HEX = design_settings.get('primary_color', "#0055A4")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:978:32
    |
976 | def _get_image_flowable(image_data_input: str | bytes | None, desired_width: float, texts: dict[str, str], caption_text_key: str | NoÔÇª
977 |     flowables: list[Any] = []
978 |     if not _REPORTLAB_AVAILABLE: return flowables
    |                                ^
979 |     img_data_bytes: bytes | None = None
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:983:57
    |
981 |     if isinstance(image_data_input, str) and image_data_input.strip().lower() not in ["", "none", "null", "nan"]:
982 |         try:
983 |             if image_data_input.startswith('data:image'): image_data_input = image_data_input.split(',', 1)[1]
    |                                                         ^
984 |             img_data_bytes = base64.b64decode(image_data_input)
985 |         except Exception: img_data_bytes = None
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:985:25
    |
983 |             if image_data_input.startswith('data:image'): image_data_input = image_data_input.split(',', 1)[1]
984 |             img_data_bytes = base64.b64decode(image_data_input)
985 |         except Exception: img_data_bytes = None
    |                         ^
986 |     elif isinstance(image_data_input, bytes): img_data_bytes = image_data_input
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:986:45
    |
984 |             img_data_bytes = base64.b64decode(image_data_input)
985 |         except Exception: img_data_bytes = None
986 |     elif isinstance(image_data_input, bytes): img_data_bytes = image_data_input
    |                                             ^
987 |
988 |     if img_data_bytes:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:990:34
    |
988 |     if img_data_bytes:
989 |         try:
990 |             if not img_data_bytes: raise ValueError("Bilddaten sind leer nach Verarbeitung.")
    |                                  ^
991 |             img_file_like = io.BytesIO(img_data_bytes)
992 |             img_reader = ImageReader(img_file_like)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:994:34
    |
992 |             img_reader = ImageReader(img_file_like)
993 |             iw, ih = img_reader.getSize()
994 |             if iw <= 0 or ih <= 0: raise ValueError(f"Ung├╝ltige Bilddimensionen: w={iw}, h={ih}")
    |                                  ^
995 |             aspect = ih / float(iw) if iw > 0 else 1.0
996 |             img_h_calc = desired_width * aspect; img_w_final, img_h_final = desired_width, img_h_calc
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:996:48
    |
994 | ÔÇª     if iw <= 0 or ih <= 0: raise ValueError(f"Ung├╝ltige Bilddimensionen: w={iw}, h={ih}")
995 | ÔÇª     aspect = ih / float(iw) if iw > 0 else 1.0
996 | ÔÇª     img_h_calc = desired_width * aspect; img_w_final, img_h_final = desired_width, img_h_calc
    |                                          ^
997 | ÔÇª     if max_height and img_h_calc > max_height: img_h_final = max_height; img_w_final = img_h_final / aspect if aspect > 0 else desiÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_generator.py:997:54
    |
995 |             aspect = ih / float(iw) if iw > 0 else 1.0
996 |             img_h_calc = desired_width * aspect; img_w_final, img_h_final = desired_width, img_h_calc
997 |             if max_height and img_h_calc > max_height: img_h_final = max_height; img_w_final = img_h_final / aspect if aspect > 0 elÔÇª
    |                                                      ^
998 |
999 |             # KORREKTUR: Stelle sicher, dass img_w_final und img_h_final positiv sind
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_generator.py:997:80
    |
995 |             aspect = ih / float(iw) if iw > 0 else 1.0
996 |             img_h_calc = desired_width * aspect; img_w_final, img_h_final = desired_width, img_h_calc
997 |             if max_height and img_h_calc > max_height: img_h_final = max_height; img_w_final = img_h_final / aspect if aspect > 0 elÔÇª
    |                                                                                ^
998 |
999 |             # KORREKTUR: Stelle sicher, dass img_w_final und img_h_final positiv sind
    |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1004:39
     |
1003 |             img = Image(io.BytesIO(img_data_bytes), width=img_w_final, height=img_h_final)
1004 |             img.hAlign = align.upper(); flowables.append(img)
     |                                       ^
1005 |             if caption_text_key:
1006 |                 caption_text = get_text(texts, caption_text_key, "")
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1008:56
     |
1006 |                 caption_text = get_text(texts, caption_text_key, "")
1007 |                 if caption_text and not caption_text.startswith(caption_text_key) and not caption_text.endswith("(PDF-Text fehlt)"):
1008 |                     flowables.append(Spacer(1, 0.1*cm)); flowables.append(Paragraph(caption_text, STYLES['ImageCaption']))
     |                                                        ^
1009 |         except Exception:
1010 |             if caption_text_key :
     |

F841 Local variable `text_content` is assigned to but never used
    --> repair_pdf\pdf_generator.py:1028:5
     |
1027 | def _draw_cover_letter(c: canvas.Canvas, theme: dict, offer_data: dict):
1028 |     text_content = get_cover_letter_template(
     |     ^^^^^^^^^^^^
1029 |         customer_name=offer_data["customer"]["name"],
1030 |         offer_id=offer_data["offer_id"]
     |
help: Remove assignment to unused variable `text_content`

F841 Local variable `results` is assigned to but never used
    --> repair_pdf\pdf_generator.py:1065:5
     |
1063 |     c.drawString(2*cm, A4[1] - 2*cm, "Detaillierte Wirtschaftlichkeitsanalyse")
1064 |
1065 |     results = run_all_extended_analyses(offer_data)
     |     ^^^^^^^
1066 |
1067 |     # Hier folgt die Logik, um die 'results' formatiert auf der PDF-Seite auszugeben.
     |
help: Remove assignment to unused variable `results`

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1289:30
     |
1287 |     if isinstance(salutation_value, str):
1288 |         sl_lower = salutation_value.lower().strip()
1289 |         if sl_lower == "herr": salutation_key_base = "salutation_male_polite"
     |                              ^
1290 |         elif sl_lower == "frau": salutation_key_base = "salutation_female_polite"
1291 |         elif sl_lower == "familie":
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1290:32
     |
1288 | ÔÇª     sl_lower = salutation_value.lower().strip()
1289 | ÔÇª     if sl_lower == "herr": salutation_key_base = "salutation_male_polite"
1290 | ÔÇª     elif sl_lower == "frau": salutation_key_base = "salutation_female_polite"
     |                              ^
1291 | ÔÇª     elif sl_lower == "familie":
1292 | ÔÇª         fam_name = last_name if last_name and str(last_name).strip() else customer_data.get("company_name", get_text(texts, "familÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1296:32
     |
1294 | ÔÇª     elif sl_lower == "firma":
1295 | ÔÇª         company_name_val = customer_data.get("company_name", "") or last_name
1296 | ÔÇª         if company_name_val: return f"{get_text(texts, 'salutation_company_polite', 'Sehr geehrte Damen und Herren der Firma')} {sÔÇª
     |                              ^
1297 | ÔÇª         return get_text(texts, 'salutation_generic_fallback', 'Sehr geehrte Damen und Herren,')
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1307:29
     |
1306 | def _replace_placeholders(text_template: str, customer_data: dict, company_info: dict, offer_number: str, texts_dict: dict[str, str]ÔÇª
1307 |     if text_template is None: text_template = ""
     |                             ^
1308 |     processed_text = str(text_template)
1309 |     now_date_str = datetime.now().strftime('%d.%m.%Y')
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1378:101
     |
1376 | ÔÇª     formatted_value_str_pdf = format_kpi_value(value_cost, unit=unit_pdf, precision=precision_pdf, texts_dict=texts)
1377 | ÔÇª     value_style_name = base_style_name
1378 | ÔÇª     if result_key in ['total_investment_netto', 'total_investment_brutto', 'subtotal_netto']: value_style_name = 'TableBoldRight'
     |                                                                                               ^
1379 | ÔÇª     elif is_euro_val or unit_pdf == "%": value_style_name = 'TableNumber'
1380 | ÔÇª     value_style = STYLES.get(value_style_name, STYLES['TableText'])
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1379:48
     |
1377 | ÔÇª     value_style_name = base_style_name
1378 | ÔÇª     if result_key in ['total_investment_netto', 'total_investment_brutto', 'subtotal_netto']: value_style_name = 'TableBoldRight'
1379 | ÔÇª     elif is_euro_val or unit_pdf == "%": value_style_name = 'TableNumber'
     |                                          ^
1380 | ÔÇª     value_style = STYLES.get(value_style_name, STYLES['TableText'])
1381 | ÔÇª     cost_data_pdf.append([Paragraph(str(label_text_pdf), STYLES.get('TableLabel')), Paragraph(str(formatted_value_str_pdf), value_ÔÇª
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1398:31
     |
1397 |     sim_period_eff_pdf = int(analysis_results.get('simulation_period_years_effective', 0))
1398 |     if sim_period_eff_pdf == 0: return sim_data_for_pdf_final
     |                               ^
1399 |
1400 |     actual_years_to_display_pdf = min(sim_period_eff_pdf, num_years_to_show)
     |

B007 Loop control variable `j_pdf` not used within loop body
    --> repair_pdf\pdf_generator.py:1409:13
     |
1407 |     for i_pdf in range(actual_years_to_display_pdf):
1408 |         row_items_formatted_pdf = [Paragraph(str(i_pdf + 1), STYLES.get(header_config_pdf[0][4]))]
1409 |         for j_pdf, header_conf_item in enumerate(header_config_pdf[1:]):
     |             ^^^^^
1410 |             result_key_pdf, unit_pdf, precision_pdf, style_name_data_pdf = header_conf_item[1], header_conf_item[2], header_conf_iteÔÇª
1411 |             current_list_pdf = analysis_results.get(str(result_key_pdf), [])
     |
help: Rename unused `j_pdf` to `_j_pdf`

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1419:46
     |
1417 |     if sim_period_eff_pdf > num_years_to_show:
1418 |         ellipsis_row_pdf = [Paragraph("...", STYLES['TableText']) for _ in header_config_pdf]
1419 |         for cell_para_pdf in ellipsis_row_pdf: cell_para_pdf.style.alignment = TA_CENTER
     |                                              ^
1420 |         sim_data_for_pdf_final.append(ellipsis_row_pdf)
1421 |     return sim_data_for_pdf_final
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1424:32
     |
1423 | def _create_product_table_with_image(details_data_prod: list[list[Any]], product_image_flowables_prod: list[Any], available_width: fÔÇª
1424 |     if not _REPORTLAB_AVAILABLE: return []
     |                                ^
1425 |     story_elements: list[Any] = []
1426 |     if details_data_prod and product_image_flowables_prod:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1454:32
     |
1452 |     VERBESSERTE Produktdetails mit korrekten Bezeichnungen und Seitenumbruch-Schutz
1453 |     """
1454 |     if not _REPORTLAB_AVAILABLE: return
     |                                ^
1455 |
1456 |     # SEITENUMBRUCH-SCHUTZ: Sammle alle Elemente in einer Liste
     |

F821 Undefined name `Tuple`
    --> repair_pdf\pdf_generator.py:1494:42
     |
1492 |         ('warranty_years', 'product_warranty')
1493 |     ]
1494 |     component_specific_fields_prod: list[Tuple[str,str]] = []
     |                                          ^^^^^
1495 |     cat_lower_prod = str(product_details.get('category', "")).lower()
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1552:40
     |
1550 |         if value_prod is not None and str(value_prod).strip() != "":
1551 |             unit_prod, prec_prod = "", 2
1552 |             if key_prod == 'capacity_w': unit_prod, prec_prod = "Wp", 0
     |                                        ^
1553 |             elif key_prod == 'power_kw': unit_prod, prec_prod = "kW", 1 # F├╝r WR, Speicher, Wallbox etc.
1554 |             elif key_prod == 'storage_power_kw': unit_prod, prec_prod = "kWh", 1
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1553:40
     |
1551 |             unit_prod, prec_prod = "", 2
1552 |             if key_prod == 'capacity_w': unit_prod, prec_prod = "Wp", 0
1553 |             elif key_prod == 'power_kw': unit_prod, prec_prod = "kW", 1 # F├╝r WR, Speicher, Wallbox etc.
     |                                        ^
1554 |             elif key_prod == 'storage_power_kw': unit_prod, prec_prod = "kWh", 1
1555 |             elif key_prod.endswith('_percent'): unit_prod, prec_prod = "%", 1
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1554:48
     |
1552 |             if key_prod == 'capacity_w': unit_prod, prec_prod = "Wp", 0
1553 |             elif key_prod == 'power_kw': unit_prod, prec_prod = "kW", 1 # F├╝r WR, Speicher, Wallbox etc.
1554 |             elif key_prod == 'storage_power_kw': unit_prod, prec_prod = "kWh", 1
     |                                                ^
1555 |             elif key_prod.endswith('_percent'): unit_prod, prec_prod = "%", 1
1556 |             elif key_prod == 'warranty_years': unit_prod, prec_prod = "Jahre", 0
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1555:47
     |
1553 |             elif key_prod == 'power_kw': unit_prod, prec_prod = "kW", 1 # F├╝r WR, Speicher, Wallbox etc.
1554 |             elif key_prod == 'storage_power_kw': unit_prod, prec_prod = "kWh", 1
1555 |             elif key_prod.endswith('_percent'): unit_prod, prec_prod = "%", 1
     |                                               ^
1556 |             elif key_prod == 'warranty_years': unit_prod, prec_prod = "Jahre", 0
1557 |             elif key_prod == 'max_cycles': unit_prod, prec_prod = "Zyklen", 0
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1556:46
     |
1554 |             elif key_prod == 'storage_power_kw': unit_prod, prec_prod = "kWh", 1
1555 |             elif key_prod.endswith('_percent'): unit_prod, prec_prod = "%", 1
1556 |             elif key_prod == 'warranty_years': unit_prod, prec_prod = "Jahre", 0
     |                                              ^
1557 |             elif key_prod == 'max_cycles': unit_prod, prec_prod = "Zyklen", 0
1558 |             elif key_prod.endswith('_m'): unit_prod, prec_prod = "m", 3
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1557:42
     |
1555 |             elif key_prod.endswith('_percent'): unit_prod, prec_prod = "%", 1
1556 |             elif key_prod == 'warranty_years': unit_prod, prec_prod = "Jahre", 0
1557 |             elif key_prod == 'max_cycles': unit_prod, prec_prod = "Zyklen", 0
     |                                          ^
1558 |             elif key_prod.endswith('_m'): unit_prod, prec_prod = "m", 3
1559 |             elif key_prod == 'weight_kg': unit_prod, prec_prod = "kg", 1
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1558:41
     |
1556 |             elif key_prod == 'warranty_years': unit_prod, prec_prod = "Jahre", 0
1557 |             elif key_prod == 'max_cycles': unit_prod, prec_prod = "Zyklen", 0
1558 |             elif key_prod.endswith('_m'): unit_prod, prec_prod = "m", 3
     |                                         ^
1559 |             elif key_prod == 'weight_kg': unit_prod, prec_prod = "kg", 1
1560 |             # F├╝r reine Textfelder (kanonische Modul-Felder) nicht numerisch formatieren
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1559:41
     |
1557 |             elif key_prod == 'max_cycles': unit_prod, prec_prod = "Zyklen", 0
1558 |             elif key_prod.endswith('_m'): unit_prod, prec_prod = "m", 3
1559 |             elif key_prod == 'weight_kg': unit_prod, prec_prod = "kg", 1
     |                                         ^
1560 |             # F├╝r reine Textfelder (kanonische Modul-Felder) nicht numerisch formatieren
1561 |             if key_prod in ('cell_technology','module_structure','cell_type','version','module_warranty_text'):
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1571:59
     |
1569 | ÔÇª     product_image_base64_prod = product_details.get('image_base64')
1570 | ÔÇª     if product_image_base64_prod:
1571 | ÔÇª         img_w_prod = min(available_width * 0.30, 5*cm); img_h_max_prod = 5*cm
     |                                                         ^
1572 | ÔÇª         product_image_flowables_prod = _get_image_flowable(product_image_base64_prod, img_w_prod, texts, None, img_h_max_prod, aliÔÇª
     |

F821 Undefined name `_create_plaintext_pdf_fallback`
    --> repair_pdf\pdf_generator.py:1642:20
     |
1640 |     if not _REPORTLAB_AVAILABLE:
1641 |         if project_data and texts and company_info:
1642 |             return _create_plaintext_pdf_fallback(project_data, analysis_results, texts, company_info, selected_offer_title_text, seÔÇª
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1643 |         return None
     |

F841 Local variable `chart_config` is assigned to but never used
    --> repair_pdf\pdf_generator.py:1759:5
     |
1757 |     #  NEUE EXTENDED FEATURES (aus Session State)
1758 |     financing_config = inclusion_options.get("financing_config", {})
1759 |     chart_config = inclusion_options.get("chart_config", {})
     |     ^^^^^^^^^^^^
1760 |     custom_content_items = inclusion_options.get("custom_content_items", [])
1761 |     pdf_editor_config = inclusion_options.get("pdf_editor_config", {})
     |
help: Remove assignment to unused variable `chart_config`

F841 Local variable `pdf_editor_config` is assigned to but never used
    --> repair_pdf\pdf_generator.py:1761:5
     |
1759 |     chart_config = inclusion_options.get("chart_config", {})
1760 |     custom_content_items = inclusion_options.get("custom_content_items", [])
1761 |     pdf_editor_config = inclusion_options.get("pdf_editor_config", {})
     |     ^^^^^^^^^^^^^^^^^
1762 |     pdf_design_config = inclusion_options.get("pdf_design_config", {})
     |
help: Remove assignment to unused variable `pdf_editor_config`

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1927:55
     |
1925 |                 for key in preferred_gen_order:
1926 |                     if key in def_map and key not in seen:
1927 |                         reordered.append(def_map[key]); seen.add(key)
     |                                                       ^
1928 |                 for tpl in ordered_section_definitions_pdf:
1929 |                     if tpl[0] not in seen:
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1930:46
     |
1928 |                 for tpl in ordered_section_definitions_pdf:
1929 |                     if tpl[0] not in seen:
1930 |                         reordered.append(tpl); seen.add(tpl[0])
     |                                              ^
1931 |                 ordered_section_definitions_pdf = reordered
1932 |     except Exception as _e_order:
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:1976:45
     |
1974 |                         section_elements.append(Paragraph(get_text(texts,"satellite_image_header_pdf","Satellitenansicht Objekt"), SÔÇª
1975 |                         sat_img_flowables = _get_image_flowable(pv_details_pdf['satellite_image_base64_data'], available_width_conteÔÇª
1976 |                         if sat_img_flowables: section_elements.extend(sat_img_flowables); section_elements.append(Spacer(1, 0.5*cm))
     |                                             ^
1977 |
1978 |                     overview_data_content_pdf = [
     |

E702 Multiple statements on one line (semicolon)
    --> repair_pdf\pdf_generator.py:1976:89
     |
1974 |                         section_elements.append(Paragraph(get_text(texts,"satellite_image_header_pdf","Satellitenansicht Objekt"), SÔÇª
1975 |                         sat_img_flowables = _get_image_flowable(pv_details_pdf['satellite_image_base64_data'], available_width_conteÔÇª
1976 |                         if sat_img_flowables: section_elements.extend(sat_img_flowables); section_elements.append(Spacer(1, 0.5*cm))
     |                                                                                         ^
1977 |
1978 |                     overview_data_content_pdf = [
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:2020:35
     |
2019 |                     for comp_id, comp_title in main_components:
2020 |                         if comp_id: _add_product_details_to_story(story, comp_id, comp_title, texts, available_width_content, get_prÔÇª
     |                                   ^
2021 |
2022 |                     # ERWEITERUNG: Optionale Komponenten / Zubeh├Âr
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:2375:47
     |
2373 | ÔÇª     if pv_details_pdf.get('future_hp'):
2374 | ÔÇª         future_aspects_text += get_text(texts, "pdf_future_hp_text_param", "<b>W├ñrmepumpe:</b> Die Anlage kann zur Unterst├╝tzung eÔÇª
2375 | ÔÇª     if not future_aspects_text: future_aspects_text = get_text(texts, "pdf_no_future_aspects_selected", "Keine spezifischen ZukunfÔÇª
     |                                 ^
2376 | ÔÇª     section_elements.append(Paragraph(future_aspects_text, STYLES.get('NormalLeft')))
     |

F821 Undefined name `_create_plaintext_pdf_fallback`
    --> repair_pdf\pdf_generator.py:2679:16
     |
2677 |         main_pdf_bytes = main_offer_buffer.getvalue()
2678 |     except Exception:
2679 |         return _create_plaintext_pdf_fallback(project_data, analysis_results, texts, company_info, selected_offer_title_text, selectÔÇª
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2680 |     finally:
2681 |         main_offer_buffer.close()
     |

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_generator.py:2708:27
     |
2706 |         for opt_id_key in ['selected_wallbox_id', 'selected_ems_id', 'selected_optimizer_id', 'selected_carport_id', 'selected_notstÔÇª
2707 |             comp_id_val = pv_details_pdf.get(opt_id_key)
2708 |             if comp_id_val: product_ids_for_datasheets.append(comp_id_val)
     |                           ^
2709 |
2710 |     # Duplikate entfernen, falls ein Produkt mehrfach auftaucht (unwahrscheinlich, aber sicher)
     |

RET504 Unnecessary assignment to `final_pdf_bytes` before `return` statement
    --> repair_pdf\pdf_generator.py:2780:16
     |
2778 |         pdf_writer.write(final_buffer)
2779 |         final_pdf_bytes = final_buffer.getvalue()
2780 |         return final_pdf_bytes
     |                ^^^^^^^^^^^^^^^
2781 |     except Exception:
2782 |         return main_pdf_bytes
     |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2789:1
     |
2787 |     """
2788 |     Standalone-Funktion zum Zusammenf├╝hren mehrerer PDF-Dateien.
2789 |     
     | ^^^^
2790 |     Args:
2791 |         pdf_files: Liste von PDF-Dateien (Pfade, Bytes oder BytesIO-Objekte)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2792:1
     |
2790 |     Args:
2791 |         pdf_files: Liste von PDF-Dateien (Pfade, Bytes oder BytesIO-Objekte)
2792 |         
     | ^^^^^^^^
2793 |     Returns:
2794 |         bytes: Die zusammengef├╝hrte PDF als Bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2848:1
     |
2846 |     """
2847 |     Validiert die Verf├╝gbarkeit von Daten f├╝r die PDF-Erstellung und gibt Warnmeldungen zur├╝ck.
2848 |     
     | ^^^^
2849 |     Args:
2850 |         project_data: Projektdaten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2853:1
     |
2851 |         analysis_results: Analyseergebnisse
2852 |         texts: Text-Dictionary
2853 |         
     | ^^^^^^^^
2854 |     Returns:
2855 |         Dict mit Validierungsergebnissen und Warnmeldungen
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2929:1
     |
2927 |     """
2928 |     Erstellt eine Fallback-PDF mit Informationstext, wenn keine ausreichenden Daten verf├╝gbar sind.
2929 |     
     | ^^^^
2930 |     Args:
2931 |         texts: Text-Dictionary
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2933:1
     |
2931 |         texts: Text-Dictionary
2932 |         customer_data: Optionale Kundendaten
2933 |         
     | ^^^^^^^^
2934 |     Returns:
2935 |         PDF als Bytes
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2964:1
     |
2962 |     main_text = get_text(texts, 'pdf_no_data_main_text',
2963 |         '''Liebe Kundin, lieber Kunde,
2964 |         
     | ^^^^^^^^
2965 |         f├╝r die Erstellung Ihres individuellen Photovoltaik-Angebots ben├Âtigen wir noch einige wichtige Informationen:
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2966:1
     |
2965 |         f├╝r die Erstellung Ihres individuellen Photovoltaik-Angebots ben├Âtigen wir noch einige wichtige Informationen:
2966 |         
     | ^^^^^^^^
2967 |         <b>Erforderliche Daten:</b>
2968 |         ÔÇó Ihre Kontaktdaten (vollst├ñndig)
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2972:1
     |
2970 |         ÔÇó Stromverbrauchsdaten Ihres Haushalts
2971 |         ÔÇó Technische Angaben zu Ihrem Dach/Standort
2972 |         
     | ^^^^^^^^
2973 |         <b>N├ñchste Schritte:</b>
2974 |         1. Vervollst├ñndigen Sie die Dateneingabe in der Anwendung
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_generator.py:2977:1
     |
2975 |         2. F├╝hren Sie die Wirtschaftlichkeitsberechnung durch
2976 |         3. Generieren Sie anschlie├ƒend Ihr personalisiertes PDF-Angebot
2977 |         
     | ^^^^^^^^
2978 |         Bei Fragen stehen wir Ihnen gerne zur Verf├╝gung!''')
     |
help: Remove whitespace from blank line

F401 `reportlab.lib.pagesizes.A4` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\pdf_preview.py:20:41
   |
18 |     import fitz  # PyMuPDF f├╝r PDF-zu-Bild-Konvertierung
19 |     from PIL import Image
20 |     from reportlab.lib.pagesizes import A4
   |                                         ^^
21 |     from reportlab.pdfgen import canvas
   |
help: Remove unused import: `reportlab.lib.pagesizes.A4`

F401 `reportlab.pdfgen.canvas` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\pdf_preview.py:21:34
   |
19 |     from PIL import Image
20 |     from reportlab.lib.pagesizes import A4
21 |     from reportlab.pdfgen import canvas
   |                                  ^^^^^^
22 |
23 |     from pdf_generator import generate_offer_pdf_simple as generate_offer_pdf
   |
help: Remove unused import: `reportlab.pdfgen.canvas`

F841 Local variable `update_delay` is assigned to but never used
   --> repair_pdf\pdf_preview.py:159:9
    |
157 |         )
158 |
159 |         update_delay = st.slider(
    |         ^^^^^^^^^^^^
160 |             "Aktualisierungsverz├Âgerung (Sek.)",
161 |             min_value=1,
    |
help: Remove assignment to unused variable `update_delay`

F841 Local variable `show_annotations` is assigned to but never used
   --> repair_pdf\pdf_preview.py:178:9
    |
176 |         )
177 |
178 |         show_annotations = st.checkbox(
    |         ^^^^^^^^^^^^^^^^
179 |             "Anmerkungen anzeigen",
180 |             value=True
    |
help: Remove assignment to unused variable `show_annotations`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> repair_pdf\pdf_styles.py:468:35
    |
466 |                          xy=(amortization_year, investment),
467 |                          xytext=(amortization_year + 1, investment + 5000),
468 |                          arrowprops=dict(arrowstyle='->',
    |  ___________________________________^
469 | |                                      connectionstyle='arc3,rad=0.3',
470 | |                                      color=theme_config['colors'][3]),
    | |_____________________________________________________________________^
471 |                          fontweight='bold',
472 |                          bbox=dict(boxstyle="round,pad=0.3",
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> repair_pdf\pdf_styles.py:472:29
    |
470 |                                        color=theme_config['colors'][3]),
471 |                          fontweight='bold',
472 |                          bbox=dict(boxstyle="round,pad=0.3",
    |  _____________________________^
473 | |                                facecolor='white',
474 | |                                edgecolor=theme_config['colors'][3]))
    | |___________________________________________________________________^
475 |
476 |           # Styling
    |
help: Rewrite as a literal

B007 Loop control variable `comp` not used within loop body
   --> repair_pdf\pdf_styles.py:506:13
    |
505 |         # Komponenten zeichnen
506 |         for comp, info in components.items():
    |             ^^^^
507 |             circle = Circle(info['pos'], info['size'],
508 |                           facecolor=theme_config['colors'][0],
    |
help: Rename unused `comp` to `_comp`

F841 Local variable `arrow` is assigned to but never used
   --> repair_pdf\pdf_styles.py:530:17
    |
529 |                 # Pfeil zeichnen
530 |                 arrow = plt.annotate('', xy=end, xytext=start,
    |                 ^^^^^
531 |                                    arrowprops=dict(arrowstyle='->', lw=value/10,
532 |                                                  color=theme_config['colors'][1],
    |
help: Remove assignment to unused variable `arrow`

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> repair_pdf\pdf_styles.py:531:47
    |
529 |                   # Pfeil zeichnen
530 |                   arrow = plt.annotate('', xy=end, xytext=start,
531 |                                      arrowprops=dict(arrowstyle='->', lw=value/10,
    |  _______________________________________________^
532 | |                                                  color=theme_config['colors'][1],
533 | |                                                  alpha=0.7))
    | |___________________________________________________________^
534 |
535 |                   # Wert anzeigen
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> repair_pdf\pdf_styles.py:539:29
    |
537 |                   mid_y = (start[1] + end[1]) / 2
538 |                   ax.text(mid_x, mid_y, f'{value}%', ha='center', va='center',
539 |                          bbox=dict(boxstyle="round,pad=0.2",
    |  _____________________________^
540 | |                                facecolor='white', alpha=0.8),
    | |____________________________________________________________^
541 |                          fontsize=8)
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> repair_pdf\pdf_styles.py:634:38
    |
632 |         """Zeichnet einen Pfeil"""
633 |         return plt.annotate('', xy=(x2, y2), xytext=(x1, y1),
634 |                           arrowprops=dict(arrowstyle='->', lw=2))
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
635 |
636 |     def create_custom_background(
    |
help: Rewrite as a literal

N805 First argument of a method should be named `self`
   --> repair_pdf\pdf_styles.py:687:36
    |
685 |         return img
686 |
687 |     def render_pdf_visual_enhancer(texts: dict[str, str]):
    |                                    ^^^^^^^^^^^^^^^^^^^^^
688 |         """Haupt-Render-Funktion f├╝r Visual Enhancer"""
689 |         st.header(" PDF Visual Enhancer")
    |
help: Rename `texts` to `self`

F821 Undefined name `datetime`
    --> repair_pdf\pdf_styles.py:1229:38
     |
1227 |                         'theme': all_themes[current_theme],
1228 |                         'settings': st.session_state.pdf_theme_settings,
1229 |                         'timestamp': datetime.now().isoformat()
     |                                      ^^^^^^^^
1230 |                     }
     |

F821 Undefined name `datetime`
    --> repair_pdf\pdf_styles.py:1237:64
     |
1235 |                         label=" Theme herunterladen",
1236 |                         data=theme_json,
1237 |                         file_name=f"pdf_theme_{current_theme}_{datetime.now().strftime('%Y%m%d')}.json",
     |                                                                ^^^^^^^^
1238 |                         mime="application/json"
1239 |                     )
     |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:25:42
   |
23 | # --- Fallback-Funktionsreferenzen ---
24 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
25 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
   |                                          ^
26 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
27 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:26:42
   |
24 | def _dummy_load_admin_setting_pdf_ui(key, default=None):
25 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
26 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
   |                                          ^
27 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
28 |     if key == 'active_company_id': return None
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:27:43
   |
25 |     if key == 'pdf_title_image_templates': return [{'name': 'Standard-Titelbild (Fallback)', 'data': None}]
26 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
27 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
   |                                           ^
28 |     if key == 'active_company_id': return None
29 |     if key == 'pdf_offer_presets': return [] # Korrekter Fallback als Liste
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:28:34
   |
26 |     if key == 'pdf_offer_title_templates': return [{'name': 'Standard-Titel (Fallback)', 'content': 'Angebot f├╝r Ihre PhotovoltaikanlaÔÇª
27 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
28 |     if key == 'active_company_id': return None
   |                                  ^
29 |     if key == 'pdf_offer_presets': return [] # Korrekter Fallback als Liste
30 |     return default
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:29:34
   |
27 |     if key == 'pdf_cover_letter_templates': return [{'name': 'Standard-Anschreiben (Fallback)', 'content': 'Sehr geehrte Damen und HerÔÇª
28 |     if key == 'active_company_id': return None
29 |     if key == 'pdf_offer_presets': return [] # Korrekter Fallback als Liste
   |                                  ^
30 |     return default
31 | def _dummy_save_admin_setting_pdf_ui(key, value): return False
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:44:42
   |
42 |     from pdf_generator import generate_offer_pdf
43 |     _generate_offer_pdf_safe = generate_offer_pdf
44 | except (ImportError, ModuleNotFoundError): pass
   |                                          ^
45 | except Exception: pass
   |

E701 Multiple statements on one line (colon)
  --> repair_pdf\pdf_ui.py:45:17
   |
43 |     _generate_offer_pdf_safe = generate_offer_pdf
44 | except (ImportError, ModuleNotFoundError): pass
45 | except Exception: pass
   |                 ^
46 |
47 | # PDF-VORSCHAU INTEGRATION (NEU)
   |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:157:56
    |
155 |     )
156 |
157 |     if 'pdf_generating_lock_v1' not in st.session_state: st.session_state.pdf_generating_lock_v1 = False
    |                                                        ^
158 |     if 'pdf_inclusion_options' not in st.session_state:
159 |         st.session_state.pdf_inclusion_options = {
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:168:55
    |
166 |     if "pdf_selected_main_sections" not in st.session_state:
167 |          st.session_state.pdf_selected_main_sections = ["ProjectOverview", "TechnicalComponents", "CostDetails", "Economics", "SimulaÔÇª
168 |     if 'pdf_preset_name_input' not in st.session_state: st.session_state.pdf_preset_name_input = ""
    |                                                       ^
169 |
170 |     minimal_data_ok = True
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:171:62
    |
170 |     minimal_data_ok = True
171 |     if not project_data or not isinstance(project_data, dict): project_data = {}; minimal_data_ok = False
    |                                                              ^
172 |     customer_data_pdf = project_data.get('customer_data', {}); project_details_pdf = project_data.get('project_details', {})
173 |     if not (project_details_pdf.get('module_quantity') and (project_details_pdf.get('selected_module_id') or project_details_pdf.get(ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:171:81
    |
170 |     minimal_data_ok = True
171 |     if not project_data or not isinstance(project_data, dict): project_data = {}; minimal_data_ok = False
    |                                                                                 ^
172 |     customer_data_pdf = project_data.get('customer_data', {}); project_details_pdf = project_data.get('project_details', {})
173 |     if not (project_details_pdf.get('module_quantity') and (project_details_pdf.get('selected_module_id') or project_details_pdf.get(ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:172:62
    |
170 |     minimal_data_ok = True
171 |     if not project_data or not isinstance(project_data, dict): project_data = {}; minimal_data_ok = False
172 |     customer_data_pdf = project_data.get('customer_data', {}); project_details_pdf = project_data.get('project_details', {})
    |                                                              ^
173 |     if not (project_details_pdf.get('module_quantity') and (project_details_pdf.get('selected_module_id') or project_details_pdf.get(ÔÇª
174 |     if not minimal_data_ok:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:173:266
    |
171 | ÔÇª
172 | ÔÇª
173 | ÔÇªerter_id') or project_details_pdf.get('selected_inverter_name'))): minimal_data_ok = False
    |                                                                   ^
174 | ÔÇª
175 | ÔÇª
    |

E712 Avoid equality comparisons to `False`; use `not data_status:` for false checks
   --> repair_pdf\pdf_ui.py:196:8
    |
195 |     # Wenn kritische Daten fehlen, PDF-Formular nicht anzeigen
196 |     if data_status == False:
    |        ^^^^^^^^^^^^^^^^^^^^
197 |         return
198 |     if data_status == "fallback":
    |
help: Replace with `not data_status`

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:246:55
    |
245 |         # Typsicherheit f├╝r andere Vorlagen
246 |         if not isinstance(title_image_templates, list): title_image_templates = []
    |                                                       ^
247 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
248 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:247:55
    |
245 |         # Typsicherheit f├╝r andere Vorlagen
246 |         if not isinstance(title_image_templates, list): title_image_templates = []
247 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
    |                                                       ^
248 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:248:56
    |
246 |         if not isinstance(title_image_templates, list): title_image_templates = []
247 |         if not isinstance(offer_title_templates, list): offer_title_templates = []
248 |         if not isinstance(cover_letter_templates, list): cover_letter_templates = []
    |                                                        ^
249 |
250 |     except Exception as e_load_data:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:256:70
    |
255 |     # ... (Rest der Funktion render_pdf_ui wie in der vorherigen Antwort) ...    # (Initialisierung Session State f├╝r VorlagenauswahlÔÇª
256 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = title_ÔÇª
    |                                                                      ^
257 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_output ÔÇª
258 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = offer_ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:257:74
    |
255 |     # ... (Rest der Funktion render_pdf_ui wie in der vorherigen Antwort) ...    # (Initialisierung Session State f├╝r VorlagenauswahlÔÇª
256 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = title_ÔÇª
257 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_output ÔÇª
    |                                                                          ^
258 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = offer_ÔÇª
259 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_docÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:258:70
    |
256 |     if "selected_title_image_name_doc_output" not in st.session_state: st.session_state.selected_title_image_name_doc_output = title_ÔÇª
257 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_output ÔÇª
258 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = offer_ÔÇª
    |                                                                      ^
259 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_docÔÇª
260 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = coveÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:259:78
    |
257 |     if "selected_title_image_b64_data_doc_output" not in st.session_state: st.session_state.selected_title_image_b64_data_doc_output ÔÇª
258 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = offer_ÔÇª
259 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_docÔÇª
    |                                                                              ^
260 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = coveÔÇª
261 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_dÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:260:71
    |
258 |     if "selected_offer_title_name_doc_output" not in st.session_state: st.session_state.selected_offer_title_name_doc_output = offer_ÔÇª
259 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_docÔÇª
260 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = coveÔÇª
    |                                                                       ^
261 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_dÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:261:79
    |
259 |     if "selected_offer_title_text_content_doc_output" not in st.session_state: st.session_state.selected_offer_title_text_content_docÔÇª
260 |     if "selected_cover_letter_name_doc_output" not in st.session_state: st.session_state.selected_cover_letter_name_doc_output = coveÔÇª
261 |     if "selected_cover_letter_text_content_doc_output" not in st.session_state: st.session_state.selected_cover_letter_text_content_dÔÇª
    |                                                                               ^
262 |
263 |     default_pdf_sections_map = {"ProjectOverview": get_text_pdf_ui(texts, "pdf_section_title_projectoverview", "1. Projekt├╝bersicht")ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:78
    |
269 |     def select_all_options():
270 |         st.session_state.pdf_inclusion_options["include_company_logo"] = True; st.session_state.pdf_inclusion_options["include_producÔÇª
    |                                                                              ^
271 |         st.success("Alle Optionen ausgew├ñhlt!")
272 |     def deselect_all_options():
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:151
    |
269 | ÔÇª
270 | ÔÇªsion_state.pdf_inclusion_options["include_product_images"] = True; st.session_state.pdf_inclusion_options["include_all_documents"] =ÔÇª
    |                                                                   ^
271 | ÔÇª
272 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:223
    |
269 | ÔÇª
270 | ÔÇªssion_state.pdf_inclusion_options["include_all_documents"] = True; st.session_state.pdf_inclusion_options["company_document_ids_to_iÔÇª
    |                                                                   ^
271 | ÔÇª
272 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:347
    |
269 | ÔÇª
270 | ÔÇªids_to_include"] = all_available_company_doc_ids_for_selection[:]; st.session_state.pdf_inclusion_options["selected_charts_for_pdf"]ÔÇª
    |                                                                   ^
271 | ÔÇª
272 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:458
    |
269 | ÔÇª
270 | ÔÇªcted_charts_for_pdf"] = all_available_chart_keys_for_selection[:]; st.session_state.pdf_inclusion_options["include_optional_componenÔÇª
    |                                                                   ^
271 | ÔÇª
272 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:270:543
    |
269 | ÔÇª
270 | ÔÇªdf_inclusion_options["include_optional_component_details"] = True; st.session_state.pdf_selected_main_sections = all_main_section_keÔÇª
    |                                                                   ^
271 | ÔÇª
272 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:79
    |
271 |         st.success("Alle Optionen ausgew├ñhlt!")
272 |     def deselect_all_options():
273 |         st.session_state.pdf_inclusion_options["include_company_logo"] = False; st.session_state.pdf_inclusion_options["include_produÔÇª
    |                                                                               ^
274 |         st.success("Alle Optionen abgew├ñhlt!")
275 |     def load_preset_on_click(preset_name_to_load: str):
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:153
    |
271 | ÔÇª
272 | ÔÇª
273 | ÔÇªion_state.pdf_inclusion_options["include_product_images"] = False; st.session_state.pdf_inclusion_options["include_all_documents"] =ÔÇª
    |                                                                   ^
274 | ÔÇª
275 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:226
    |
271 | ÔÇª
272 | ÔÇª
273 | ÔÇªsion_state.pdf_inclusion_options["include_all_documents"] = False; st.session_state.pdf_inclusion_options["company_document_ids_to_iÔÇª
    |                                                                   ^
274 | ÔÇª
275 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:306
    |
271 | ÔÇª
272 | ÔÇª
273 | ÔÇªate.pdf_inclusion_options["company_document_ids_to_include"] = []; st.session_state.pdf_inclusion_options["selected_charts_for_pdf"]ÔÇª
    |                                                                   ^
274 | ÔÇª
275 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:378
    |
271 | ÔÇª
272 | ÔÇª
273 | ÔÇªssion_state.pdf_inclusion_options["selected_charts_for_pdf"] = []; st.session_state.pdf_inclusion_options["include_optional_componenÔÇª
    |                                                                   ^
274 | ÔÇª
275 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:273:464
    |
271 | ÔÇª
272 | ÔÇª
273 | ÔÇªf_inclusion_options["include_optional_component_details"] = False; st.session_state.pdf_selected_main_sections = []
    |                                                                   ^
274 | ÔÇª
275 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:321:23
    |
319 |             st.error(f"Fehler beim Speichern der Vorlage: {e_save_preset}")
320 |
321 |     st.markdown("---"); st.subheader(get_text_pdf_ui(texts, "pdf_template_management_header", "Vorlagen & Schnellauswahl"))
    |                       ^
322 |     col_preset1, col_preset2 = st.columns([3,2])
323 |     with col_preset1:
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> repair_pdf\pdf_ui.py:327:13
    |
325 |   ÔÇª if preset_names:
326 |   ÔÇª     selected_preset_name_to_load = st.selectbox(get_text_pdf_ui(texts, "pdf_load_preset_label", "Vorlage laden"), options=[get_text_pdf_ui(texts, "pdf_no_preset_selected_option", "-- Keine Vorlage --")] + preset_names, key=ÔÇª
327 | / ÔÇª     if selected_preset_name_to_load != get_text_pdf_ui(texts, "pdf_no_preset_selected_option", "-- Keine Vorlage --"):
328 | | ÔÇª         if st.button(get_text_pdf_ui(texts, "pdf_load_selected_preset_button", "Ausgew├ñhlte Vorlage anwenden"), key="pdf_load_preset_btn_v1_stable", on_click=load_preset_on_click, args=(selected_preset_name_to_load,)): pass
    | |____________________________________________________________________________________________________________________________________________________________________________________________________________________________^
329 |   ÔÇª else:
330 |   ÔÇª     st.caption(get_text_pdf_ui(texts, "pdf_no_presets_available_caption", "Keine Vorlagen gespeichert."))
    |
help: Combine `if` statements using `and`

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:328:226
    |
326 | ÔÇªo_preset_selected_option", "-- Keine Vorlage --")] + preset_names, key="pdf_preset_load_select_v1_stable")
327 | ÔÇª
328 | ÔÇªclick=load_preset_on_click, args=(selected_preset_name_to_load,)): pass
    |                                                                   ^
329 | ÔÇª
330 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:335:28
    |
333 |         st.button(get_text_pdf_ui(texts, "pdf_save_current_selection_button", "Aktuelle Auswahl speichern"), on_click=save_current_seÔÇª
334 |     col_global_select1, col_global_select2 = st.columns(2)
335 |     with col_global_select1: st.button(f" {get_text_pdf_ui(texts, 'pdf_select_all_button', 'Alle Optionen ausw├ñhlen')}", on_click=selÔÇª
    |                            ^
336 |     with col_global_select2: st.button(f" {get_text_pdf_ui(texts, 'pdf_deselect_all_button', 'Alle Optionen abw├ñhlen')}", on_click=deÔÇª
337 |     st.markdown("---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:336:28
    |
334 |     col_global_select1, col_global_select2 = st.columns(2)
335 |     with col_global_select1: st.button(f" {get_text_pdf_ui(texts, 'pdf_select_all_button', 'Alle Optionen ausw├ñhlen')}", on_click=selÔÇª
336 |     with col_global_select2: st.button(f" {get_text_pdf_ui(texts, 'pdf_deselect_all_button', 'Alle Optionen abw├ñhlen')}", on_click=deÔÇª
    |                            ^
337 |     st.markdown("---")
    |

W291 Trailing whitespace
   --> repair_pdf\pdf_ui.py:741:67
    |
739 |                 **Verf├╝gbare Content-Typen:**
740 |                 -  **Texte:** Individuelle Hinweise, Garantien, etc.
741 |                 -  **Bilder:** Fotos vom Projekt, Referenzen, etc.  
    |                                                                   ^^
742 |                 -  **Tabellen:** Zus├ñtzliche Komponenten, Preislisten, etc.
743 |                 """)
    |
help: Remove trailing whitespace

F841 Local variable `form_submit_key` is assigned to but never used
   --> repair_pdf\pdf_ui.py:807:5
    |
805 |     # Hauptformular
806 |     # ... (Rest des Formulars und der PDF-Generierungslogik wie in der vorherigen Antwort, mit der Korrektur f├╝r st.form_submit_buttoÔÇª
807 |     form_submit_key = "pdf_final_submit_btn_v13_corrected_again"
    |     ^^^^^^^^^^^^^^^
808 |     submit_button_disabled = st.session_state.pdf_generating_lock_v1
809 |     with st.form(key="pdf_generation_form_v13_final_locked_options_main", clear_on_submit=False):
    |
help: Remove assignment to unused variable `form_submit_key`

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:814:39
    |
812 | ÔÇª     st.markdown("**" + get_text_pdf_ui(texts, "pdf_template_selection_info", "Vorlagen f├╝r das Angebot ausw├ñhlen") + "**")
813 | ÔÇª     title_image_options = {t.get('name', f"Bild {i+1}"): t.get('data') for i, t in enumerate(title_image_templates) if isinstance(tÔÇª
814 | ÔÇª     if not title_image_options: title_image_options = {get_text_pdf_ui(texts, "no_title_images_available", "Keine Titelbilder verf├╝ÔÇª
    |                                 ^
815 | ÔÇª     title_image_keys = list(title_image_options.keys()); idx_title_img = title_image_keys.index(st.session_state.selected_title_imaÔÇª
816 | ÔÇª     selected_title_image_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_title_image", "Titelbild ausw├ñhlen"), options=titleÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:815:64
    |
813 | ÔÇª     title_image_options = {t.get('name', f"Bild {i+1}"): t.get('data') for i, t in enumerate(title_image_templates) if isinstance(tÔÇª
814 | ÔÇª     if not title_image_options: title_image_options = {get_text_pdf_ui(texts, "no_title_images_available", "Keine Titelbilder verf├╝ÔÇª
815 | ÔÇª     title_image_keys = list(title_image_options.keys()); idx_title_img = title_image_keys.index(st.session_state.selected_title_imaÔÇª
    |                                                          ^
816 | ÔÇª     selected_title_image_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_title_image", "Titelbild ausw├ñhlen"), options=titleÔÇª
817 | ÔÇª     if selected_title_image_name != st.session_state.selected_title_image_name_doc_output : st.session_state.selected_title_image_nÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:817:99
    |
815 | ÔÇª     title_image_keys = list(title_image_options.keys()); idx_title_img = title_image_keys.index(st.session_state.selected_title_imaÔÇª
816 | ÔÇª     selected_title_image_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_title_image", "Titelbild ausw├ñhlen"), options=titleÔÇª
817 | ÔÇª     if selected_title_image_name != st.session_state.selected_title_image_name_doc_output : st.session_state.selected_title_image_nÔÇª
    |                                                                                             ^
818 | ÔÇª     offer_title_options = {t.get('name', f"Titel {i+1}"): t.get('content') for i, t in enumerate(offer_title_templates) if isinstanÔÇª
819 | ÔÇª     if not offer_title_options: offer_title_options = {get_text_pdf_ui(texts, "no_offer_titles_available", "Keine Angebotstitel verÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:817:182
    |
815 | ÔÇªtate.selected_title_image_name_doc_output) if st.session_state.selected_title_image_name_doc_output in title_image_keys else 0
816 | ÔÇªw├ñhlen"), options=title_image_keys, index=idx_title_img, key="pdf_title_image_select_v13_form")
817 | ÔÇª.selected_title_image_name_doc_output = selected_title_image_name; st.session_state.selected_title_image_b64_data_doc_output = titleÔÇª
    |                                                                   ^
818 | ÔÇª_templates) if isinstance(t,dict) and t.get('name')}
819 | ÔÇªKeine Angebotstitel verf├╝gbar"): "Standard Angebotstitel"}
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:819:39
    |
817 | ÔÇª     if selected_title_image_name != st.session_state.selected_title_image_name_doc_output : st.session_state.selected_title_image_nÔÇª
818 | ÔÇª     offer_title_options = {t.get('name', f"Titel {i+1}"): t.get('content') for i, t in enumerate(offer_title_templates) if isinstanÔÇª
819 | ÔÇª     if not offer_title_options: offer_title_options = {get_text_pdf_ui(texts, "no_offer_titles_available", "Keine Angebotstitel verÔÇª
    |                                 ^
820 | ÔÇª     offer_title_keys = list(offer_title_options.keys()); idx_offer_title = offer_title_keys.index(st.session_state.selected_offer_tÔÇª
821 | ÔÇª     selected_offer_title_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_offer_title", "├£berschrift/Titel ausw├ñhlen"), optioÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:820:64
    |
818 | ÔÇª     offer_title_options = {t.get('name', f"Titel {i+1}"): t.get('content') for i, t in enumerate(offer_title_templates) if isinstanÔÇª
819 | ÔÇª     if not offer_title_options: offer_title_options = {get_text_pdf_ui(texts, "no_offer_titles_available", "Keine Angebotstitel verÔÇª
820 | ÔÇª     offer_title_keys = list(offer_title_options.keys()); idx_offer_title = offer_title_keys.index(st.session_state.selected_offer_tÔÇª
    |                                                          ^
821 | ÔÇª     selected_offer_title_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_offer_title", "├£berschrift/Titel ausw├ñhlen"), optioÔÇª
822 | ÔÇª     if selected_offer_title_name != st.session_state.selected_offer_title_name_doc_output: st.session_state.selected_offer_title_naÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:822:98
    |
820 | ÔÇª     offer_title_keys = list(offer_title_options.keys()); idx_offer_title = offer_title_keys.index(st.session_state.selected_offer_tÔÇª
821 | ÔÇª     selected_offer_title_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_offer_title", "├£berschrift/Titel ausw├ñhlen"), optioÔÇª
822 | ÔÇª     if selected_offer_title_name != st.session_state.selected_offer_title_name_doc_output: st.session_state.selected_offer_title_naÔÇª
    |                                                                                            ^
823 | ÔÇª     cover_letter_options = {t.get('name', f"Anschreiben {i+1}"): t.get('content') for i, t in enumerate(cover_letter_templates) if ÔÇª
824 | ÔÇª     if not cover_letter_options: cover_letter_options = {get_text_pdf_ui(texts, "no_cover_letters_available", "Keine Anschreiben veÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:822:181
    |
820 | ÔÇªn_state.selected_offer_title_name_doc_output) if st.session_state.selected_offer_title_name_doc_output in offer_title_keys else 0
821 | ÔÇªTitel ausw├ñhlen"), options=offer_title_keys, index=idx_offer_title, key="pdf_offer_title_select_v13_form")
822 | ÔÇª.selected_offer_title_name_doc_output = selected_offer_title_name; st.session_state.selected_offer_title_text_content_doc_output = oÔÇª
    |                                                                   ^
823 | ÔÇªer_letter_templates) if isinstance(t,dict) and t.get('name')}
824 | ÔÇª", "Keine Anschreiben verf├╝gbar"): "Standard Anschreiben"}
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:824:40
    |
822 | ÔÇª     if selected_offer_title_name != st.session_state.selected_offer_title_name_doc_output: st.session_state.selected_offer_title_naÔÇª
823 | ÔÇª     cover_letter_options = {t.get('name', f"Anschreiben {i+1}"): t.get('content') for i, t in enumerate(cover_letter_templates) if ÔÇª
824 | ÔÇª     if not cover_letter_options: cover_letter_options = {get_text_pdf_ui(texts, "no_cover_letters_available", "Keine Anschreiben veÔÇª
    |                                  ^
825 | ÔÇª     cover_letter_keys = list(cover_letter_options.keys()); idx_cover_letter = cover_letter_keys.index(st.session_state.selected_covÔÇª
826 | ÔÇª     selected_cover_letter_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_cover_letter", "Anschreiben ausw├ñhlen"), options=cÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:825:66
    |
823 | ÔÇª     cover_letter_options = {t.get('name', f"Anschreiben {i+1}"): t.get('content') for i, t in enumerate(cover_letter_templates) if ÔÇª
824 | ÔÇª     if not cover_letter_options: cover_letter_options = {get_text_pdf_ui(texts, "no_cover_letters_available", "Keine Anschreiben veÔÇª
825 | ÔÇª     cover_letter_keys = list(cover_letter_options.keys()); idx_cover_letter = cover_letter_keys.index(st.session_state.selected_covÔÇª
    |                                                            ^
826 | ÔÇª     selected_cover_letter_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_cover_letter", "Anschreiben ausw├ñhlen"), options=cÔÇª
827 | ÔÇª     if selected_cover_letter_name != st.session_state.selected_cover_letter_name_doc_output: st.session_state.selected_cover_letterÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:827:100
    |
825 | ÔÇª         cover_letter_keys = list(cover_letter_options.keys()); idx_cover_letter = cover_letter_keys.index(st.session_state.selectedÔÇª
826 | ÔÇª         selected_cover_letter_name = st.selectbox(get_text_pdf_ui(texts, "pdf_select_cover_letter", "Anschreiben ausw├ñhlen"), optioÔÇª
827 | ÔÇª         if selected_cover_letter_name != st.session_state.selected_cover_letter_name_doc_output: st.session_state.selected_cover_leÔÇª
    |                                                                                                  ^
828 | ÔÇª     st.markdown("---")
829 | ÔÇª     st.markdown("**" + get_text_pdf_ui(texts, "pdf_content_selection_info", "Inhalte f├╝r das PDF ausw├ñhlen") + "**")
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\pdf_ui.py:827:185
    |
825 | ÔÇªn_state.selected_cover_letter_name_doc_output) if st.session_state.selected_cover_letter_name_doc_output in cover_letter_keys else 0
826 | ÔÇªsw├ñhlen"), options=cover_letter_keys, index=idx_cover_letter, key="pdf_cover_letter_select_v13_form")
827 | ÔÇªelected_cover_letter_name_doc_output = selected_cover_letter_name; st.session_state.selected_cover_letter_text_content_doc_output = ÔÇª
    |                                                                   ^
828 | ÔÇª
829 | ÔÇª)
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\pdf_ui.py:886:73
    |
884 | ÔÇª     ordered_display_keys_form = [k_map for k_map in chart_key_to_friendly_name_map if k_map in available_chart_keys_form]
885 | ÔÇª     for k_avail_form in available_chart_keys_form:
886 | ÔÇª         if k_avail_form not in ordered_display_keys_form: ordered_display_keys_form.append(k_avail_form)
    |                                                           ^
887 | ÔÇª     current_selected_charts_in_state_form = st.session_state.pdf_inclusion_options.get("selected_charts_for_pdf", [])
888 | ÔÇª     selected_charts_in_form = []
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> repair_pdf\pdf_ui.py:1163:37
     |
1161 |   ÔÇª                         }
1162 |   ÔÇª                         st.session_state['_crm_expanded'] = True
1163 | / ÔÇª                         try:
1164 | | ÔÇª                             conn.close()
1165 | | ÔÇª                         except Exception:
1166 | | ÔÇª                             pass
     | |__________________________________^
1167 |   ÔÇª                     else:
1168 |   ÔÇª                         st.error("Kunde konnte nicht gespeichert werden.")
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

E701 Multiple statements on one line (colon)
    --> repair_pdf\pdf_ui.py:1181:105
     |
1179 |                             st.session_state['crm_view_mode'] = 'view_customer'
1180 |                         st.rerun()
1181 |         elif pdf_bytes_to_download is None and not st.session_state.get('pdf_generating_lock_v1', True) : st.error(get_text_pdf_ui(tÔÇª
     |                                                                                                         ^
1182 |
1183 | # NEU: PDF-VORSCHAU & BEARBEITUNG FUNKTION (BOMBE!)
     |

W291 Trailing whitespace
    --> repair_pdf\pdf_ui.py:1197:20
     |
1195 |     """
1196 |     Erweiterte PDF-Vorschau mit Bearbeitungsm├Âglichkeiten und Seitenreihenfolge.
1197 |     Das wird BOMBE! 
     |                    ^
1198 |     
1199 |     Args:
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> repair_pdf\pdf_ui.py:1198:1
     |
1196 |     Erweiterte PDF-Vorschau mit Bearbeitungsm├Âglichkeiten und Seitenreihenfolge.
1197 |     Das wird BOMBE! 
1198 |     
     | ^^^^
1199 |     Args:
1200 |         project_data: Projektdaten
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> repair_pdf\pdf_ui.py:1204:1
     |
1202 |         texts: ├£bersetzungstexte
1203 |         ... weitere Callback-Funktionen
1204 |     
     | ^^^^
1205 |     Returns:
1206 |         PDF-Bytes falls erfolgreich generiert, sonst None
     |
help: Remove whitespace from blank line

F401 `PyPDF2.PdfReader` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\pdf_ui.py:1267:36
     |
1265 |         except ImportError:
1266 |             try:
1267 |                 from PyPDF2 import PdfReader, PdfWriter
     |                                    ^^^^^^^^^
1268 |                 pypdf_status = " PyPDF2 verf├╝gbar (Fallback)"
1269 |             except ImportError:
     |
help: Remove unused import

F401 `PyPDF2.PdfWriter` imported but unused; consider using `importlib.util.find_spec` to test for availability
    --> repair_pdf\pdf_ui.py:1267:47
     |
1265 |         except ImportError:
1266 |             try:
1267 |                 from PyPDF2 import PdfReader, PdfWriter
     |                                               ^^^^^^^^^
1268 |                 pypdf_status = " PyPDF2 verf├╝gbar (Fallback)"
1269 |             except ImportError:
     |
help: Remove unused import

F401 `database.init_db` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> repair_pdf\product_db.py:17:45
   |
15 | # --- (Beginn des unver├ñnderten Codes bis zum if __name__ Block) ---
16 | try:
17 |     from database import get_db_connection, init_db
   |                                             ^^^^^^^
18 |     get_db_connection_safe_pd = get_db_connection
19 |     DB_AVAILABLE = True
   |
help: Remove unused import: `database.init_db`

F821 Undefined name `e`
  --> repair_pdf\product_db.py:22:63
   |
20 | except ImportError as e:
21 |     def _dummy_get_db_connection_ie():
22 |         print(f"product_db.py: Importfehler f├╝r database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                               ^
23 |         return
24 |     get_db_connection_safe_pd = _dummy_get_db_connection_ie
   |

F821 Undefined name `e`
  --> repair_pdf\product_db.py:28:68
   |
26 | except Exception as e:
27 |     def _dummy_get_db_connection_ex():
28 |         print(f"product_db.py: Fehler beim Laden von database.py: {e}. Dummy DB-Verbindung genutzt.")
   |                                                                    ^
29 |         return
30 |     get_db_connection_safe_pd = _dummy_get_db_connection_ex
   |

W291 Trailing whitespace
  --> repair_pdf\product_db.py:57:55
   |
55 |             rating REAL,
56 |             image_base64 TEXT,
57 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
   |                                                       ^
58 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
59 |             datasheet_link_db_path TEXT, 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> repair_pdf\product_db.py:58:55
   |
56 |             image_base64 TEXT,
57 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
58 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
   |                                                       ^
59 |             datasheet_link_db_path TEXT, 
60 |             additional_cost_netto REAL DEFAULT 0.0 
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> repair_pdf\product_db.py:59:41
   |
57 |             created_at TEXT DEFAULT CURRENT_TIMESTAMP, 
58 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
59 |             datasheet_link_db_path TEXT, 
   |                                         ^
60 |             additional_cost_netto REAL DEFAULT 0.0 
61 |         )
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> repair_pdf\product_db.py:60:51
   |
58 |             updated_at TEXT DEFAULT CURRENT_TIMESTAMP, 
59 |             datasheet_link_db_path TEXT, 
60 |             additional_cost_netto REAL DEFAULT 0.0 
   |                                                   ^
61 |         )
62 |     """)
   |
help: Remove trailing whitespace

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:116:72
    |
114 |             try:
115 |                 default_suffix = ""
116 |                 if col_name == "created_at" or col_name == "updated_at": default_suffix = " DEFAULT CURRENT_TIMESTAMP"
    |                                                                        ^
117 |                 elif col_type == "TEXT": default_suffix = " DEFAULT ''"
118 |                 elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:117:40
    |
115 |                 default_suffix = ""
116 |                 if col_name == "created_at" or col_name == "updated_at": default_suffix = " DEFAULT CURRENT_TIMESTAMP"
117 |                 elif col_type == "TEXT": default_suffix = " DEFAULT ''"
    |                                        ^
118 |                 elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
119 |                 elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:118:40
    |
116 |                 if col_name == "created_at" or col_name == "updated_at": default_suffix = " DEFAULT CURRENT_TIMESTAMP"
117 |                 elif col_type == "TEXT": default_suffix = " DEFAULT ''"
118 |                 elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
    |                                        ^
119 |                 elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
120 |                 not_null_stmt = ""
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:119:43
    |
117 |                 elif col_type == "TEXT": default_suffix = " DEFAULT ''"
118 |                 elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
119 |                 elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
    |                                           ^
120 |                 not_null_stmt = ""
121 |                 if col_name in ["category", "model_name"]: not_null_stmt = " NOT NULL"
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:121:58
    |
119 |                 elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
120 |                 not_null_stmt = ""
121 |                 if col_name in ["category", "model_name"]: not_null_stmt = " NOT NULL"
    |                                                          ^
122 |                 alter_col_type = col_type
123 |                 if not_null_stmt and not default_suffix:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:124:43
    |
122 |                 alter_col_type = col_type
123 |                 if not_null_stmt and not default_suffix:
124 |                      if col_type == "TEXT": default_suffix = " DEFAULT ''"
    |                                           ^
125 |                      elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
126 |                      elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:125:48
    |
123 |                 if not_null_stmt and not default_suffix:
124 |                      if col_type == "TEXT": default_suffix = " DEFAULT ''"
125 |                      elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
    |                                                ^
126 |                      elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
127 |                 cursor.execute(f"ALTER TABLE products ADD COLUMN {col_name} {alter_col_type}{not_null_stmt}{default_suffix}")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:126:45
    |
124 |                      if col_type == "TEXT": default_suffix = " DEFAULT ''"
125 |                      elif col_type == "INTEGER": default_suffix = " DEFAULT 0"
126 |                      elif col_type == "REAL": default_suffix = " DEFAULT 0.0"
    |                                             ^
127 |                 cursor.execute(f"ALTER TABLE products ADD COLUMN {col_name} {alter_col_type}{not_null_stmt}{default_suffix}")
128 |                 conn.commit()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:131:61
    |
129 | ÔÇª         print(f"product_db.py: Spalte '{col_name}' ({alter_col_type}{not_null_stmt}{default_suffix}) zur Tabelle 'products' hinzugeÔÇª
130 | ÔÇª     except sqlite3.OperationalError as e:
131 | ÔÇª         if "duplicate column name" in str(e).lower(): pass
    |                                                       ^
132 | ÔÇª         else: print(f"product_db.py: Fehler beim Hinzuf├╝gen von Spalte '{col_name}': {e}"); traceback.print_exc()
133 | ÔÇª     except Exception as e_general_add: print(f"product_db.py: Allgemeiner Fehler beim Hinzuf├╝gen der Spalte '{col_name}': {e_generaÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:132:21
    |
130 |             except sqlite3.OperationalError as e:
131 |                 if "duplicate column name" in str(e).lower(): pass
132 |                 else: print(f"product_db.py: Fehler beim Hinzuf├╝gen von Spalte '{col_name}': {e}"); traceback.print_exc()
    |                     ^
133 |             except Exception as e_general_add: print(f"product_db.py: Allgemeiner Fehler beim Hinzuf├╝gen der Spalte '{col_name}': {e_ÔÇª
134 |     conn.commit()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:132:99
    |
130 |             except sqlite3.OperationalError as e:
131 |                 if "duplicate column name" in str(e).lower(): pass
132 |                 else: print(f"product_db.py: Fehler beim Hinzuf├╝gen von Spalte '{col_name}': {e}"); traceback.print_exc()
    |                                                                                                   ^
133 |             except Exception as e_general_add: print(f"product_db.py: Allgemeiner Fehler beim Hinzuf├╝gen der Spalte '{col_name}': {e_ÔÇª
134 |     conn.commit()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:133:46
    |
131 |                 if "duplicate column name" in str(e).lower(): pass
132 |                 else: print(f"product_db.py: Fehler beim Hinzuf├╝gen von Spalte '{col_name}': {e}"); traceback.print_exc()
133 |             except Exception as e_general_add: print(f"product_db.py: Allgemeiner Fehler beim Hinzuf├╝gen der Spalte '{col_name}': {e_ÔÇª
    |                                              ^
134 |     conn.commit()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:133:148
    |
131 | ÔÇª
132 | ÔÇªol_name}': {e}"); traceback.print_exc()
133 | ÔÇªFehler beim Hinzuf├╝gen der Spalte '{col_name}': {e_general_add}"); traceback.print_exc()
    |                                                                   ^
134 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:138:20
    |
136 | def add_product(product_data: dict[str, Any]) -> int | None:
137 |     conn = get_db_connection_safe_pd()
138 |     if conn is None: print("product_db.add_product: DB nicht verf├╝gbar."); return None
    |                    ^
139 |     create_product_table(conn)
140 |     cursor = conn.cursor()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:138:74
    |
136 | def add_product(product_data: dict[str, Any]) -> int | None:
137 |     conn = get_db_connection_safe_pd()
138 |     if conn is None: print("product_db.add_product: DB nicht verf├╝gbar."); return None
    |                                                                          ^
139 |     create_product_table(conn)
140 |     cursor = conn.cursor()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:151:40
    |
149 |     }
150 |     insert_data: dict[str, Any] = {}
151 |     if not product_data.get('category'): print(f"product_db.add_product: FEHLER - 'category' ist Pflicht. Produkt: {product_data.get(ÔÇª
    |                                        ^
152 |     if not product_data.get('model_name'): print(f"product_db.add_product: FEHLER - 'model_name' ist Pflicht. Daten: {product_data}")ÔÇª
153 |     for col_name in all_db_columns:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:151:157
    |
149 | ÔÇª
150 | ÔÇª
151 | ÔÇª' ist Pflicht. Produkt: {product_data.get('model_name', 'N/A')}"); conn.close(); return None
    |                                                                   ^
152 | ÔÇªname' ist Pflicht. Daten: {product_data}"); conn.close(); return None
153 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:151:171
    |
149 | ÔÇª
150 | ÔÇª
151 | ÔÇª Produkt: {product_data.get('model_name', 'N/A')}"); conn.close(); return None
    |                                                                   ^
152 | ÔÇªcht. Daten: {product_data}"); conn.close(); return None
153 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:152:42
    |
150 |     insert_data: dict[str, Any] = {}
151 |     if not product_data.get('category'): print(f"product_db.add_product: FEHLER - 'category' ist Pflicht. Produkt: {product_data.get(ÔÇª
152 |     if not product_data.get('model_name'): print(f"product_db.add_product: FEHLER - 'model_name' ist Pflicht. Daten: {product_data}")ÔÇª
    |                                          ^
153 |     for col_name in all_db_columns:
154 |         if col_name == 'id': continue
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:152:134
    |
150 | ÔÇª
151 | ÔÇªuct: FEHLER - 'category' ist Pflicht. Produkt: {product_data.get('model_name', 'N/A')}"); conn.close(); return None
152 | ÔÇªoduct: FEHLER - 'model_name' ist Pflicht. Daten: {product_data}"); conn.close(); return None
    |                                                                   ^
153 | ÔÇª
154 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:152:148
    |
150 | ÔÇª
151 | ÔÇª'category' ist Pflicht. Produkt: {product_data.get('model_name', 'N/A')}"); conn.close(); return None
152 | ÔÇª- 'model_name' ist Pflicht. Daten: {product_data}"); conn.close(); return None
    |                                                                   ^
153 | ÔÇª
154 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:154:28
    |
152 |     if not product_data.get('model_name'): print(f"product_db.add_product: FEHLER - 'model_name' ist Pflicht. Daten: {product_data}")ÔÇª
153 |     for col_name in all_db_columns:
154 |         if col_name == 'id': continue
    |                            ^
155 |         if col_name in product_data: insert_data[col_name] = product_data[col_name]
156 |         else:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:155:36
    |
153 |     for col_name in all_db_columns:
154 |         if col_name == 'id': continue
155 |         if col_name in product_data: insert_data[col_name] = product_data[col_name]
    |                                    ^
156 |         else:
157 |             if col_name == 'created_at' or col_name == 'updated_at': insert_data[col_name] = now_iso
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:157:68
    |
155 | ÔÇª     if col_name in product_data: insert_data[col_name] = product_data[col_name]
156 | ÔÇª     else:
157 | ÔÇª         if col_name == 'created_at' or col_name == 'updated_at': insert_data[col_name] = now_iso
    |                                                                  ^
158 | ÔÇª         elif col_name in ["price_euro", "capacity_w", "storage_power_kw", "power_kw", "length_m", "width_m", "weight_kg", "efficienÔÇª
159 | ÔÇª         elif col_name in ["max_cycles", "warranty_years"]: insert_data[col_name] = 0
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:158:183
    |
156 | ÔÇª
157 | ÔÇª
158 | ÔÇªght_kg", "efficiency_percent", "rating", "additional_cost_netto"]: insert_data[col_name] = 0.0
    |                                                                   ^
159 | ÔÇª
160 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:159:62
    |
157 |             if col_name == 'created_at' or col_name == 'updated_at': insert_data[col_name] = now_iso
158 |             elif col_name in ["price_euro", "capacity_w", "storage_power_kw", "power_kw", "length_m", "width_m", "weight_kg", "efficiÔÇª
159 |             elif col_name in ["max_cycles", "warranty_years"]: insert_data[col_name] = 0
    |                                                              ^
160 |             else: insert_data[col_name] = None
161 |     cursor.execute("SELECT id FROM products WHERE model_name = ?", (insert_data['model_name'],))
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:160:17
    |
158 |             elif col_name in ["price_euro", "capacity_w", "storage_power_kw", "power_kw", "length_m", "width_m", "weight_kg", "efficiÔÇª
159 |             elif col_name in ["max_cycles", "warranty_years"]: insert_data[col_name] = 0
160 |             else: insert_data[col_name] = None
    |                 ^
161 |     cursor.execute("SELECT id FROM products WHERE model_name = ?", (insert_data['model_name'],))
162 |     if cursor.fetchone(): print(f"product_db.add_product: Fehler - Produkt mit Modellname '{insert_data['model_name']}' existiert berÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:162:25
    |
160 |             else: insert_data[col_name] = None
161 |     cursor.execute("SELECT id FROM products WHERE model_name = ?", (insert_data['model_name'],))
162 |     if cursor.fetchone(): print(f"product_db.add_product: Fehler - Produkt mit Modellname '{insert_data['model_name']}' existiert berÔÇª
    |                         ^
163 |     fields = ', '.join(insert_data.keys()); placeholders = ', '.join(['?'] * len(insert_data))
164 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:162:141
    |
160 | ÔÇª
161 | ÔÇªdata['model_name'],))
162 | ÔÇªmit Modellname '{insert_data['model_name']}' existiert bereits."); conn.close(); return None
    |                                                                   ^
163 | ÔÇª* len(insert_data))
164 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:162:155
    |
160 | ÔÇª
161 | ÔÇªme'],))
162 | ÔÇª '{insert_data['model_name']}' existiert bereits."); conn.close(); return None
    |                                                                   ^
163 | ÔÇªata))
164 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:163:43
    |
161 |     cursor.execute("SELECT id FROM products WHERE model_name = ?", (insert_data['model_name'],))
162 |     if cursor.fetchone(): print(f"product_db.add_product: Fehler - Produkt mit Modellname '{insert_data['model_name']}' existiert berÔÇª
163 |     fields = ', '.join(insert_data.keys()); placeholders = ', '.join(['?'] * len(insert_data))
    |                                           ^
164 |     try:
165 |         cursor.execute(f"INSERT INTO products ({fields}) VALUES ({placeholders})", list(insert_data.values()))
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:166:22
    |
164 |     try:
165 |         cursor.execute(f"INSERT INTO products ({fields}) VALUES ({placeholders})", list(insert_data.values()))
166 |         conn.commit(); product_id = cursor.lastrowid
    |                      ^
167 |         print(f"product_db.add_product: Produkt '{insert_data['model_name']}' erfolgreich mit ID {product_id} hinzugef├╝gt."); return ÔÇª
168 |     except sqlite3.Error as e: print(f"product_db.add_product: SQLite Fehler bei INSERT von '{insert_data.get('model_name', 'N/A')}':ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:167:125
    |
165 |         cursor.execute(f"INSERT INTO products ({fields}) VALUES ({placeholders})", list(insert_data.values()))
166 |         conn.commit(); product_id = cursor.lastrowid
167 |         print(f"product_db.add_product: Produkt '{insert_data['model_name']}' erfolgreich mit ID {product_id} hinzugef├╝gt."); return ÔÇª
    |                                                                                                                             ^
168 |     except sqlite3.Error as e: print(f"product_db.add_product: SQLite Fehler bei INSERT von '{insert_data.get('model_name', 'N/A')}':ÔÇª
169 |     finally: conn.close()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:168:30
    |
166 |         conn.commit(); product_id = cursor.lastrowid
167 |         print(f"product_db.add_product: Produkt '{insert_data['model_name']}' erfolgreich mit ID {product_id} hinzugef├╝gt."); return ÔÇª
168 |     except sqlite3.Error as e: print(f"product_db.add_product: SQLite Fehler bei INSERT von '{insert_data.get('model_name', 'N/A')}':ÔÇª
    |                              ^
169 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:168:140
    |
166 | ÔÇª
167 | ÔÇª]}' erfolgreich mit ID {product_id} hinzugef├╝gt."); return product_id
168 | ÔÇªer bei INSERT von '{insert_data.get('model_name', 'N/A')}': {e}"); traceback.print_exc(); conn.rollback(); return None
    |                                                                   ^
169 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:168:163
    |
166 | ÔÇª
167 | ÔÇª{product_id} hinzugef├╝gt."); return product_id
168 | ÔÇªert_data.get('model_name', 'N/A')}': {e}"); traceback.print_exc(); conn.rollback(); return None
    |                                                                   ^
169 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:168:180
    |
166 | ÔÇª
167 | ÔÇªugef├╝gt."); return product_id
168 | ÔÇªel_name', 'N/A')}': {e}"); traceback.print_exc(); conn.rollback(); return None
    |                                                                   ^
169 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:169:12
    |
167 |         print(f"product_db.add_product: Produkt '{insert_data['model_name']}' erfolgreich mit ID {product_id} hinzugef├╝gt."); return ÔÇª
168 |     except sqlite3.Error as e: print(f"product_db.add_product: SQLite Fehler bei INSERT von '{insert_data.get('model_name', 'N/A')}':ÔÇª
169 |     finally: conn.close()
    |            ^
170 |
171 | def update_product(product_id: int | float, product_data: dict[str, Any]) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:173:20
    |
171 | def update_product(product_id: int | float, product_data: dict[str, Any]) -> bool:
172 |     conn = get_db_connection_safe_pd()
173 |     if conn is None: print("product_db.update_product: DB nicht verf├╝gbar."); return False
    |                    ^
174 |     create_product_table(conn); cursor = conn.cursor(); now_iso = datetime.now().isoformat()
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:173:77
    |
171 | def update_product(product_id: int | float, product_data: dict[str, Any]) -> bool:
172 |     conn = get_db_connection_safe_pd()
173 |     if conn is None: print("product_db.update_product: DB nicht verf├╝gbar."); return False
    |                                                                             ^
174 |     create_product_table(conn); cursor = conn.cursor(); now_iso = datetime.now().isoformat()
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:174:31
    |
172 |     conn = get_db_connection_safe_pd()
173 |     if conn is None: print("product_db.update_product: DB nicht verf├╝gbar."); return False
174 |     create_product_table(conn); cursor = conn.cursor(); now_iso = datetime.now().isoformat()
    |                               ^
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
176 |     product_data['updated_at'] = now_iso
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:174:55
    |
172 |     conn = get_db_connection_safe_pd()
173 |     if conn is None: print("product_db.update_product: DB nicht verf├╝gbar."); return False
174 |     create_product_table(conn); cursor = conn.cursor(); now_iso = datetime.now().isoformat()
    |                                                       ^
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
176 |     product_data['updated_at'] = now_iso
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:175:38
    |
173 |     if conn is None: print("product_db.update_product: DB nicht verf├╝gbar."); return False
174 |     create_product_table(conn); cursor = conn.cursor(); now_iso = datetime.now().isoformat()
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
    |                                      ^
176 |     product_data['updated_at'] = now_iso
177 |     cursor.execute("PRAGMA table_info(products)"); db_columns = [col_info[1] for col_info in cursor.fetchall()]
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:177:50
    |
175 |     if 'last_updated' in product_data: product_data['updated_at'] = product_data.pop('last_updated')
176 |     product_data['updated_at'] = now_iso
177 |     cursor.execute("PRAGMA table_info(products)"); db_columns = [col_info[1] for col_info in cursor.fetchall()]
    |                                                  ^
178 |     if 'category' in product_data and not product_data['category']: print(f"product_db.update_product: FEHLER - 'category' darf nichtÔÇª
179 |     if 'model_name' in product_data and not product_data['model_name']: print(f"product_db.update_product: FEHLER - 'model_name' darfÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:178:67
    |
176 |     product_data['updated_at'] = now_iso
177 |     cursor.execute("PRAGMA table_info(products)"); db_columns = [col_info[1] for col_info in cursor.fetchall()]
178 |     if 'category' in product_data and not product_data['category']: print(f"product_db.update_product: FEHLER - 'category' darf nichtÔÇª
    |                                                                   ^
179 |     if 'model_name' in product_data and not product_data['model_name']: print(f"product_db.update_product: FEHLER - 'model_name' darfÔÇª
180 |     if 'model_name' in product_data:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:178:167
    |
176 | ÔÇª
177 | ÔÇªetchall()]
178 | ÔÇª: FEHLER - 'category' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
    |                                                                   ^
179 | ÔÇªduct: FEHLER - 'model_name' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
180 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:178:181
    |
176 | ÔÇª
177 | ÔÇª
178 | ÔÇªtegory' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
    |                                                                   ^
179 | ÔÇª 'model_name' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
180 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:179:71
    |
177 |     cursor.execute("PRAGMA table_info(products)"); db_columns = [col_info[1] for col_info in cursor.fetchall()]
178 |     if 'category' in product_data and not product_data['category']: print(f"product_db.update_product: FEHLER - 'category' darf nichtÔÇª
179 |     if 'model_name' in product_data and not product_data['model_name']: print(f"product_db.update_product: FEHLER - 'model_name' darfÔÇª
    |                                                                       ^
180 |     if 'model_name' in product_data:
181 |         cursor.execute("SELECT id FROM products WHERE model_name = ? AND id != ?", (product_data['model_name'], int(product_id)))
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:179:173
    |
177 | ÔÇªl()]
178 | ÔÇªER - 'category' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
179 | ÔÇªFEHLER - 'model_name' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
    |                                                                   ^
180 | ÔÇª
181 | ÔÇªe'], int(product_id)))
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:179:187
    |
177 | ÔÇª
178 | ÔÇª' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
179 | ÔÇªl_name' darf nicht leer sein f├╝r ID {product_id}."); conn.close(); return False
    |                                                                   ^
180 | ÔÇª
181 | ÔÇªct_id)))
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:182:29
    |
180 |     if 'model_name' in product_data:
181 |         cursor.execute("SELECT id FROM products WHERE model_name = ? AND id != ?", (product_data['model_name'], int(product_id)))
182 |         if cursor.fetchone(): print(f"product_db.update_product: Fehler - Modellname '{product_data['model_name']}' existiert bereitsÔÇª
    |                             ^
183 |     update_data = {k: v for k, v in product_data.items() if k in db_columns and k != 'id'}
184 |     if not update_data: print(f"product_db.update_product: Keine g├╝ltigen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.closeÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:182:157
    |
180 | ÔÇª
181 | ÔÇª_data['model_name'], int(product_id)))
182 | ÔÇªuct_data['model_name']}' existiert bereits f├╝r anderes Produkt."); conn.close(); return False
    |                                                                   ^
183 | ÔÇª
184 | ÔÇªisieren f├╝r ID {product_id}."); conn.close(); return False
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:182:171
    |
180 | ÔÇª
181 | ÔÇªame'], int(product_id)))
182 | ÔÇªl_name']}' existiert bereits f├╝r anderes Produkt."); conn.close(); return False
    |                                                                   ^
183 | ÔÇª
184 | ÔÇª {product_id}."); conn.close(); return False
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:184:23
    |
182 |         if cursor.fetchone(): print(f"product_db.update_product: Fehler - Modellname '{product_data['model_name']}' existiert bereitsÔÇª
183 |     update_data = {k: v for k, v in product_data.items() if k in db_columns and k != 'id'}
184 |     if not update_data: print(f"product_db.update_product: Keine g├╝ltigen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.closeÔÇª
    |                       ^
185 |     fields_to_set = [f"{k}=?" for k in update_data]; values = list(update_data.values()); values.append(int(product_id))
186 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:184:122
    |
182 |         if cursor.fetchone(): print(f"product_db.update_product: Fehler - Modellname '{product_data['model_name']}' existiert bereitsÔÇª
183 |     update_data = {k: v for k, v in product_data.items() if k in db_columns and k != 'id'}
184 |     if not update_data: print(f"product_db.update_product: Keine g├╝ltigen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.closeÔÇª
    |                                                                                                                          ^
185 |     fields_to_set = [f"{k}=?" for k in update_data]; values = list(update_data.values()); values.append(int(product_id))
186 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:184:136
    |
182 | ÔÇªr - Modellname '{product_data['model_name']}' existiert bereits f├╝r anderes Produkt."); conn.close(); return False
183 | ÔÇªlumns and k != 'id'}
184 | ÔÇªgen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.close(); return False
    |                                                                   ^
185 | ÔÇªate_data.values()); values.append(int(product_id))
186 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:185:52
    |
183 |     update_data = {k: v for k, v in product_data.items() if k in db_columns and k != 'id'}
184 |     if not update_data: print(f"product_db.update_product: Keine g├╝ltigen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.closeÔÇª
185 |     fields_to_set = [f"{k}=?" for k in update_data]; values = list(update_data.values()); values.append(int(product_id))
    |                                                    ^
186 |     try:
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:185:89
    |
183 |     update_data = {k: v for k, v in product_data.items() if k in db_columns and k != 'id'}
184 |     if not update_data: print(f"product_db.update_product: Keine g├╝ltigen Felder zum Aktualisieren f├╝r ID {product_id}."); conn.closeÔÇª
185 |     fields_to_set = [f"{k}=?" for k in update_data]; values = list(update_data.values()); values.append(int(product_id))
    |                                                                                         ^
186 |     try:
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:187:93
    |
185 |     fields_to_set = [f"{k}=?" for k in update_data]; values = list(update_data.values()); values.append(int(product_id))
186 |     try:
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
    |                                                                                             ^
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:188:31
    |
186 |     try:
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
    |                               ^
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:188:119
    |
186 |     try:
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
    |                                                                                                                       ^
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:189:85
    |
187 |         cursor.execute(f"UPDATE products SET {', '.join(fields_to_set)} WHERE id=?", values); conn.commit()
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
    |                                                                                     ^
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
191 |     finally: conn.close()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:190:30
    |
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |                              ^
191 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:190:107
    |
188 |         if cursor.rowcount > 0: print(f"product_db.update_product: Produkt ID {product_id} erfolgreich aktualisiert."); return True
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |                                                                                                           ^
191 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:190:130
    |
188 | ÔÇªt: Produkt ID {product_id} erfolgreich aktualisiert."); return True
189 | ÔÇªd} nicht gefunden."); return False
190 | ÔÇª: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); conn.rollback(); return False
    |                                                                   ^
191 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:190:147
    |
188 | ÔÇªoduct_id} erfolgreich aktualisiert."); return True
189 | ÔÇª."); return False
190 | ÔÇª├╝r ID {product_id}: {e}"); traceback.print_exc(); conn.rollback(); return False
    |                                                                   ^
191 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:191:12
    |
189 |         print(f"product_db.update_product: Produkt ID {product_id} nicht gefunden."); return False
190 |     except sqlite3.Error as e: print(f"product_db.update_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
191 |     finally: conn.close()
    |            ^
192 |
193 | def delete_product(product_id: int | float) -> bool:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:195:20
    |
193 | def delete_product(product_id: int | float) -> bool:
194 |     conn = get_db_connection_safe_pd()
195 |     if conn is None: print("product_db.delete_product: DB nicht verf├╝gbar."); return False
    |                    ^
196 |     create_product_table(conn); cursor = conn.cursor()
197 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:195:77
    |
193 | def delete_product(product_id: int | float) -> bool:
194 |     conn = get_db_connection_safe_pd()
195 |     if conn is None: print("product_db.delete_product: DB nicht verf├╝gbar."); return False
    |                                                                             ^
196 |     create_product_table(conn); cursor = conn.cursor()
197 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:196:31
    |
194 |     conn = get_db_connection_safe_pd()
195 |     if conn is None: print("product_db.delete_product: DB nicht verf├╝gbar."); return False
196 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
197 |     try:
198 |         cursor.execute("DELETE FROM products WHERE id=?", (int(product_id),)); conn.commit(); deleted_count = cursor.rowcount
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:198:78
    |
196 |     create_product_table(conn); cursor = conn.cursor()
197 |     try:
198 |         cursor.execute("DELETE FROM products WHERE id=?", (int(product_id),)); conn.commit(); deleted_count = cursor.rowcount
    |                                                                              ^
199 |         if deleted_count > 0: print(f"product_db.delete_product: Produkt ID {product_id} erfolgreich gel├Âscht.")
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:198:93
    |
196 |     create_product_table(conn); cursor = conn.cursor()
197 |     try:
198 |         cursor.execute("DELETE FROM products WHERE id=?", (int(product_id),)); conn.commit(); deleted_count = cursor.rowcount
    |                                                                                             ^
199 |         if deleted_count > 0: print(f"product_db.delete_product: Produkt ID {product_id} erfolgreich gel├Âscht.")
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:199:29
    |
197 |     try:
198 |         cursor.execute("DELETE FROM products WHERE id=?", (int(product_id),)); conn.commit(); deleted_count = cursor.rowcount
199 |         if deleted_count > 0: print(f"product_db.delete_product: Produkt ID {product_id} erfolgreich gel├Âscht.")
    |                             ^
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
201 |         return deleted_count > 0
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:200:13
    |
198 |         cursor.execute("DELETE FROM products WHERE id=?", (int(product_id),)); conn.commit(); deleted_count = cursor.rowcount
199 |         if deleted_count > 0: print(f"product_db.delete_product: Produkt ID {product_id} erfolgreich gel├Âscht.")
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
    |             ^
201 |         return deleted_count > 0
202 |     except sqlite3.Error as e: print(f"product_db.delete_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:202:30
    |
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
201 |         return deleted_count > 0
202 |     except sqlite3.Error as e: print(f"product_db.delete_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |                              ^
203 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:202:107
    |
200 |         else: print(f"product_db.delete_product: Produkt ID {product_id} nicht gefunden, nichts gel├Âscht.")
201 |         return deleted_count > 0
202 |     except sqlite3.Error as e: print(f"product_db.delete_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
    |                                                                                                           ^
203 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:202:130
    |
200 | ÔÇªduct_id} nicht gefunden, nichts gel├Âscht.")
201 | ÔÇª
202 | ÔÇª: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); conn.rollback(); return False
    |                                                                   ^
203 | ÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:202:147
    |
200 | ÔÇªfunden, nichts gel├Âscht.")
201 | ÔÇª
202 | ÔÇª├╝r ID {product_id}: {e}"); traceback.print_exc(); conn.rollback(); return False
    |                                                                   ^
203 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:203:12
    |
201 |         return deleted_count > 0
202 |     except sqlite3.Error as e: print(f"product_db.delete_product: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); coÔÇª
203 |     finally: conn.close()
    |            ^
204 |
205 | def list_products(category: str | None = None, company_id: int | None = None) -> list[dict[str, Any]]:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:207:20
    |
205 | def list_products(category: str | None = None, company_id: int | None = None) -> list[dict[str, Any]]:
206 |     conn = get_db_connection_safe_pd()
207 |     if conn is None: print("product_db.list_products: DB nicht verf├╝gbar."); return []
    |                    ^
208 |     create_product_table(conn); cursor = conn.cursor()
209 |     query = "SELECT * FROM products"; params: list[Any] = []
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:207:76
    |
205 | def list_products(category: str | None = None, company_id: int | None = None) -> list[dict[str, Any]]:
206 |     conn = get_db_connection_safe_pd()
207 |     if conn is None: print("product_db.list_products: DB nicht verf├╝gbar."); return []
    |                                                                            ^
208 |     create_product_table(conn); cursor = conn.cursor()
209 |     query = "SELECT * FROM products"; params: list[Any] = []
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:208:31
    |
206 |     conn = get_db_connection_safe_pd()
207 |     if conn is None: print("product_db.list_products: DB nicht verf├╝gbar."); return []
208 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
209 |     query = "SELECT * FROM products"; params: list[Any] = []
210 |     conditions = []
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:209:37
    |
207 |     if conn is None: print("product_db.list_products: DB nicht verf├╝gbar."); return []
208 |     create_product_table(conn); cursor = conn.cursor()
209 |     query = "SELECT * FROM products"; params: list[Any] = []
    |                                     ^
210 |     conditions = []
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:225:38
    |
223 |     query += " ORDER BY model_name COLLATE NOCASE"
224 |     try:
225 |         cursor.execute(query, params); rows = cursor.fetchall()
    |                                      ^
226 |         return [dict(row) for row in rows] if rows else []
227 |     except sqlite3.Error as e: print(f"product_db.list_products: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:227:30
    |
225 |         cursor.execute(query, params); rows = cursor.fetchall()
226 |         return [dict(row) for row in rows] if rows else []
227 |     except sqlite3.Error as e: print(f"product_db.list_products: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                              ^
228 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:227:86
    |
225 |         cursor.execute(query, params); rows = cursor.fetchall()
226 |         return [dict(row) for row in rows] if rows else []
227 |     except sqlite3.Error as e: print(f"product_db.list_products: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                                                                                      ^
228 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:227:109
    |
225 |         cursor.execute(query, params); rows = cursor.fetchall()
226 |         return [dict(row) for row in rows] if rows else []
227 |     except sqlite3.Error as e: print(f"product_db.list_products: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                                                                                                             ^
228 |     finally: conn.close()
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:228:12
    |
226 |         return [dict(row) for row in rows] if rows else []
227 |     except sqlite3.Error as e: print(f"product_db.list_products: SQLite Fehler: {e}"); traceback.print_exc(); return []
228 |     finally: conn.close()
    |            ^
229 |
230 | def get_product_by_id(product_id: int | float) -> dict[str, Any] | None:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:232:20
    |
230 | def get_product_by_id(product_id: int | float) -> dict[str, Any] | None:
231 |     conn = get_db_connection_safe_pd()
232 |     if conn is None: print("product_db.get_product_by_id: DB nicht verf├╝gbar."); return None
    |                    ^
233 |     create_product_table(conn); cursor = conn.cursor()
234 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:232:80
    |
230 | def get_product_by_id(product_id: int | float) -> dict[str, Any] | None:
231 |     conn = get_db_connection_safe_pd()
232 |     if conn is None: print("product_db.get_product_by_id: DB nicht verf├╝gbar."); return None
    |                                                                                ^
233 |     create_product_table(conn); cursor = conn.cursor()
234 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:233:31
    |
231 |     conn = get_db_connection_safe_pd()
232 |     if conn is None: print("product_db.get_product_by_id: DB nicht verf├╝gbar."); return None
233 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
234 |     try:
235 |         cursor.execute("SELECT * FROM products WHERE id=?", (int(product_id),)); row = cursor.fetchone()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:235:80
    |
233 |     create_product_table(conn); cursor = conn.cursor()
234 |     try:
235 |         cursor.execute("SELECT * FROM products WHERE id=?", (int(product_id),)); row = cursor.fetchone()
    |                                                                                ^
236 |         return dict(row) if row else None
237 |     except sqlite3.Error as e: print(f"product_db.get_product_by_id: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc();ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:237:30
    |
235 |         cursor.execute("SELECT * FROM products WHERE id=?", (int(product_id),)); row = cursor.fetchone()
236 |         return dict(row) if row else None
237 |     except sqlite3.Error as e: print(f"product_db.get_product_by_id: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc();ÔÇª
    |                              ^
238 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:237:110
    |
235 |         cursor.execute("SELECT * FROM products WHERE id=?", (int(product_id),)); row = cursor.fetchone()
236 |         return dict(row) if row else None
237 |     except sqlite3.Error as e: print(f"product_db.get_product_by_id: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc();ÔÇª
    |                                                                                                              ^
238 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:237:133
    |
235 | ÔÇªoduct_id),)); row = cursor.fetchone()
236 | ÔÇª
237 | ÔÇª: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc(); return None
    |                                                                   ^
238 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:238:12
    |
236 |         return dict(row) if row else None
237 |     except sqlite3.Error as e: print(f"product_db.get_product_by_id: SQLite Fehler f├╝r ID {product_id}: {e}"); traceback.print_exc();ÔÇª
238 |     finally: conn.close()
    |            ^
239 |
240 | def get_product_by_model_name(model_name: str) -> dict[str, Any] | None:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:241:48
    |
240 | def get_product_by_model_name(model_name: str) -> dict[str, Any] | None:
241 |     if not model_name or not model_name.strip(): print("product_db.get_product_by_model_name: Modellname darf nicht leer sein."); retÔÇª
    |                                                ^
242 |     conn = get_db_connection_safe_pd()
243 |     if conn is None: print("product_db.get_product_by_model_name: DB nicht verf├╝gbar."); return None
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:241:129
    |
240 | ÔÇª] | None:
241 | ÔÇª_db.get_product_by_model_name: Modellname darf nicht leer sein."); return None
    |                                                                   ^
242 | ÔÇª
243 | ÔÇªe: DB nicht verf├╝gbar."); return None
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:243:20
    |
241 |     if not model_name or not model_name.strip(): print("product_db.get_product_by_model_name: Modellname darf nicht leer sein."); retÔÇª
242 |     conn = get_db_connection_safe_pd()
243 |     if conn is None: print("product_db.get_product_by_model_name: DB nicht verf├╝gbar."); return None
    |                    ^
244 |     create_product_table(conn); cursor = conn.cursor()
245 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:243:88
    |
241 |     if not model_name or not model_name.strip(): print("product_db.get_product_by_model_name: Modellname darf nicht leer sein."); retÔÇª
242 |     conn = get_db_connection_safe_pd()
243 |     if conn is None: print("product_db.get_product_by_model_name: DB nicht verf├╝gbar."); return None
    |                                                                                        ^
244 |     create_product_table(conn); cursor = conn.cursor()
245 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:244:31
    |
242 |     conn = get_db_connection_safe_pd()
243 |     if conn is None: print("product_db.get_product_by_model_name: DB nicht verf├╝gbar."); return None
244 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
245 |     try:
246 |         cursor.execute("SELECT * FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:246:106
    |
244 |     create_product_table(conn); cursor = conn.cursor()
245 |     try:
246 |         cursor.execute("SELECT * FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
    |                                                                                                          ^
247 |         return dict(row) if row else None
248 |     except sqlite3.Error as e: print(f"product_db.get_product_by_model_name: SQLite Fehler f├╝r Modell '{model_name}': {e}"); tracebacÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:248:30
    |
246 |         cursor.execute("SELECT * FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
247 |         return dict(row) if row else None
248 |     except sqlite3.Error as e: print(f"product_db.get_product_by_model_name: SQLite Fehler f├╝r Modell '{model_name}': {e}"); tracebacÔÇª
    |                              ^
249 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:248:124
    |
246 |         cursor.execute("SELECT * FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
247 |         return dict(row) if row else None
248 |     except sqlite3.Error as e: print(f"product_db.get_product_by_model_name: SQLite Fehler f├╝r Modell '{model_name}': {e}"); tracebacÔÇª
    |                                                                                                                            ^
249 |     finally: conn.close()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:248:147
    |
246 | ÔÇª, (model_name.strip(),)); row = cursor.fetchone()
247 | ÔÇª
248 | ÔÇªte Fehler f├╝r Modell '{model_name}': {e}"); traceback.print_exc(); return None
    |                                                                   ^
249 | ÔÇª
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:249:12
    |
247 |         return dict(row) if row else None
248 |     except sqlite3.Error as e: print(f"product_db.get_product_by_model_name: SQLite Fehler f├╝r Modell '{model_name}': {e}"); tracebacÔÇª
249 |     finally: conn.close()
    |            ^
250 |
251 | def get_product_id_by_model_name(model_name: str) -> int | None:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:257:31
    |
255 |         print("product_db.get_product_id_by_model_name: DB nicht verf├╝gbar.")
256 |         return None
257 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
258 |     try:
259 |         cursor.execute("SELECT id FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:259:107
    |
257 |     create_product_table(conn); cursor = conn.cursor()
258 |     try:
259 |         cursor.execute("SELECT id FROM products WHERE model_name=? COLLATE NOCASE", (model_name.strip(),)); row = cursor.fetchone()
    |                                                                                                           ^
260 |         return int(row[0]) if row else None
261 |     except sqlite3.Error as e:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:273:20
    |
271 | def list_product_categories() -> list[str]:
272 |     conn = get_db_connection_safe_pd()
273 |     if conn is None: print("product_db.list_product_categories: DB nicht verf├╝gbar."); return []
    |                    ^
274 |     create_product_table(conn); cursor = conn.cursor()
275 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:273:86
    |
271 | def list_product_categories() -> list[str]:
272 |     conn = get_db_connection_safe_pd()
273 |     if conn is None: print("product_db.list_product_categories: DB nicht verf├╝gbar."); return []
    |                                                                                      ^
274 |     create_product_table(conn); cursor = conn.cursor()
275 |     try:
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:274:31
    |
272 |     conn = get_db_connection_safe_pd()
273 |     if conn is None: print("product_db.list_product_categories: DB nicht verf├╝gbar."); return []
274 |     create_product_table(conn); cursor = conn.cursor()
    |                               ^
275 |     try:
276 |         cursor.execute("SELECT DISTINCT category FROM products WHERE category IS NOT NULL AND category != '' ORDER BY category COLLATÔÇª
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:276:144
    |
274 | ÔÇª
275 | ÔÇª
276 | ÔÇªIS NOT NULL AND category != '' ORDER BY category COLLATE NOCASE"); rows = cursor.fetchall()
    |                                                                   ^
277 | ÔÇª
278 | ÔÇªite Fehler: {e}"); traceback.print_exc(); return []
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:278:30
    |
276 |         cursor.execute("SELECT DISTINCT category FROM products WHERE category IS NOT NULL AND category != '' ORDER BY category COLLATÔÇª
277 |         return [row['category'] for row in rows]
278 |     except sqlite3.Error as e: print(f"product_db.list_product_categories: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                              ^
279 |     finally: conn.close()
280 | # --- (Ende des unver├ñnderten Codes) ---
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:278:96
    |
276 |         cursor.execute("SELECT DISTINCT category FROM products WHERE category IS NOT NULL AND category != '' ORDER BY category COLLATÔÇª
277 |         return [row['category'] for row in rows]
278 |     except sqlite3.Error as e: print(f"product_db.list_product_categories: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                                                                                                ^
279 |     finally: conn.close()
280 | # --- (Ende des unver├ñnderten Codes) ---
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:278:119
    |
276 |         cursor.execute("SELECT DISTINCT category FROM products WHERE category IS NOT NULL AND category != '' ORDER BY category COLLATÔÇª
277 |         return [row['category'] for row in rows]
278 |     except sqlite3.Error as e: print(f"product_db.list_product_categories: SQLite Fehler: {e}"); traceback.print_exc(); return []
    |                                                                                                                       ^
279 |     finally: conn.close()
280 | # --- (Ende des unver├ñnderten Codes) ---
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:279:12
    |
277 |         return [row['category'] for row in rows]
278 |     except sqlite3.Error as e: print(f"product_db.list_product_categories: SQLite Fehler: {e}"); traceback.print_exc(); return []
279 |     finally: conn.close()
    |            ^
280 | # --- (Ende des unver├ñnderten Codes) ---
    |

B007 Loop control variable `i` not used within loop body
   --> repair_pdf\product_db.py:329:13
    |
327 |         ]
328 |         added_ids = []
329 |         for i, p_data in enumerate(products_to_add):
    |             ^
330 |             print(f"\nVersuche Produkt hinzuzuf├╝gen: {p_data.get('model_name')}")
331 |             p_id = product_db.add_product(p_data.copy())
    |
help: Rename unused `i` to `_i`

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:332:20
    |
330 |             print(f"\nVersuche Produkt hinzuzuf├╝gen: {p_data.get('model_name')}")
331 |             p_id = product_db.add_product(p_data.copy())
332 |             if p_id: added_ids.append(p_id); print(f"  -> ERFOLG: ID {p_id}")
    |                    ^
333 |             else: print("  -> FEHLER (oder Duplikat, erwartet f├╝r letztes Element)")
    |

E702 Multiple statements on one line (semicolon)
   --> repair_pdf\product_db.py:332:44
    |
330 |             print(f"\nVersuche Produkt hinzuzuf├╝gen: {p_data.get('model_name')}")
331 |             p_id = product_db.add_product(p_data.copy())
332 |             if p_id: added_ids.append(p_id); print(f"  -> ERFOLG: ID {p_id}")
    |                                            ^
333 |             else: print("  -> FEHLER (oder Duplikat, erwartet f├╝r letztes Element)")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:333:17
    |
331 |             p_id = product_db.add_product(p_data.copy())
332 |             if p_id: added_ids.append(p_id); print(f"  -> ERFOLG: ID {p_id}")
333 |             else: print("  -> FEHLER (oder Duplikat, erwartet f├╝r letztes Element)")
    |                 ^
334 |
335 |         print("\n--- Alle Produkte auflisten ---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:337:27
    |
335 |         print("\n--- Alle Produkte auflisten ---")
336 |         all_prods = product_db.list_products()
337 |         for p in all_prods: print(f"  ID: {p['id']}, Kat: {p['category']}, Modell: {p['model_name']}, Preis: {p.get('price_euro')}")
    |                           ^
338 |
339 |         print("\n--- Kategorien auflisten ---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:347:26
    |
345 |             print(f"\n--- Produkt mit ID {first_id} abrufen ---")
346 |             prod_by_id = product_db.get_product_by_id(first_id)
347 |             if prod_by_id: print(f"  Gefunden: {prod_by_id['model_name']}")
    |                          ^
348 |             else: print("  -> NICHT GEFUNDEN")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:348:17
    |
346 |             prod_by_id = product_db.get_product_by_id(first_id)
347 |             if prod_by_id: print(f"  Gefunden: {prod_by_id['model_name']}")
348 |             else: print("  -> NICHT GEFUNDEN")
    |                 ^
349 |
350 |             print("\n--- Produkt 'AlphaSolar 450W' nach Modellname abrufen ---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:352:28
    |
350 |             print("\n--- Produkt 'AlphaSolar 450W' nach Modellname abrufen ---")
351 |             prod_by_name = product_db.get_product_by_model_name("AlphaSolar 450W")
352 |             if prod_by_name: print(f"  Gefunden: ID {prod_by_name['id']}, Marke: {prod_by_name['brand']}")
    |                            ^
353 |             else: print("  -> NICHT GEFUNDEN")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:353:17
    |
351 |             prod_by_name = product_db.get_product_by_model_name("AlphaSolar 450W")
352 |             if prod_by_name: print(f"  Gefunden: ID {prod_by_name['id']}, Marke: {prod_by_name['brand']}")
353 |             else: print("  -> NICHT GEFUNDEN")
    |                 ^
354 |
355 |             print(f"\n--- Produkt ID {first_id} aktualisieren (Preis und Marke) ---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:360:25
    |
358 |             print(f"  Update erfolgreich: {success_update}")
359 |             updated_p = product_db.get_product_by_id(first_id)
360 |             if updated_p: print(f"  Neuer Preis: {updated_p.get('price_euro')}, Neue Marke: {updated_p.get('brand')}")
    |                         ^
361 |
362 |             print(f"\n--- Produkt ID {first_id} l├Âschen ---")
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:366:29
    |
364 |             print(f"  L├Âschen erfolgreich: {success_delete}")
365 |             deleted_p = product_db.get_product_by_id(first_id)
366 |             if not deleted_p: print(f"  Produkt ID {first_id} nach L├Âschen nicht mehr gefunden (korrekt).")
    |                             ^
367 |             else: print(f"  FEHLER: Produkt ID {first_id} immer noch gefunden!")
368 |     except Exception as e_test_main:
    |

E701 Multiple statements on one line (colon)
   --> repair_pdf\product_db.py:367:17
    |
365 |             deleted_p = product_db.get_product_by_id(first_id)
366 |             if not deleted_p: print(f"  Produkt ID {first_id} nach L├Âschen nicht mehr gefunden (korrekt).")
367 |             else: print(f"  FEHLER: Produkt ID {first_id} immer noch gefunden!")
    |                 ^
368 |     except Exception as e_test_main:
369 |         print(f"Hauptfehler im product_db Testlauf: {e_test_main}")
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> services_integration.py:316:5
    |
315 |       # Update category breakdown if exists
316 | /     if 'display_components_by_category' in updated_pricing:
317 | |         # Add Dienstleistungen category
318 | |         if services_pricing['standard_services'] or services_pricing['optional_services']:
    | |__________________________________________________________________________________________^
319 |               services_category_components = []
    |
help: Combine `if` statements using `and`

E402 Module level import not at top of file
  --> simple_debug_prices.py:15:1
   |
13 | sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))
14 |
15 | from multi_offer_generator import MultiCompanyOfferGenerator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 |
17 | print("\n" + "="*80)
   |

SIM118 Use `key in dict` instead of `key in dict.keys()`
  --> simple_logo_test.py:59:24
   |
58 |     print("­ƒôè Dynamic Data Ergebnis:")
59 |     logo_keys = [k for k in dynamic_data.keys() if 'logo' in k.lower()]
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^
60 |     print(f"  Logo-bezogene Keys gefunden: {len(logo_keys)}")
   |
help: Remove `.keys()`

W291 Trailing whitespace
  --> solar_calculator_bridge.py:80:38
   |
78 | ÔÇª     # Use React schema: products table with 'brand' and 'category' columns
79 | ÔÇª     cursor.execute("""
80 | ÔÇª         SELECT DISTINCT brand 
   |                                ^
81 | ÔÇª         FROM products 
82 | ÔÇª         WHERE (category LIKE '%PV%' OR category LIKE '%modul%' OR category LIKE '%Modul%' OR category = 'PV Modul' OR category = 'pvÔÇª
   |
help: Remove trailing whitespace

W291 Trailing whitespace
  --> solar_calculator_bridge.py:81:30
   |
79 | ÔÇª     cursor.execute("""
80 | ÔÇª         SELECT DISTINCT brand 
81 | ÔÇª         FROM products 
   |                        ^
82 | ÔÇª         WHERE (category LIKE '%PV%' OR category LIKE '%modul%' OR category LIKE '%Modul%' OR category = 'PV Modul' OR category = 'pvÔÇª
83 | ÔÇª         AND brand IS NOT NULL AND brand != ''
   |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:315:81
    |
313 | ÔÇª                         storage_power_kw, power_kw, max_cycles, warranty_years,
314 | ÔÇª                         length_m, width_m, weight_kg, efficiency_percent,
315 | ÔÇª                         origin_country, description, pros, cons, rating, 
    |                                                                           ^
316 | ÔÇª                         created_at, updated_at
317 | ÔÇª                     ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP)
    |
help: Remove trailing whitespace

SIM103 Return the condition directly
   --> solar_calculator_bridge.py:356:17
    |
354 |                       return True
355 |                   # '0' gilt als leer/ignorieren
356 | /                 if s.replace(',', '.').lower() in {"0", "0.0", "0.00"}:
357 | |                     return True
358 | |                 return False
    | |____________________________^
359 |               # Zahl 0 ebenfalls als leer werten
360 |               try:
    |
help: Inline condition

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
   --> solar_calculator_bridge.py:395:17
    |
393 |   ÔÇª         kwh = g('kapazitaet_speicher_kwh', 'storage_kwh', default=None)
394 |   ÔÇª         if kwh is not None and str(kwh).strip() != '' and mapped.get('power_kw') in (None, ''):
395 | / ÔÇª             try:
396 | | ÔÇª                 # bevorzugt spezielles Feld der DB, wenn vorhanden
397 | | ÔÇª                 mapped['storage_power_kw'] = float(kwh)
398 | | ÔÇª             except Exception:
399 | | ÔÇª                 pass
    | |______________________^
400 |   ÔÇª     # Numerics casten, 0 als leer behandeln
401 |   ÔÇª     for k in ['price_euro', 'capacity_w', 'power_kw', 'storage_power_kw', 'efficiency_percent', 'length_m', 'width_m', 'weight_kg']:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

E702 Multiple statements on one line (semicolon)
   --> solar_calculator_bridge.py:607:44
    |
605 |                     row = cur.fetchone()
606 |                     if row:
607 |                         c_update = c.copy(); c_update['id'] = int(row[0])
    |                                            ^
608 |                         _id = crm_save_customer(conn, c_update)
609 |                         updated += 1 if _id else 0
    |

E702 Multiple statements on one line (semicolon)
   --> solar_calculator_bridge.py:614:33
    |
612 |                         created += 1 if _id else 0
613 |                 except Exception as ie:
614 |                     skipped += 1; errors.append(str(ie))
    |                                 ^
615 |             conn.close()
616 |         except Exception:
    |

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> solar_calculator_bridge.py:630:60
    |
628 | ÔÇª     row = cur.fetchone()
629 | ÔÇª     if row:
630 | ÔÇª         sets = ", ".join([f"{k}=?" for k in c.keys() if k != 'id'])
    |                                          ^^^^^^^^^^^^^
631 | ÔÇª         cur.execute(f"UPDATE customers SET {sets} WHERE id=?", [*([c[k] for k in c.keys() if k != 'id']), int(row[0])])
632 | ÔÇª         updated += 1
    |
help: Remove `.keys()`

SIM118 Use `key in dict` instead of `key in dict.keys()`
   --> solar_calculator_bridge.py:631:97
    |
629 | ÔÇª     if row:
630 | ÔÇª         sets = ", ".join([f"{k}=?" for k in c.keys() if k != 'id'])
631 | ÔÇª         cur.execute(f"UPDATE customers SET {sets} WHERE id=?", [*([c[k] for k in c.keys() if k != 'id']), int(row[0])])
    |                                                                               ^^^^^^^^^^^^^
632 | ÔÇª         updated += 1
633 | ÔÇª     else:
    |
help: Remove `.keys()`

E702 Multiple statements on one line (semicolon)
   --> solar_calculator_bridge.py:634:50
    |
632 |                             updated += 1
633 |                         else:
634 |                             cols = list(c.keys()); placeholders = ",".join(["?"] * len(cols))
    |                                                  ^
635 |                             cur.execute(f"INSERT INTO customers ({', '.join(cols)}) VALUES ({placeholders})", [c[k] for k in cols])
636 |                             created += 1
    |

E702 Multiple statements on one line (semicolon)
   --> solar_calculator_bridge.py:638:37
    |
636 |                             created += 1
637 |                     except Exception as ie2:
638 |                         skipped += 1; errors.append(str(ie2))
    |                                     ^
639 |                 conn_fb.commit(); conn_fb.close()
640 |             except Exception as e2:
    |

E702 Multiple statements on one line (semicolon)
   --> solar_calculator_bridge.py:639:33
    |
637 |                     except Exception as ie2:
638 |                         skipped += 1; errors.append(str(ie2))
639 |                 conn_fb.commit(); conn_fb.close()
    |                                 ^
640 |             except Exception as e2:
641 |                 return {"success": False, "error": f"Import fehlgeschlagen: {e2}"}
    |

W291 Trailing whitespace
   --> solar_calculator_bridge.py:674:68
    |
672 |             cursor.execute(
673 |                 """
674 |                 SELECT id, category, model_name, brand, price_euro, 
    |                                                                    ^
675 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
676 |                        warranty_years, origin_country, description, created_at, updated_at
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:677:30
    |
675 | ÔÇª            capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
676 | ÔÇª            warranty_years, origin_country, description, created_at, updated_at
677 | ÔÇª     FROM products 
    |                    ^
678 | ÔÇª     WHERE brand = ? AND (category LIKE '%PV%' OR category LIKE '%modul%' OR category LIKE '%Modul%' OR category = 'pv_modul' OR catÔÇª
679 | ÔÇª     ORDER BY model_name
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:704:38
    |
702 |             cursor = conn.cursor()
703 |             cursor.execute("""
704 |                 SELECT DISTINCT brand 
    |                                      ^
705 |                 FROM products 
706 |                 WHERE category LIKE '%Wechselrichter%' OR category LIKE '%Inverter%'
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:705:30
    |
703 |             cursor.execute("""
704 |                 SELECT DISTINCT brand 
705 |                 FROM products 
    |                              ^
706 |                 WHERE category LIKE '%Wechselrichter%' OR category LIKE '%Inverter%'
707 |                 AND brand IS NOT NULL AND brand != ''
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:726:68
    |
724 |             cursor.execute(
725 |                 """
726 |                 SELECT id, category, model_name, brand, price_euro, 
    |                                                                    ^
727 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
728 |                        warranty_years, origin_country, description, created_at, updated_at
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:729:30
    |
727 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
728 |                        warranty_years, origin_country, description, created_at, updated_at
729 |                 FROM products 
    |                              ^
730 |                 WHERE brand = ? AND (category LIKE '%Wechselrichter%' OR category LIKE '%Inverter%')
731 |                 ORDER BY model_name
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:756:38
    |
754 |             cursor = conn.cursor()
755 |             cursor.execute("""
756 |                 SELECT DISTINCT brand 
    |                                      ^
757 |                 FROM products 
758 |                 WHERE category LIKE '%Speicher%' OR category LIKE '%Batter%'
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:757:30
    |
755 |             cursor.execute("""
756 |                 SELECT DISTINCT brand 
757 |                 FROM products 
    |                              ^
758 |                 WHERE category LIKE '%Speicher%' OR category LIKE '%Batter%'
759 |                 AND brand IS NOT NULL AND brand != ''
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:778:68
    |
776 |             cursor.execute(
777 |                 """
778 |                 SELECT id, category, model_name, brand, price_euro, 
    |                                                                    ^
779 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
780 |                        warranty_years, origin_country, description, storage_power_kw,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:782:30
    |
780 |                        warranty_years, origin_country, description, storage_power_kw,
781 |                        created_at, updated_at
782 |                 FROM products 
    |                              ^
783 |                 WHERE brand = ? AND (category LIKE '%Speicher%' OR category LIKE '%Batter%')
784 |                 ORDER BY model_name
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:875:47
    |
873 |             try:
874 |                 cursor.execute("""
875 |                     SELECT DISTINCT hersteller 
    |                                               ^
876 |                     FROM products_complete 
877 |                     WHERE kategorie = ? 
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:876:43
    |
874 |                 cursor.execute("""
875 |                     SELECT DISTINCT hersteller 
876 |                     FROM products_complete 
    |                                           ^
877 |                     WHERE kategorie = ? 
878 |                     ORDER BY hersteller
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:877:40
    |
875 |                     SELECT DISTINCT hersteller 
876 |                     FROM products_complete 
877 |                     WHERE kategorie = ? 
    |                                        ^
878 |                     ORDER BY hersteller
879 |                 """, [category])
    |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> solar_calculator_bridge.py:883:13
    |
881 |                 if manufacturers:
882 |                     return manufacturers
883 |             except:
    |             ^^^^^^
884 |                 pass
    |

W291 Trailing whitespace
   --> solar_calculator_bridge.py:888:45
    |
886 |             # Fallback
887 |             cursor.execute("""
888 |                 SELECT DISTINCT manufacturer 
    |                                             ^
889 |                 FROM products 
890 |                 WHERE category = ?
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:889:30
    |
887 |             cursor.execute("""
888 |                 SELECT DISTINCT manufacturer 
889 |                 FROM products 
    |                              ^
890 |                 WHERE category = ?
891 |                 ORDER BY manufacturer
    |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> solar_calculator_bridge.py:894:9
    |
892 |             """, [category])
893 |             return [row[0] for row in cursor.fetchall()]
894 |         except:
    |         ^^^^^^
895 |             return []
896 |         finally:
    |

W291 Trailing whitespace
   --> solar_calculator_bridge.py:910:27
    |
908 |                 cursor.execute(
909 |                     """
910 |                     SELECT 
    |                           ^
911 |                         id, kategorie, produkt_modell, hersteller, preis_st├╝ck,
912 |                         pv_modul_leistung, kapazitaet_speicher_kwh, wr_leistung_kw, ladezyklen_speicher,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:916:43
    |
914 |                         hersteller_land, beschreibung_info, eigenschaft_info, spezial_merkmal,
915 |                         rating_null_zehn, image_base64, created_at, updated_at
916 |                     FROM products_complete 
    |                                           ^
917 |                     WHERE kategorie = ? AND hersteller = ?
918 |                     ORDER BY produkt_modell
    |
help: Remove trailing whitespace

E722 Do not use bare `except`
   --> solar_calculator_bridge.py:931:13
    |
929 |                 if results:
930 |                     return results
931 |             except:
    |             ^^^^^^
932 |                 pass
    |

W291 Trailing whitespace
   --> solar_calculator_bridge.py:937:75
    |
935 |             cursor.execute(
936 |                 """
937 |                 SELECT id, category, model_name, manufacturer, price_euro, 
    |                                                                           ^
938 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
939 |                        warranty_years, origin_country, description, created_at, updated_at
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> solar_calculator_bridge.py:940:30
    |
938 |                        capacity_w, power_kw, efficiency_percent, length_m, width_m, weight_kg,
939 |                        warranty_years, origin_country, description, created_at, updated_at
940 |                 FROM products 
    |                              ^
941 |                 WHERE manufacturer = ? AND category = ?
942 |                 ORDER BY model_name
    |
help: Remove trailing whitespace

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1399:17
     |
1397 |                   print(json.dumps({"error": str(e)}))
1398 |               finally:
1399 | /                 try:
1400 | |                     conn.close()  # type: ignore
1401 | |                 except Exception:
1402 | |                     pass
     | |________________________^
1403 |           elif command == "crm_get_customer" and len(sys.argv) > 2:
1404 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1420:17
     |
1418 |                   print(json.dumps({"error": str(e)}))
1419 |               finally:
1420 | /                 try:
1421 | |                     conn.close()  # type: ignore
1422 | |                 except Exception:
1423 | |                     pass
     | |________________________^
1424 |           elif command == "crm_save_customer" and len(sys.argv) > 2:
1425 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1477:17
     |
1475 |                   print(json.dumps({"error": str(e)}))
1476 |               finally:
1477 | /                 try:
1478 | |                     conn.close()  # type: ignore
1479 | |                 except Exception:
1480 | |                     pass
     | |________________________^
1481 |           elif command == "crm_delete_customer" and len(sys.argv) > 2:
1482 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1504:17
     |
1502 |                   print(json.dumps({"error": str(e)}))
1503 |               finally:
1504 | /                 try:
1505 | |                     conn.close()  # type: ignore
1506 | |                 except Exception:
1507 | |                     pass
     | |________________________^
1508 |           elif command == "crm_list_projects_for_customer" and len(sys.argv) > 2:
1509 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1527:17
     |
1525 |                   print(json.dumps({"error": str(e)}))
1526 |               finally:
1527 | /                 try:
1528 | |                     conn.close()  # type: ignore
1529 | |                 except Exception:
1530 | |                     pass
     | |________________________^
1531 |           elif command == "crm_get_project" and len(sys.argv) > 2:
1532 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1550:17
     |
1548 |                   print(json.dumps({"error": str(e)}))
1549 |               finally:
1550 | /                 try:
1551 | |                     conn.close()  # type: ignore
1552 | |                 except Exception:
1553 | |                     pass
     | |________________________^
1554 |           elif command == "crm_save_project" and len(sys.argv) > 2:
1555 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM118 Use `key in dict` instead of `key in dict.keys()`
    --> solar_calculator_bridge.py:1575:56
     |
1573 |                         pid = int(payload['id'])
1574 |                         data = {k: v for k, v in payload.items() if k != 'id'}
1575 |                         sets = ", ".join([f"{k}=?" for k in data.keys()])
     |                                                        ^^^^^^^^^^^^^^^^
1576 |                         cur.execute(f"UPDATE projects SET {sets} WHERE id=?", [*data.values(), pid])
1577 |                         conn.commit()
     |
help: Remove `.keys()`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1589:17
     |
1587 |                   print(json.dumps({"error": str(e)}))
1588 |               finally:
1589 | /                 try:
1590 | |                     conn.close()  # type: ignore
1591 | |                 except Exception:
1592 | |                     pass
     | |________________________^
1593 |           elif command == "crm_delete_project" and len(sys.argv) > 2:
1594 |               try:
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
    --> solar_calculator_bridge.py:1613:17
     |
1611 |                   print(json.dumps({"error": str(e)}))
1612 |               finally:
1613 | /                 try:
1614 | |                     conn.close()  # type: ignore
1615 | |                 except Exception:
1616 | |                     pass
     | |________________________^
1617 |           else:
1618 |               print(json.dumps({"error": "Unknown command"}))
     |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

N801 Class name `session_state` should use CapWords convention
  --> solar_calculator_pricing_integration.py:29:15
   |
27 |         @staticmethod
28 |         def success(msg): print(f"SUCCESS: {msg}")
29 |         class session_state:
   |               ^^^^^^^^^^^^^
30 |             def __init__(self):
31 |                 self._state = {}
   |

F401 `pricing.enhanced_pricing_engine.PriceComponent` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> solar_calculator_pricing_integration.py:46:49
   |
44 | try:
45 |     from pricing.dynamic_key_manager import DynamicKeyManager, KeyCategory
46 |     from pricing.enhanced_pricing_engine import PriceComponent, PricingEngine
   |                                                 ^^^^^^^^^^^^^^
47 |     PRICING_SYSTEM_AVAILABLE = True
48 | except ImportError as e:
   |
help: Remove unused import: `pricing.enhanced_pricing_engine.PriceComponent`

F401 `product_db.get_product_by_id` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> solar_calculator_pricing_integration.py:57:9
   |
55 |         calculate_price_by_method,
56 |         calculate_selling_price,
57 |         get_product_by_id,
   |         ^^^^^^^^^^^^^^^^^
58 |         get_product_by_model_name,
59 |     )
   |
help: Remove unused import: `product_db.get_product_by_id`

W293 Blank line contains whitespace
  --> solar_calculator_pricing_integration.py:86:1
   |
84 |     def calculate_component_pricing(self, project_details: dict[str, Any]) -> dict[str, Any]:
85 |         """Calculate pricing for all selected components
86 |         
   | ^^^^^^^^
87 |         Args:
88 |             project_details: Project details from solar calculator
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> solar_calculator_pricing_integration.py:89:1
   |
87 |         Args:
88 |             project_details: Project details from solar calculator
89 |             
   | ^^^^^^^^^^^^
90 |         Returns:
91 |             Dictionary with pricing results and dynamic keys
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> solar_calculator_pricing_integration.py:863:1
    |
861 | def integrate_pricing_with_solar_calculator(project_details: dict[str, Any]) -> dict[str, Any]:
862 |     """Main function to integrate pricing with solar calculator
863 |     
    | ^^^^
864 |     Args:
865 |         project_details: Project details from solar calculator
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> solar_calculator_pricing_integration.py:866:1
    |
864 |     Args:
865 |         project_details: Project details from solar calculator
866 |         
    | ^^^^^^^^
867 |     Returns:
868 |         Dictionary with pricing results and dynamic keys
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> solar_calculator_pricing_integration.py:875:1
    |
873 | def get_pricing_display_for_ui(project_details: dict[str, Any]) -> dict[str, Any]:
874 |     """Get pricing data formatted for UI display
875 |     
    | ^^^^
876 |     Args:
877 |         project_details: Project details from solar calculator
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> solar_calculator_pricing_integration.py:878:1
    |
876 |     Args:
877 |         project_details: Project details from solar calculator
878 |         
    | ^^^^^^^^
879 |     Returns:
880 |         Dictionary with formatted pricing data for display
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> solar_calculator_pricing_integration.py:887:1
    |
885 | def update_pricing_in_session_state(project_details: dict[str, Any]) -> None:
886 |     """Update Streamlit session state with current pricing
887 |     
    | ^^^^
888 |     Args:
889 |         project_details: Project details from solar calculator
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> storage_model_resolver.py:18:1
   |
16 |     """
17 |     Resolves storage IDs to model names for price matrix lookups.
18 |     
   | ^^^^
19 |     This class handles the conversion from storage product IDs (used in the UI)
20 |     to storage model names (used in the price matrix columns) with proper
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> storage_model_resolver.py:35:1
   |
33 |         """
34 |         Resolve storage ID to model name for matrix lookup.
35 |         
   | ^^^^^^^^
36 |         Args:
37 |             storage_id: Product ID of the selected storage (can be None)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> storage_model_resolver.py:40:1
   |
38 |             include_storage: Whether storage is included in the calculation
39 |             get_product_func: Function to retrieve product details by ID
40 |             
   | ^^^^^^^^^^^^
41 |         Returns:
42 |             Storage model name for matrix lookup or "Ohne Speicher"
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> storage_model_resolver.py:43:1
   |
41 |         Returns:
42 |             Storage model name for matrix lookup or "Ohne Speicher"
43 |             
   | ^^^^^^^^^^^^
44 |         The resolution logic follows this priority:
45 |         1. If include_storage is False -> "Ohne Speicher"
   |
help: Remove whitespace from blank line

W291 Trailing whitespace
  --> storage_model_resolver.py:46:58
   |
44 |         The resolution logic follows this priority:
45 |         1. If include_storage is False -> "Ohne Speicher"
46 |         2. If storage_id is None/empty -> "Ohne Speicher"  
   |                                                          ^^
47 |         3. Try to get product by ID and extract model_name
48 |         4. If product not found or no model_name -> "Ohne Speicher"
   |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> storage_model_resolver.py:103:1
    |
101 |         """
102 |         Normalize storage name for consistent matching.
103 |         
    | ^^^^^^^^
104 |         Args:
105 |             storage_name: Raw storage name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:106:1
    |
104 |         Args:
105 |             storage_name: Raw storage name
106 |             
    | ^^^^^^^^^^^^
107 |         Returns:
108 |             Normalized storage name (trimmed, consistent case)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:131:1
    |
129 |         """
130 |         Validate if storage name exists in matrix and suggest fallback.
131 |         
    | ^^^^^^^^
132 |         Args:
133 |             storage_name: Storage model name to validate
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:135:1
    |
133 |             storage_name: Storage model name to validate
134 |             available_storage_models: List of available storage models in matrix
135 |             
    | ^^^^^^^^^^^^
136 |         Returns:
137 |             Tuple of (final_storage_name, is_exact_match)
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:171:1
    |
169 |         """
170 |         Get cache statistics.
171 |         
    | ^^^^^^^^
172 |         Returns:
173 |             Dictionary with cache information
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:187:1
    |
185 |     """
186 |     Convenience function to resolve storage model name.
187 |     
    | ^^^^
188 |     Args:
189 |         storage_id: Product ID of the selected storage
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> storage_model_resolver.py:192:1
    |
190 |         include_storage: Whether storage is included
191 |         get_product_func: Function to get product by ID
192 |         
    | ^^^^^^^^
193 |     Returns:
194 |         Resolved storage model name
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:12:1
   |
10 |     /* ========== GLOBALE SLIDER-EFFEKTE (+ / - BUTTONS) ========== */
11 |     /* Shimmer- und Pulse-Animationen f├╝r Slider-Increment/Decrement-Buttons */
12 |     
   | ^^^^
13 |     /* Slider Plus/Minus Buttons */
14 |     button[data-testid="stNumberInputStepUp"],
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:24:1
   |
22 |         cursor: pointer !important;
23 |     }
24 |     
   | ^^^^
25 |     /* Shimmer-Effekt f├╝r Slider-Buttons */
26 |     button[data-testid="stNumberInputStepUp"]::before,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:40:1
   |
38 |         z-index: 1 !important;
39 |     }
40 |     
   | ^^^^
41 |     /* Shimmer aktivieren beim Hover */
42 |     button[data-testid="stNumberInputStepUp"]:hover::before,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:47:1
   |
45 |         left: 100% !important;
46 |     }
47 |     
   | ^^^^
48 |     /* Hover-Effekte f├╝r Slider-Buttons */
49 |     button[data-testid="stNumberInputStepUp"]:hover,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:57:1
   |
55 |         animation: sliderButtonPulse 1.5s ease-in-out infinite !important;
56 |     }
57 |     
   | ^^^^
58 |     @keyframes sliderButtonPulse {
59 |         0%, 100% {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:68:1
   |
66 |         }
67 |     }
68 |     
   | ^^^^
69 |     /* Active State (beim Klicken) */
70 |     button[data-testid="stNumberInputStepUp"]:active,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:76:1
   |
74 |         box-shadow: 0 1px 5px rgba(102, 126, 234, 0.3) inset !important;
75 |     }
76 |     
   | ^^^^
77 |     /* Slider Track Hover */
78 |     div[data-testid="stSlider"] div[role="slider"]:hover {
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:83:1
   |
81 |         transition: all 0.3s ease !important;
82 |     }
83 |     
   | ^^^^
84 |     /* ========== ENDE GLOBALE SLIDER-EFFEKTE ========== */
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:85:1
   |
84 |     /* ========== ENDE GLOBALE SLIDER-EFFEKTE ========== */
85 |     
   | ^^^^
86 |     /* ========== GLOBALE CHECKBOX-EFFEKTE ========== */
87 |     /* Shimmer- und Pulse-Animationen f├╝r Checkboxen */
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:88:1
   |
86 |     /* ========== GLOBALE CHECKBOX-EFFEKTE ========== */
87 |     /* Shimmer- und Pulse-Animationen f├╝r Checkboxen */
88 |     
   | ^^^^
89 |     /* Checkbox Container */
90 |     div[data-testid="stCheckbox"],
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> temp_slider_checkbox_css.py:97:1
   |
95 |         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
96 |     }
97 |     
   | ^^^^
98 |     /* Checkbox Label Hover-Effekt */
99 |     div[data-testid="stCheckbox"]:hover,
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:107:1
    |
105 |         transform: translateX(3px) !important;
106 |     }
107 |     
    | ^^^^
108 |     /* Checkbox Input Box */
109 |     div[data-testid="stCheckbox"] input[type="checkbox"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:116:1
    |
114 |         transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
115 |     }
116 |     
    | ^^^^
117 |     /* Checkbox Hover-Effekt - Shimmer */
118 |     div[data-testid="stCheckbox"]:hover input[type="checkbox"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:124:1
    |
122 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
123 |     }
124 |     
    | ^^^^
125 |     @keyframes checkboxPulse {
126 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:135:1
    |
133 |         }
134 |     }
135 |     
    | ^^^^
136 |     /* Checked Checkbox - Pulse-Effekt */
137 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:144:1
    |
142 |         animation: checkboxCheckedPulse 2s ease-in-out infinite !important;
143 |     }
144 |     
    | ^^^^
145 |     @keyframes checkboxCheckedPulse {
146 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:153:1
    |
151 |         }
152 |     }
153 |     
    | ^^^^
154 |     /* Checkbox Checkmark - Shimmer-Effekt */
155 |     div[data-testid="stCheckbox"] input[type="checkbox"]:checked::after,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:159:1
    |
157 |         animation: checkmarkShimmer 2s ease-in-out infinite !important;
158 |     }
159 |     
    | ^^^^
160 |     @keyframes checkmarkShimmer {
161 |         0%, 100% {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:169:1
    |
167 |         }
168 |     }
169 |     
    | ^^^^
170 |     /* Radio Buttons - ├ähnliche Effekte */
171 |     div[data-testid="stRadio"] label:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:179:1
    |
177 |         transition: all 0.3s ease !important;
178 |     }
179 |     
    | ^^^^
180 |     div[data-testid="stRadio"] input[type="radio"]:hover,
181 |     .stRadio input[type="radio"]:hover {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:185:1
    |
183 |         animation: checkboxPulse 1.5s ease-in-out infinite !important;
184 |     }
185 |     
    | ^^^^
186 |     /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> temp_slider_checkbox_css.py:187:1
    |
186 |     /* ========== ENDE GLOBALE CHECKBOX-EFFEKTE ========== */
187 |     
    | ^^^^
188 |     </style>
189 |     ''', unsafe_allow_html=True)
    |
help: Remove whitespace from blank line

B007 Loop control variable `key` not used within loop body
  --> test_admin_sidebar_menu.py:39:13
   |
37 | }
38 |
39 | for index, (key, (icon, title)) in enumerate(admin_items.items(), 1):
   |             ^^^
40 |     print(f"{index:2d}. {icon}  {title}")
   |
help: Rename unused `key` to `_key`

SIM118 Use `key in dict` instead of `key in dict.keys()`
  --> test_all_55_charts.py:21:5
   |
19 | unavailable_charts = []
20 |
21 | for chart_key in CHART_KEY_TO_FRIENDLY_NAME_MAP.keys():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |     is_available = check_chart_availability(chart_key, {}, test_results)
23 |     results.append((chart_key, is_available))
   |
help: Remove `.keys()`

B007 Loop control variable `key` not used within loop body
  --> test_carousel_admin.py:39:13
   |
37 | }
38 |
39 | for index, (key, (icon, title, desc)) in enumerate(admin_cards.items(), 1):
   |             ^^^
40 |     print(f"{index:2d}. {icon}  {title}")
41 |     print(f"    ÔööÔöÇ {desc}")
   |
help: Rename unused `key` to `_key`

F841 Local variable `pdf_text` is assigned to but never used
   --> test_chart_selection.py:276:9
    |
275 |         page_count = count_pdf_pages(pdf_bytes)
276 |         pdf_text = extract_pdf_text(pdf_bytes)
    |         ^^^^^^^^
277 |
278 |         print("\n[OK] PDF generated successfully")
    |
help: Remove assignment to unused variable `pdf_text`

SIM108 Use ternary operator `visible = "Ô£ô" if preview_index - 2 <= i <= preview_index + 2 else " "` instead of `if`-`else`-block
  --> test_sidebar_carousel.py:59:9
   |
58 |           # Nur 5 Items um preview herum zeigen
59 | /         if preview_index - 2 <= i <= preview_index + 2:
60 | |             visible = "Ô£ô"
61 | |         else:
62 | |             visible = " "
   | |_________________________^
63 |
64 |           print(f"  {visible} {marker} [{icon}] {label:25} {status}")
   |
help: Replace `if`-`else`-block with `visible = "Ô£ô" if preview_index - 2 <= i <= preview_index + 2 else " "`

F401 `user_menu.logout_user` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:61:13
   |
59 |     try:
60 |         from user_menu import (
61 |             logout_user,
   |             ^^^^^^^^^^^
62 |             render_info_tab,
63 |             render_profile_editor,
   |
help: Remove unused import

F401 `user_menu.render_info_tab` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:62:13
   |
60 |         from user_menu import (
61 |             logout_user,
62 |             render_info_tab,
   |             ^^^^^^^^^^^^^^^
63 |             render_profile_editor,
64 |             render_profile_tab,
   |
help: Remove unused import

F401 `user_menu.render_profile_editor` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:63:13
   |
61 |             logout_user,
62 |             render_info_tab,
63 |             render_profile_editor,
   |             ^^^^^^^^^^^^^^^^^^^^^
64 |             render_profile_tab,
65 |             render_settings_tab,
   |
help: Remove unused import

F401 `user_menu.render_profile_tab` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:64:13
   |
62 |             render_info_tab,
63 |             render_profile_editor,
64 |             render_profile_tab,
   |             ^^^^^^^^^^^^^^^^^^
65 |             render_settings_tab,
66 |             render_user_menu,
   |
help: Remove unused import

F401 `user_menu.render_settings_tab` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:65:13
   |
63 |             render_profile_editor,
64 |             render_profile_tab,
65 |             render_settings_tab,
   |             ^^^^^^^^^^^^^^^^^^^
66 |             render_user_menu,
67 |         )
   |
help: Remove unused import

F401 `user_menu.render_user_menu` imported but unused; consider using `importlib.util.find_spec` to test for availability
  --> test_user_menu.py:66:13
   |
64 |             render_profile_tab,
65 |             render_settings_tab,
66 |             render_user_menu,
   |             ^^^^^^^^^^^^^^^^
67 |         )
68 |         print("Ô£à Alle Funktionen importiert")
   |
help: Remove unused import

B905 `zip()` without an explicit `strict=` parameter
   --> theme_manager.py:315:37
    |
313 |     return tuple(
314 |         int(round(channel_a * (1 - factor) + channel_b * factor))
315 |         for channel_a, channel_b in zip(rgb_a, rgb_b)
    |                                     ^^^^^^^^^^^^^^^^^
316 |     )
    |
help: Add explicit value for parameter `strict=`

C416 Unnecessary dict comprehension (rewrite using `dict()`)
   --> theme_manager.py:411:18
    |
409 |     else:
410 |         normalized = {
411 |             key: {inner_key: inner_value for inner_key, inner_value in value.items()}
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
412 |             for key, value in overrides.items()
413 |         }
    |
help: Rewrite using `dict()`

RET504 Unnecessary assignment to `css` before `return` statement
    --> theme_manager.py:1171:12
     |
1169 |     </style>
1170 |     """
1171 |     return css
     |            ^^^
     |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\bootstrap\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\bootstrap\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\cyberpunk\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\cyberpunk\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\dark-mode\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\dark-mode\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\editorial\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\editorial\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\financial\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\financial\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\healthcare\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\healthcare\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\material-design\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\material-design\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\saas-startup\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\saas-startup\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\tailwind\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\tailwind\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

C416 Unnecessary list comprehension (rewrite using `list()`)
  --> theming\amazing\awesome-streamlit-themes\toddler\chat.py:14:36
   |
12 |     st.session_state.chat_history.append({"role": "user", "content": prompt})
13 |     st.chat_message("user").markdown(prompt)
14 |     assistant_response_generator = [character for character in f"Echo: {prompt}"]
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 |     response = st.chat_message("assistant").write_stream(assistant_response_generator)
16 |     st.session_state.chat_history.append({"role": "assistant", "content": response})
   |
help: Rewrite using `list()`

RET504 Unnecessary assignment to `scale` before `return` statement
  --> theming\amazing\awesome-streamlit-themes\toddler\media.py:17:12
   |
15 |         for freq in frequencies
16 |     ])
17 |     return scale
   |            ^^^^^
18 |
19 | st.header("Media elements")
   |
help: Remove unnecessary assignment

W293 Blank line contains whitespace
  --> ui_chart_helpers.py:23:1
   |
21 |     """
22 |     Gibt ein modernes Plotly-Layout zur├╝ck, das zum Dark Theme passt
23 |     
   | ^^^^
24 |     Args:
25 |         title: Chart-Titel (optional)
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> ui_chart_helpers.py:28:1
   |
26 |         show_legend: Legende anzeigen
27 |         height: Chart-H├Âhe in Pixeln
28 |         
   | ^^^^^^^^
29 |     Returns:
30 |         Dict mit Layout-Optionen
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> ui_chart_helpers.py:76:1
   |
74 |     """
75 |     Wendet das moderne Dark Theme auf ein Plotly Figure an
76 |     
   | ^^^^
77 |     Args:
78 |         fig: Plotly Figure Objekt
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> ui_chart_helpers.py:80:1
   |
78 |         fig: Plotly Figure Objekt
79 |         title: Optionaler Titel
80 |         
   | ^^^^^^^^
81 |     Returns:
82 |         Modifiziertes Figure Objekt
   |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:112:1
    |
110 |     """
111 |     Erstellt ein modernes Liniendiagramm
112 |     
    | ^^^^
113 |     Args:
114 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:120:1
    |
118 |         color: Spaltenname f├╝r Farbgruppierung (optional)
119 |         markers: Marker anzeigen
120 |         
    | ^^^^^^^^
121 |     Returns:
122 |         Plotly Figure
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:135:14
    |
133 |     # Linie dicker und mit Glow-Effekt
134 |     fig.update_traces(
135 |         line=dict(width=3),
    |              ^^^^^^^^^^^^^
136 |         hovertemplate=f"{x}: %{{x}}<br>{y}: %{{y}}<extra></extra>"
137 |     )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:152:1
    |
150 |     """
151 |     Erstellt ein modernes Balkendiagramm
152 |     
    | ^^^^
153 |     Args:
154 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:160:1
    |
158 |         color: Spaltenname f├╝r Farbgruppierung (optional)
159 |         orientation: "v" f├╝r vertikal, "h" f├╝r horizontal
160 |         
    | ^^^^^^^^
161 |     Returns:
162 |         Plotly Figure
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:175:16
    |
173 |       # Abgerundete Ecken simulieren durch Marker
174 |       fig.update_traces(
175 |           marker=dict(
    |  ________________^
176 | |             line=dict(width=0),
177 | |             opacity=0.9
178 | |         )
    | |_________^
179 |       )
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:176:18
    |
174 |     fig.update_traces(
175 |         marker=dict(
176 |             line=dict(width=0),
    |                  ^^^^^^^^^^^^^
177 |             opacity=0.9
178 |         )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:193:1
    |
191 |     """
192 |     Erstellt ein modernes Kreisdiagramm (oder Donut wenn hole > 0)
193 |     
    | ^^^^
194 |     Args:
195 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:200:1
    |
198 |         title: Chart-Titel
199 |         hole: Gr├Â├ƒe des Lochs in der Mitte (0 = Pie, >0 = Donut)
200 |         
    | ^^^^^^^^
201 |     Returns:
202 |         Plotly Figure
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:232:1
    |
230 |     """
231 |     Erstellt ein modernes Streudiagramm
232 |     
    | ^^^^
233 |     Args:
234 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:240:1
    |
238 |         size: Spaltenname f├╝r Punkt-Gr├Â├ƒe (optional)
239 |         color: Spaltenname f├╝r Farbgruppierung (optional)
240 |         
    | ^^^^^^^^
241 |     Returns:
242 |         Plotly Figure
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:255:16
    |
253 |       # Glow-Effekt f├╝r Punkte
254 |       fig.update_traces(
255 |           marker=dict(
    |  ________________^
256 | |             line=dict(width=0),
257 | |             opacity=0.8
258 | |         )
    | |_________^
259 |       )
    |
help: Rewrite as a literal

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:256:18
    |
254 |     fig.update_traces(
255 |         marker=dict(
256 |             line=dict(width=0),
    |                  ^^^^^^^^^^^^^
257 |             opacity=0.8
258 |         )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:273:1
    |
271 |     """
272 |     Erstellt ein modernes Fl├ñchendiagramm
273 |     
    | ^^^^
274 |     Args:
275 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:280:1
    |
278 |         title: Chart-Titel
279 |         color: Spaltenname f├╝r Farbgruppierung (optional)
280 |         
    | ^^^^^^^^
281 |     Returns:
282 |         Plotly Figure
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:295:14
    |
293 |     fig.update_traces(
294 |         fillcolor="rgba(0,229,255,0.15)",
295 |         line=dict(color=ACCENT_COLOR, width=2)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
296 |     )
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:310:1
    |
308 |     """
309 |     Erstellt ein modernes Wasserfalldiagramm
310 |     
    | ^^^^
311 |     Args:
312 |         data: DataFrame oder dict
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:317:1
    |
315 |         title: Chart-Titel
316 |         text: Spaltenname f├╝r Beschriftungen (optional)
317 |         
    | ^^^^^^^^
318 |     Returns:
319 |         Plotly Figure
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:337:1
    |
335 |     """
336 |     F├╝gt einem Chart einen Gradienten-Hintergrund hinzu
337 |     
    | ^^^^
338 |     Args:
339 |         fig: Plotly Figure Objekt
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_chart_helpers.py:340:1
    |
338 |     Args:
339 |         fig: Plotly Figure Objekt
340 |         
    | ^^^^^^^^
341 |     Returns:
342 |         Modifiziertes Figure Objekt
    |
help: Remove whitespace from blank line

C408 Unnecessary `dict()` call (rewrite as a literal)
   --> ui_chart_helpers.py:345:9
    |
343 |       """
344 |       fig.add_layout_image(
345 | /         dict(
346 | |             source="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcÔÇª
347 | |             xref="paper",
348 | |             yref="paper",
349 | |             x=0,
350 | |             y=1,
351 | |             sizex=1,
352 | |             sizey=1,
353 | |             sizing="stretch",
354 | |             opacity=0.3,
355 | |             layer="below"
356 | |         )
    | |_________^
357 |       )
358 |       return fig
    |
help: Rewrite as a literal

W293 Blank line contains whitespace
   --> ui_effects_library.py:343:1
    |
341 |             transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
342 |         }
343 |         
    | ^^^^^^^^
344 |         /* Shimmer-Effekt: Gl├ñnzender Sweep von links nach rechts */
345 |         .stButton button::before,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:361:1
    |
359 |             z-index: 1;
360 |         }
361 |         
    | ^^^^^^^^
362 |         .stButton button:hover::before,
363 |         button[data-testid="baseButton-primary"]:hover::before,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:370:1
    |
368 |             left: 100%;
369 |         }
370 |         
    | ^^^^^^^^
371 |         /* Hover-Effekte mit Transform */
372 |         .stButton button:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:381:1
    |
379 |             box-shadow: 0 8px 20px rgba(0,0,0,0.15);
380 |         }
381 |         
    | ^^^^^^^^
382 |         /* Pulse-Animation */
383 |         @keyframes globalButtonPulse {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:387:1
    |
385 |             50% { transform: scale(1.02); }
386 |         }
387 |         
    | ^^^^^^^^
388 |         button[data-testid="baseButton-primary"]:hover,
389 |         button[kind="primary"]:hover {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:392:1
    |
390 |             animation: globalButtonPulse 2s ease-in-out infinite;
391 |         }
392 |         
    | ^^^^^^^^
393 |         /* ========== EXPANDER HOVER (SHIMMER + PULSE) ========== */
394 |         details[data-testid="stExpander"] summary:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:403:1
    |
401 |             box-shadow: 0 4px 12px rgba(0,0,0,0.15);
402 |         }
403 |         
    | ^^^^^^^^
404 |         /* ========== DROPDOWN HOVER (SHIMMER + PULSE) ========== */
405 |         div[data-baseweb="select"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:414:1
    |
412 |             background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
413 |         }
414 |         
    | ^^^^^^^^
415 |         /* ========== NUMBER INPUT HOVER (SHIMMER + PULSE) ========== */
416 |         button[data-testid="stNumberInputStepUp"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:424:1
    |
422 |             animation: globalButtonPulse 1s ease-in-out;
423 |         }
424 |         
    | ^^^^^^^^
425 |         /* ========== CHECKBOX HOVER (SHIMMER + PULSE) ========== */
426 |         div[data-baseweb="checkbox"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:432:1
    |
430 |             box-shadow: 0 2px 8px rgba(0,0,0,0.15);
431 |         }
432 |         
    | ^^^^^^^^
433 |         /* ========== SIDEBAR NAVIGATION HOVER (SHIMMER + PULSE) ========== */
434 |         /* Sidebar Links - ALLE Varianten */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:446:1
    |
444 |             padding-left: 8px;
445 |         }
446 |         
    | ^^^^^^^^
447 |         /* Sidebar List Items */
448 |         section[data-testid="stSidebar"] li:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:455:1
    |
453 |             padding-left: 4px;
454 |         }
455 |         
    | ^^^^^^^^
456 |         /* Sidebar Headers Hover */
457 |         section[data-testid="stSidebar"] h1:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:465:1
    |
463 |             transform: translateX(1px);
464 |         }
465 |         
    | ^^^^^^^^
466 |         /* Sidebar Content Blocks Hover */
467 |         section[data-testid="stSidebar"] > div:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:516:1
    |
514 |             filter: drop-shadow(0 0 5px rgba(76, 175, 80, 0.3));
515 |         }
516 |         
    | ^^^^^^^^
517 |         .stButton button:hover,
518 |         button[data-testid="baseButton-primary"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:526:1
    |
524 |             animation: glowBounce 0.6s ease-in-out;
525 |         }
526 |         
    | ^^^^^^^^
527 |         @keyframes glowBounce {
528 |             0%, 100% { transform: translateY(0) scale(1); }
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:533:1
    |
531 |             75% { transform: translateY(-8px) scale(1.04); }
532 |         }
533 |         
    | ^^^^^^^^
534 |         /* ========== EXPANDER HOVER (GLOW + BOUNCE) ========== */
535 |         details[data-testid="stExpander"] summary:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:544:1
    |
542 |             transform: scale(1.01);
543 |         }
544 |         
    | ^^^^^^^^
545 |         @keyframes glowPulse {
546 |             0%, 100% { box-shadow: 0 0 10px rgba(76, 175, 80, 0.3); }
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:549:1
    |
547 |             50% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.6); }
548 |         }
549 |         
    | ^^^^^^^^
550 |         /* ========== DROPDOWN HOVER (GLOW + BOUNCE) ========== */
551 |         div[data-baseweb="select"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:559:1
    |
557 |             animation: glowBounce 0.6s ease-in-out;
558 |         }
559 |         
    | ^^^^^^^^
560 |         /* ========== NUMBER INPUT HOVER (GLOW + BOUNCE) ========== */
561 |         button[data-testid="stNumberInputStepUp"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:568:1
    |
566 |             animation: glowBounce 0.6s ease-in-out;
567 |         }
568 |         
    | ^^^^^^^^
569 |         /* ========== CHECKBOX HOVER (GLOW + BOUNCE) ========== */
570 |         div[data-baseweb="checkbox"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:575:1
    |
573 |             filter: drop-shadow(0 0 8px rgba(76, 175, 80, 0.6));
574 |         }
575 |         
    | ^^^^^^^^
576 |         /* ========== SIDEBAR NAVIGATION HOVER (GLOW + BOUNCE) ========== */
577 |         /* Sidebar Links - ALLE Varianten */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:589:1
    |
587 |             padding-left: 8px;
588 |         }
589 |         
    | ^^^^^^^^
590 |         /* Sidebar List Items */
591 |         section[data-testid="stSidebar"] li:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:598:1
    |
596 |             padding-left: 4px;
597 |         }
598 |         
    | ^^^^^^^^
599 |         /* Sidebar Headers Hover */
600 |         section[data-testid="stSidebar"] h1:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:608:1
    |
606 |             transform: translateX(1px);
607 |         }
608 |         
    | ^^^^^^^^
609 |         /* Sidebar Content Blocks Hover */
610 |         section[data-testid="stSidebar"] > div:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:661:1
    |
659 |             transition: all 0.3s ease;
660 |         }
661 |         
    | ^^^^^^^^
662 |         .stButton button:hover,
663 |         button[data-testid="baseButton-primary"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:672:1
    |
670 |             animation: neonWave 1.5s ease-in-out infinite;
671 |         }
672 |         
    | ^^^^^^^^
673 |         @keyframes neonWave {
674 |             0%, 100% { 
    |
help: Remove whitespace from blank line

W291 Trailing whitespace
   --> ui_effects_library.py:674:23
    |
673 |         @keyframes neonWave {
674 |             0%, 100% { 
    |                       ^
675 |                 transform: translateX(0) skewX(0deg);
676 |                 box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ui_effects_library.py:678:18
    |
676 |                 box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
677 |             }
678 |             25% { 
    |                  ^
679 |                 transform: translateX(2px) skewX(2deg);
680 |                 box-shadow: 0 0 30px rgba(0, 255, 255, 1);
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ui_effects_library.py:682:18
    |
680 |                 box-shadow: 0 0 30px rgba(0, 255, 255, 1);
681 |             }
682 |             50% { 
    |                  ^
683 |                 transform: translateX(0) skewX(0deg);
684 |                 box-shadow: 0 0 25px rgba(0, 255, 255, 0.9);
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> ui_effects_library.py:686:18
    |
684 |                 box-shadow: 0 0 25px rgba(0, 255, 255, 0.9);
685 |             }
686 |             75% { 
    |                  ^
687 |                 transform: translateX(-2px) skewX(-2deg);
688 |                 box-shadow: 0 0 30px rgba(0, 255, 255, 1);
    |
help: Remove trailing whitespace

W293 Blank line contains whitespace
   --> ui_effects_library.py:691:1
    |
689 |             }
690 |         }
691 |         
    | ^^^^^^^^
692 |         /* ========== EXPANDER HOVER (NEON + WAVE) ========== */
693 |         details[data-testid="stExpander"] summary,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:700:1
    |
698 |             border-left: 3px solid rgba(0, 255, 255, 0.5);
699 |         }
700 |         
    | ^^^^^^^^
701 |         details[data-testid="stExpander"] summary:hover,
702 |         .streamlit-expanderHeader:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:710:1
    |
708 |             animation: neonPulse 1s ease-in-out infinite;
709 |         }
710 |         
    | ^^^^^^^^
711 |         /* ========== DROPDOWN HOVER (NEON + WAVE) ========== */
712 |         div[data-baseweb="select"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:720:1
    |
718 |             box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
719 |         }
720 |         
    | ^^^^^^^^
721 |         /* ========== NUMBER INPUT HOVER (NEON + WAVE) ========== */
722 |         button[data-testid="stNumberInputStepUp"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:728:1
    |
726 |             border: 1px solid rgba(0, 255, 255, 0.5) !important;
727 |         }
728 |         
    | ^^^^^^^^
729 |         button[data-testid="stNumberInputStepUp"]:hover,
730 |         button[data-testid="stNumberInputStepDown"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:736:1
    |
734 |             animation: neonPulse 1s ease-in-out infinite;
735 |         }
736 |         
    | ^^^^^^^^
737 |         @keyframes neonPulse {
738 |             0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 255, 0.5); }
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:741:1
    |
739 |             50% { box-shadow: 0 0 20px rgba(0, 255, 255, 1); }
740 |         }
741 |         
    | ^^^^^^^^
742 |         /* ========== SIDEBAR NAVIGATION HOVER (NEON + WAVE) ========== */
743 |         /* Sidebar Links - ALLE Varianten */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:755:1
    |
753 |             padding-left: 12px;
754 |         }
755 |         
    | ^^^^^^^^
756 |         /* Sidebar List Items */
757 |         section[data-testid="stSidebar"] li:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:764:1
    |
762 |             padding-left: 8px;
763 |         }
764 |         
    | ^^^^^^^^
765 |         /* Sidebar Headers Hover */
766 |         section[data-testid="stSidebar"] h1:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:775:1
    |
773 |             padding-left: 6px;
774 |         }
775 |         
    | ^^^^^^^^
776 |         /* Sidebar Content Blocks Hover */
777 |         section[data-testid="stSidebar"] > div:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:828:1
    |
826 |             transition: all 0.4s ease;
827 |         }
828 |         
    | ^^^^^^^^
829 |         .stButton button:hover,
830 |         button[data-testid="baseButton-primary"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:839:1
    |
837 |             box-shadow: -5px 5px 20px rgba(102, 126, 234, 0.4);
838 |         }
839 |         
    | ^^^^^^^^
840 |         /* Expander Gradient */
841 |         .streamlit-expanderHeader {
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:847:1
    |
845 |             transition: all 0.4s ease;
846 |         }
847 |         
    | ^^^^^^^^
848 |         /* ========== EXPANDER HOVER (GRADIENT + SLIDE) ========== */
849 |         details[data-testid="stExpander"] summary:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:858:1
    |
856 |             box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
857 |         }
858 |         
    | ^^^^^^^^
859 |         /* ========== DROPDOWN HOVER (GRADIENT + SLIDE) ========== */
860 |         div[data-baseweb="select"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:869:1
    |
867 |             box-shadow: 0 4px 10px rgba(102, 126, 234, 0.2);
868 |         }
869 |         
    | ^^^^^^^^
870 |         /* ========== NUMBER INPUT HOVER (GRADIENT + SLIDE) ========== */
871 |         button[data-testid="stNumberInputStepUp"],
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:878:1
    |
876 |             transition: all 0.3s ease;
877 |         }
878 |         
    | ^^^^^^^^
879 |         button[data-testid="stNumberInputStepUp"]:hover,
880 |         button[data-testid="stNumberInputStepDown"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:886:1
    |
884 |             transform: scale(1.1);
885 |         }
886 |         
    | ^^^^^^^^
887 |         /* ========== CHECKBOX HOVER (GRADIENT + SLIDE) ========== */
888 |         div[data-baseweb="checkbox"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:895:1
    |
893 |             transform: scale(1.05);
894 |         }
895 |         
    | ^^^^^^^^
896 |         /* ========== SIDEBAR NAVIGATION HOVER (GRADIENT + SLIDE) ========== */
897 |         /* Sidebar Links - ALLE Varianten */
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:909:1
    |
907 |             padding-left: 10px;
908 |         }
909 |         
    | ^^^^^^^^
910 |         /* Sidebar List Items */
911 |         section[data-testid="stSidebar"] li:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:918:1
    |
916 |             padding-left: 6px;
917 |         }
918 |         
    | ^^^^^^^^
919 |         /* Sidebar Headers Hover */
920 |         section[data-testid="stSidebar"] h1:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:929:1
    |
927 |             padding-left: 4px;
928 |         }
929 |         
    | ^^^^^^^^
930 |         /* Sidebar Content Blocks Hover */
931 |         section[data-testid="stSidebar"] > div:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:982:1
    |
980 |             transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
981 |         }
982 |         
    | ^^^^^^^^
983 |         .stButton button:hover,
984 |         button[data-testid="baseButton-primary"]:hover,
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
   --> ui_effects_library.py:994:1
    |
992 |             animation: glassMorph 0.8s ease-in-out;
993 |         }
994 |         
    | ^^^^^^^^
995 |         @keyframes glassMorph {
996 |             0%, 100% { border-radius: 8px; }
    |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1001:1
     |
 999 |             75% { border-radius: 12px 8px 12px 8px; }
1000 |         }
1001 |         
     | ^^^^^^^^
1002 |         /* Expander Glass */
1003 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1009:1
     |
1007 |             transition: all 0.3s ease;
1008 |         }
1009 |         
     | ^^^^^^^^
1010 |         .streamlit-expanderHeader:hover {
1011 |             background: rgba(255, 255, 255, 0.1);
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1015:1
     |
1013 |             border: 1px solid rgba(255, 255, 255, 0.2);
1014 |         }
1015 |         
     | ^^^^^^^^
1016 |         /* Slider Glass */
1017 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1025:1
     |
1023 |             border: 1px solid rgba(255, 255, 255, 0.2) !important;
1024 |         }
1025 |         
     | ^^^^^^^^
1026 |         button[data-testid="stNumberInputStepUp"]:hover,
1027 |         button[data-testid="stNumberInputStepDown"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1168:1
     |
1166 |             opacity: 0.9;
1167 |         }
1168 |         
     | ^^^^^^^^
1169 |         .stButton button:hover,
1170 |         button[data-testid="baseButton-primary"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1179:1
     |
1177 |             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
1178 |         }
1179 |         
     | ^^^^^^^^
1180 |         /* Expander Minimal */
1181 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1185:1
     |
1183 |             opacity: 0.85;
1184 |         }
1185 |         
     | ^^^^^^^^
1186 |         .streamlit-expanderHeader:hover {
1187 |             opacity: 1;
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1190:1
     |
1188 |             background-color: rgba(255, 255, 255, 0.03);
1189 |         }
1190 |         
     | ^^^^^^^^
1191 |         /* Slider Minimal */
1192 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1199:1
     |
1197 |             opacity: 0.8;
1198 |         }
1199 |         
     | ^^^^^^^^
1200 |         button[data-testid="stNumberInputStepUp"]:hover,
1201 |         button[data-testid="stNumberInputStepDown"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1206:1
     |
1204 |             opacity: 1;
1205 |         }
1206 |         
     | ^^^^^^^^
1207 |         /* Checkbox Minimal */
1208 |         div[data-baseweb="checkbox"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1215:1
     |
1213 |             opacity: 0.9;
1214 |         }
1215 |         
     | ^^^^^^^^
1216 |         div[data-baseweb="checkbox"]:hover,
1217 |         div[data-testid="stCheckbox"] label:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1329:1
     |
1327 |             image-rendering: pixelated;
1328 |         }
1329 |         
     | ^^^^^^^^
1330 |         .stButton button:hover,
1331 |         button[data-testid="baseButton-primary"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1340:1
     |
1338 |             animation: pixelShake 0.3s ease-in-out;
1339 |         }
1340 |         
     | ^^^^^^^^
1341 |         @keyframes pixelShake {
1342 |             0%, 100% { transform: translate(2px, 2px); }
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1347:1
     |
1345 |             75% { transform: translate(0px, 0px); }
1346 |         }
1347 |         
     | ^^^^^^^^
1348 |         /* Expander Retro */
1349 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1354:1
     |
1352 |             transition: all 0.1s ease;
1353 |         }
1354 |         
     | ^^^^^^^^
1355 |         .streamlit-expanderHeader:hover {
1356 |             transform: translate(1px, 1px);
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1359:1
     |
1357 |             box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
1358 |         }
1359 |         
     | ^^^^^^^^
1360 |         /* Slider Retro */
1361 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1368:1
     |
1366 |             box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
1367 |         }
1368 |         
     | ^^^^^^^^
1369 |         button[data-testid="stNumberInputStepUp"]:hover,
1370 |         button[data-testid="stNumberInputStepDown"]:hover,
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> ui_effects_library.py:1498:47
     |
1496 |         div[data-baseweb="button"] {
1497 |             position: relative;
1498 |             background: linear-gradient(90deg, 
     |                                               ^
1499 |                 #ff0000 0%, #ff7f00 16.67%, #ffff00 33.33%, 
1500 |                 #00ff00 50%, #0000ff 66.67%, #4b0082 83.33%, 
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1499:60
     |
1497 |             position: relative;
1498 |             background: linear-gradient(90deg, 
1499 |                 #ff0000 0%, #ff7f00 16.67%, #ffff00 33.33%, 
     |                                                            ^
1500 |                 #00ff00 50%, #0000ff 66.67%, #4b0082 83.33%, 
1501 |                 #9400d3 100%) !important;
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1500:61
     |
1498 |             background: linear-gradient(90deg, 
1499 |                 #ff0000 0%, #ff7f00 16.67%, #ffff00 33.33%, 
1500 |                 #00ff00 50%, #0000ff 66.67%, #4b0082 83.33%, 
     |                                                             ^
1501 |                 #9400d3 100%) !important;
1502 |             background-size: 200% 100%;
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> ui_effects_library.py:1506:1
     |
1504 |             transition: all 0.3s ease;
1505 |         }
1506 |         
     | ^^^^^^^^
1507 |         @keyframes rainbowFlow {
1508 |             0% { background-position: 0% 50%; }
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1511:1
     |
1509 |             100% { background-position: 200% 50%; }
1510 |         }
1511 |         
     | ^^^^^^^^
1512 |         .stButton button:hover,
1513 |         button[data-testid="baseButton-primary"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1520:1
     |
1518 |             animation: rainbowFlow 1s linear infinite, rainbowSpin 0.6s ease-in-out;
1519 |         }
1520 |         
     | ^^^^^^^^
1521 |         @keyframes rainbowSpin {
1522 |             0% { transform: rotate(0deg) scale(1); }
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1526:1
     |
1524 |             100% { transform: rotate(0deg) scale(1); }
1525 |         }
1526 |         
     | ^^^^^^^^
1527 |         /* Expander Rainbow */
1528 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> ui_effects_library.py:1530:50
     |
1528 |         .streamlit-expanderHeader {
1529 |             border-left: 4px solid transparent;
1530 |             border-image: linear-gradient(180deg, 
     |                                                  ^
1531 |                 #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3) 1;
1532 |             transition: all 0.3s ease;
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> ui_effects_library.py:1534:1
     |
1532 |             transition: all 0.3s ease;
1533 |         }
1534 |         
     | ^^^^^^^^
1535 |         .streamlit-expanderHeader:hover {
1536 |             border-left-width: 6px;
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1539:1
     |
1537 |             animation: rainbowBorder 2s linear infinite;
1538 |         }
1539 |         
     | ^^^^^^^^
1540 |         @keyframes rainbowBorder {
1541 |             0%, 100% { filter: hue-rotate(0deg); }
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1544:1
     |
1542 |             50% { filter: hue-rotate(180deg); }
1543 |         }
1544 |         
     | ^^^^^^^^
1545 |         /* Slider Rainbow */
1546 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> ui_effects_library.py:1550:48
     |
1548 |         section[data-testid="stSidebar"] button[data-testid="stNumberInputStepUp"],
1549 |         section[data-testid="stSidebar"] button[data-testid="stNumberInputStepDown"] {
1550 |             background: linear-gradient(135deg, 
     |                                                ^
1551 |                 #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff) !important;
1552 |             background-size: 200% 200%;
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1583:48
     |
1581 |             position: absolute;
1582 |             inset: 0;
1583 |             background: linear-gradient(120deg, 
     |                                                ^
1584 |                 rgba(255,0,0,0.25), rgba(255,127,0,0.25), rgba(255,255,0,0.25),
1585 |                 rgba(0,255,0,0.25), rgba(0,0,255,0.25), rgba(75,0,130,0.25), rgba(148,0,211,0.25));
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1664:48
     |
1662 |         .admin-carousel-card:hover,
1663 |         .admin-carousel-card.active {
1664 |             background: linear-gradient(135deg, 
     |                                                ^
1665 |                 rgba(255,0,0,0.35), rgba(255,127,0,0.35), rgba(255,255,0,0.35),
1666 |                 rgba(0,255,0,0.35), rgba(0,0,255,0.35), rgba(75,0,130,0.35), rgba(148,0,211,0.35));
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> ui_effects_library.py:1712:1
     |
1710 |             clip-path: polygon(0 0, 100% 0, 100% 90%, 95% 100%, 0 100%);
1711 |         }
1712 |         
     | ^^^^^^^^
1713 |         .stButton button:hover,
1714 |         button[data-testid="baseButton-primary"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1722:1
     |
1720 |             box-shadow: 0 0 20px #ff00ff, 0 0 30px #00ffff, inset 0 0 20px rgba(255, 0, 255, 0.3);
1721 |         }
1722 |         
     | ^^^^^^^^
1723 |         @keyframes cyberGlitch {
1724 |             0%, 100% { 
     |
help: Remove whitespace from blank line

W291 Trailing whitespace
    --> ui_effects_library.py:1724:23
     |
1723 |         @keyframes cyberGlitch {
1724 |             0%, 100% { 
     |                       ^
1725 |                 transform: translate(0, 0) skew(0deg);
1726 |                 filter: hue-rotate(0deg);
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1728:18
     |
1726 |                 filter: hue-rotate(0deg);
1727 |             }
1728 |             10% { 
     |                  ^
1729 |                 transform: translate(-2px, -2px) skew(-2deg);
1730 |                 filter: hue-rotate(90deg);
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1732:18
     |
1730 |                 filter: hue-rotate(90deg);
1731 |             }
1732 |             20% { 
     |                  ^
1733 |                 transform: translate(2px, 2px) skew(2deg);
1734 |                 filter: hue-rotate(-90deg);
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1736:18
     |
1734 |                 filter: hue-rotate(-90deg);
1735 |             }
1736 |             30% { 
     |                  ^
1737 |                 transform: translate(-1px, 1px) skew(1deg);
1738 |                 filter: hue-rotate(45deg);
     |
help: Remove trailing whitespace

W291 Trailing whitespace
    --> ui_effects_library.py:1740:18
     |
1738 |                 filter: hue-rotate(45deg);
1739 |             }
1740 |             40% { 
     |                  ^
1741 |                 transform: translate(1px, -1px) skew(-1deg);
1742 |                 filter: hue-rotate(-45deg);
     |
help: Remove trailing whitespace

W293 Blank line contains whitespace
    --> ui_effects_library.py:1745:1
     |
1743 |             }
1744 |         }
1745 |         
     | ^^^^^^^^
1746 |         /* Expander Cyberpunk */
1747 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1753:1
     |
1751 |             transition: all 0.2s ease;
1752 |         }
1753 |         
     | ^^^^^^^^
1754 |         .streamlit-expanderHeader:hover {
1755 |             border-left: 3px solid #00ffff;
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1759:1
     |
1757 |             animation: cyberGlitch 0.3s ease-in-out;
1758 |         }
1759 |         
     | ^^^^^^^^
1760 |         /* Slider Cyberpunk */
1761 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1769:1
     |
1767 |             box-shadow: 0 0 5px #ff00ff;
1768 |         }
1769 |         
     | ^^^^^^^^
1770 |         button[data-testid="stNumberInputStepUp"]:hover,
1771 |         button[data-testid="stNumberInputStepDown"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1913:1
     |
1911 |             overflow: hidden;
1912 |         }
1913 |         
     | ^^^^^^^^
1914 |         .stButton button::before,
1915 |         button[data-testid="baseButton-primary"]::before,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1930:1
     |
1928 |             transition: opacity 0.4s ease;
1929 |         }
1930 |         
     | ^^^^^^^^
1931 |         .stButton button:hover,
1932 |         button[data-testid="baseButton-primary"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1941:1
     |
1939 |             transform: translateY(-3px);
1940 |         }
1941 |         
     | ^^^^^^^^
1942 |         .stButton button:hover::before,
1943 |         button[data-testid="baseButton-primary"]:hover::before,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1951:1
     |
1949 |             animation: luxuryShine 1.5s ease-in-out infinite;
1950 |         }
1951 |         
     | ^^^^^^^^
1952 |         @keyframes luxuryShine {
1953 |             0% { transform: translate(-50%, -50%) rotate(0deg); }
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1956:1
     |
1954 |             100% { transform: translate(-50%, -50%) rotate(360deg); }
1955 |         }
1956 |         
     | ^^^^^^^^
1957 |         /* Expander Luxury */
1958 |         .streamlit-expanderHeader {
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1963:1
     |
1961 |             transition: all 0.4s ease;
1962 |         }
1963 |         
     | ^^^^^^^^
1964 |         .streamlit-expanderHeader:hover {
1965 |             background: linear-gradient(90deg, rgba(246, 211, 101, 0.2) 0%, rgba(253, 160, 133, 0.2) 100%);
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1969:1
     |
1967 |             box-shadow: -5px 0 15px rgba(255, 215, 0, 0.3);
1968 |         }
1969 |         
     | ^^^^^^^^
1970 |         /* Slider Luxury */
1971 |         button[data-testid="stNumberInputStepUp"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1979:1
     |
1977 |             box-shadow: 0 4px 8px rgba(246, 211, 101, 0.3);
1978 |         }
1979 |         
     | ^^^^^^^^
1980 |         button[data-testid="stNumberInputStepUp"]:hover,
1981 |         button[data-testid="stNumberInputStepDown"]:hover,
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:1988:1
     |
1986 |             transform: scale(1.05);
1987 |         }
1988 |         
     | ^^^^^^^^
1989 |         /* Checkbox Luxury */
1990 |         div[data-baseweb="checkbox"],
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
    --> ui_effects_library.py:2126:1
     |
2124 |     return f"""
2125 |     {UNIVERSAL_SIDEBAR_CSS}
2126 |     
     | ^^^^
2127 |     /* ========== EFFEKT-SPEZIFISCHES CSS ========== */
2128 |     {base_css}
     |
help: Remove whitespace from blank line

W293 Blank line contains whitespace
  --> ui_state_manager.py:58:1
   |
56 | def mirror_widget_value(persistent_key: str, default: Any = None, *, widget_key: str | None = None) -> str:
57 |     """Synchronisiert einen dauerhaften State-Key mit einem Widget-Key (Option B).
58 |     
   | ^^^^
59 |     Wichtig: Diese Funktion wird VOR dem Widget-Render aufgerufen und setzt den
60 |     initialen Widget-Wert. Sie ├╝berschreibt NICHT User-├änderungen w├ñhrend eines Reruns.
   |
help: Remove whitespace from blank line

SIM102 Use a single `if` statement instead of nested `if` statements
   --> ui_state_manager.py:131:5
    |
130 |       history = st.session_state.get("nav_history")
131 | /     if isinstance(history, list) and not skip_append:
132 | |         if not history or history[-1] != page_key:
    | |__________________________________________________^
133 |               history.append(page_key)
    |
help: Combine `if` statements using `and`

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
  --> user_management.py:85:9
   |
84 |           # Neue Spalten zur users Tabelle hinzuf├╝gen (falls nicht vorhanden)
85 | /         try:
86 | |             cursor.execute("ALTER TABLE users ADD COLUMN phone_mobile TEXT")
87 | |         except sqlite3.OperationalError:
88 | |             pass  # Spalte existiert bereits
   | |________________^
89 |
90 |           try:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
  --> user_management.py:90:9
   |
88 |               pass  # Spalte existiert bereits
89 |
90 | /         try:
91 | |             cursor.execute("ALTER TABLE users ADD COLUMN phone_extension TEXT")
92 | |         except sqlite3.OperationalError:
93 | |             pass  # Spalte existiert bereits
   | |________________^
94 |
95 |           try:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
   --> user_management.py:95:9
    |
 93 |               pass  # Spalte existiert bereits
 94 |
 95 | /         try:
 96 | |             cursor.execute("ALTER TABLE users ADD COLUMN user_status TEXT DEFAULT 'Offline'")
 97 | |         except sqlite3.OperationalError:
 98 | |             pass  # Spalte existiert bereits
    | |________________^
 99 |
100 |           try:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
   --> user_management.py:100:9
    |
 98 |               pass  # Spalte existiert bereits
 99 |
100 | /         try:
101 | |             cursor.execute("ALTER TABLE users ADD COLUMN about_me TEXT")
102 | |         except sqlite3.OperationalError:
103 | |             pass  # Spalte existiert bereits
    | |________________^
104 |
105 |           try:
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

SIM105 Use `contextlib.suppress(sqlite3.OperationalError)` instead of `try`-`except`-`pass`
   --> user_management.py:105:9
    |
103 |               pass  # Spalte existiert bereits
104 |
105 | /         try:
106 | |             cursor.execute("ALTER TABLE users ADD COLUMN profile_image TEXT")
107 | |         except sqlite3.OperationalError:
108 | |             pass  # Spalte existiert bereits
    | |________________^
109 |
110 |           cursor.execute("SELECT COUNT(*) FROM users WHERE username = 'admin'")
    |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(sqlite3.OperationalError): ...`

B905 `zip()` without an explicit `strict=` parameter
   --> user_management.py:166:25
    |
164 |         if row:
165 |             columns = [desc[0] for desc in cursor.description]
166 |             user = dict(zip(columns, row))
    |                         ^^^^^^^^^^^^^^^^^
167 |
168 |             # Passwort pr├╝fen
    |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
   --> user_management.py:196:25
    |
194 |         if row:
195 |             columns = [desc[0] for desc in cursor.description]
196 |             user = dict(zip(columns, row))
    |                         ^^^^^^^^^^^^^^^^^
197 |             del user['password_hash']
198 |             del user['salt']
    |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
   --> user_management.py:216:25
    |
214 |         if row:
215 |             columns = [desc[0] for desc in cursor.description]
216 |             user = dict(zip(columns, row))
    |                         ^^^^^^^^^^^^^^^^^
217 |             del user['password_hash']
218 |             del user['salt']
    |
help: Add explicit value for parameter `strict=`

B905 `zip()` without an explicit `strict=` parameter
   --> user_management.py:241:25
    |
239 |         users = []
240 |         for row in rows:
241 |             user = dict(zip(columns, row))
    |                         ^^^^^^^^^^^^^^^^^
242 |             del user['password_hash']
243 |             del user['salt']
    |
help: Add explicit value for parameter `strict=`

E722 Do not use bare `except`
   --> user_management.py:283:9
    |
281 |             conn.close()
282 |             return True
283 |         except:
    |         ^^^^^^
284 |             return False
    |

E722 Do not use bare `except`
   --> user_management.py:303:9
    |
301 |             conn.close()
302 |             return True
303 |         except:
    |         ^^^^^^
304 |             return False
    |

E722 Do not use bare `except`
   --> user_management.py:320:9
    |
318 |             conn.close()
319 |             return True
320 |         except:
    |         ^^^^^^
321 |             return False
    |

E722 Do not use bare `except`
   --> user_management.py:356:9
    |
354 |                 json.dump(users, f, indent=2, ensure_ascii=False)
355 |             return True
356 |         except:
    |         ^^^^^^
357 |             return False
    |

E722 Do not use bare `except`
   --> user_management.py:399:9
    |
398 |             return imported
399 |         except:
    |         ^^^^^^
400 |             return 0
    |

B905 `zip()` without an explicit `strict=` parameter
   --> user_management.py:448:25
    |
446 |         if row:
447 |             columns = [desc[0] for desc in cursor.description]
448 |             user = dict(zip(columns, row))
    |                         ^^^^^^^^^^^^^^^^^
449 |             del user['password_hash']
450 |             del user['salt']
    |
help: Add explicit value for parameter `strict=`

W291 Trailing whitespace
   --> user_management.py:492:46
    |
490 |         expires_at = datetime.now().replace(hour=23, minute=59, second=59).isoformat()
491 |         cursor.execute('''
492 |             INSERT INTO super_admin_transfers 
    |                                              ^
493 |             (from_user_id, to_user_id, transfer_code, authorized_by, expires_at)
494 |             VALUES (?, ?, ?, ?, ?)
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> user_management.py:539:25
    |
537 |         password_hash = self._hash_password(new_password, salt)
538 |         cursor.execute('''
539 |             UPDATE users 
    |                         ^
540 |             SET is_super_admin = 1, 
541 |                 password_hash = ?,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> user_management.py:540:36
    |
538 |         cursor.execute('''
539 |             UPDATE users 
540 |             SET is_super_admin = 1, 
    |                                    ^
541 |                 password_hash = ?,
542 |                 salt = ?,
    |
help: Remove trailing whitespace

W291 Trailing whitespace
   --> user_management.py:553:41
    |
551 |         # Markiere Transfer als abgeschlossen
552 |         cursor.execute('''
553 |             UPDATE super_admin_transfers 
    |                                         ^
554 |             SET status = 'completed', completed_at = ?
555 |             WHERE id = ?
    |
help: Remove trailing whitespace

F841 Local variable `user_role` is assigned to but never used
  --> user_menu.py:79:5
   |
77 |     username = st.session_state.get('username', 'Unbekannt')
78 |     user_rank = st.session_state.get('user_rank', 'Mitarbeiter')
79 |     user_role = st.session_state.get('user_role', 'user')
   |     ^^^^^^^^^
80 |
81 |     um = UserManagement()
   |
help: Remove assignment to unused variable `user_role`

F841 Local variable `theme` is assigned to but never used
   --> user_menu.py:295:5
    |
294 |     # Theme-Auswahl
295 |     theme = st.selectbox(
    |     ^^^^^
296 |         "Theme",
297 |         options=["Auto", "Hell", "Dunkel"],
    |
help: Remove assignment to unused variable `theme`

F841 Local variable `language` is assigned to but never used
   --> user_menu.py:303:5
    |
302 |     # Sprache
303 |     language = st.selectbox(
    |     ^^^^^^^^
304 |         "Sprache",
305 |         options=["Deutsch", "English"],
    |
help: Remove assignment to unused variable `language`

F841 Local variable `sidebar_pos` is assigned to but never used
   --> user_menu.py:311:5
    |
310 |     # Sidebar-Position
311 |     sidebar_pos = st.selectbox(
    |     ^^^^^^^^^^^
312 |         "Sidebar-Position",
313 |         options=["Links", "Rechts"],
    |
help: Remove assignment to unused variable `sidebar_pos`

F841 Local variable `notifications_enabled` is assigned to but never used
   --> user_menu.py:322:5
    |
320 |     st.markdown("**Benachrichtigungen:**")
321 |
322 |     notifications_enabled = st.checkbox(
    |     ^^^^^^^^^^^^^^^^^^^^^
323 |         "Benachrichtigungen aktiviert",
324 |         value=True,
    |
help: Remove assignment to unused variable `notifications_enabled`

F841 Local variable `email_notifications` is assigned to but never used
   --> user_menu.py:328:5
    |
326 |     )
327 |
328 |     email_notifications = st.checkbox(
    |     ^^^^^^^^^^^^^^^^^^^
329 |         "E-Mail-Benachrichtigungen",
330 |         value=False,
    |
help: Remove assignment to unused variable `email_notifications`

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> user_menu.py:480:5
    |
479 |       # Tab 1: Pers├Ânliche Daten & Status (Punkt 4: ├£ber mich, Name/Nachname, Mobil, Durchwahl)
480 | /     with tab1:
481 | |         with st.form("edit_profile_form"):
    | |__________________________________________^
482 |               st.markdown("### Pers├Ânliche Daten")
    |
help: Combine `with` statements

Found 19795 errors (13316 fixed, 6479 remaining).
No fixes available (2752 hidden fixes can be enabled with the `--unsafe-fixes` option).
